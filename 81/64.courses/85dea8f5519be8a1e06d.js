webpackJsonp([64],{169:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,a){for(var r=new PIXI.Container,i=new PIXI.filters.ColorMatrixFilter,o=n||!1,c=a||{addArrow:!1,type:"horizontal",scale:1},s=new PIXI.Container,l=0;l<3;++l){var d=l+1,h=PIXI.Sprite.fromFrame("TAP_1"+d);h.x=-h.width/2,h.y=-h.height/2;var u=new PIXI.Container;u.addChild(h),s.addChild(u)}var v=0;if(c.direction)switch(c.direction){case"top":v=-Math.PI/2;break;case"bottom":v=Math.PI/2;break;case"left":v=Math.PI;break;case"right":v=0;break;default:v=0}s.filters=[i];for(var f=0;f<s.children.length;f++){var p=s.children[f];p.scale.x=p.scale.y=2,f<2&&m(p,.75*f)}if(r.addChild(s),c.addArrow){var g,E;if(c.direction){g=PIXI.Sprite.fromFrame("oneArrow"),E=new PIXI.extras.MovieClip([g]);var P=c.scale?c.scale:1;E.scale.x=E.scale.y=P,E.pivot={x:0,y:E.height/2},E.rotation=v}else{g=PIXI.Sprite.fromFrame("NBarrow"),(E=new PIXI.extras.MovieClip([g])).pivot={x:E.width/2,y:E.height/2};var T=c.scale?c.scale:1;E.scale.x=E.scale.y=T,"horizontal"!==(c.type?c.type:"horizontal")&&(E.rotation=Math.PI/2)}r.addChild(E),r.arrow=E,r.addEventListener("hideArrow",function(){E.alpha=0,E.visible=!1}),r.addEventListener("showArrow",function(){E.alpha=1,E.visible=!0})}s.alpha=.4;var w=new PIXI.Graphics;function m(e,t){TweenMax.to(e,1.5,{delay:t,alpha:0,repeat:-1}),TweenMax.to(e.scale,1.5,{x:5,y:5,delay:t,repeat:-1})}return w.beginFill(16776960,0),w.drawRect(-50,-50,100,100),r.addChild(w),r.addEventListener(MouseEvent.MOUSE_OVER,function(){s.alpha=.6}),r.addEventListener(MouseEvent.MOUSE_OUT,function(){s.alpha=.4}),r.addEventListener(TouchEvent.TOUCH_BEGIN,function(){r.emit(r.event.TAP),!o&&r.parent&&r.parent.removeChild(r)}),r.x=e,r.y=t,r.setColor=function(e){var t=e>>16,n=e>>8&255,a=255&e;i._loadMatrix([t,0,0,0,0,0,n,0,0,0,0,0,a,0,0,0,0,0,255,0],!1),s.filters=[i]},r.setRotation=function(e){r.rotation=e},r.showAllDir=function(){if(c.direction)for(var e=0;e<3;e++){var t=new PIXI.Container;t.addChild(PIXI.Sprite.fromFrame("oneArrow")),r.addChild(t),t.pivot={x:0,y:E.height/2},t.rotation=Math.PI/2*(e+1)}else{var n=new PIXI.Container;n.addChild(PIXI.Sprite.fromFrame("NBarrow")),r.addChild(n),n.pivot={x:E.width/2,y:E.height/2},n.rotation=r.rotation+Math.PI/2}},r.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&r.scale.set(.6,.6),r}},272:function(e,t,n){"use strict";var a=i(n(524)),r=i(n(536));function i(e){return e&&e.__esModule?e:{default:e}}nb.substance6028=extendsClass(ScienceMain,{frame0:function(){var e=this,t=e.randomCon,n=e.btn,i=e.step1,o=e.text,c=e.bg,s=e.c_all;t.alpha=0,t.currentF=0,r.default.apply(t),s.alpha=0,s.interactiveChildren=!1,instance.viewStack.NBONOFF.visible=!1,n.child2.alpha=0,n.addEventListener(TouchEvent.TAP,function(){0===n.child2.alpha?function(){for(var a=function(a){var r=e["label"+a];r.interactive=!1,8===a?TweenMax.to(r,.5,{alpha:0,onComplete:function(){r.x=r.startPos.x,r.y=r.startPos.y,TweenMax.to(i,.5,{alpha:0}),TweenMax.to(n.child2,.5,{alpha:1}),TweenMax.to(n.child1,.5,{alpha:0,onComplete:function(){TweenMax.to(t,.5,{alpha:1,onComplete:function(){T.reset(),function(){s.interactiveChildren=!0;for(var e=0;e<9;e++){var t=s["c"+e];t.alpha=1,t.err.alpha=0,t.right.alpha=0,t.interactive=!0}TweenMax.to(s,.5,{alpha:1}),c.interactive=!0}()}})}}),o.text="点击屏幕随机抽取一个图标，请选择对应的天气图标"}}):TweenMax.to(r,.5,{alpha:0,onComplete:function(){r.x=r.startPos.x,r.y=r.startPos.y}})},r=0;r<9;r++)a(r)}():(TweenMax.to(s,.5,{alpha:0}),TweenMax.to(t,.5,{alpha:0}),TweenMax.to(n.child2,.5,{alpha:0}),TweenMax.to(n.child1,.5,{alpha:1,onComplete:function(){TweenMax.to(i,.5,{alpha:1,onComplete:function(){!function(){for(var t=0;t<9;t++){var n=e["label"+t],a=i["a"+t].matchErr;a.alpha=0,n.interactive=!0,TweenMax.to(n,.5,{alpha:1});var r=s["c"+t];r.alpha=0,r.interactive=!1}s.interactiveChildren=!1,c.interactive=!1}()}})}}),o.text="选择对应的天气到图标下面")});for(var l=[4,8,5,2,6,0,3,1,7],d=[],h=[],u=0;u<9;u++){i["a"+u].matchErr.alpha=0;var v=e["label"+u];v.startPos={x:v.x,y:v.y},d.push(v),v.yu=e["con"+l[u]];var f=s["c"+u];if(f.index=l[u],f.alpha=0,f.err.alpha=0,f.right.alpha=0,f.addEventListener(TouchEvent.TAP,m),c.addEventListener(TouchEvent.TAP,x),f.interactive=!1,c.interactive=!1,v.addEventListener(a.default.event.ERROR,g),v.addEventListener(a.default.event.RIGHT,P),v.addEventListener(NBDrag.event.DRAG_MOVE,E),e["con"+u]){var p=e["con"+u];h.push(p),e["con"+u].points=w(p)}}function g(e){i["a"+e.area.id].matchErr.alpha=1,this.reErrObj=i["a"+e.area.id].matchErr}function E(){this.reErrObj&&(this.reErrObj.alpha=0)}function P(e){i["a"+e.area.id].matchErr.alpha=0}var T=a.default.classify(d,h,{isShowTapPoint:!1,isHideDragShadow:!0,isShowErr:!1,isHidePosShadow:!0});function w(e){var t=[],n=e.x,a=e.y;return t.push({x:n,y:a}),t}function m(){t.currentF==this.index?this.right.alpha=1:this.err.alpha=1}function x(){c.interactive=!1,t.emit(t.events.change),function(){TweenMax.to(s,.2,{alpha:0});for(var e=0;e<9;e++){var t=s["c"+e];t.interactive=!1}n.interactive=!1}()}t.addEventListener(t.events.changeStop,function(e){c.interactive=!0,function(){for(var e=0;e<9;e++){var t=s["c"+e];t.interactive=!0,t.err.alpha=0,t.right.alpha=0}TweenMax.to(s,.2,{alpha:1}),n.interactive=!0}(),t.currentF=e.currentFrame}),t.addEventListener(TouchEvent.TAP,x)},start:function(){this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"你会做一个天气预报员吗，你知道哪些天气符号？",labName:"制作天气预报",CONCLUSION:"不同的符号代表不同的天气。",newLayOut:!0,bgColor:"#F3E6CF"},const:{},event:{}}),e.exports=nb.substance6028},524:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(169));var r={event:{ERROR:"dragError",RIGHT:"dragRight",START_DRAG:"rankStart",STOP_DRAG:"rankStop",STOP_DRAG_DELAY:"rankStopDelay",BACK:"goBack",EXCHANGE:"exchange",HITTED_AREA:"hitArea",REACHED:"reached",INIT_COMPLETE:"initComplete",CHANGE_AREA:"changedArea"}};r.classify=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||!t)return console.error("请传入必要参数objs, areas"),!1;var i=new PIXI.Sprite;function o(e){return{staticClone:e.staticShadow,areaClone:e.cloneObjs}}function c(e){var n=e.target;n.emit(r.event.START_DRAG),i.emit(r.event.START_DRAG),n.parent.addChild(n),i.isShowErr&&(n.err.alpha=0),i.isShowTapPoint&&n.removeChild(n.tapPoint),i.initDragPos=-1;for(var a=0;a<t.length;a++){var o=t[a];if(i.dragIndex=o.containObjs.indexOf(n),i.dragIndex>-1){o.containObjs.splice(i.dragIndex,1),i.initDragPos=o.id;break}}}function s(e){if(!i.isHideDragShadow){var n,a=e.target;if(n=a.hitTest2(t)){var r=a.cloneObjs[n.id],o=n.points,c=n.containObjs.length;i.initDragPos===n.id&&(c=i.dragIndex);var s=a.hitTest2(n.containObjs),l=i.initDragPos===n.id,d=i.initDragPos!==n.id&&!s;c<n.points.length&&(l||d)?(r.position.set(o[c].x,o[c].y),TweenMax.to(a.cloneObjs,i.VIR_TIMER,{alpha:0}),TweenMax.to(r,i.VIR_TIMER,{alpha:.3})):TweenMax.to(a.cloneObjs,i.VIR_TIMER,{alpha:0})}else TweenMax.to(a.cloneObjs,i.VIR_TIMER,{alpha:0})}}function l(n){var a=n.target;i.isHideDragShadow||(TweenMax.killTweensOf(a.cloneObjs),v(a.cloneObjs,"alpha",0));var o=null;if(o=a.hitTest2(t),a.emit(r.event.STOP_DRAG,null!==o),i.emit(r.event.STOP_DRAG,null!==o),v(e,"interactive",!1),setTimeout(function(){a.emit(r.event.STOP_DRAG_DELAY,{dragObj:a,area:o}),i.emit(r.event.STOP_DRAG_DELAY,{dragObj:a,area:o}),v(e,"interactive",!0),i.isShowTapPoint&&function(){for(var t=0;t<e.length;t++){var n=e[t];if(!n.hitted){n.addChild(n.tapPoint);break}}}()},1e3*i.MOVE_TIMER),a.currentArea=o,o){a.emit(r.event.HITTED_AREA,{area:o}),i.emit(r.event.HITTED_AREA,{area:o}),a.hitted=!0;var c=o.containObjs.length,s=o.points;if(i.initDragPos===o.id)c=i.dragIndex,o.containObjs.splice(i.dragIndex,0,a),TweenMax.to(a,i.MOVE_TIMER,{x:s[c].x,y:s[c].y,onComplete:function(){d(a,o)}}),a.currentPos=s[c];else{i.emit(r.event.CHANGE_AREA,{changed:!0});var l=null,f=0,p=o.containObjs;if(l=a.hitTest2(p)){f=p.indexOf(l),p.splice(f,1);var g=null;i.initDragPos>=0?(g=a.currentPos,t[i.initDragPos].containObjs.splice(i.dragIndex,0,l),l.currentArea=t[i.initDragPos]):g=l._defaultPos,i.danYu&&(l.curYu=null),TweenMax.to(l,i.MOVE_TIMER,{x:g.x,y:g.y}),TweenMax.to(a,i.MOVE_TIMER,{x:l.currentPos.x,y:l.currentPos.y,onComplete:function(){d(a,o),i.initDragPos>=0?d(l,t[i.initDragPos]):h(l)}}),a.currentPos=l.currentPos,l.currentPos=g,o.containObjs.splice(f,0,a),a.emit(r.event.EXCHANGE,l),i.emit(r.event.EXCHANGE,l)}else{if(c<o.points.length)TweenMax.to(a,i.MOVE_TIMER,{x:s[c].x,y:s[c].y,onComplete:function(){d(a,o)}}),a.currentPos=s[c];else{var E=p.pop();i.initDragPos<0?(TweenMax.to(E,i.MOVE_TIMER,{x:E._defaultX,y:E._defaultY,onComplete:function(){h(E)}}),E.currentPos=E._defaultPos):(TweenMax.to(E,i.MOVE_TIMER,{x:a.currentPos.x,y:a.currentPos.y,onComplete:function(){d(E,t[i.initDragPos])}}),E.currentPos=a.currentPos,t[i.initDragPos].containObjs.splice(i.dragIndex,0,E)),TweenMax.to(a,i.MOVE_TIMER,{x:s[s.length-1].x,y:s[s.length-1].y,onComplete:function(){d(a,o)}}),a.currentPos=s[s.length-1],a.emit(r.event.EXCHANGE,E),i.emit(r.event.EXCHANGE,E)}i.initDragPos>=0&&c<o.points.length&&u(t[i.initDragPos].containObjs,t[i.initDragPos].points)}}o.containObjs.indexOf(a)<0&&o.containObjs.push(a)}else i.danYu&&i.emit(r.event.CHANGE_AREA,{changed:!0}),a.curYu&&(a.curYu=null),TweenMax.to(a,i.MOVE_TIMER,{x:a._defaultX,y:a._defaultY,onComplete:function(){h(a)}}),i.initDragPos>=0&&u(t[i.initDragPos].containObjs,t[i.initDragPos].points)}function d(e,t){var n=!1;e.curYu=t;var a=e.yu;if(a instanceof Array){for(var o=0;o<a.length;o++)if(a[o]===t){n=!0;break}}else a===t&&(n=!0);n?(e.emit(r.event.RIGHT,{area:t}),i.emit(r.event.RIGHT,{area:t}),i.isShowErr&&(e.err.alpha=0)):(e.emit(r.event.ERROR,{area:t}),i.emit(r.event.ERROR,{area:t}),i.isShowErr&&i.immediatelyShowArr&&(e.err.alpha=1)),i.emit(r.event.REACHED,{target:e,area:t,containObjs:t.containObjs})}function h(e){e.emit(r.event.BACK),i.emit(r.event.BACK),i.isShowErr&&(e.err.alpha=0)}function u(e,t){for(var n=0;n<e.length;n++){var a=t[n];TweenMax.to(e[n],i.MOVE_TIMER,{x:a.x,y:a.y}),e[n].currentPos=a}}function v(e,t,n){for(var a=0;a<e.length;a++)e[a][t]=n}function f(e){for(var t=-1,n=null,a=0;a<e.length;a++){var r=this.hitTest(e[a]);r&&r>t&&(t=r,n=e[a])}return t>-1?n:null}return i.VIR_TIMER=0,i.MOVE_TIMER=.5,i.isShowErr=!0,i.isShowTapPoint=!0,i.isHideDragShadow=!1,i.isHidePosShadow=!1,i.danYu=!1,i.initDragPos=-1,i.dragIndex=-1,i.immediatelyShowArr=!0,n&&(i.isShowErr=void 0===n.isShowErr||n.isShowErr,i.immediatelyShowArr=void 0===n.immediatelyShowArr||n.immediatelyShowArr,i.isShowTapPoint=void 0===n.isShowTapPoint||n.isShowTapPoint,i.isHideDragShadow=n.isHideDragShadow,i.isHidePosShadow=n.isHidePosShadow,i.danYu=void 0!==n.danYu&&n.danYu),function(){e.forEach(function(e){e._defaultX=e.x,e._defaultY=e.y,e._defaultPos=e.position.clone(),e.currentPos=e.position.clone(),e.hitTest2=f;var n=e.getLocalBounds();if(e.background&&(n=e.background.getLocalBounds()),i.isShowErr){var r=PIXI.Sprite.fromFrame("err"),d=new PIXI.extras.MovieClip([r]);if(e.addChild(d),d.position.set(n.width+n.x-d.width,n.y+n.height-d.width),e.background){var h=e.background;d.position.set(h.x+h.width+n.x-d.width/2,n.y+h.y+h.height-d.height/2)}e.errPos&&(d.pivot.set(d.width/2,d.height/2),d.position.set(e.errPos.x,e.errPos.y)),e.err=d,d.alpha=0}if(i.isShowTapPoint){var u=(0,a.default)(n.width/2+n.x,n.height/2+n.y);if(e.tapPointPos&&u.position.set(e.tapPointPos.x,e.tapPointPos.y),e.background){var v=e.background;u.position.set(v.x+v.width/2+n.x,v.y+v.height/2+n.y)}e.tapPoint=u}var p=e.name;if(!i.isHidePosShadow){var g=void 0;if(e.background){var E=e.background;g=e.background.clone(),e.background.name=g.name,e.parent.addChildAt(g,0),e.background=E,g.position.set(e.x,e.y),g.alpha=.3}else(g=e.clone()).alpha=.3;e.staticShadow=g}if(!i.isHideDragShadow){for(var P=[],T=0;T<t.length;T++){var w=null;if(e.background){var m=e.background;w=e.background.clone(),e.background.name=w.name,e.background=m}else w=e.clone();e.parent.addChild(w),w.alpha=0,P.push(w)}e.cloneObjs=P}e.name=p,NBDrag.addDrag(e),e.addEventListener(NBDrag.event.START_DRAG,c),e.addEventListener(NBDrag.event.DRAG_MOVE,s),e.addEventListener(NBDrag.event.STOP_DRAG,l),e.getClone=function(){return o(e)}}),i.isShowTapPoint&&e[0].addChild(e[0].tapPoint);for(var r=0;r<t.length;r++){var d=t[r];d.id=r,n.hasObjs?d.containObjs=n.hasObjs[r]:d.containObjs=[]}}(),n.callback&&"function"==typeof n.callback&&n.callback(),i.reset=function(){e.forEach(function(t){TweenMax.to(t,.5,{x:t._defaultX,y:t._defaultY,onComplete:function(){e[0].tapPoint&&e[0].addChild(e[0].tapPoint)}}),t.currentPos=t._defaultPos,t.hitted=!1,t.err&&(t.err.alpha=0),t.tapPoint&&t.removeChild(t.tapPoint)}),t.forEach(function(e){e.containObjs=[]})},i.setDrag=function(t){t?e.forEach(function(e){NBDrag.addDrag(e)}):e.forEach(function(e){NBDrag.removeDrag(e),e.removeChild(e.tapPoint),e.removeEventListener(NBDrag.event.START_DRAG,c),e.removeEventListener(NBDrag.event.DRAG_MOVE,s),e.removeEventListener(NBDrag.event.STOP_DRAG,l)})},i.togetherShowArr=function(){if(!i.immediatelyShowArr)for(var t=0;t<e.length;t++)"undefined"!==e[t].curYu&&null!==e[t].curYu&&"undefined"!==e[t].yu&&e[t].curYu!==e[t].yu&&1!==e[t].err.alpha&&TweenMax.to(e[t].err,.3,{alpha:1})},i.getClone=o,i.getContainObjs=function(e){return e.containObjs},i.getArea=function(e){return e.currentArea},i},t.default=r},536:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this,n=t.totalFrames,a=null,r=null,i=null,o=null;if(!n)return console.error("请检查传入对象是否为多帧元件");t._config=Object.assign({fastChange:100,changTimer:2100,slowChange:130},e),t.events={change:"changeCon",changing:"isChangingCon",changeStop:"changeStop"},t.addEventListener(t.events.change,function(){clearInterval(a),clearInterval(r),clearTimeout(i),clearInterval(o);var e=t.currentFrame;a=setInterval(function(){var e=parseInt(Math.random()*(n-1));t.currentFrame=e},t._config.slowChange),r=setTimeout(function(){clearInterval(a),a=setInterval(function(){var e=parseInt(Math.random()*(n-1));t.currentFrame=e},t._config.fastChange),i=setTimeout(function(){clearInterval(a),a=setInterval(function(){var e=parseInt(Math.random()*(n-1));t.currentFrame=e},t._config.slowChange),o=setTimeout(function(){clearInterval(a),t.currentFrame===e&&(t.currentFrame=e+1),t.emit(t.events.changeStop,{currentFrame:t.currentFrame})},.2*t._config.changTimer)},.6*t._config.changTimer)},.2*t._config.changTimer)})}}});