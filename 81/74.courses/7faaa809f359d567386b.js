webpackJsonp([74],{169:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n){for(var i=new PIXI.Container,o=new PIXI.filters.ColorMatrixFilter,r=a||!1,s=n||{addArrow:!1,type:"horizontal",scale:1},l=new PIXI.Container,d=0;d<3;++d){var c=d+1,h=PIXI.Sprite.fromFrame("TAP_1"+c);h.x=-h.width/2,h.y=-h.height/2;var u=new PIXI.Container;u.addChild(h),l.addChild(u)}var f=0;if(s.direction)switch(s.direction){case"top":f=-Math.PI/2;break;case"bottom":f=Math.PI/2;break;case"left":f=Math.PI;break;case"right":f=0;break;default:f=0}l.filters=[o];for(var v=0;v<l.children.length;v++){var p=l.children[v];p.scale.x=p.scale.y=2,v<2&&y(p,.75*v)}if(i.addChild(l),s.addArrow){var x,g;if(s.direction){x=PIXI.Sprite.fromFrame("oneArrow"),g=new PIXI.extras.MovieClip([x]);var m=s.scale?s.scale:1;g.scale.x=g.scale.y=m,g.pivot={x:0,y:g.height/2},g.rotation=f}else{x=PIXI.Sprite.fromFrame("NBarrow"),(g=new PIXI.extras.MovieClip([x])).pivot={x:g.width/2,y:g.height/2};var b=s.scale?s.scale:1;g.scale.x=g.scale.y=b,"horizontal"!==(s.type?s.type:"horizontal")&&(g.rotation=Math.PI/2)}i.addChild(g),i.arrow=g,i.addEventListener("hideArrow",function(){g.alpha=0,g.visible=!1}),i.addEventListener("showArrow",function(){g.alpha=1,g.visible=!0})}l.alpha=.4;var C=new PIXI.Graphics;function y(e,t){TweenMax.to(e,1.5,{delay:t,alpha:0,repeat:-1}),TweenMax.to(e.scale,1.5,{x:5,y:5,delay:t,repeat:-1})}return C.beginFill(16776960,0),C.drawRect(-50,-50,100,100),i.addChild(C),i.addEventListener(MouseEvent.MOUSE_OVER,function(){l.alpha=.6}),i.addEventListener(MouseEvent.MOUSE_OUT,function(){l.alpha=.4}),i.addEventListener(TouchEvent.TOUCH_BEGIN,function(){i.emit(i.event.TAP),!r&&i.parent&&i.parent.removeChild(i)}),i.x=e,i.y=t,i.setColor=function(e){var t=e>>16,a=e>>8&255,n=255&e;o._loadMatrix([t,0,0,0,0,0,a,0,0,0,0,0,n,0,0,0,0,0,255,0],!1),l.filters=[o]},i.setRotation=function(e){i.rotation=e},i.showAllDir=function(){if(s.direction)for(var e=0;e<3;e++){var t=new PIXI.Container;t.addChild(PIXI.Sprite.fromFrame("oneArrow")),i.addChild(t),t.pivot={x:0,y:g.height/2},t.rotation=Math.PI/2*(e+1)}else{var a=new PIXI.Container;a.addChild(PIXI.Sprite.fromFrame("NBarrow")),i.addChild(a),a.pivot={x:g.width/2,y:g.height/2},a.rotation=i.rotation+Math.PI/2}},i.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&i.scale.set(.6,.6),i}},425:function(e,t,a){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=s(a(169)),o=s(a(520)),r=s(a(521));function s(e){return e&&e.__esModule?e:{default:e}}nb.substance0600=extendsClass(ScienceMain,{frame0:function(){instance.viewStack.NBONOFF.visible=!1,o.default.init.apply(this.timeline),r.default.apply(this),instance.pageTwoAction.apply(this.step1,[]),instance.pageOneAction.apply(this.step0,[])},pageOneAction:function(){var e=this,t=e.bottle,a=e.orange,n=(0,i.default)(93,120),o=t.ani;o.scale.x=o.scale.y=1.5,e.touchA.alpha=e.target0.alpha=0,NBDrag.addDrag(a),a.startX=a.x,a.startY=a.y,a.addChild(n),a.addEventListener(NBDrag.event.START_DRAG,function(){this.txt0.visible=!1,TweenMax.killTweensOf(e.target0),TweenMax.to(e.target0,.5,{alpha:.3}),this.removeChild(n)}),a.addEventListener(NBDrag.event.STOP_DRAG,function(){var n=this;this.hitTest(e.touchA)?(e.addChild(t),NBDrag.removeDrag(a),TweenMax.to(this,.5,{x:e.target0.x,y:e.target0.y,onComplete:function(){e.target0.alpha=0,TweenMax.to(a,3.2,{y:"+=35",ease:Sine.easeInOut}),t.bot.setCapacityTween("60%",4),TweenMax.to(t,4,{ease:Sine.easeInOut,onComplete:function(){TweenMax.to([t.cap,a,e.target0,e.jian],.5,{y:"-=100",ease:Power0.easeNone,alpha:0,onComplete:function(){TweenMax.to(t,1,{x:"+=190",y:"-=50",ease:Sine.easeInOut,onComplete:function(){t.txt.text="新鲜的橙汁",e.complete=!0,GlobalEffect.fadeOut(t.cap),GlobalEffect.fadeOut(a),GlobalEffect.fadeOut(e.target0),GlobalEffect.fadeOut(e.jian)}})}})}}),t.ani.play(),t.ani.animationSpeed=.16,t.ani.loop=!1}})):(a.interactive=!1,TweenMax.to(this,.5,{x:this.startX,y:this.startY,onComplete:function(){n.txt0.visible=!0,a.interactive=!0}}),TweenMax.killTweensOf(e.target0),TweenMax.to(e.target0,.5,{alpha:0}))}),t.bot.setCurrentCapacity("0%"),t.bot.setColor(15769409,1),t.ani.x=126.15,t.ani.y=96.8},pageTwoAction:function(){var e=this,t=e.spoon;NBDrag.addDrag(t),t.addEventListener(NBDrag.event.START_DRAG,function(){this.removeChild(a),this.rotation=-Math.PI/3,s=0}),t.addEventListener(NBDrag.event.STOP_DRAG,function(){var a=this;this.interactive=!1;for(var i=function(n){var i=e["b"+n];if(a.hitTest(i)&&i.alpha)return e.setChildIndex(t,0),i.interactive=!1,a.interactive=!1,i.isHit=!0,TweenMax.to(t,.5,{x:e["t"+n].x,y:e["t"+n].y,ease:Sine.easeInOut,onComplete:function(){TweenMax.to(t,.5,{rotation:-Math.PI/3.9,onComplete:function(){e[i.name+"isReach"]=!0,t.gotoAndStop(1),TweenMax.to(t,.3,{y:"-=100",x:"+= 40",ease:Power0.easeNone,onComplete:function(){TweenMax.to(t,.5,{y:"-= 100",x:"-=40",rotation:0,ease:Power0.easeNone,onComplete:function(){nb.GlobalEffect.fadeOut(i),nb.GlobalEffect.fadeOut(e["txt"+n]),e.addChild(e.bottle),TweenMax.to(t,.8,{x:e.target.x,y:e.target.y,dealy:.2,ease:Power0.easeNone,onComplete:function(){TweenMax.to(t,.6,{rotation:-Math.PI/3,onComplete:function(){t.currentFrame=0,TweenMax.to(t,1,{x:t.startX,y:t.startY,rotation:0,ease:Sine.easeInOut,onComplete:function(){l()}}),e.bottle.ani.alpha=1,TweenMax.to(e.bottle.ani,2,{currentFrame:e.bottle.ani.totalFrames-1,onComplete:function(){l()}})}})}})}})}})}})}}),{v:void 0};s++},o=0;o<3;o++){var r=i(o);if("object"===(void 0===r?"undefined":n(r)))return r.v}if(d(),3===s)return void TweenMax.to(t,.3,{x:t.startX,y:t.startY,rotation:0,onComplete:function(){t.interactive=!0,s=0}})}),t.addEventListener(NBDrag.event.DRAG_MOVE,function(){this.spoonPoint&&this.removeChild(a);this.rotation=-Math.PI/3}),e.glass.startX=e.glass.x,e.glass.alpha=0,t.startX=t.x,t.startY=t.y;var a=(0,i.default)(0,-8);e.bottle.setCurrentCapacity("95%");for(var o=0;o<3;o++){var r=e.bottle["pao"+o];r.mask=e.bottle.maskWater.children[0],r.alpha=0}d();var s=0;function l(){if(e.b1isReach&&e.b2isReach)for(var a=0;a<3;a++){var n=e.bottle["pao"+a];TweenMax.to(n,1,{alpha:1}),TweenMax.to(n,1,{currentFrame:10,repeat:-1,ease:Power0.easeNone,delay:.1*a+.5*Math.random(),onUpdate:function(){}})}e.b1isReach&&e.b2isReach&&e.b0isReach&&(GlobalEffect.fadeOut(t),e.complete=!0),e.glass.alpha=1,TweenMax.to(e.glass,.3,{x:"+=40",yoyo:!0,repeat:3,ease:Power0.easeNone,onComplete:function(){TweenMax.to([e.glass,e.bottle.ani],.2,{alpha:0,onComplete:function(){e.bottle.ani.currentFrame=0,e.glass.x=e.glass.startX,t.interactive=!0,d(),e.complete&&TweenMax.to(e.bottle,1,{x:"+= 290",y:"-= 50",ease:Power0.easeNone,onComplete:function(){e.bottle.txt.text="柠檬汽水",nb.scienceCommonFun.resetName(e.tip,"柠檬汽水制作完成")}})}})}})}function d(){t.addChild(a),a.scale.x=a.scale.y=.4,(e.b0.isHit||e.b0isReach)&&(e.b0.isHit&&!e.b0isReach||(e.b1.isHit||e.b1isReach)&&(!e.b1.isHit&&e.b1isReach||(e.b2.isHit||e.b2isReach)&&(!e.b2.isHit&&e.b2isReach||(t.removeChild(a),e.complete=!0))))}},start:function(){this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"物质的变化与我们的生活息息相关,让我们来制作两杯饮料发现有哪些物质变化。",labName:"制作饮料",CONCLUSION:"制作橙汁饮料是物理反应，制作柠檬汽水是化学反应。",newLayOut:!0,bgColor:"#F3E6CF"},const:{},event:{}}),e.exports=nb.substance0600},520:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={event:{CLICK_NODE:"nodeTap",CLICK_NODE_REACHED:"nodeTapReached",ON_COMPLETE:"timelineComplete",ON_PLAY:"timelinePlaying",REACHED_NODE:"reachedNode",START_DRAG:"startDrag",DRAGING:"draging",STOP_DRAG:"stopDrag"},init:function(){var e,t,a=this;if(a.bgMask){var i=a.bgMask.getChildAt(0);a.progressBar.mask=i,i.scale.x=0}var o=this.a0.x===this.a1.x?"vertical":"horizontal",r=0,s=[];a.drag.lastPos={x:a.drag.x,y:a.drag.y};for(var l=0;l<int.MAX_VALUE;l++){var d=this["a"+l];if(void 0===d){t="vertical"===o?this["a"+(l-1)].y:this["a"+(l-1)].x,r=l;break}s.push(d),0===l&&(e="vertical"===o?d.y:d.x),d.addEventListener(TouchEvent.TAP,function(){var e=this;"vertical"===o?TweenMax.to(a.drag,.5,{y:this.y}):TweenMax.to(a.drag,.5,{x:this.x,onComplete:function(){a.emit(n.event.CLICK_NODE_REACHED,{index:e.name.substr(1,1)})}}),this.totalFrames&&(s.forEach(function(e){return e.currentFrame=0}),this.currentFrame=1),a.drag.lastPos={x:this.x,y:this.y},a.emit(n.event.CLICK_NODE,{index:this.name.substr(1,1)})})}this.setDrag=function(i){i?(NBDrag.addDrag(a.drag),a.drag.on(NBDrag.event.START_DRAG,function(){var i=(a.drag.x-e)/(t-e);a.emit(n.event.START_DRAG,{time:i})}),a.drag.on(NBDrag.event.DRAG_MOVE,function(){var i=(a.drag.x-e)/(t-e);a.emit(n.event.DRAGING,{time:i})}),a.drag.on(NBDrag.event.STOP_DRAG,function(){var i=(a.drag.x-e)/(t-e);a.emit(n.event.STOP_DRAG,{time:i}),i>=1&&a.emit(n.event.ON_COMPLETE,{time:i})})):NBDrag.removeDrag(a.drag)},a.drag.addEventListener(NBDrag.event.STOP_DRAG,function(){if(!1!==a._align_){var n=r-1;if("vertical"===o){var i=Math.round((this.y-e)/(t-e)*n);i<0&&(i=0)}else{var s=Math.round((this.x-e)/(t-e)*n);s<0&&(s=0)}}}),a.drag.addEventListener(NBDrag.event.DRAG_MOVE,function(){u()});var c=!1;a.drag.constY=a.drag.y;var h,u=function(){a.drag.y=a.drag.constY,a.drag.x>=t&&(a.drag.x=t),a.drag.x<=e&&(a.drag.x=e);var i=(a.drag.x-e)/(t-e);if(i<1){c=!1,a.emit(n.event.ON_PLAY,{time:i});for(var o=0;o<s.length;o++)a.drag.lastPos.x<=s[o].x&&a.drag.x>s[o].x&&a.emit(n.event.REACHED_NODE,{index:o})}else c||(c=!0,a.emit(n.event.ON_COMPLETE,{time:i}));(a.drag.line0&&(a.drag.line0.rotation=1800*i*Math.PI/180,a.drag.line1.rotation=360*i*Math.PI/180),a.bgMask)&&(a.bgMask.getChildAt(0).scale.x=i);a.drag.lastPos={x:a.drag.x,y:a.drag.y}};this.getNodeCount=function(){return r},this.setNodePos=function(e){var t=this["a"+e];"vertical"===o?a.drag.y=t.y:a.drag.x=t.x},nb.MovieClip.ticker.add(function(){a._auto_&&!a.drag.isDragging&&("vertical"===o?a.drag.y+=a._speed_:a.drag.x+=a._speed_,u())}),this.setAutoPlay=function(e,t){this._auto_=e,this._speed_=t||.1},this.setAutoAlign=function(e){this._align_=e},this.setMomentsPause=function(e,t,n){clearTimeout(h),e&&!a.NOTafterStopPlay?(a.setAutoPlay(!1),clearTimeout(h),a.setAutoPlay(!1),h=setTimeout(function(){a.setAutoPlay(!0,n)},t)):a.setAutoPlay(!1)},this.resetTimeline=function(){(this.drag.x=this.bgMask.x,a.bgMask)&&(a.bgMask.getChildAt(0).scale.x=0)}}};t.default=n},521:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e=e||{};var t=this,a=[];n.default.init.apply(this.timeline);for(var i=0;i<this.timeline.getNodeCount();i++){var o=this["step"+i];a.push(o),o.alpha=0,o.visible=!1}var r=this.step0;r.visible=!0,r.alpha=1;var s=0;this.timeline.on(n.default.event.CLICK_NODE,function(n){if(void 0!==n.index&&n.index!=s){var i=e.offset||1200;i=n.index>s?$s(i):-$s(i);var o=void 0!==r.currentX?r.currentX:r.currentX=r.x;TweenMax.to(r,e.oldTm||.6,{x:o+i,alpha:0,onComplete:function(t){t.visible=!1,e.isFix||(t.y=0)},onCompleteParams:[r],ease:Expo.easeOut}),s=n.index,(r=a[s]).visible=!0,o=void 0!==r.currentX?r.currentX:r.currentX=r.x,r.x=o-i,TweenMax.to(r,e.newTm||1,{x:o,alpha:1,ease:Expo.easeOut,onComplete:function(){t.emit(t.boxSwitch_event.CHANGE_COM,{target:r,index:n.index})}})}}),this.addEventListener("render",function(){r.onUpdate&&r.onUpdate()}),t.boxSwitch_event={CHANGE_COM:"changeCom"}};var n=function(e){return e&&e.__esModule?e:{default:e}}(a(520))}});