!function(e){function t(r){if(i[r])return i[r].exports;var n=i[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var i={};t.m=e,t.c=i,t.d=function(e,i,r){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=193)}([function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t,i){function r(e,t){for(var i in e)t[i]=e[i]}function n(e,t,i){return a(e,t,i)}var o=i(3),a=o.Buffer;a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=o:(r(o,t),t.Buffer=n),r(a,n),n.from=function(e,t,i){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,i)},n.alloc=function(e,t,i){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=a(e);return void 0!==t?"string"==typeof i?r.fill(t,i):r.fill(t):r.fill(0),r},n.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},n.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o.SlowBuffer(e)}},function(e,t,i){"use strict";(function(e){function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function n(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=o.prototype):(null===e&&(e=new o(t)),e.length=t),e}function o(e,t,i){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(e,t,i);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(this,e)}return a(this,e,t,i)}function a(e,t,i,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?d(e,t,i,r):"string"==typeof t?l(e,t,i):f(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t,i,r){return s(t),t<=0?n(e,t):void 0!==i?"string"==typeof r?n(e,t).fill(i,r):n(e,t).fill(i):n(e,t)}function c(e,t){if(s(t),e=n(e,t<0?0:0|p(t)),!o.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)e[i]=0;return e}function l(e,t,i){if("string"==typeof i&&""!==i||(i="utf8"),!o.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var r=0|v(t,i);e=n(e,r);var a=e.write(t,i);return a!==r&&(e=e.slice(0,a)),e}function u(e,t){var i=t.length<0?0:0|p(t.length);e=n(e,i);for(var r=0;r<i;r+=1)e[r]=255&t[r];return e}function d(e,t,i,r){if(t.byteLength,i<0||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===i&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,i):new Uint8Array(t,i,r),o.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=o.prototype):e=u(e,t),e}function f(e,t){if(o.isBuffer(t)){var i=0|p(t.length);return e=n(e,i),0===e.length?e:(t.copy(e,0,0,i),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||$(t.length)?n(e,0):u(e,t);if("Buffer"===t.type&&J(t.data))return u(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function m(e){return+e!=e&&(e=0),o.alloc(+e)}function v(e,t){if(o.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return W(e).length;default:if(r)return V(e).length;t=(""+t).toLowerCase(),r=!0}}function y(e,t,i){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if(i>>>=0,t>>>=0,i<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,i);case"utf8":case"utf-8":return A(this,t,i);case"ascii":return k(this,t,i);case"latin1":case"binary":return I(this,t,i);case"base64":return C(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,i);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,i){var r=e[t];e[t]=e[i],e[i]=r}function b(e,t,i,r,n){if(0===e.length)return-1;if("string"==typeof i?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=n?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(n)return-1;i=e.length-1}else if(i<0){if(!n)return-1;i=0}if("string"==typeof t&&(t=o.from(t,r)),o.isBuffer(t))return 0===t.length?-1:x(e,t,i,r,n);if("number"==typeof t)return t&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):x(e,[t],i,r,n);throw new TypeError("val must be string, number or Buffer")}function x(e,t,i,r,n){function o(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,s=e.length,h=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,h/=2,i/=2}var c;if(n){var l=-1;for(c=i;c<s;c++)if(o(e,c)===o(t,-1===l?0:c-l)){if(-1===l&&(l=c),c-l+1===h)return l*a}else-1!==l&&(c-=c-l),l=-1}else for(i+h>s&&(i=s-h),c=i;c>=0;c--){for(var u=!0,d=0;d<h;d++)if(o(e,c+d)!==o(t,d)){u=!1;break}if(u)return c}return-1}function w(e,t,i,r){i=Number(i)||0;var n=e.length-i;r?(r=Number(r))>n&&(r=n):r=n;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[i+a]=s}return a}function _(e,t,i,r){return q(V(t,e.length-i),e,i,r)}function T(e,t,i,r){return q(X(t),e,i,r)}function E(e,t,i,r){return T(e,t,i,r)}function S(e,t,i,r){return q(W(t),e,i,r)}function M(e,t,i,r){return q(Y(t,e.length-i),e,i,r)}function C(e,t,i){return 0===t&&i===e.length?K.fromByteArray(e):K.fromByteArray(e.slice(t,i))}function A(e,t,i){i=Math.min(e.length,i);for(var r=[],n=t;n<i;){var o=e[n],a=null,s=o>239?4:o>223?3:o>191?2:1;if(n+s<=i){var h,c,l,u;switch(s){case 1:o<128&&(a=o);break;case 2:h=e[n+1],128==(192&h)&&(u=(31&o)<<6|63&h)>127&&(a=u);break;case 3:h=e[n+1],c=e[n+2],128==(192&h)&&128==(192&c)&&(u=(15&o)<<12|(63&h)<<6|63&c)>2047&&(u<55296||u>57343)&&(a=u);break;case 4:h=e[n+1],c=e[n+2],l=e[n+3],128==(192&h)&&128==(192&c)&&128==(192&l)&&(u=(15&o)<<18|(63&h)<<12|(63&c)<<6|63&l)>65535&&u<1114112&&(a=u)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),n+=s}return D(r)}function D(e){var t=e.length;if(t<=Q)return String.fromCharCode.apply(String,e);for(var i="",r=0;r<t;)i+=String.fromCharCode.apply(String,e.slice(r,r+=Q));return i}function k(e,t,i){var r="";i=Math.min(e.length,i);for(var n=t;n<i;++n)r+=String.fromCharCode(127&e[n]);return r}function I(e,t,i){var r="";i=Math.min(e.length,i);for(var n=t;n<i;++n)r+=String.fromCharCode(e[n]);return r}function P(e,t,i){var r=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>r)&&(i=r);for(var n="",o=t;o<i;++o)n+=G(e[o]);return n}function R(e,t,i){for(var r=e.slice(t,i),n="",o=0;o<r.length;o+=2)n+=String.fromCharCode(r[o]+256*r[o+1]);return n}function F(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,i,r,n,a){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<a)throw new RangeError('"value" argument is out of bounds');if(i+r>e.length)throw new RangeError("Index out of range")}function L(e,t,i,r){t<0&&(t=65535+t+1);for(var n=0,o=Math.min(e.length-i,2);n<o;++n)e[i+n]=(t&255<<8*(r?n:1-n))>>>8*(r?n:1-n)}function B(e,t,i,r){t<0&&(t=4294967295+t+1);for(var n=0,o=Math.min(e.length-i,4);n<o;++n)e[i+n]=t>>>8*(r?n:3-n)&255}function N(e,t,i,r,n,o){if(i+r>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function U(e,t,i,r,n){return n||N(e,t,i,4,3.4028234663852886e38,-3.4028234663852886e38),Z.write(e,t,i,r,23,4),i+4}function H(e,t,i,r,n){return n||N(e,t,i,8,1.7976931348623157e308,-1.7976931348623157e308),Z.write(e,t,i,r,52,8),i+8}function j(e){if(e=z(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function z(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function G(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){t=t||1/0;for(var i,r=e.length,n=null,o=[],a=0;a<r;++a){if((i=e.charCodeAt(a))>55295&&i<57344){if(!n){if(i>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}n=i;continue}if(i<56320){(t-=3)>-1&&o.push(239,191,189),n=i;continue}i=65536+(n-55296<<10|i-56320)}else n&&(t-=3)>-1&&o.push(239,191,189);if(n=null,i<128){if((t-=1)<0)break;o.push(i)}else if(i<2048){if((t-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function X(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}function Y(e,t){for(var i,r,n,o=[],a=0;a<e.length&&!((t-=2)<0);++a)i=e.charCodeAt(a),r=i>>8,n=i%256,o.push(n),o.push(r);return o}function W(e){return K.toByteArray(j(e))}function q(e,t,i,r){for(var n=0;n<r&&!(n+i>=t.length||n>=e.length);++n)t[n+i]=e[n];return n}function $(e){return e!==e}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var K=i(85),Z=i(86),J=i(43);t.Buffer=o,t.SlowBuffer=m,t.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=r(),o.poolSize=8192,o._augment=function(e){return e.__proto__=o.prototype,e},o.from=function(e,t,i){return a(null,e,t,i)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(e,t,i){return h(null,e,t,i)},o.allocUnsafe=function(e){return c(null,e)},o.allocUnsafeSlow=function(e){return c(null,e)},o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,r=t.length,n=0,a=Math.min(i,r);n<a;++n)if(e[n]!==t[n]){i=e[n],r=t[n];break}return i<r?-1:r<i?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!J(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var r=o.allocUnsafe(t),n=0;for(i=0;i<e.length;++i){var a=e[i];if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,n),n+=a.length}return r},o.byteLength=v,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):y.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",i=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e,t,i,r,n){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===r&&(r=0),void 0===n&&(n=this.length),t<0||i>e.length||r<0||n>this.length)throw new RangeError("out of range index");if(r>=n&&t>=i)return 0;if(r>=n)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,r>>>=0,n>>>=0,this===e)return 0;for(var a=n-r,s=i-t,h=Math.min(a,s),c=this.slice(r,n),l=e.slice(t,i),u=0;u<h;++u)if(c[u]!==l[u]){a=c[u],s=l[u];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},o.prototype.indexOf=function(e,t,i){return b(this,e,t,i,!0)},o.prototype.lastIndexOf=function(e,t,i){return b(this,e,t,i,!1)},o.prototype.write=function(e,t,i,r){if(void 0===t)r="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)r=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(i)?(i|=0,void 0===r&&(r="utf8")):(r=i,i=void 0)}var n=this.length-t;if((void 0===i||i>n)&&(i=n),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return w(this,e,t,i);case"utf8":case"utf-8":return _(this,e,t,i);case"ascii":return T(this,e,t,i);case"latin1":case"binary":return E(this,e,t,i);case"base64":return S(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;o.prototype.slice=function(e,t){var i=this.length;e=~~e,t=void 0===t?i:~~t,e<0?(e+=i)<0&&(e=0):e>i&&(e=i),t<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e);var r;if(o.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=o.prototype;else{var n=t-e;r=new o(n,void 0);for(var a=0;a<n;++a)r[a]=this[a+e]}return r},o.prototype.readUIntLE=function(e,t,i){e|=0,t|=0,i||F(e,t,this.length);for(var r=this[e],n=1,o=0;++o<t&&(n*=256);)r+=this[e+o]*n;return r},o.prototype.readUIntBE=function(e,t,i){e|=0,t|=0,i||F(e,t,this.length);for(var r=this[e+--t],n=1;t>0&&(n*=256);)r+=this[e+--t]*n;return r},o.prototype.readUInt8=function(e,t){return t||F(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||F(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||F(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||F(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||F(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,i){e|=0,t|=0,i||F(e,t,this.length);for(var r=this[e],n=1,o=0;++o<t&&(n*=256);)r+=this[e+o]*n;return n*=128,r>=n&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,i){e|=0,t|=0,i||F(e,t,this.length);for(var r=t,n=1,o=this[e+--r];r>0&&(n*=256);)o+=this[e+--r]*n;return n*=128,o>=n&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||F(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){t||F(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},o.prototype.readInt16BE=function(e,t){t||F(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},o.prototype.readInt32LE=function(e,t){return t||F(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||F(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||F(e,4,this.length),Z.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||F(e,4,this.length),Z.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||F(e,8,this.length),Z.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||F(e,8,this.length),Z.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,i,r){if(e=+e,t|=0,i|=0,!r){O(this,e,t,i,Math.pow(2,8*i)-1,0)}var n=1,o=0;for(this[t]=255&e;++o<i&&(n*=256);)this[t+o]=e/n&255;return t+i},o.prototype.writeUIntBE=function(e,t,i,r){if(e=+e,t|=0,i|=0,!r){O(this,e,t,i,Math.pow(2,8*i)-1,0)}var n=i-1,o=1;for(this[t+n]=255&e;--n>=0&&(o*=256);)this[t+n]=e/o&255;return t+i},o.prototype.writeUInt8=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):B(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,i,r){if(e=+e,t|=0,!r){var n=Math.pow(2,8*i-1);O(this,e,t,i,n-1,-n)}var o=0,a=1,s=0;for(this[t]=255&e;++o<i&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+i},o.prototype.writeIntBE=function(e,t,i,r){if(e=+e,t|=0,!r){var n=Math.pow(2,8*i-1);O(this,e,t,i,n-1,-n)}var o=i-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+i},o.prototype.writeInt8=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):B(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,i){return e=+e,t|=0,i||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,i){return U(this,e,t,!0,i)},o.prototype.writeFloatBE=function(e,t,i){return U(this,e,t,!1,i)},o.prototype.writeDoubleLE=function(e,t,i){return H(this,e,t,!0,i)},o.prototype.writeDoubleBE=function(e,t,i){return H(this,e,t,!1,i)},o.prototype.copy=function(e,t,i,r){if(i||(i=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<i&&(r=i),r===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-i&&(r=e.length-t+i);var n,a=r-i;if(this===e&&i<t&&t<r)for(n=a-1;n>=0;--n)e[n+t]=this[n+i];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(n=0;n<a;++n)e[n+t]=this[n+i];else Uint8Array.prototype.set.call(e,this.subarray(i,i+a),t);return a},o.prototype.fill=function(e,t,i,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),1===e.length){var n=e.charCodeAt(0);n<256&&(e=n)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0);var a;if("number"==typeof e)for(a=t;a<i;++a)this[a]=e;else{var s=o.isBuffer(e)?e:V(new o(e,r).toString()),h=s.length;for(a=0;a<i-t;++a)this[a+t]=s[a%h]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,i(1))},function(e,t,i){(function(e){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}function o(e,t,i){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(i=t,t=10),this._init(e||0,t||10,i||"be"))}function a(e,t,i){for(var r=0,n=Math.min(e.length,i),o=t;o<n;o++){var a=e.charCodeAt(o)-48;r<<=4,r|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return r}function s(e,t,i,r){for(var n=0,o=Math.min(e.length,i),a=t;a<o;a++){var s=e.charCodeAt(a)-48;n*=r,n+=s>=49?s-49+10:s>=17?s-17+10:s}return n}function h(e){for(var t=new Array(e.bitLength()),i=0;i<t.length;i++){var r=i/26|0,n=i%26;t[i]=(e.words[r]&1<<n)>>>n}return t}function c(e,t,i){i.negative=t.negative^e.negative;var r=e.length+t.length|0;i.length=r,r=r-1|0;var n=0|e.words[0],o=0|t.words[0],a=n*o,s=67108863&a,h=a/67108864|0;i.words[0]=s;for(var c=1;c<r;c++){for(var l=h>>>26,u=67108863&h,d=Math.min(c,t.length-1),f=Math.max(0,c-e.length+1);f<=d;f++){var p=c-f|0;n=0|e.words[p],o=0|t.words[f],a=n*o+u,l+=a/67108864|0,u=67108863&a}i.words[c]=0|u,h=0|l}return 0!==h?i.words[c]=0|h:i.length--,i.strip()}function l(e,t,i){i.negative=t.negative^e.negative,i.length=e.length+t.length;for(var r=0,n=0,o=0;o<i.length-1;o++){var a=n;n=0;for(var s=67108863&r,h=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=h;c++){var l=o-c,u=0|e.words[l],d=0|t.words[c],f=u*d,p=67108863&f;a=a+(f/67108864|0)|0,p=p+s|0,s=67108863&p,a=a+(p>>>26)|0,n+=a>>>26,a&=67108863}i.words[o]=s,r=a,a=n}return 0!==r?i.words[o]=r:i.length--,i.strip()}function u(e,t,i){return(new d).mulp(e,t,i)}function d(e,t){this.x=e,this.y=t}function f(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function p(){f.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function m(){f.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function v(){f.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function y(){f.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function g(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function b(e){g.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;var x;try{x=i(124).Buffer}catch(e){}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,i){if("number"==typeof e)return this._initNumber(e,t,i);if("object"==typeof e)return this._initArray(e,t,i);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36),e=e.toString().replace(/\s+/g,"");var n=0;"-"===e[0]&&n++,16===t?this._parseHex(e,n):this._parseBase(e,t,n),"-"===e[0]&&(this.negative=1),this.strip(),"le"===i&&this._initArray(this.toArray(),t,i)},o.prototype._initNumber=function(e,t,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),t,i)},o.prototype._initArray=function(e,t,i){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,a,s=0;if("be"===i)for(n=e.length-1,o=0;n>=0;n-=3)a=e[n]|e[n-1]<<8|e[n-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===i)for(n=0,o=0;n<e.length;n+=3)a=e[n]|e[n+1]<<8|e[n+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,n,o=0;for(i=e.length-6,r=0;i>=t;i-=6)n=a(e,i,i+6),this.words[r]|=n<<o&67108863,this.words[r+1]|=n>>>26-o&4194303,(o+=24)>=26&&(o-=26,r++);i+6!==t&&(n=a(e,t,i+6),this.words[r]|=n<<o&67108863,this.words[r+1]|=n>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(e,t,i){this.words=[0],this.length=1;for(var r=0,n=1;n<=67108863;n*=t)r++;r--,n=n/t|0;for(var o=e.length-i,a=o%r,h=Math.min(o,o-a)+i,c=0,l=i;l<h;l+=r)c=s(e,l,l+r,t),this.imuln(n),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var u=1;for(c=s(e,l,e.length,t),l=0;l<a;l++)u*=t;this.imuln(u),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],T=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,t){e=e||10,t=0|t||1;var i;if(16===e||"hex"===e){i="";for(var n=0,o=0,a=0;a<this.length;a++){var s=this.words[a],h=(16777215&(s<<n|o)).toString(16);o=s>>>24-n&16777215,i=0!==o||a!==this.length-1?w[6-h.length]+h+i:h+i,n+=2,n>=26&&(n-=26,a--)}for(0!==o&&(i=o.toString(16)+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(e===(0|e)&&e>=2&&e<=36){var c=_[e],l=T[e];i="";var u=this.clone();for(u.negative=0;!u.isZero();){var d=u.modn(l).toString(e);u=u.idivn(l),i=u.isZero()?d+i:w[c-d.length]+d+i}for(this.isZero()&&(i="0"+i);i.length%t!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return r(void 0!==x),this.toArrayLike(x,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,i){var n=this.byteLength(),o=i||Math.max(1,n);r(n<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,h="le"===t,c=new e(o),l=this.clone();if(h){for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),c[s]=a;for(;s<o;s++)c[s]=0}else{for(s=0;s<o-n;s++)c[s]=0;for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),c[o-s-1]=a}return c},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,i=0;return t>=4096&&(i+=13,t>>>=13),t>=64&&(i+=7,t>>>=7),t>=8&&(i+=4,t>>>=4),t>=2&&(i+=2,t>>>=2),i+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,i=0;return 0==(8191&t)&&(i+=13,t>>>=13),0==(127&t)&&(i+=7,t>>>=7),0==(15&t)&&(i+=4,t>>>=4),0==(3&t)&&(i+=2,t>>>=2),0==(1&t)&&i++,i},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var i=this._zeroBits(this.words[t]);if(e+=i,26!==i)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]&e.words[i];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,i;this.length>e.length?(t=this,i=e):(t=e,i=this);for(var r=0;r<i.length;r++)this.words[r]=t.words[r]^i.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),i=e%26;this._expand(t),i>0&&t--;for(var n=0;n<t;n++)this.words[n]=67108863&~this.words[n];return i>0&&(this.words[n]=~this.words[n]&67108863>>26-i),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var i=e/26|0,n=e%26;return this._expand(i+1),this.words[i]=t?this.words[i]|1<<n:this.words[i]&~(1<<n),this.strip()},o.prototype.iadd=function(e){var t;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();var i,r;this.length>e.length?(i=this,r=e):(i=e,r=this);for(var n=0,o=0;o<r.length;o++)t=(0|i.words[o])+(0|r.words[o])+n,this.words[o]=67108863&t,n=t>>>26;for(;0!==n&&o<i.length;o++)t=(0|i.words[o])+n,this.words[o]=67108863&t,n=t>>>26;if(this.length=i.length,0!==n)this.words[this.length]=n,this.length++;else if(i!==this)for(;o<i.length;o++)this.words[o]=i.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;var r,n;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,a=0;a<n.length;a++)t=(0|r.words[a])-(0|n.words[a])+o,o=t>>26,this.words[a]=67108863&t;for(;0!==o&&a<r.length;a++)t=(0|r.words[a])+o,o=t>>26,this.words[a]=67108863&t;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var E=function(e,t,i){var r,n,o,a=e.words,s=t.words,h=i.words,c=0,l=0|a[0],u=8191&l,d=l>>>13,f=0|a[1],p=8191&f,m=f>>>13,v=0|a[2],y=8191&v,g=v>>>13,b=0|a[3],x=8191&b,w=b>>>13,_=0|a[4],T=8191&_,E=_>>>13,S=0|a[5],M=8191&S,C=S>>>13,A=0|a[6],D=8191&A,k=A>>>13,I=0|a[7],P=8191&I,R=I>>>13,F=0|a[8],O=8191&F,L=F>>>13,B=0|a[9],N=8191&B,U=B>>>13,H=0|s[0],j=8191&H,z=H>>>13,G=0|s[1],V=8191&G,X=G>>>13,Y=0|s[2],W=8191&Y,q=Y>>>13,$=0|s[3],K=8191&$,Z=$>>>13,J=0|s[4],Q=8191&J,ee=J>>>13,te=0|s[5],ie=8191&te,re=te>>>13,ne=0|s[6],oe=8191&ne,ae=ne>>>13,se=0|s[7],he=8191&se,ce=se>>>13,le=0|s[8],ue=8191&le,de=le>>>13,fe=0|s[9],pe=8191&fe,me=fe>>>13;i.negative=e.negative^t.negative,i.length=19,r=Math.imul(u,j),n=Math.imul(u,z),n=n+Math.imul(d,j)|0,o=Math.imul(d,z);var ve=(c+r|0)+((8191&n)<<13)|0;c=(o+(n>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(p,j),n=Math.imul(p,z),n=n+Math.imul(m,j)|0,o=Math.imul(m,z),r=r+Math.imul(u,V)|0,n=n+Math.imul(u,X)|0,n=n+Math.imul(d,V)|0,o=o+Math.imul(d,X)|0;var ye=(c+r|0)+((8191&n)<<13)|0;c=(o+(n>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(y,j),n=Math.imul(y,z),n=n+Math.imul(g,j)|0,o=Math.imul(g,z),r=r+Math.imul(p,V)|0,n=n+Math.imul(p,X)|0,n=n+Math.imul(m,V)|0,o=o+Math.imul(m,X)|0,r=r+Math.imul(u,W)|0,n=n+Math.imul(u,q)|0,n=n+Math.imul(d,W)|0,o=o+Math.imul(d,q)|0;var ge=(c+r|0)+((8191&n)<<13)|0;c=(o+(n>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(x,j),n=Math.imul(x,z),n=n+Math.imul(w,j)|0,o=Math.imul(w,z),r=r+Math.imul(y,V)|0,n=n+Math.imul(y,X)|0,n=n+Math.imul(g,V)|0,o=o+Math.imul(g,X)|0,r=r+Math.imul(p,W)|0,n=n+Math.imul(p,q)|0,n=n+Math.imul(m,W)|0,o=o+Math.imul(m,q)|0,r=r+Math.imul(u,K)|0,n=n+Math.imul(u,Z)|0,n=n+Math.imul(d,K)|0,o=o+Math.imul(d,Z)|0;var be=(c+r|0)+((8191&n)<<13)|0;c=(o+(n>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(T,j),n=Math.imul(T,z),n=n+Math.imul(E,j)|0,o=Math.imul(E,z),r=r+Math.imul(x,V)|0,n=n+Math.imul(x,X)|0,n=n+Math.imul(w,V)|0,o=o+Math.imul(w,X)|0,r=r+Math.imul(y,W)|0,n=n+Math.imul(y,q)|0,n=n+Math.imul(g,W)|0,o=o+Math.imul(g,q)|0,r=r+Math.imul(p,K)|0,n=n+Math.imul(p,Z)|0,n=n+Math.imul(m,K)|0,o=o+Math.imul(m,Z)|0,r=r+Math.imul(u,Q)|0,n=n+Math.imul(u,ee)|0,n=n+Math.imul(d,Q)|0,o=o+Math.imul(d,ee)|0;var xe=(c+r|0)+((8191&n)<<13)|0;c=(o+(n>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(M,j),n=Math.imul(M,z),n=n+Math.imul(C,j)|0,o=Math.imul(C,z),r=r+Math.imul(T,V)|0,n=n+Math.imul(T,X)|0,n=n+Math.imul(E,V)|0,o=o+Math.imul(E,X)|0,r=r+Math.imul(x,W)|0,n=n+Math.imul(x,q)|0,n=n+Math.imul(w,W)|0,o=o+Math.imul(w,q)|0,r=r+Math.imul(y,K)|0,n=n+Math.imul(y,Z)|0,n=n+Math.imul(g,K)|0,o=o+Math.imul(g,Z)|0,r=r+Math.imul(p,Q)|0,n=n+Math.imul(p,ee)|0,n=n+Math.imul(m,Q)|0,o=o+Math.imul(m,ee)|0,r=r+Math.imul(u,ie)|0,n=n+Math.imul(u,re)|0,n=n+Math.imul(d,ie)|0,o=o+Math.imul(d,re)|0;var we=(c+r|0)+((8191&n)<<13)|0;c=(o+(n>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(D,j),n=Math.imul(D,z),n=n+Math.imul(k,j)|0,o=Math.imul(k,z),r=r+Math.imul(M,V)|0,n=n+Math.imul(M,X)|0,n=n+Math.imul(C,V)|0,o=o+Math.imul(C,X)|0,r=r+Math.imul(T,W)|0,n=n+Math.imul(T,q)|0,n=n+Math.imul(E,W)|0,o=o+Math.imul(E,q)|0,r=r+Math.imul(x,K)|0,n=n+Math.imul(x,Z)|0,n=n+Math.imul(w,K)|0,o=o+Math.imul(w,Z)|0,r=r+Math.imul(y,Q)|0,n=n+Math.imul(y,ee)|0,n=n+Math.imul(g,Q)|0,o=o+Math.imul(g,ee)|0,r=r+Math.imul(p,ie)|0,n=n+Math.imul(p,re)|0,n=n+Math.imul(m,ie)|0,o=o+Math.imul(m,re)|0,r=r+Math.imul(u,oe)|0,n=n+Math.imul(u,ae)|0,n=n+Math.imul(d,oe)|0,o=o+Math.imul(d,ae)|0;var _e=(c+r|0)+((8191&n)<<13)|0;c=(o+(n>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(P,j),n=Math.imul(P,z),n=n+Math.imul(R,j)|0,o=Math.imul(R,z),r=r+Math.imul(D,V)|0,n=n+Math.imul(D,X)|0,n=n+Math.imul(k,V)|0,o=o+Math.imul(k,X)|0,r=r+Math.imul(M,W)|0,n=n+Math.imul(M,q)|0,n=n+Math.imul(C,W)|0,o=o+Math.imul(C,q)|0,r=r+Math.imul(T,K)|0,n=n+Math.imul(T,Z)|0,n=n+Math.imul(E,K)|0,o=o+Math.imul(E,Z)|0,r=r+Math.imul(x,Q)|0,n=n+Math.imul(x,ee)|0,n=n+Math.imul(w,Q)|0,o=o+Math.imul(w,ee)|0,r=r+Math.imul(y,ie)|0,n=n+Math.imul(y,re)|0,n=n+Math.imul(g,ie)|0,o=o+Math.imul(g,re)|0,r=r+Math.imul(p,oe)|0,n=n+Math.imul(p,ae)|0,n=n+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0,r=r+Math.imul(u,he)|0,n=n+Math.imul(u,ce)|0,n=n+Math.imul(d,he)|0,o=o+Math.imul(d,ce)|0;var Te=(c+r|0)+((8191&n)<<13)|0;c=(o+(n>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(O,j),n=Math.imul(O,z),n=n+Math.imul(L,j)|0,o=Math.imul(L,z),r=r+Math.imul(P,V)|0,n=n+Math.imul(P,X)|0,n=n+Math.imul(R,V)|0,o=o+Math.imul(R,X)|0,r=r+Math.imul(D,W)|0,n=n+Math.imul(D,q)|0,n=n+Math.imul(k,W)|0,o=o+Math.imul(k,q)|0,r=r+Math.imul(M,K)|0,n=n+Math.imul(M,Z)|0,n=n+Math.imul(C,K)|0,o=o+Math.imul(C,Z)|0,r=r+Math.imul(T,Q)|0,n=n+Math.imul(T,ee)|0,n=n+Math.imul(E,Q)|0,o=o+Math.imul(E,ee)|0,r=r+Math.imul(x,ie)|0,n=n+Math.imul(x,re)|0,n=n+Math.imul(w,ie)|0,o=o+Math.imul(w,re)|0,r=r+Math.imul(y,oe)|0,n=n+Math.imul(y,ae)|0,n=n+Math.imul(g,oe)|0,o=o+Math.imul(g,ae)|0,r=r+Math.imul(p,he)|0,n=n+Math.imul(p,ce)|0,n=n+Math.imul(m,he)|0,o=o+Math.imul(m,ce)|0,r=r+Math.imul(u,ue)|0,n=n+Math.imul(u,de)|0,n=n+Math.imul(d,ue)|0,o=o+Math.imul(d,de)|0;var Ee=(c+r|0)+((8191&n)<<13)|0;c=(o+(n>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(N,j),n=Math.imul(N,z),n=n+Math.imul(U,j)|0,o=Math.imul(U,z),r=r+Math.imul(O,V)|0,n=n+Math.imul(O,X)|0,n=n+Math.imul(L,V)|0,o=o+Math.imul(L,X)|0,r=r+Math.imul(P,W)|0,n=n+Math.imul(P,q)|0,n=n+Math.imul(R,W)|0,o=o+Math.imul(R,q)|0,r=r+Math.imul(D,K)|0,n=n+Math.imul(D,Z)|0,n=n+Math.imul(k,K)|0,o=o+Math.imul(k,Z)|0,r=r+Math.imul(M,Q)|0,n=n+Math.imul(M,ee)|0,n=n+Math.imul(C,Q)|0,o=o+Math.imul(C,ee)|0,r=r+Math.imul(T,ie)|0,n=n+Math.imul(T,re)|0,n=n+Math.imul(E,ie)|0,o=o+Math.imul(E,re)|0,r=r+Math.imul(x,oe)|0,n=n+Math.imul(x,ae)|0,n=n+Math.imul(w,oe)|0,o=o+Math.imul(w,ae)|0,r=r+Math.imul(y,he)|0,n=n+Math.imul(y,ce)|0,n=n+Math.imul(g,he)|0,o=o+Math.imul(g,ce)|0,r=r+Math.imul(p,ue)|0,n=n+Math.imul(p,de)|0,n=n+Math.imul(m,ue)|0,o=o+Math.imul(m,de)|0,r=r+Math.imul(u,pe)|0,n=n+Math.imul(u,me)|0,n=n+Math.imul(d,pe)|0,o=o+Math.imul(d,me)|0;var Se=(c+r|0)+((8191&n)<<13)|0;c=(o+(n>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(N,V),n=Math.imul(N,X),n=n+Math.imul(U,V)|0,o=Math.imul(U,X),r=r+Math.imul(O,W)|0,n=n+Math.imul(O,q)|0,n=n+Math.imul(L,W)|0,o=o+Math.imul(L,q)|0,r=r+Math.imul(P,K)|0,n=n+Math.imul(P,Z)|0,n=n+Math.imul(R,K)|0,o=o+Math.imul(R,Z)|0,r=r+Math.imul(D,Q)|0,n=n+Math.imul(D,ee)|0,n=n+Math.imul(k,Q)|0,o=o+Math.imul(k,ee)|0,r=r+Math.imul(M,ie)|0,n=n+Math.imul(M,re)|0,n=n+Math.imul(C,ie)|0,o=o+Math.imul(C,re)|0,r=r+Math.imul(T,oe)|0,n=n+Math.imul(T,ae)|0,n=n+Math.imul(E,oe)|0,o=o+Math.imul(E,ae)|0,r=r+Math.imul(x,he)|0,n=n+Math.imul(x,ce)|0,n=n+Math.imul(w,he)|0,o=o+Math.imul(w,ce)|0,r=r+Math.imul(y,ue)|0,n=n+Math.imul(y,de)|0,n=n+Math.imul(g,ue)|0,o=o+Math.imul(g,de)|0,r=r+Math.imul(p,pe)|0,n=n+Math.imul(p,me)|0,n=n+Math.imul(m,pe)|0,o=o+Math.imul(m,me)|0;var Me=(c+r|0)+((8191&n)<<13)|0;c=(o+(n>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(N,W),n=Math.imul(N,q),n=n+Math.imul(U,W)|0,o=Math.imul(U,q),r=r+Math.imul(O,K)|0,n=n+Math.imul(O,Z)|0,n=n+Math.imul(L,K)|0,o=o+Math.imul(L,Z)|0,r=r+Math.imul(P,Q)|0,n=n+Math.imul(P,ee)|0,n=n+Math.imul(R,Q)|0,o=o+Math.imul(R,ee)|0,r=r+Math.imul(D,ie)|0,n=n+Math.imul(D,re)|0,n=n+Math.imul(k,ie)|0,o=o+Math.imul(k,re)|0,r=r+Math.imul(M,oe)|0,n=n+Math.imul(M,ae)|0,n=n+Math.imul(C,oe)|0,o=o+Math.imul(C,ae)|0,r=r+Math.imul(T,he)|0,n=n+Math.imul(T,ce)|0,n=n+Math.imul(E,he)|0,o=o+Math.imul(E,ce)|0,r=r+Math.imul(x,ue)|0,n=n+Math.imul(x,de)|0,n=n+Math.imul(w,ue)|0,o=o+Math.imul(w,de)|0,r=r+Math.imul(y,pe)|0,n=n+Math.imul(y,me)|0,n=n+Math.imul(g,pe)|0,o=o+Math.imul(g,me)|0;var Ce=(c+r|0)+((8191&n)<<13)|0;c=(o+(n>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(N,K),n=Math.imul(N,Z),n=n+Math.imul(U,K)|0,o=Math.imul(U,Z),r=r+Math.imul(O,Q)|0,n=n+Math.imul(O,ee)|0,n=n+Math.imul(L,Q)|0,o=o+Math.imul(L,ee)|0,r=r+Math.imul(P,ie)|0,n=n+Math.imul(P,re)|0,n=n+Math.imul(R,ie)|0,o=o+Math.imul(R,re)|0,r=r+Math.imul(D,oe)|0,n=n+Math.imul(D,ae)|0,n=n+Math.imul(k,oe)|0,o=o+Math.imul(k,ae)|0,r=r+Math.imul(M,he)|0,n=n+Math.imul(M,ce)|0,n=n+Math.imul(C,he)|0,o=o+Math.imul(C,ce)|0,r=r+Math.imul(T,ue)|0,n=n+Math.imul(T,de)|0,n=n+Math.imul(E,ue)|0,o=o+Math.imul(E,de)|0,r=r+Math.imul(x,pe)|0,n=n+Math.imul(x,me)|0,n=n+Math.imul(w,pe)|0,o=o+Math.imul(w,me)|0;var Ae=(c+r|0)+((8191&n)<<13)|0;c=(o+(n>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(N,Q),n=Math.imul(N,ee),n=n+Math.imul(U,Q)|0,o=Math.imul(U,ee),r=r+Math.imul(O,ie)|0,n=n+Math.imul(O,re)|0,n=n+Math.imul(L,ie)|0,o=o+Math.imul(L,re)|0,r=r+Math.imul(P,oe)|0,n=n+Math.imul(P,ae)|0,n=n+Math.imul(R,oe)|0,o=o+Math.imul(R,ae)|0,r=r+Math.imul(D,he)|0,n=n+Math.imul(D,ce)|0,n=n+Math.imul(k,he)|0,o=o+Math.imul(k,ce)|0,r=r+Math.imul(M,ue)|0,n=n+Math.imul(M,de)|0,n=n+Math.imul(C,ue)|0,o=o+Math.imul(C,de)|0,r=r+Math.imul(T,pe)|0,n=n+Math.imul(T,me)|0,n=n+Math.imul(E,pe)|0,o=o+Math.imul(E,me)|0;var De=(c+r|0)+((8191&n)<<13)|0;c=(o+(n>>>13)|0)+(De>>>26)|0,De&=67108863,r=Math.imul(N,ie),n=Math.imul(N,re),n=n+Math.imul(U,ie)|0,o=Math.imul(U,re),r=r+Math.imul(O,oe)|0,n=n+Math.imul(O,ae)|0,n=n+Math.imul(L,oe)|0,o=o+Math.imul(L,ae)|0,r=r+Math.imul(P,he)|0,n=n+Math.imul(P,ce)|0,n=n+Math.imul(R,he)|0,o=o+Math.imul(R,ce)|0,r=r+Math.imul(D,ue)|0,n=n+Math.imul(D,de)|0,n=n+Math.imul(k,ue)|0,o=o+Math.imul(k,de)|0,r=r+Math.imul(M,pe)|0,n=n+Math.imul(M,me)|0,n=n+Math.imul(C,pe)|0,o=o+Math.imul(C,me)|0;var ke=(c+r|0)+((8191&n)<<13)|0;c=(o+(n>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(N,oe),n=Math.imul(N,ae),n=n+Math.imul(U,oe)|0,o=Math.imul(U,ae),r=r+Math.imul(O,he)|0,n=n+Math.imul(O,ce)|0,n=n+Math.imul(L,he)|0,o=o+Math.imul(L,ce)|0,r=r+Math.imul(P,ue)|0,n=n+Math.imul(P,de)|0,n=n+Math.imul(R,ue)|0,o=o+Math.imul(R,de)|0,r=r+Math.imul(D,pe)|0,n=n+Math.imul(D,me)|0,n=n+Math.imul(k,pe)|0,o=o+Math.imul(k,me)|0;var Ie=(c+r|0)+((8191&n)<<13)|0;c=(o+(n>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(N,he),n=Math.imul(N,ce),n=n+Math.imul(U,he)|0,o=Math.imul(U,ce),r=r+Math.imul(O,ue)|0,n=n+Math.imul(O,de)|0,n=n+Math.imul(L,ue)|0,o=o+Math.imul(L,de)|0,r=r+Math.imul(P,pe)|0,n=n+Math.imul(P,me)|0,n=n+Math.imul(R,pe)|0,o=o+Math.imul(R,me)|0;var Pe=(c+r|0)+((8191&n)<<13)|0;c=(o+(n>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,r=Math.imul(N,ue),n=Math.imul(N,de),n=n+Math.imul(U,ue)|0,o=Math.imul(U,de),r=r+Math.imul(O,pe)|0,n=n+Math.imul(O,me)|0,n=n+Math.imul(L,pe)|0,o=o+Math.imul(L,me)|0;var Re=(c+r|0)+((8191&n)<<13)|0;c=(o+(n>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(N,pe),n=Math.imul(N,me),n=n+Math.imul(U,pe)|0,o=Math.imul(U,me);var Fe=(c+r|0)+((8191&n)<<13)|0;return c=(o+(n>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,h[0]=ve,h[1]=ye,h[2]=ge,h[3]=be,h[4]=xe,h[5]=we,h[6]=_e,h[7]=Te,h[8]=Ee,h[9]=Se,h[10]=Me,h[11]=Ce,h[12]=Ae,h[13]=De,h[14]=ke,h[15]=Ie,h[16]=Pe,h[17]=Re,h[18]=Fe,0!==c&&(h[19]=c,i.length++),i};Math.imul||(E=c),o.prototype.mulTo=function(e,t){var i=this.length+e.length;return 10===this.length&&10===e.length?E(this,e,t):i<63?c(this,e,t):i<1024?l(this,e,t):u(this,e,t)},d.prototype.makeRBT=function(e){for(var t=new Array(e),i=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,i,e);return t},d.prototype.revBin=function(e,t,i){if(0===e||e===i-1)return e;for(var r=0,n=0;n<t;n++)r|=(1&e)<<t-n-1,e>>=1;return r},d.prototype.permute=function(e,t,i,r,n,o){for(var a=0;a<o;a++)r[a]=t[e[a]],n[a]=i[e[a]]},d.prototype.transform=function(e,t,i,r,n,o){this.permute(o,e,t,i,r,n);for(var a=1;a<n;a<<=1)for(var s=a<<1,h=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),l=0;l<n;l+=s)for(var u=h,d=c,f=0;f<a;f++){var p=i[l+f],m=r[l+f],v=i[l+f+a],y=r[l+f+a],g=u*v-d*y;y=u*y+d*v,v=g,i[l+f]=p+v,r[l+f]=m+y,i[l+f+a]=p-v,r[l+f+a]=m-y,f!==s&&(g=h*u-c*d,d=h*d+c*u,u=g)}},d.prototype.guessLen13b=function(e,t){var i=1|Math.max(t,e),r=1&i,n=0;for(i=i/2|0;i;i>>>=1)n++;return 1<<n+1+r},d.prototype.conjugate=function(e,t,i){if(!(i<=1))for(var r=0;r<i/2;r++){var n=e[r];e[r]=e[i-r-1],e[i-r-1]=n,n=t[r],t[r]=-t[i-r-1],t[i-r-1]=-n}},d.prototype.normalize13b=function(e,t){for(var i=0,r=0;r<t/2;r++){var n=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+i;e[r]=67108863&n,i=n<67108864?0:n/67108864|0}return e},d.prototype.convert13b=function(e,t,i,n){for(var o=0,a=0;a<t;a++)o+=0|e[a],i[2*a]=8191&o,o>>>=13,i[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<n;++a)i[a]=0;r(0===o),r(0==(-8192&o))},d.prototype.stub=function(e){for(var t=new Array(e),i=0;i<e;i++)t[i]=0;return t},d.prototype.mulp=function(e,t,i){var r=2*this.guessLen13b(e.length,t.length),n=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),h=new Array(r),c=new Array(r),l=new Array(r),u=new Array(r),d=i.words;d.length=r,this.convert13b(e.words,e.length,a,r),this.convert13b(t.words,t.length,c,r),this.transform(a,o,s,h,r,n),this.transform(c,o,l,u,r,n);for(var f=0;f<r;f++){var p=s[f]*l[f]-h[f]*u[f];h[f]=s[f]*u[f]+h[f]*l[f],s[f]=p}return this.conjugate(s,h,r),this.transform(s,h,d,o,r,n),this.conjugate(d,o,r),this.normalize13b(d,r),i.negative=e.negative^t.negative,i.length=e.length+t.length,i.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),u(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,i=0;i<this.length;i++){var n=(0|this.words[i])*e,o=(67108863&n)+(67108863&t);t>>=26,t+=n/67108864|0,t+=o>>>26,this.words[i]=67108863&o}return 0!==t&&(this.words[i]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=h(e);if(0===t.length)return new o(1);for(var i=this,r=0;r<t.length&&0===t[r];r++,i=i.sqr());if(++r<t.length)for(var n=i.sqr();r<t.length;r++,n=n.sqr())0!==t[r]&&(i=i.mul(n));return i},o.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,i=e%26,n=(e-i)/26,o=67108863>>>26-i<<26-i;if(0!==i){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,h=(0|this.words[t])-s<<i;this.words[t]=h|a,a=s>>>26-i}a&&(this.words[t]=a,this.length++)}if(0!==n){for(t=this.length-1;t>=0;t--)this.words[t+n]=this.words[t];for(t=0;t<n;t++)this.words[t]=0;this.length+=n}return this.strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,i){r("number"==typeof e&&e>=0);var n;n=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,h=i;if(n-=a,n=Math.max(0,n),h){for(var c=0;c<a;c++)h.words[c]=this.words[c];h.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=n);c--){var u=0|this.words[c];this.words[c]=l<<26-o|u>>>o,l=u&s}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,i){return r(0===this.negative),this.iushrn(e,t,i)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26,n=1<<t;return!(this.length<=i)&&!!(this.words[i]&n)},o.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,i=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==t&&i++,this.length=Math.min(i,this.length),0!==t){var n=67108863^67108863>>>t<<t;this.words[this.length-1]&=n}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,i){var n,o=e.length+i;this._expand(o);var a,s=0;for(n=0;n<e.length;n++){a=(0|this.words[n+i])+s;var h=(0|e.words[n])*t;a-=67108863&h,s=(a>>26)-(h/67108864|0),this.words[n+i]=67108863&a}for(;n<this.length-i;n++)a=(0|this.words[n+i])+s,s=a>>26,this.words[n+i]=67108863&a;if(0===s)return this.strip();for(r(-1===s),s=0,n=0;n<this.length;n++)a=-(0|this.words[n])+s,s=a>>26,this.words[n]=67108863&a;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var i=this.length-e.length,r=this.clone(),n=e,a=0|n.words[n.length-1];0!==(i=26-this._countBits(a))&&(n=n.ushln(i),r.iushln(i),a=0|n.words[n.length-1]);var s,h=r.length-n.length;if("mod"!==t){s=new o(null),s.length=h+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var l=r.clone()._ishlnsubmul(n,1,h);0===l.negative&&(r=l,s&&(s.words[h]=1));for(var u=h-1;u>=0;u--){var d=67108864*(0|r.words[n.length+u])+(0|r.words[n.length+u-1]);for(d=Math.min(d/a|0,67108863),r._ishlnsubmul(n,d,u);0!==r.negative;)d--,r.negative=0,r._ishlnsubmul(n,1,u),r.isZero()||(r.negative^=1);s&&(s.words[u]=d)}return s&&s.strip(),r.strip(),"div"!==t&&0!==i&&r.iushrn(i),{div:s||null,mod:r}},o.prototype.divmod=function(e,t,i){if(r(!e.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var n,a,s;return 0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(n=s.div.neg()),"div"!==t&&(a=s.mod.neg(),i&&0!==a.negative&&a.iadd(e)),{div:n,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(n=s.div.neg()),{div:n,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),i&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t)},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var i=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),n=e.andln(1),o=i.cmp(r);return o<0||1===n&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,i=0,n=this.length-1;n>=0;n--)i=(t*i+(0|this.words[n]))%e;return i},o.prototype.idivn=function(e){r(e<=67108863);for(var t=0,i=this.length-1;i>=0;i--){var n=(0|this.words[i])+67108864*t;this.words[i]=n/e|0,t=n%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n=new o(1),a=new o(0),s=new o(0),h=new o(1),c=0;t.isEven()&&i.isEven();)t.iushrn(1),i.iushrn(1),++c;for(var l=i.clone(),u=t.clone();!t.isZero();){for(var d=0,f=1;0==(t.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(n.isOdd()||a.isOdd())&&(n.iadd(l),a.isub(u)),n.iushrn(1),a.iushrn(1);for(var p=0,m=1;0==(i.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(s.isOdd()||h.isOdd())&&(s.iadd(l),h.isub(u)),s.iushrn(1),h.iushrn(1);t.cmp(i)>=0?(t.isub(i),n.isub(s),a.isub(h)):(i.isub(t),s.isub(n),h.isub(a))}return{a:s,b:h,gcd:i.iushln(c)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n=new o(1),a=new o(0),s=i.clone();t.cmpn(1)>0&&i.cmpn(1)>0;){for(var h=0,c=1;0==(t.words[0]&c)&&h<26;++h,c<<=1);if(h>0)for(t.iushrn(h);h-- >0;)n.isOdd()&&n.iadd(s),n.iushrn(1);for(var l=0,u=1;0==(i.words[0]&u)&&l<26;++l,u<<=1);if(l>0)for(i.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(s),a.iushrn(1);t.cmp(i)>=0?(t.isub(i),n.isub(a)):(i.isub(t),a.isub(n))}var d;return d=0===t.cmpn(1)?n:a,d.cmpn(0)<0&&d.iadd(e),d},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),i=e.clone();t.negative=0,i.negative=0;for(var r=0;t.isEven()&&i.isEven();r++)t.iushrn(1),i.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;i.isEven();)i.iushrn(1);var n=t.cmp(i);if(n<0){var o=t;t=i,i=o}else if(0===n||0===i.cmpn(1))break;t.isub(i)}return i.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,i=(e-t)/26,n=1<<t;if(this.length<=i)return this._expand(i+1),this.words[i]|=n,this;for(var o=n,a=i;0!==o&&a<this.length;a++){var s=0|this.words[a];s+=o,o=s>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t=e<0;if(0!==this.negative&&!t)return-1;if(0===this.negative&&t)return 1;this.strip();var i;if(this.length>1)i=1;else{t&&(e=-e),r(e<=67108863,"Number is too big");var n=0|this.words[0];i=n===e?0:n<e?-1:1}return 0!==this.negative?0|-i:i},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,i=this.length-1;i>=0;i--){var r=0|this.words[i],n=0|e.words[i];if(r!==n){r<n?t=-1:r>n&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new g(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var S={k256:null,p224:null,p192:null,p25519:null};f.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},f.prototype.ireduce=function(e){var t,i=e;do{this.split(i,this.tmp),i=this.imulK(i),i=i.iadd(this.tmp),t=i.bitLength()}while(t>this.n);var r=t<this.n?-1:i.ucmp(this.p);return 0===r?(i.words[0]=0,i.length=1):r>0?i.isub(this.p):i.strip(),i},f.prototype.split=function(e,t){e.iushrn(this.n,0,t)},f.prototype.imulK=function(e){return e.imul(this.k)},n(p,f),p.prototype.split=function(e,t){for(var i=Math.min(e.length,9),r=0;r<i;r++)t.words[r]=e.words[r];if(t.length=i,e.length<=9)return e.words[0]=0,void(e.length=1);var n=e.words[9];for(t.words[t.length++]=4194303&n,r=10;r<e.length;r++){var o=0|e.words[r];e.words[r-10]=(4194303&o)<<4|n>>>22,n=o}n>>>=22,e.words[r-10]=n,0===n&&e.length>10?e.length-=10:e.length-=9},p.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,i=0;i<e.length;i++){var r=0|e.words[i];t+=977*r,e.words[i]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(m,f),n(v,f),n(y,f),y.prototype.imulK=function(e){for(var t=0,i=0;i<e.length;i++){var r=19*(0|e.words[i])+t,n=67108863&r;r>>>=26,e.words[i]=n,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(S[e])return S[e];var t;if("k256"===e)t=new p;else if("p224"===e)t=new m;else if("p192"===e)t=new v;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new y}return S[e]=t,t},g.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},g.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},g.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},g.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},g.prototype.add=function(e,t){this._verify2(e,t);var i=e.add(t);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},g.prototype.iadd=function(e,t){this._verify2(e,t);var i=e.iadd(t);return i.cmp(this.m)>=0&&i.isub(this.m),i},g.prototype.sub=function(e,t){this._verify2(e,t);var i=e.sub(t);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},g.prototype.isub=function(e,t){this._verify2(e,t);var i=e.isub(t);return i.cmpn(0)<0&&i.iadd(this.m),i},g.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},g.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},g.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},g.prototype.isqr=function(e){return this.imul(e,e.clone())},g.prototype.sqr=function(e){return this.mul(e,e)},g.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var i=this.m.add(new o(1)).iushrn(2);return this.pow(e,i)}for(var n=this.m.subn(1),a=0;!n.isZero()&&0===n.andln(1);)a++,n.iushrn(1);r(!n.isZero());var s=new o(1).toRed(this),h=s.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,c).cmp(h);)l.redIAdd(h);for(var u=this.pow(l,n),d=this.pow(e,n.addn(1).iushrn(1)),f=this.pow(e,n),p=a;0!==f.cmp(s);){for(var m=f,v=0;0!==m.cmp(s);v++)m=m.redSqr();r(v<p);var y=this.pow(u,new o(1).iushln(p-v-1));d=d.redMul(y),u=y.redSqr(),f=f.redMul(u),p=v}return d},g.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},g.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var i=new Array(16);i[0]=new o(1).toRed(this),i[1]=e;for(var r=2;r<i.length;r++)i[r]=this.mul(i[r-1],e);var n=i[0],a=0,s=0,h=t.bitLength()%26;for(0===h&&(h=26),r=t.length-1;r>=0;r--){for(var c=t.words[r],l=h-1;l>=0;l--){var u=c>>l&1;n!==i[0]&&(n=this.sqr(n)),0!==u||0!==a?(a<<=1,a|=u,(4===++s||0===r&&0===l)&&(n=this.mul(n,i[a]),s=0,a=0)):s=0}h=26}return n},g.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},g.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new b(e)},n(b,g),b.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},b.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},b.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var i=e.imul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=i.isub(r).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},b.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var i=e.mul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=i.isub(r).iushrn(this.shift),a=n;return n.cmp(this.m)>=0?a=n.isub(this.m):n.cmpn(0)<0&&(a=n.iadd(this.m)),a._forceRed(this)},b.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===e||e,this)}).call(t,i(62)(e))},function(e,t,i){"use strict";var r=t;r.version=i(130).version,r.utils=i(131),r.rand=i(64),r.curve=i(24),r.curves=i(136),r.ec=i(144),r.eddsa=i(148)},function(e,t){function i(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=i,i.equal=function(e,t,i){if(e!=t)throw new Error(i||"Assertion failed: "+e+" != "+t)}},function(e,t,i){"use strict";function r(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var i=[];if("string"==typeof e)if(t){if("hex"===t)for(e=e.replace(/[^a-z0-9]+/gi,""),e.length%2!=0&&(e="0"+e),r=0;r<e.length;r+=2)i.push(parseInt(e[r]+e[r+1],16))}else for(var r=0;r<e.length;r++){var n=e.charCodeAt(r),o=n>>8,a=255&n;o?i.push(o,a):i.push(a)}else for(r=0;r<e.length;r++)i[r]=0|e[r];return i}function n(e){for(var t="",i=0;i<e.length;i++)t+=s(e[i].toString(16));return t}function o(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function a(e,t){for(var i="",r=0;r<e.length;r++){var n=e[r];"little"===t&&(n=o(n)),i+=h(n.toString(16))}return i}function s(e){return 1===e.length?"0"+e:e}function h(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}function c(e,t,i,r){var n=i-t;A(n%4==0);for(var o=new Array(n/4),a=0,s=t;a<o.length;a++,s+=4){var h;h="big"===r?e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3]:e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s],o[a]=h>>>0}return o}function l(e,t){for(var i=new Array(4*e.length),r=0,n=0;r<e.length;r++,n+=4){var o=e[r];"big"===t?(i[n]=o>>>24,i[n+1]=o>>>16&255,i[n+2]=o>>>8&255,i[n+3]=255&o):(i[n+3]=o>>>24,i[n+2]=o>>>16&255,i[n+1]=o>>>8&255,i[n]=255&o)}return i}function u(e,t){return e>>>t|e<<32-t}function d(e,t){return e<<t|e>>>32-t}function f(e,t){return e+t>>>0}function p(e,t,i){return e+t+i>>>0}function m(e,t,i,r){return e+t+i+r>>>0}function v(e,t,i,r,n){return e+t+i+r+n>>>0}function y(e,t,i,r){var n=e[t],o=e[t+1],a=r+o>>>0,s=(a<r?1:0)+i+n;e[t]=s>>>0,e[t+1]=a}function g(e,t,i,r){return(t+r>>>0<t?1:0)+e+i>>>0}function b(e,t,i,r){return t+r>>>0}function x(e,t,i,r,n,o,a,s){var h=0,c=t;return c=c+r>>>0,h+=c<t?1:0,c=c+o>>>0,h+=c<o?1:0,c=c+s>>>0,h+=c<s?1:0,e+i+n+a+h>>>0}function w(e,t,i,r,n,o,a,s){return t+r+o+s>>>0}function _(e,t,i,r,n,o,a,s,h,c){var l=0,u=t;return u=u+r>>>0,l+=u<t?1:0,u=u+o>>>0,l+=u<o?1:0,u=u+s>>>0,l+=u<s?1:0,u=u+c>>>0,l+=u<c?1:0,e+i+n+a+h+l>>>0}function T(e,t,i,r,n,o,a,s,h,c){return t+r+o+s+c>>>0}function E(e,t,i){return(t<<32-i|e>>>i)>>>0}function S(e,t,i){return(e<<32-i|t>>>i)>>>0}function M(e,t,i){return e>>>i}function C(e,t,i){return(e<<32-i|t>>>i)>>>0}var A=i(6),D=i(0);t.inherits=D,t.toArray=r,t.toHex=n,t.htonl=o,t.toHex32=a,t.zero2=s,t.zero8=h,t.join32=c,t.split32=l,t.rotr32=u,t.rotl32=d,t.sum32=f,t.sum32_3=p,t.sum32_4=m,t.sum32_5=v,t.sum64=y,t.sum64_hi=g,t.sum64_lo=b,t.sum64_4_hi=x,t.sum64_4_lo=w,t.sum64_5_hi=_,t.sum64_5_lo=T,t.rotr64_hi=E,t.rotr64_lo=S,t.shr64_hi=M,t.shr64_lo=C},function(e,t){function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function n(e){if(l===setTimeout)return setTimeout(e,0);if((l===i||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(u===clearTimeout)return clearTimeout(e);if((u===r||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{return u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}function a(){m&&f&&(m=!1,f.length?p=f.concat(p):v=-1,p.length&&s())}function s(){if(!m){var e=n(a);m=!0;for(var t=p.length;t;){for(f=p,p=[];++v<t;)f&&f[v].run();v=-1,t=p.length}f=null,m=!1,o(e)}}function h(e,t){this.fun=e,this.array=t}function c(){}var l,u,d=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:i}catch(e){l=i}try{u="function"==typeof clearTimeout?clearTimeout:r}catch(e){u=r}}();var f,p=[],m=!1,v=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];p.push(new h(e,t)),1!==p.length||m||n(s)},h.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,i){function r(e){o.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}var n=i(2).Buffer,o=i(19).Transform,a=i(32).StringDecoder;i(0)(r,o),r.prototype.update=function(e,t,i){"string"==typeof e&&(e=n.from(e,t));var r=this._update(e);return this.hashMode?this:(i&&(r=this._toString(r,i)),r)},r.prototype.setAutoPadding=function(){},r.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},r.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},r.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},r.prototype._transform=function(e,t,i){var r;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){r=e}finally{i(r)}},r.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},r.prototype._finalOrDigest=function(e){var t=this.__final()||n.alloc(0);return e&&(t=this._toString(t,e,!0)),t},r.prototype._toString=function(e,t,i){if(this._decoder||(this._decoder=new a(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var r=this._decoder.write(e);return i&&(r+=this._decoder.end()),r},e.exports=r},function(e,t,i){"use strict";function r(e){if(!(this instanceof r))return new r(e);c.call(this,e),l.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",n)}function n(){this.allowHalfOpen||this._writableState.ended||a(o,this)}function o(e){e.end()}var a=i(21),s=Object.keys||function(e){var t=[];for(var i in e)t.push(i);return t};e.exports=r;var h=i(14);h.inherits=i(0);var c=i(44),l=i(31);h.inherits(r,c);for(var u=s(l.prototype),d=0;d<u.length;d++){var f=u[d];r.prototype[f]||(r.prototype[f]=l.prototype[f])}Object.defineProperty(r.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),r.prototype._destroy=function(e,t){this.push(null),this.end(),a(t,e)}},function(e,t,i){"use strict";(function(t,r){function n(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}function o(e,i){if(e>65536)throw new Error("requested too many random bytes");var n=new t.Uint8Array(e);e>0&&s.getRandomValues(n);var o=a.from(n.buffer);return"function"==typeof i?r.nextTick(function(){i(null,o)}):o}var a=i(2).Buffer,s=t.crypto||t.msCrypto;s&&s.getRandomValues?e.exports=o:e.exports=n}).call(t,i(1),i(8))},function(e,t,i){function r(e,t){this._block=n.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}var n=i(2).Buffer;r.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=n.from(e,t));for(var i=this._block,r=this._blockSize,o=e.length,a=this._len,s=0;s<o;){for(var h=a%r,c=Math.min(o-s,r-h),l=0;l<c;l++)i[h+l]=e[s+l];a+=c,s+=c,a%r==0&&this._update(i)}return this._len+=o,this},r.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var i=8*this._len;if(i<=4294967295)this._block.writeUInt32BE(i,this._blockSize-4);else{var r=4294967295&i,n=(i-r)/4294967296;this._block.writeUInt32BE(n,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},r.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=r},function(e,t,i){"use strict";(function(t){function r(e){c.call(this,"digest"),this._hash=e,this.buffers=[]}function n(e){c.call(this,"digest"),this._hash=e}var o=i(0),a=i(28),s=i(29),h=i(33),c=i(9);o(r,c),r.prototype._update=function(e){this.buffers.push(e)},r.prototype._final=function(){var e=t.concat(this.buffers),i=this._hash(e);return this.buffers=null,i},o(n,c),n.prototype._update=function(e){this._hash.update(e)},n.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return e=e.toLowerCase(),"md5"===e?new r(a):new n("rmd160"===e||"ripemd160"===e?new s:h(e))}}).call(t,i(3).Buffer)},function(e,t,i){(function(e){function i(e){return Array.isArray?Array.isArray(e):"[object Array]"===v(e)}function r(e){return"boolean"==typeof e}function n(e){return null===e}function o(e){return null==e}function a(e){return"number"==typeof e}function s(e){return"string"==typeof e}function h(e){return"symbol"==typeof e}function c(e){return void 0===e}function l(e){return"[object RegExp]"===v(e)}function u(e){return"object"==typeof e&&null!==e}function d(e){return"[object Date]"===v(e)}function f(e){return"[object Error]"===v(e)||e instanceof Error}function p(e){return"function"==typeof e}function m(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function v(e){return Object.prototype.toString.call(e)}t.isArray=i,t.isBoolean=r,t.isNull=n,t.isNullOrUndefined=o,t.isNumber=a,t.isString=s,t.isSymbol=h,t.isUndefined=c,t.isRegExp=l,t.isObject=u,t.isDate=d,t.isError=f,t.isFunction=p,t.isPrimitive=m,t.isBuffer=e.isBuffer}).call(t,i(3).Buffer)},function(e,t,i){(function(t){e.exports=function(e,i){for(var r=Math.min(e.length,i.length),n=new t(r),o=0;o<r;++o)n[o]=e[o]^i[o];return n}}).call(t,i(3).Buffer)},function(e,t,i){"use strict";function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var n=i(7),o=i(6);t.BlockHash=r,r.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var i=e.length%this._delta8;this.pending=e.slice(e.length-i,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-i,this.endian);for(var r=0;r<e.length;r+=this._delta32)this._update(e,r,r+this._delta32)}return this},r.prototype.digest=function(e){return this.update(this._pad()),o(null===this.pending),this._digest(e)},r.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,i=t-(e+this.padLength)%t,r=new Array(i+this.padLength);r[0]=128;for(var n=1;n<i;n++)r[n]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)r[n++]=0;r[n++]=0,r[n++]=0,r[n++]=0,r[n++]=0,r[n++]=e>>>24&255,r[n++]=e>>>16&255,r[n++]=e>>>8&255,r[n++]=255&e}else for(r[n++]=255&e,r[n++]=e>>>8&255,r[n++]=e>>>16&255,r[n++]=e>>>24&255,r[n++]=0,r[n++]=0,r[n++]=0,r[n++]=0,o=8;o<this.padLength;o++)r[n++]=0;return r}},function(e,t,i){var r=t;r.bignum=i(4),r.define=i(152).define,r.base=i(18),r.constants=i(70),r.decoders=i(158),r.encoders=i(160)},function(e,t,i){var r=t;r.Reporter=i(155).Reporter,r.DecoderBuffer=i(69).DecoderBuffer,r.EncoderBuffer=i(69).EncoderBuffer,r.Node=i(156)},function(e,t,i){function r(){n.call(this)}e.exports=r;var n=i(30).EventEmitter;i(0)(r,n),r.Readable=i(20),r.Writable=i(93),r.Duplex=i(94),r.Transform=i(95),r.PassThrough=i(96),r.Stream=r,r.prototype.pipe=function(e,t){function i(t){e.writable&&!1===e.write(t)&&c.pause&&c.pause()}function r(){c.readable&&c.resume&&c.resume()}function o(){l||(l=!0,e.end())}function a(){l||(l=!0,"function"==typeof e.destroy&&e.destroy())}function s(e){if(h(),0===n.listenerCount(this,"error"))throw e}function h(){c.removeListener("data",i),e.removeListener("drain",r),c.removeListener("end",o),c.removeListener("close",a),c.removeListener("error",s),e.removeListener("error",s),c.removeListener("end",h),c.removeListener("close",h),e.removeListener("close",h)}var c=this;c.on("data",i),e.on("drain",r),e._isStdio||t&&!1===t.end||(c.on("end",o),c.on("close",a));var l=!1;return c.on("error",s),e.on("error",s),c.on("end",h),c.on("close",h),e.on("close",h),e.emit("pipe",c),e}},function(e,t,i){t=e.exports=i(44),t.Stream=t,t.Readable=t,t.Writable=i(31),t.Duplex=i(10),t.Transform=i(47),t.PassThrough=i(92)},function(e,t,i){"use strict";(function(t){function i(e,i,r,n){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,i)});case 3:return t.nextTick(function(){e.call(null,i,r)});case 4:return t.nextTick(function(){e.call(null,i,r,n)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick(function(){e.apply(null,o)})}}!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports=i:e.exports=t.nextTick}).call(t,i(8))},function(e,t,i){function r(e,t,i,r){if(n.isBuffer(e)||(e=n.from(e,"binary")),t&&(n.isBuffer(t)||(t=n.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=i/8,s=n.alloc(a),h=n.alloc(r||0),c=n.alloc(0);a>0||r>0;){var l=new o;l.update(c),l.update(e),t&&l.update(t),c=l.digest();var u=0;if(a>0){var d=s.length-a;u=Math.min(a,c.length),c.copy(s,d,0,u),a-=u}if(u<c.length&&r>0){var f=h.length-r,p=Math.min(r,c.length-u);c.copy(h,f,u,u+p),r-=p}}return c.fill(0),{key:s,iv:h}}var n=i(2).Buffer,o=i(105);e.exports=r},function(e,t,i){function r(e){s.isBuffer(e)||(e=s.from(e));for(var t=e.length/4|0,i=new Array(t),r=0;r<t;r++)i[r]=e.readUInt32BE(4*r);return i}function n(e){for(;0<e.length;e++)e[0]=0}function o(e,t,i,r,n){for(var o,a,s,h,c=i[0],l=i[1],u=i[2],d=i[3],f=e[0]^t[0],p=e[1]^t[1],m=e[2]^t[2],v=e[3]^t[3],y=4,g=1;g<n;g++)o=c[f>>>24]^l[p>>>16&255]^u[m>>>8&255]^d[255&v]^t[y++],a=c[p>>>24]^l[m>>>16&255]^u[v>>>8&255]^d[255&f]^t[y++],s=c[m>>>24]^l[v>>>16&255]^u[f>>>8&255]^d[255&p]^t[y++],h=c[v>>>24]^l[f>>>16&255]^u[p>>>8&255]^d[255&m]^t[y++],f=o,p=a,m=s,v=h;return o=(r[f>>>24]<<24|r[p>>>16&255]<<16|r[m>>>8&255]<<8|r[255&v])^t[y++],a=(r[p>>>24]<<24|r[m>>>16&255]<<16|r[v>>>8&255]<<8|r[255&f])^t[y++],s=(r[m>>>24]<<24|r[v>>>16&255]<<16|r[f>>>8&255]<<8|r[255&p])^t[y++],h=(r[v>>>24]<<24|r[f>>>16&255]<<16|r[p>>>8&255]<<8|r[255&m])^t[y++],o>>>=0,a>>>=0,s>>>=0,h>>>=0,[o,a,s,h]}function a(e){this._key=r(e),this._reset()}var s=i(2).Buffer,h=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var i=[],r=[],n=[[],[],[],[]],o=[[],[],[],[]],a=0,s=0,h=0;h<256;++h){var c=s^s<<1^s<<2^s<<3^s<<4;c=c>>>8^255&c^99,i[a]=c,r[c]=a;var l=e[a],u=e[l],d=e[u],f=257*e[c]^16843008*c;n[0][a]=f<<24|f>>>8,n[1][a]=f<<16|f>>>16,n[2][a]=f<<8|f>>>24,n[3][a]=f,f=16843009*d^65537*u^257*l^16843008*a,o[0][c]=f<<24|f>>>8,o[1][c]=f<<16|f>>>16,o[2][c]=f<<8|f>>>24,o[3][c]=f,0===a?a=s=1:(a=l^e[e[e[d^l]]],s^=e[e[s]])}return{SBOX:i,INV_SBOX:r,SUB_MIX:n,INV_SUB_MIX:o}}();a.blockSize=16,a.keySize=32,a.prototype.blockSize=a.blockSize,a.prototype.keySize=a.keySize,a.prototype._reset=function(){for(var e=this._key,t=e.length,i=t+6,r=4*(i+1),n=[],o=0;o<t;o++)n[o]=e[o];for(o=t;o<r;o++){var a=n[o-1];o%t==0?(a=a<<8|a>>>24,a=c.SBOX[a>>>24]<<24|c.SBOX[a>>>16&255]<<16|c.SBOX[a>>>8&255]<<8|c.SBOX[255&a],a^=h[o/t|0]<<24):t>6&&o%t==4&&(a=c.SBOX[a>>>24]<<24|c.SBOX[a>>>16&255]<<16|c.SBOX[a>>>8&255]<<8|c.SBOX[255&a]),n[o]=n[o-t]^a}for(var s=[],l=0;l<r;l++){var u=r-l,d=n[u-(l%4?0:4)];s[l]=l<4||u<=4?d:c.INV_SUB_MIX[0][c.SBOX[d>>>24]]^c.INV_SUB_MIX[1][c.SBOX[d>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[d>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&d]]}this._nRounds=i,this._keySchedule=n,this._invKeySchedule=s},a.prototype.encryptBlockRaw=function(e){return e=r(e),o(e,this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},a.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),i=s.allocUnsafe(16);return i.writeUInt32BE(t[0],0),i.writeUInt32BE(t[1],4),i.writeUInt32BE(t[2],8),i.writeUInt32BE(t[3],12),i},a.prototype.decryptBlock=function(e){e=r(e);var t=e[1];e[1]=e[3],e[3]=t;var i=o(e,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),n=s.allocUnsafe(16);return n.writeUInt32BE(i[0],0),n.writeUInt32BE(i[3],4),n.writeUInt32BE(i[2],8),n.writeUInt32BE(i[1],12),n},a.prototype.scrub=function(){n(this._keySchedule),n(this._invKeySchedule),n(this._key)},e.exports.AES=a},function(e,t,i){"use strict";var r=t;r.base=i(132),r.short=i(133),r.mont=i(134),r.edwards=i(135)},function(e,t,i){(function(t){function r(e){var i;"object"!=typeof e||t.isBuffer(e)||(i=e.passphrase,e=e.key),"string"==typeof e&&(e=new t(e));var r,a,h=s(e,i),c=h.tag,l=h.data;switch(c){case"CERTIFICATE":a=o.certificate.decode(l,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(a||(a=o.PublicKey.decode(l,"der")),r=a.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return o.RSAPublicKey.decode(a.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return a.subjectPrivateKey=a.subjectPublicKey,{type:"ec",data:a};case"1.2.840.10040.4.1":return a.algorithm.params.pub_key=o.DSAparam.decode(a.subjectPublicKey.data,"der"),{type:"dsa",data:a.algorithm.params};default:throw new Error("unknown key id "+r)}throw new Error("unknown key type "+c);case"ENCRYPTED PRIVATE KEY":l=o.EncryptedPrivateKey.decode(l,"der"),l=n(l,i);case"PRIVATE KEY":switch(a=o.PrivateKey.decode(l,"der"),r=a.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return o.RSAPrivateKey.decode(a.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:a.algorithm.curve,privateKey:o.ECPrivateKey.decode(a.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return a.algorithm.params.priv_key=o.DSAparam.decode(a.subjectPrivateKey,"der"),{type:"dsa",params:a.algorithm.params};default:throw new Error("unknown key id "+r)}throw new Error("unknown key type "+c);case"RSA PUBLIC KEY":return o.RSAPublicKey.decode(l,"der");case"RSA PRIVATE KEY":return o.RSAPrivateKey.decode(l,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:o.DSAPrivateKey.decode(l,"der")};case"EC PRIVATE KEY":return l=o.ECPrivateKey.decode(l,"der"),{curve:l.parameters.value,privateKey:l.privateKey};default:throw new Error("unknown key type "+c)}}function n(e,i){var r=e.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=a[e.algorithm.decrypt.cipher.algo.join(".")],s=e.algorithm.decrypt.cipher.iv,l=e.subjectPrivateKey,u=parseInt(o.split("-")[1],10)/8,d=c.pbkdf2Sync(i,r,n,u),f=h.createDecipheriv(o,d,s),p=[];return p.push(f.update(l)),p.push(f.final()),t.concat(p)}var o=i(151),a=i(163),s=i(164),h=i(34),c=i(52);e.exports=r,r.signature=o.signature}).call(t,i(3).Buffer)},function(e,t){function i(e,t){var i=e[1]||"",n=e[3];if(!n)return i;if(t&&"function"==typeof btoa){var o=r(n);return[i].concat(n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"})).concat([o]).join("\n")}return[i].join("\n")}function r(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=i(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},n=0;n<this.length;n++){var o=this[n][0];"number"==typeof o&&(r[o]=!0)}for(n=0;n<e.length;n++){var a=e[n];"number"==typeof a[0]&&r[a[0]]||(i&&!a[2]?a[2]=i:i&&(a[2]="("+a[2]+") and ("+i+")"),t.push(a))}},t}},function(e,t,i){function r(e,t){for(var i=0;i<e.length;i++){var r=e[i],n=p[r.id];if(n){n.refs++;for(var o=0;o<n.parts.length;o++)n.parts[o](r.parts[o]);for(;o<r.parts.length;o++)n.parts.push(l(r.parts[o],t))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(l(r.parts[o],t));p[r.id]={id:r.id,refs:1,parts:a}}}}function n(e,t){for(var i=[],r={},n=0;n<e.length;n++){var o=e[n],a=t.base?o[0]+t.base:o[0],s=o[1],h=o[2],c=o[3],l={css:s,media:h,sourceMap:c};r[a]?r[a].parts.push(l):i.push(r[a]={id:a,parts:[l]})}return i}function o(e,t){var i=v(e.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=b[b.length-1];if("top"===e.insertAt)r?r.nextSibling?i.insertBefore(t,r.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),b.push(t);else if("bottom"===e.insertAt)i.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var n=v(e.insertInto+" "+e.insertAt.before);i.insertBefore(t,n)}}function a(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function s(e){var t=document.createElement("style");return e.attrs.type="text/css",c(t,e.attrs),o(e,t),t}function h(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",c(t,e.attrs),o(e,t),t}function c(e,t){Object.keys(t).forEach(function(i){e.setAttribute(i,t[i])})}function l(e,t){var i,r,n,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var c=g++;i=y||(y=s(t)),r=u.bind(null,i,c,!1),n=u.bind(null,i,c,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=h(t),r=f.bind(null,i,t),n=function(){a(i),i.href&&URL.revokeObjectURL(i.href)}):(i=s(t),r=d.bind(null,i),n=function(){a(i)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else n()}}function u(e,t,i,r){var n=i?"":r.css;if(e.styleSheet)e.styleSheet.cssText=w(t,n);else{var o=document.createTextNode(n),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function d(e,t){var i=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}function f(e,t,i){var r=i.css,n=i.sourceMap,o=void 0===t.convertToAbsoluteUrls&&n;(t.convertToAbsoluteUrls||o)&&(r=x(r)),n&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var p={},m=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),v=function(e){var t={};return function(i){if(void 0===t[i]){var r=e.call(this,i);if(r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[i]=r}return t[i]}}(function(e){return document.querySelector(e)}),y=null,g=0,b=[],x=i(191);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=m()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var i=n(e,t);return r(i,t),function(e){for(var o=[],a=0;a<i.length;a++){var s=i[a],h=p[s.id];h.refs--,o.push(h)}if(e){r(n(e,t),t)}for(var a=0;a<o.length;a++){var h=o[a];if(0===h.refs){for(var c=0;c<h.parts.length;c++)h.parts[c]();delete p[h.id]}}}};var w=function(){var e=[];return function(t,i){return e[t]=i,e.filter(Boolean).join("\n")}}()},function(e,t,i){"use strict";function r(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var i=1732584193,r=-271733879,n=-1732584194,l=271733878,u=0;u<e.length;u+=16){var d=i,f=r,p=n,m=l;i=o(i,r,n,l,e[u+0],7,-680876936),l=o(l,i,r,n,e[u+1],12,-389564586),n=o(n,l,i,r,e[u+2],17,606105819),r=o(r,n,l,i,e[u+3],22,-1044525330),i=o(i,r,n,l,e[u+4],7,-176418897),l=o(l,i,r,n,e[u+5],12,1200080426),n=o(n,l,i,r,e[u+6],17,-1473231341),r=o(r,n,l,i,e[u+7],22,-45705983),i=o(i,r,n,l,e[u+8],7,1770035416),l=o(l,i,r,n,e[u+9],12,-1958414417),n=o(n,l,i,r,e[u+10],17,-42063),r=o(r,n,l,i,e[u+11],22,-1990404162),i=o(i,r,n,l,e[u+12],7,1804603682),l=o(l,i,r,n,e[u+13],12,-40341101),n=o(n,l,i,r,e[u+14],17,-1502002290),r=o(r,n,l,i,e[u+15],22,1236535329),i=a(i,r,n,l,e[u+1],5,-165796510),l=a(l,i,r,n,e[u+6],9,-1069501632),n=a(n,l,i,r,e[u+11],14,643717713),r=a(r,n,l,i,e[u+0],20,-373897302),i=a(i,r,n,l,e[u+5],5,-701558691),l=a(l,i,r,n,e[u+10],9,38016083),n=a(n,l,i,r,e[u+15],14,-660478335),r=a(r,n,l,i,e[u+4],20,-405537848),i=a(i,r,n,l,e[u+9],5,568446438),l=a(l,i,r,n,e[u+14],9,-1019803690),n=a(n,l,i,r,e[u+3],14,-187363961),r=a(r,n,l,i,e[u+8],20,1163531501),i=a(i,r,n,l,e[u+13],5,-1444681467),l=a(l,i,r,n,e[u+2],9,-51403784),n=a(n,l,i,r,e[u+7],14,1735328473),r=a(r,n,l,i,e[u+12],20,-1926607734),i=s(i,r,n,l,e[u+5],4,-378558),l=s(l,i,r,n,e[u+8],11,-2022574463),n=s(n,l,i,r,e[u+11],16,1839030562),r=s(r,n,l,i,e[u+14],23,-35309556),i=s(i,r,n,l,e[u+1],4,-1530992060),l=s(l,i,r,n,e[u+4],11,1272893353),n=s(n,l,i,r,e[u+7],16,-155497632),r=s(r,n,l,i,e[u+10],23,-1094730640),i=s(i,r,n,l,e[u+13],4,681279174),l=s(l,i,r,n,e[u+0],11,-358537222),n=s(n,l,i,r,e[u+3],16,-722521979),r=s(r,n,l,i,e[u+6],23,76029189),i=s(i,r,n,l,e[u+9],4,-640364487),l=s(l,i,r,n,e[u+12],11,-421815835),n=s(n,l,i,r,e[u+15],16,530742520),r=s(r,n,l,i,e[u+2],23,-995338651),i=h(i,r,n,l,e[u+0],6,-198630844),l=h(l,i,r,n,e[u+7],10,1126891415),n=h(n,l,i,r,e[u+14],15,-1416354905),r=h(r,n,l,i,e[u+5],21,-57434055),i=h(i,r,n,l,e[u+12],6,1700485571),l=h(l,i,r,n,e[u+3],10,-1894986606),n=h(n,l,i,r,e[u+10],15,-1051523),r=h(r,n,l,i,e[u+1],21,-2054922799),i=h(i,r,n,l,e[u+8],6,1873313359),l=h(l,i,r,n,e[u+15],10,-30611744),n=h(n,l,i,r,e[u+6],15,-1560198380),r=h(r,n,l,i,e[u+13],21,1309151649),i=h(i,r,n,l,e[u+4],6,-145523070),l=h(l,i,r,n,e[u+11],10,-1120210379),n=h(n,l,i,r,e[u+2],15,718787259),r=h(r,n,l,i,e[u+9],21,-343485551),i=c(i,d),r=c(r,f),n=c(n,p),l=c(l,m)}return[i,r,n,l]}function n(e,t,i,r,n,o){return c(l(c(c(t,e),c(r,o)),n),i)}function o(e,t,i,r,o,a,s){return n(t&i|~t&r,e,t,o,a,s)}function a(e,t,i,r,o,a,s){return n(t&r|i&~r,e,t,o,a,s)}function s(e,t,i,r,o,a,s){return n(t^i^r,e,t,o,a,s)}function h(e,t,i,r,o,a,s){return n(i^(t|~r),e,t,o,a,s)}function c(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function l(e,t){return e<<t|e>>>32-t}var u=i(87);e.exports=function(e){return u(e,r)}},function(e,t,i){"use strict";(function(t){function r(){u.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function n(e,t){return e<<t|e>>>32-t}function o(e,t,i,r,o,a,s,h){return n(e+(t^i^r)+a+s|0,h)+o|0}function a(e,t,i,r,o,a,s,h){return n(e+(t&i|~t&r)+a+s|0,h)+o|0}function s(e,t,i,r,o,a,s,h){return n(e+((t|~i)^r)+a+s|0,h)+o|0}function h(e,t,i,r,o,a,s,h){return n(e+(t&r|i&~r)+a+s|0,h)+o|0}function c(e,t,i,r,o,a,s,h){return n(e+(t^(i|~r))+a+s|0,h)+o|0}var l=i(0),u=i(88);l(r,u),r.prototype._update=function(){for(var e=new Array(16),t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var i=this._a,r=this._b,l=this._c,u=this._d,d=this._e;i=o(i,r,l,u,d,e[0],0,11),l=n(l,10),d=o(d,i,r,l,u,e[1],0,14),r=n(r,10),u=o(u,d,i,r,l,e[2],0,15),i=n(i,10),l=o(l,u,d,i,r,e[3],0,12),d=n(d,10),r=o(r,l,u,d,i,e[4],0,5),u=n(u,10),i=o(i,r,l,u,d,e[5],0,8),l=n(l,10),d=o(d,i,r,l,u,e[6],0,7),r=n(r,10),u=o(u,d,i,r,l,e[7],0,9),i=n(i,10),l=o(l,u,d,i,r,e[8],0,11),d=n(d,10),r=o(r,l,u,d,i,e[9],0,13),u=n(u,10),i=o(i,r,l,u,d,e[10],0,14),l=n(l,10),d=o(d,i,r,l,u,e[11],0,15),r=n(r,10),u=o(u,d,i,r,l,e[12],0,6),i=n(i,10),l=o(l,u,d,i,r,e[13],0,7),d=n(d,10),r=o(r,l,u,d,i,e[14],0,9),u=n(u,10),i=o(i,r,l,u,d,e[15],0,8),l=n(l,10),d=a(d,i,r,l,u,e[7],1518500249,7),r=n(r,10),u=a(u,d,i,r,l,e[4],1518500249,6),i=n(i,10),l=a(l,u,d,i,r,e[13],1518500249,8),d=n(d,10),r=a(r,l,u,d,i,e[1],1518500249,13),u=n(u,10),i=a(i,r,l,u,d,e[10],1518500249,11),l=n(l,10),d=a(d,i,r,l,u,e[6],1518500249,9),r=n(r,10),u=a(u,d,i,r,l,e[15],1518500249,7),i=n(i,10),l=a(l,u,d,i,r,e[3],1518500249,15),d=n(d,10),r=a(r,l,u,d,i,e[12],1518500249,7),u=n(u,10),i=a(i,r,l,u,d,e[0],1518500249,12),l=n(l,10),d=a(d,i,r,l,u,e[9],1518500249,15),r=n(r,10),u=a(u,d,i,r,l,e[5],1518500249,9),i=n(i,10),l=a(l,u,d,i,r,e[2],1518500249,11),d=n(d,10),r=a(r,l,u,d,i,e[14],1518500249,7),u=n(u,10),i=a(i,r,l,u,d,e[11],1518500249,13),l=n(l,10),d=a(d,i,r,l,u,e[8],1518500249,12),r=n(r,10),u=s(u,d,i,r,l,e[3],1859775393,11),i=n(i,10),l=s(l,u,d,i,r,e[10],1859775393,13),d=n(d,10),r=s(r,l,u,d,i,e[14],1859775393,6),u=n(u,10),i=s(i,r,l,u,d,e[4],1859775393,7),l=n(l,10),d=s(d,i,r,l,u,e[9],1859775393,14),r=n(r,10),u=s(u,d,i,r,l,e[15],1859775393,9),i=n(i,10),l=s(l,u,d,i,r,e[8],1859775393,13),d=n(d,10),r=s(r,l,u,d,i,e[1],1859775393,15),u=n(u,10),i=s(i,r,l,u,d,e[2],1859775393,14),l=n(l,10),d=s(d,i,r,l,u,e[7],1859775393,8),r=n(r,10),u=s(u,d,i,r,l,e[0],1859775393,13),i=n(i,10),l=s(l,u,d,i,r,e[6],1859775393,6),d=n(d,10),r=s(r,l,u,d,i,e[13],1859775393,5),u=n(u,10),i=s(i,r,l,u,d,e[11],1859775393,12),l=n(l,10),d=s(d,i,r,l,u,e[5],1859775393,7),r=n(r,10),u=s(u,d,i,r,l,e[12],1859775393,5),i=n(i,10),l=h(l,u,d,i,r,e[1],2400959708,11),d=n(d,10),r=h(r,l,u,d,i,e[9],2400959708,12),u=n(u,10),i=h(i,r,l,u,d,e[11],2400959708,14),l=n(l,10),d=h(d,i,r,l,u,e[10],2400959708,15),r=n(r,10),u=h(u,d,i,r,l,e[0],2400959708,14),i=n(i,10),l=h(l,u,d,i,r,e[8],2400959708,15),d=n(d,10),r=h(r,l,u,d,i,e[12],2400959708,9),u=n(u,10),i=h(i,r,l,u,d,e[4],2400959708,8),l=n(l,10),d=h(d,i,r,l,u,e[13],2400959708,9),r=n(r,10),u=h(u,d,i,r,l,e[3],2400959708,14),i=n(i,10),l=h(l,u,d,i,r,e[7],2400959708,5),d=n(d,10),r=h(r,l,u,d,i,e[15],2400959708,6),u=n(u,10),i=h(i,r,l,u,d,e[14],2400959708,8),l=n(l,10),d=h(d,i,r,l,u,e[5],2400959708,6),r=n(r,10),u=h(u,d,i,r,l,e[6],2400959708,5),i=n(i,10),l=h(l,u,d,i,r,e[2],2400959708,12),d=n(d,10),r=c(r,l,u,d,i,e[4],2840853838,9),u=n(u,10),i=c(i,r,l,u,d,e[0],2840853838,15),l=n(l,10),d=c(d,i,r,l,u,e[5],2840853838,5),r=n(r,10),u=c(u,d,i,r,l,e[9],2840853838,11),i=n(i,10),l=c(l,u,d,i,r,e[7],2840853838,6),d=n(d,10),r=c(r,l,u,d,i,e[12],2840853838,8),u=n(u,10),i=c(i,r,l,u,d,e[2],2840853838,13),l=n(l,10),d=c(d,i,r,l,u,e[10],2840853838,12),r=n(r,10),u=c(u,d,i,r,l,e[14],2840853838,5),i=n(i,10),l=c(l,u,d,i,r,e[1],2840853838,12),d=n(d,10),r=c(r,l,u,d,i,e[3],2840853838,13),u=n(u,10),i=c(i,r,l,u,d,e[8],2840853838,14),l=n(l,10),d=c(d,i,r,l,u,e[11],2840853838,11),r=n(r,10),u=c(u,d,i,r,l,e[6],2840853838,8),i=n(i,10),l=c(l,u,d,i,r,e[15],2840853838,5),d=n(d,10),r=c(r,l,u,d,i,e[13],2840853838,6),u=n(u,10);var f=this._a,p=this._b,m=this._c,v=this._d,y=this._e;f=c(f,p,m,v,y,e[5],1352829926,8),m=n(m,10),y=c(y,f,p,m,v,e[14],1352829926,9),p=n(p,10),v=c(v,y,f,p,m,e[7],1352829926,9),f=n(f,10),m=c(m,v,y,f,p,e[0],1352829926,11),y=n(y,10),p=c(p,m,v,y,f,e[9],1352829926,13),v=n(v,10),f=c(f,p,m,v,y,e[2],1352829926,15),m=n(m,10),y=c(y,f,p,m,v,e[11],1352829926,15),p=n(p,10),v=c(v,y,f,p,m,e[4],1352829926,5),f=n(f,10),m=c(m,v,y,f,p,e[13],1352829926,7),y=n(y,10),p=c(p,m,v,y,f,e[6],1352829926,7),v=n(v,10),f=c(f,p,m,v,y,e[15],1352829926,8),m=n(m,10),y=c(y,f,p,m,v,e[8],1352829926,11),p=n(p,10),v=c(v,y,f,p,m,e[1],1352829926,14),f=n(f,10),m=c(m,v,y,f,p,e[10],1352829926,14),y=n(y,10),p=c(p,m,v,y,f,e[3],1352829926,12),v=n(v,10),f=c(f,p,m,v,y,e[12],1352829926,6),m=n(m,10),y=h(y,f,p,m,v,e[6],1548603684,9),p=n(p,10),v=h(v,y,f,p,m,e[11],1548603684,13),f=n(f,10),m=h(m,v,y,f,p,e[3],1548603684,15),y=n(y,10),p=h(p,m,v,y,f,e[7],1548603684,7),v=n(v,10),f=h(f,p,m,v,y,e[0],1548603684,12),m=n(m,10),y=h(y,f,p,m,v,e[13],1548603684,8),p=n(p,10),v=h(v,y,f,p,m,e[5],1548603684,9),f=n(f,10),m=h(m,v,y,f,p,e[10],1548603684,11),y=n(y,10),p=h(p,m,v,y,f,e[14],1548603684,7),v=n(v,10),f=h(f,p,m,v,y,e[15],1548603684,7),m=n(m,10),y=h(y,f,p,m,v,e[8],1548603684,12),p=n(p,10),v=h(v,y,f,p,m,e[12],1548603684,7),f=n(f,10),m=h(m,v,y,f,p,e[4],1548603684,6),y=n(y,10),p=h(p,m,v,y,f,e[9],1548603684,15),v=n(v,10),f=h(f,p,m,v,y,e[1],1548603684,13),m=n(m,10),y=h(y,f,p,m,v,e[2],1548603684,11),p=n(p,10),v=s(v,y,f,p,m,e[15],1836072691,9),f=n(f,10),m=s(m,v,y,f,p,e[5],1836072691,7),y=n(y,10),p=s(p,m,v,y,f,e[1],1836072691,15),v=n(v,10),f=s(f,p,m,v,y,e[3],1836072691,11),m=n(m,10),y=s(y,f,p,m,v,e[7],1836072691,8),p=n(p,10),v=s(v,y,f,p,m,e[14],1836072691,6),f=n(f,10),m=s(m,v,y,f,p,e[6],1836072691,6),y=n(y,10),p=s(p,m,v,y,f,e[9],1836072691,14),v=n(v,10),f=s(f,p,m,v,y,e[11],1836072691,12),m=n(m,10),y=s(y,f,p,m,v,e[8],1836072691,13),p=n(p,10),v=s(v,y,f,p,m,e[12],1836072691,5),f=n(f,10),m=s(m,v,y,f,p,e[2],1836072691,14),y=n(y,10),p=s(p,m,v,y,f,e[10],1836072691,13),v=n(v,10),f=s(f,p,m,v,y,e[0],1836072691,13),m=n(m,10),y=s(y,f,p,m,v,e[4],1836072691,7),p=n(p,10),v=s(v,y,f,p,m,e[13],1836072691,5),f=n(f,10),m=a(m,v,y,f,p,e[8],2053994217,15),y=n(y,10),p=a(p,m,v,y,f,e[6],2053994217,5),v=n(v,10),f=a(f,p,m,v,y,e[4],2053994217,8),m=n(m,10),y=a(y,f,p,m,v,e[1],2053994217,11),p=n(p,10),v=a(v,y,f,p,m,e[3],2053994217,14),f=n(f,10),m=a(m,v,y,f,p,e[11],2053994217,14),y=n(y,10),p=a(p,m,v,y,f,e[15],2053994217,6),v=n(v,10),f=a(f,p,m,v,y,e[0],2053994217,14),m=n(m,10),y=a(y,f,p,m,v,e[5],2053994217,6),p=n(p,10),v=a(v,y,f,p,m,e[12],2053994217,9),f=n(f,10),m=a(m,v,y,f,p,e[2],2053994217,12),y=n(y,10),p=a(p,m,v,y,f,e[13],2053994217,9),v=n(v,10),f=a(f,p,m,v,y,e[9],2053994217,12),m=n(m,10),y=a(y,f,p,m,v,e[7],2053994217,5),p=n(p,10),v=a(v,y,f,p,m,e[10],2053994217,15),f=n(f,10),m=a(m,v,y,f,p,e[14],2053994217,8),y=n(y,10),p=o(p,m,v,y,f,e[12],0,8),v=n(v,10),f=o(f,p,m,v,y,e[15],0,5),m=n(m,10),y=o(y,f,p,m,v,e[10],0,12),p=n(p,10),v=o(v,y,f,p,m,e[4],0,9),f=n(f,10),m=o(m,v,y,f,p,e[1],0,12),y=n(y,10),p=o(p,m,v,y,f,e[5],0,5),v=n(v,10),f=o(f,p,m,v,y,e[8],0,14),m=n(m,10),y=o(y,f,p,m,v,e[7],0,6),p=n(p,10),v=o(v,y,f,p,m,e[6],0,8),f=n(f,10),m=o(m,v,y,f,p,e[2],0,13),y=n(y,10),p=o(p,m,v,y,f,e[13],0,6),v=n(v,10),f=o(f,p,m,v,y,e[14],0,5),m=n(m,10),y=o(y,f,p,m,v,e[0],0,15),p=n(p,10),v=o(v,y,f,p,m,e[3],0,13),f=n(f,10),m=o(m,v,y,f,p,e[9],0,11),y=n(y,10),p=o(p,m,v,y,f,e[11],0,11),v=n(v,10);var g=this._b+l+v|0;this._b=this._c+u+y|0,this._c=this._d+d+f|0,this._d=this._e+i+p|0,this._e=this._a+r+m|0,this._a=g},r.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=new t(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=r}).call(t,i(3).Buffer)},function(e,t){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function n(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if(!n(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,i,n,s,h,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(i=this._events[e],a(i))return!1;if(r(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),i.apply(this,s)}else if(o(i))for(s=Array.prototype.slice.call(arguments,1),c=i.slice(),n=c.length,h=0;h<n;h++)c[h].apply(this,s);return!0},i.prototype.addListener=function(e,t){var n;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(n=a(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var n=!1;return i.listener=t,this.on(e,i),this},i.prototype.removeListener=function(e,t){var i,n,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=this._events[e],a=i.length,n=-1,i===t||r(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(i)){for(s=a;s-- >0;)if(i[s]===t||i[s].listener&&i[s].listener===t){n=s;break}if(n<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[e],r(i))this.removeListener(e,i);else if(i)for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},i.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},i.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,i){"use strict";(function(t,r,n){function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){C(t,e)}}function a(e){return F.from(e)}function s(e){return F.isBuffer(e)||e instanceof O}function h(){}function c(e,t){D=D||i(10),e=e||{},this.objectMode=!!e.objectMode,t instanceof D&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){g(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function l(e){if(D=D||i(10),!(B.call(l,this)||this instanceof D))return new l(e);this._writableState=new c(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),R.call(this)}function u(e,t){var i=new Error("write after end");e.emit("error",i),A(t,i)}function d(e,t,i,r){var n=!0,o=!1;return null===i?o=new TypeError("May not write null values to stream"):"string"==typeof i||void 0===i||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),A(r,o),n=!1),n}function f(e,t,i){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=F.from(t,i)),t}function p(e,t,i,r,n,o){if(!i){var a=f(t,r,n);r!==a&&(i=!0,n="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var h=t.length<t.highWaterMark;if(h||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:n,isBuf:i,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,s,r,n,o);return h}function m(e,t,i,r,n,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,i?e._writev(n,t.onwrite):e._write(n,o,t.onwrite),t.sync=!1}function v(e,t,i,r,n){--t.pendingcb,i?(A(n,r),A(S,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(n(r),e._writableState.errorEmitted=!0,e.emit("error",r),S(e,t))}function y(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function g(e,t){var i=e._writableState,r=i.sync,n=i.writecb;if(y(i),t)v(e,i,r,t,n);else{var o=_(i);o||i.corked||i.bufferProcessing||!i.bufferedRequest||w(e,i),r?k(b,e,i,o,n):b(e,i,o,n)}}function b(e,t,i,r){i||x(e,t),t.pendingcb--,r(),S(e,t)}function x(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function w(e,t){t.bufferProcessing=!0;var i=t.bufferedRequest;if(e._writev&&i&&i.next){var r=t.bufferedRequestCount,n=new Array(r),a=t.corkedRequestsFree;a.entry=i;for(var s=0,h=!0;i;)n[s]=i,i.isBuf||(h=!1),i=i.next,s+=1;n.allBuffers=h,m(e,t,!0,t.length,n,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t)}else{for(;i;){var c=i.chunk,l=i.encoding,u=i.callback;if(m(e,t,!1,t.objectMode?1:c.length,c,l,u),i=i.next,t.writing)break}null===i&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=i,t.bufferProcessing=!1}function _(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function T(e,t){e._final(function(i){t.pendingcb--,i&&e.emit("error",i),t.prefinished=!0,e.emit("prefinish"),S(e,t)})}function E(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,A(T,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function S(e,t){var i=_(t);return i&&(E(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),i}function M(e,t,i){t.ending=!0,S(e,t),i&&(t.finished?A(i):e.once("finish",i)),t.ended=!0,e.writable=!1}function C(e,t,i){var r=e.entry;for(e.entry=null;r;){var n=r.callback;t.pendingcb--,n(i),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}var A=i(21);e.exports=l;var D,k=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:A;l.WritableState=c;var I=i(14);I.inherits=i(0);var P={deprecate:i(91)},R=i(45),F=i(2).Buffer,O=n.Uint8Array||function(){},L=i(46);I.inherits(l,R),c.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(c.prototype,"buffer",{get:P.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}();var B;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(B=Function.prototype[Symbol.hasInstance],Object.defineProperty(l,Symbol.hasInstance,{value:function(e){return!!B.call(this,e)||e&&e._writableState instanceof c}})):B=function(e){return e instanceof this},l.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},l.prototype.write=function(e,t,i){var r=this._writableState,n=!1,o=s(e)&&!r.objectMode;return o&&!F.isBuffer(e)&&(e=a(e)),"function"==typeof t&&(i=t,t=null),o?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof i&&(i=h),r.ended?u(this,i):(o||d(this,r,e,i))&&(r.pendingcb++,n=p(this,r,o,e,t,i)),n},l.prototype.cork=function(){this._writableState.corked++},l.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},l.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},l.prototype._write=function(e,t,i){i(new Error("_write() is not implemented"))},l.prototype._writev=null,l.prototype.end=function(e,t,i){var r=this._writableState;"function"==typeof e?(i=e,e=null,t=null):"function"==typeof t&&(i=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||M(this,r,i)},Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),l.prototype.destroy=L.destroy,l.prototype._undestroy=L.undestroy,l.prototype._destroy=function(e,t){this.end(),t(e)}}).call(t,i(8),i(40).setImmediate,i(1))},function(e,t,i){"use strict";function r(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function n(e){var t=r(e);if("string"!=typeof t&&(g.isEncoding===b||!b(e)))throw new Error("Unknown encoding: "+e);return t||e}function o(e){this.encoding=n(e);var t;switch(this.encoding){case"utf16le":this.text=d,this.end=f,t=4;break;case"utf8":this.fillLast=c,t=4;break;case"base64":this.text=p,this.end=m,t=3;break;default:return this.write=v,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=g.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:-1}function s(e,t,i){var r=t.length-1;if(r<i)return 0;var n=a(t[r]);return n>=0?(n>0&&(e.lastNeed=n-1),n):--r<i?0:(n=a(t[r]))>=0?(n>0&&(e.lastNeed=n-2),n):--r<i?0:(n=a(t[r]),n>=0?(n>0&&(2===n?n=0:e.lastNeed=n-3),n):0)}function h(e,t,i){if(128!=(192&t[0]))return e.lastNeed=0,"".repeat(i);if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"".repeat(i+1);if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"".repeat(i+2)}}function c(e){var t=this.lastTotal-this.lastNeed,i=h(this,e,t);return void 0!==i?i:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){var i=s(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=i;var r=e.length-(i-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)}function u(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"".repeat(this.lastTotal-this.lastNeed):t}function d(e,t){if((e.length-t)%2==0){var i=e.toString("utf16le",t);if(i){var r=i.charCodeAt(i.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function f(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,i)}return t}function p(e,t){var i=(e.length-t)%3;return 0===i?e.toString("base64",t):(this.lastNeed=3-i,this.lastTotal=3,1===i?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-i))}function m(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function v(e){return e.toString(this.encoding)}function y(e){return e&&e.length?this.write(e):""}var g=i(2).Buffer,b=g.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,i;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<e.length?t?t+this.text(e,i):this.text(e,i):t||""},o.prototype.end=u,o.prototype.text=l,o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,i){var t=e.exports=function(e){e=e.toLowerCase();var i=t[e];if(!i)throw new Error(e+" is not supported (we accept pull requests)");return new i};t.sha=i(97),t.sha1=i(98),t.sha224=i(99),t.sha256=i(48),t.sha384=i(100),t.sha512=i(49)},function(e,t,i){function r(){return Object.keys(a)}var n=i(107),o=i(115),a=i(58);t.createCipher=t.Cipher=n.createCipher,t.createCipheriv=t.Cipheriv=n.createCipheriv,t.createDecipher=t.Decipher=o.createDecipher,t.createDecipheriv=t.Decipheriv=o.createDecipheriv,t.listCiphers=t.getCiphers=r},function(e,t,i){var r={ECB:i(108),CBC:i(109),CFB:i(110),CFB8:i(111),CFB1:i(112),OFB:i(113),CTR:i(56),GCM:i(56)},n=i(58);for(var o in n)n[o].module=r[n[o].mode];e.exports=n},function(e,t,i){"use strict";t.utils=i(117),t.Cipher=i(118),t.DES=i(119),t.CBC=i(120),t.EDE=i(121)},function(e,t,i){(function(t){function r(e){var t=o(e);return{blinder:t.toRed(a.mont(e.modulus)).redPow(new a(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}function n(e,i){var n=r(i),o=i.modulus.byteLength(),s=(a.mont(i.modulus),new a(e).mul(n.blinder).umod(i.modulus)),h=s.toRed(a.mont(i.prime1)),c=s.toRed(a.mont(i.prime2)),l=i.coefficient,u=i.prime1,d=i.prime2,f=h.redPow(i.exponent1),p=c.redPow(i.exponent2);f=f.fromRed(),p=p.fromRed();var m=f.isub(p).imul(l).umod(u);return m.imul(d),p.iadd(m),new t(p.imul(n.unblinder).umod(i.modulus).toArray(!1,o))}function o(e){for(var t=e.modulus.byteLength(),i=new a(s(t));i.cmp(e.modulus)>=0||!i.umod(e.prime1)||!i.umod(e.prime2);)i=new a(s(t));return i}var a=i(4),s=i(11);e.exports=n,n.getr=o}).call(t,i(3).Buffer)},function(e,t,i){var r=t;r.utils=i(7),r.common=i(16),r.sha=i(137),r.ripemd=i(141),r.hmac=i(142),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},function(e,t,i){"use strict";var r=i(41),n=(i(219),i(220)),o=i(176),a=i(177);window.$=i(84),window.jQuery=window.$;var s=i(221),h=i(226),c=i(230),l=i(235),u=i(237).default,d=i(240);void 0===String.prototype.endsWith&&(String.prototype.endsWith=function(e){var t=this.indexOf(e);return this.length===t+e.length});var f=function(){};f.event={STEP_COMPLETE:"stepComlete"},f.prototype.confData=null,f.prototype.menu=new o,f.STACK_WIDTH=1245,f.prototype.init=function(e,t,i){function n(){$("#loading-bar-spinner").css({left:$(window).width()-$(this).width()/2,top:$(window).height()-$(this).height()/2}),$("#loading-bg").css({width:$(window).width(),height:$(window).height()})}function o(){PIXI.loader.add(r.config.URI_PREFIX+"assets/skin.json").load(function(){instance._init(r.config.MODEL_URI_PREFIX+e,r.config.MODEL_URI_PREFIX+t)})}f.W=r.canvasWidth,f.H=r.canvasHeight,this.options=Object.assign({useResize:!0},i),n(),$(window).resize(n),void 0!=e&&void 0!=t&&(window.instance=this,this.renderer=PIXI.autoDetectRenderer(f.W,f.H,{transparent:!0,resolution:1},!1),document.body.appendChild(this.renderer.view),$.getJSON(window.baseURL+"assets/config.json",function(e){var t=e.config;for(var i in t)r.config[i]=t[i];o()}).fail(function(){o()}),instance.touchScreen=!1,document.addEventListener("touchstart",function(e){instance.touchScreen=!0}),l.loadConfig(l.TYPE.SCI).then(function(e){d.isFreeCourseInJKVersion(window.location.href)||/(^http:\/\/127\.0\.0\.1)|localhost/.test(window.location.href)||e.autoAuth()}))},f.prototype.showNoBookInfo=function(){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c NOBOOK Html5 Engine. version:0.5.0 %c  %c  http://www.nobook.com.cn/  %c %c \n\n","background: #17797F; padding:5px 0;","background: #17797F; padding:5px 0;","color: #FFFFFF; background: #F55722; padding:5px 0;","background: #17797F; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #17797F; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("NOBOOK Html5 Engine. version:0.5.0 - http://www.nobook.com.cn/")},f.prototype.setLoading=function(e,t){void 0===this.loading&&(this.loading=new n),e?this.loading.show():this.loading.hide(),this.loading.progress(t||0)},f.prototype.updateBackground=function(){0===$("#bgDiv").length&&($("body").append($('<div id="bgDiv"/>')),$("#bgDiv").css({width:"100%",height:"100%",position:"absolute",zIndex:"-1","background-color":"#222"}))},f.prototype.onResize=function(){if(this.options.useResize){var e=this,t=$(window).width(),i=$(window).height();console.log(t,i),f.isIOS&&window.parent&&(t=$(window.parent).width(),i=$(window.parent).height());var n=t/i,o=r.canvasWidth/r.canvasHeight,a=instance.renderer.view;if(n>o?(a.width=r.canvasWidth*(n/o),a.height=r.canvasHeight):(a.width=r.canvasWidth,a.height=r.canvasHeight/(n/o)),instance.renderer.resize(a.width,a.height),a.style.width=t+"px",a.style.height=i+"px",a.style.position="absolute",e.updateBackground(),f.W=a.width,f.H=a.height,instance.W=a.width,instance.H=a.height,f.STACK_WIDTH=a.width-r.stackPosX,e.viewStack&&(e.viewStack.x=r.stackPosX+(a.width-r.canvasWidth)/2,e.viewStack.y=(a.height-r.canvasHeight)/2),e.has3DCanvas()){var s=e.get3DCanvas();s.width=a.width,s.height=a.height,s.style.widht=t+"px",s.style.height=i+"px"}}},f.prototype._init=function(e,t){document.oncontextmenu=document.body.oncontextmenu=function(){return!1},$("body").css({margin:0});var n={};if(n["overflow-x"]="hidden",n["overflow-y"]="hidden",$("body").css(n),window.addEventListener("resize",this.onResize.bind(this)),this.onResize(),setTimeout(this.onResize.bind(this),10),this.baseURI=e.substring(0,e.lastIndexOf("/")+1),this.stage=new PIXI.Container,this.viewStack=new PIXI.Container,this.viewStack.x=r.stackPosX,this.viewStack.on(f.event.STEP_COMPLETE,function(e){instance.menu.setMenuIndexStatus(e.frame,NbBiologyMenu.status.COMPLETE)}),!window.BABYLON){var o=s(),l=instance.info&&instance.info.CONCLUSION?instance.info.CONCLUSION:"";o.setText(l);var d=instance.info&&instance.info.CONCLUSIONAlign?instance.info.CONCLUSIONAlign:"";o.setTextAlign(d);var p=PIXI.Sprite.fromFrame("nb.resultBtn"),m=PIXI.Sprite.fromFrame("nb.resultBtn1"),v=new PIXI.extras.MovieClip([p,m]);this.viewStack.addChild(v),v.x=1070,v.y=640,this.resultBtn=v,v.addEventListener(TouchEvent.TAP,function(){v.gotoAndStop(1),$("#colPanel").css({zIndex:200,left:"50%",transform:"translate(-50%, -50%)"}),$(".model").css("zIndex",100),TweenMax.to($("#colPanel"),.5,{top:"60%",ease:Sine.easeInOut,onComplete:function(){TweenMax.to($("#colPanel"),.2,{top:"50%",ease:Sine.easeInOut})}}),$(".model").stop().animate({opacity:.7},500,function(){function e(){$(".model").off("click",e),v.gotoAndStop(0),TweenMax.to($("#colPanel"),.2,{top:"60%",ease:Sine.easeInOut,onComplete:function(){TweenMax.to($("#colPanel"),.5,{top:"-50%",ease:Sine.easeInOut})}}),$(".model").stop().animate({opacity:0},700,function(){$(".model").css("zIndex",-1)})}$(".model").off().on("click",e)})});var y=PIXI.Sprite.fromFrame("nb.resetBtn0"),g=PIXI.Sprite.fromFrame("nb.resetBtn1"),b=new PIXI.extras.MovieClip([y,g]);this.viewStack.addChild(b),this.resetBtn=b,b.y=750,b.x=870,b.visible=!1,b.addEventListener(TouchEvent.TAP,function(){b.gotoAndStop(1),TweenMax.to(b,.5,{y:750,onComplete:function(){instance.gotoStep("discuss"),instance.gotoStep("frame1"),b.gotoAndStop(0),$(".tip").stop().animate({top:-115},0)}})});var x=h();this.tip=x;(instance.info&&instance.info.ISOFFSET?instance.info.ISOFFSET:void 0)&&(this.resetBtn.x=this.resultBtn.x,this.resultBtn.x+=500)}var w=new c;instance.NBDownTip=w;var _=PIXI.Sprite.fromFrame("steps");this.stage.addChild(_),_.alpha=0,instance.NBStepsShow=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments[1],i=arguments[2];TweenMax.killTweensOf(_),e||TweenMax.to(_,.5,{alpha:0}),_.x=t,_.y=i;var r=t+30;TweenMax.to(_,.4,{x:r,yoyo:!0,repeat:-1}),e&&TweenMax.to(_,.5,{alpha:1})},instance.lateHide=function(){_.visible=!1},this.addInteractionDomObj($("#timeline")[0]),this.stage.addChild(this.viewStack),this.canvas=this.renderer.view,this.canvas.id="bioCanvas",this.interactiveManager=new a(this.canvas);var T=PIXI.Sprite.fromFrame("nb.backBtn");window._global_lg&&(T.visible=!1);var E=110;window.require&&(E=150),i(175).add(T,{top:E,left:100}),instance.backBtn=T,T.addEventListener(TouchEvent.TAP,function(){window.parent!=window&&void 0!==window.require?window.parent.dispatchEvent(new Event("showMenu")):window.history.length>1?window.history.back():window.location.href="http://www.nobook.com.cn"}),this.render(),instance.firstCircle=!0,PIXI.loader.add(e).load(function(){$.getJSON(t,function(e,t){function i(){if("success"==t&&1==instance.firstCircle){if(window._global_lg)if(""!=_global_lg.from){var e="url(./assets/"+_global_lg.from+".png)";$("#logo").css({"background-image":e})}else $("#logo").css({"background-image":"url(./assets/logo1.png)"});instance.isFirstStart=!1}else setTimeout(function(){i()},100)}"success"==t&&(instance.confData=e,instance.start(),instance.showNoBookInfo()),setTimeout(function(){i()},100)})}),SoundManager.loadCommonSounds(function(e){e.id,SoundManager.BG_SOUND}),this.renderer.view.addEventListener("click",function(e){}),u.apply()},f.prototype.get3DCanvas=function(){if(!this._3dCanvas){var e=document.createElement("canvas");e.style.touchAction="none",document.body.appendChild(e),this._3dCanvas=e,$(e).attr("oncontextmenu","return false"),this.onResize()}return this._3dCanvas},f.prototype.has3DCanvas=function(){return!!this._3dCanvas},f.prototype.resetBtnEnable=function(e){e&&(console.log("InitframeBEFUn"),instance.resetBtn.visible=!0,TweenMax.to(instance.resetBtn,.4,{y:640}))},f.prototype.changeBackground=function(e){var t=["libs/css/timeliner.css","libs/css/timeliner1.css","libs/css/timeliner2.css","libs/css/timeliner3.css","libs/css/timeliner1.css"];$("#theme")[0].href=t[e],this.updateBackground()},f.prototype.changeBackgroundToBig=function(e){this.updateBackground()},f.prototype.findDataByLabel=function(e){var t=this.menu.getConfig();if(void 0===e)return null;if(null==t)return null;for(var i=0;i<t.length;i++){var r=t[i];if(r.goto===e)return r}return null},f.prototype.setFullStageMode=function(e){e?(this.menu.visible=!1,this.viewStack.x=0):(this.menu.visible=!0,this.viewStack.x=r.stackPosX)},f.prototype.setRefLineVisible=function(e){this.refLine.visible=e},f.prototype.bindScriptToSprite=function(e,t){null==this.bindData&&(this.bindData={}),this.bindData[t]=e},f.prototype.autoBindScript=function(){for(var e=0;e<1e4;e++){var t="frame"+e;if(!this[t])break;this.bindScriptToSprite(this[t],t)}},f.prototype.start=function(){this.autoBindScript()},f.prototype.jumpTo=function(e){var t;t="string"==typeof e?{index:e}:e,instance.menu.selectMenuIndex(t)&&instance.gotoStep(t.index)},f.prototype.getCurrentFrame=function(){return this.viewStack.lastSprite},f.prototype.gotoStep=function(e){var t=this.viewStack.lastSprite;if(void 0!=t&&t==this.viewStack[e])return t;if(!0===r.config.resetStep&&void 0!=t){if(0===t.name.indexOf("frame")&&void 0===t.threeSystem){var i=t.name;t.emit("destory"),t.onDestory&&t.onDestory(),delete this.viewStack[i],console.log("destory",i)}0===t.name.indexOf("frame")&&$("#loading-bar-spinner")&&$("#loading-bar-spinner").remove()}if(t&&(t.visible=!1,t.threeSystem&&t.threeSystem.hide(),t.onPause&&t.onPause.apply(t),t.emit("onPause")),null==this.viewStack[e])for(var n=0;n<this.confData.length;n++){var o=this.confData[n];if(o.name==e&&(this.createChildFromData(this.viewStack,o),this.viewStack.lastSprite=this.viewStack[e],null!=this.bindData[e])){this.bindData[e].apply(this.viewStack.lastSprite);var t=this.viewStack.lastSprite;t.onStart&&t.onStart.apply(t),t.emit("onStart"),t.onResume&&t.onResume.apply(t),t.emit("onResume")}}else{var t=this.viewStack.lastSprite=this.viewStack[e];t.onResume&&t.onResume.apply(t),t.emit("onResume")}var a=this.viewStack[e];return a?(a.visible=!0,a.threeSystem&&a.threeSystem.show()):console.error(""+e+""),this.menu.currentFrame=a.name,a},f.prototype.bindSpriteToMenuIndex=function(e,t){this.menu.bindSpriteMap[t]=e},f.prototype.createChildFromData=function(e,t){var n={};return function(e,t){if("sprite"==t.type||"bitmap"==t.type){var o;if(void 0==t.libName)o=new PIXI.Container;else{var a=/\[output-jpg-(\d+)\]/i,s=t.libName,h=a.exec(s);if(null!=h){if(void 0===this.jpgLoaderMap&&(this.jpgLoaderMap={}),-1===this.baseURI.indexOf(r.config.URI_PREFIX))var c=r.config.URI_PREFIX+this.baseURI+s+".json";else var c=this.baseURI+s+".json";var l=i(242);if(o=new PIXI.Sprite,void 0===this.jpgLoaderMap[c]){var u=new l;o.addChild(u);var d=[];this.jpgLoaderMap[c]={queue:d};PIXI.loader.add(c).load(function(){u.destory(),o.texture=PIXI.Texture.fromFrame(s);for(var e=0;e<d.length;e++)d[e]()})}else try{o.texture=PIXI.Texture.fromFrame(s)}catch(e){var d=this.jpgLoaderMap[c].queue;d.push(function(){o.texture=PIXI.Texture.fromFrame(s)})}}else o=new PIXI.Sprite(PIXI.Texture.fromFrame(t.libName))}this.setDisplayInfo(e,o,t),this.setCommonData(o,t),e.addChildAt(o,0),e==this.viewStack?(o.frameRoot=o,o.onStepComplete=function(){if(void 0==this.isComplete)return void console.log("")},o.showTip=function(e){void 0==this.__tip__&&(this.__tip__=new NBTip,this.addChild(this.__tip__),this.__tip__.x=80,this.__tip__.y=160),this.__tip__.setText(e)},o.hideTip=function(){void 0!=this.__tip__&&this.__tip__.parent.removeChild(this.__tip__)}):o.frameRoot=e.frameRoot;for(var f=0;f<int.MAX_VALUE&&void 0!=t[f];f++)this.createChildFromData(o,t[f]);return o.emit("creationComplete"),o}if("movie"==t.type){for(var p=[],f=0;f<int.MAX_VALUE&&void 0!=t[f];f++)p.push(PIXI.Texture.fromFrame(t[f].libName));var m=new PIXI.extras.MovieClip(p);return this.setDisplayInfo(e,m,t),this.setCommonData(m,t),m.emit("creationComplete"),e.addChildAt(m,0),m}if("text"==t.type){var v=/\d*/gi,y=t.f,g=v.exec(t.f);y=y.replace(g,g);var v=/["|'](.*)["|']/g,b=v.exec(t.f);y=y.replace(b[0],"'Microsoft YaHei'");var v=new RegExp(/\${(.*)}/),h=v.exec(t.txt),x=t.txt;if(null!=h){for(var w=h[1],_=w.split("."),T=instance,f=0;f<_.length;f++)T=T[_[f]];x=T}var E,S,M,C=t.w,A=t.h,D=Math.cos,k=Math.sin,I={x:t.x,y:t.y},P=t.r;console.log(P),E=P>0&&P<Math.PI/2?P:P>Math.PI/2?Math.PI-P:P<-Math.PI/2?Math.PI-Math.abs(P):Math.abs(P);var R=D(E)*D(E)-k(E)*k(E),F=(C*D(E)-A*k(E))/R,O=(-C*k(E)+A*D(E))/R;P==Math.PI/2&&(P+=.001),P>=0&&P<Math.PI/2?(S=I.x+O*k(E),M=I.y):P>Math.PI/2?(S=I.x+C,M=I.y+O*D(E)):P<-Math.PI/2?(S=I.x+F*D(E),M=I.y+A):(S=I.x,M=I.y+F*k(E));var L=new PIXI.Text(x,{font:y,wordWrap:!0,fill:t.c,wordWrapWidth:F,align:t.a});return this.setDisplayInfo(e,L,t),L.x=S,L.y=M,L.rotation=t.r,e.addChildAt(L,0),L}if("button"==t.type){var p=[],B=PIXI.Texture.fromFrame(t[0].libName),N=PIXI.Texture.fromFrame(t[1].libName),m=new NBButton(B,N);return this.setDisplayInfo(e,m,t),this.setCommonData(m,t),e.addChildAt(m,0),m}if("nbMovie"==t.type){var U=new PIXI.Container;e.addChildAt(U,0),r.MovieClip.apply(U);for(var f=0;f<int.MAX_VALUE;f++){var H=t[f];if(void 0===H)break;for(var j=0;j<int.MAX_VALUE;j++){var z=H[j];if(void 0===z)break;var G=n[z.elementID]||this.createChildFromData(U,z);void 0!=z.elementID&&void 0===n[z.elementID]?n[z.elementID]=G:console.log("copy......"),U.insertDisplayObjectToFrame(G,f,z.tweenTransform)}}return this.setDisplayInfo(e,U,t),this.setCommonData(U,t),U.gotoAndStop(0),U.emit("creationComplete"),U}if("shape"==t.type){var V=new PIXI.Graphics;return e.addChildAt(V,0),r.GraphicsUtils.draw(V,t.path.concat()),V}}.call(this,e,t)},f.prototype.setDisplayInfo=function(e,t,i){null!=i.name&&(e[i.name]=t,t.name=i.name),e==this.viewStack?t.frameRoot=t:(t.frameRoot=e.frameRoot,e===t.frameRoot?t.stepRoot=t:t.stepRoot=e.stepRoot)},f.prototype.setCommonData=function(e,t){if(e._nbData_=t,0!=t.r?e.setTransform(t.x,t.y,t.sx,t.sy,t.r):e.setTransform(t.x,t.y,t.sx,t.sy,0,t.skewX,t.skewY),e.alpha=isNaN(t.a)?1:t.a,void 0!==t.linkageClassName)if(-1!==t.linkageClassName.indexOf("bind:")){var i=t.linkageClassName.replace("bind:",""),r=this[i];r&&(this.bindScriptToSprite(r,e.name),console.log("bind object"+e.name+" to function "+i))}else for(var n=t.linkageClassName.split("|"),o=0;o<n.length;o++){for(var a=n[o].split("."),s=window,h=0;h<a.length;h++){if(h==a.length-1){var c=a[h],l=c.indexOf("(");if(-1!=l){var u=c.substring(l+1,c.length-1);u="["+u.replace(/'/gi,'"')+"]",c=c.substring(0,l),s=s[c]}else s=s[a[h]]}else s=s[a[h]];if(void 0===s)break;if(h===a.length-1){var r=function(t,i,r){return function(){if(u){try{var n=JSON.parse(r)}catch(e){console.log("json")}t.apply(e,n)}else t.apply(e);e.linkageClassName=i,console.log(i)}};e.once("creationComplete",r(s,n[o],u))}}if(h!==a.length)try{var d=JSON.parse(t.linkageClassName);for(var f in d)void 0!=e[f]&&console.warn(""+f+"!"),e[f]=d[f]}catch(e){console.log("warning:",t.linkageClassName+"js.")}}void 0!==t.b2Data&&(e.b2Data=t.b2Data),void 0!==t.threeData&&(e.threeData=t.threeData)},f.prototype.alert=function(e,t){function i(){TweenMax.killTweensOf(instance.alertGraphics),TweenMax.to(instance.alertGraphics,.6,{alpha:0,onComplete:function(){instance.alertGraphics.visible=!1}}),this.removeEventListener("touchstart",arguments.callee),this.removeEventListener("mousedown",arguments.callee)}if(void 0!==e&&(this.__lastInfo!=e||!this.alertGraphics||1!=this.alertGraphics.visible)){if(this.__lastInfo=e,instance.alertGraphics&&1==instance.alertGraphics.visible&&(instance.alertGraphics.visible=!1,TweenMax.killTweensOf(instance.alertGraphics)),void 0==t&&(t="warning"),null==this.alertGrapihcs){this.alertGraphics=new PIXI.Graphics,this.alertGraphics.beginFill(3237510),this.alertGraphics.lineStyle(20,8767212,1),this.alertGraphics.drawRoundedRect(0,0,950,260,50,50),this.alertGraphics.alpha=0;var r=new PIXI.Text("",{fill:"#FFFFFF",stroke:"#2A5873",strokeThickness:6,font:"normal 32px ",wordWrap:!0,wordWrapWidth:600});r.x=218,r.y=45,this.alertGraphics.addChild(r),this.alertGraphics.t=r,this.alertGraphics.icon=new PIXI.Sprite,this.alertGraphics.icon.x=50,this.alertGraphics.icon.y=60,this.alertGraphics.addChild(this.alertGraphics.icon)}switch(t){case"warning":SoundManager.play(SoundManager.WARNING),this.alertGraphics.icon.texture=PIXI.Texture.fromFrame("main.warning")}this.stage.addChild(this.alertGraphics),this.alertGraphics.visible=!0,this.alertGraphics.t.text=e,this.alertGraphics.t.y=(this.alertGraphics.height-this.alertGraphics.t.height>>1)-20,this.alertGraphics.x=f.W-this.alertGraphics.width>>1,this.alertGraphics.y=f.H-this.alertGraphics.height>>1,TweenMax.killTweensOf(this.alertGraphics),TweenMax.to(this.alertGraphics,.6,{alpha:1}),this.canvas.addEventListener("touchstart",i),this.canvas.addEventListener("mousedown",i)}},f.prototype.setRender=function(e){function t(){this._render_=e,this.stage.visible=e}TweenMax.killTweensOf(this.stage),e?(this.stage.visible=!0,TweenMax.to(this.stage,1,{alpha:1,onComplete:t.bind(this)})):TweenMax.to(this.stage,1,{alpha:0,onComplete:t.bind(this)})},f.prototype.render=function(){if(!instance._render_){instance.renderer.render(instance.stage);var e=instance.viewStack[instance.menu.getSelectMenuIndex()];void 0==instance.__time__&&(instance.__time__=Date.now());var t=Date.now(),i=t-instance.__time__;if(i>30&&(i=30),e&&(e.onUpdate&&e.onUpdate.apply(e,[i]),e.emit("update",{step:i}),e.getActiveStep)){var r=e.getActiveStep();r&&r.emit("update",{step:i})}instance.__time__=t,requestAnimationFrame(instance.render),instance.stats&&instance.stats.update()}},f.prototype.getNBLib=function(e){for(var t=String(Number(e)),i="",n=0;n<4-t.length;n++)i+="0";return e=i+t,r["biology"+e].prototypeDefine},f.prototype.load=function(){},f.prototype.addInteractionDomObj=function(e){if(e&&!0!==e.isAddedInteraction){e.isAddedInteraction=!0;for(var t=this,i=["mousedown","mousemove","mouseup","click","mouseover","mouseout","mouseupoutside","touchstart","touchend","touchmove","tap","touchendoutside"],r=0;r<i.length;r++){var n=i[r];e.addEventListener(n,function(e){var i=document.createEvent("Event");i.initEvent(e.type,!0,!0),i.view=e.view,i.detail=e.detail,i.screenX=e.screenX,i.screenY=e.screenY,i.clientX=e.clientX,i.clientY=e.clientY,i.ctrlKey=e.ctrlKey,i.altKey=e.altKey,i.shiftKey=e.shiftKey,i.metaKey=e.metaKey,i.button=e.button,i.relatedTarget=e.relatedTarget,i.isTrusted=!0,i.touches=e.touches,i.changedTouches=e.changedTouches,t.renderer.view.dispatchEvent(i)})}}},f.prototype.showStats=function(e){void 0===this.stats&&(this.stats=new Stats,this.stats.domElement.style.position="absolute",this.stats.domElement.style.top="0px",document.body.appendChild(this.stats.domElement)),this.stats.domElement.style.visibility=e?"visible":"hidden"},f.prototype.showToolTip=function(e,t,i){},f.prototype.changeFilters=function(e,t,i,r){var n=t>>16,o=t>>8&255,a=255&t,s=new PIXI.filters.ColorMatrixFilter;e.filters=[s],s.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];var h=new THREE.Vector3(1,1,1);TweenMax.to(h,i,{x:n/255,y:o/255,z:a/255,onUpdate:function(){s.matrix[0]=h.x,s.matrix[6]=h.y,s.matrix[12]=h.z},onComplete:function(){s.matrix[0]=h.x,s.matrix[6]=h.y,s.matrix[12]=h.z,r&&r()}})},f.prototype.addDiv=function(e,t,i,n){function o(){var t=$("canvas").get(0).width,i=$("canvas").get(0).height,o=$("canvas").get(0).style.width,a=$("canvas").get(0).style.height,s=parseInt(o)/parseInt(t),h=parseInt(a)/parseInt(i);$("#"+e).css({"background-color":"red",position:"absolute",width:n.width+"px",height:n.height+"px",top:-(1-h)*n.height/2+n.y*h+"px",left:-(1-s)*n.width/2+n.x*s+300*s+"px",transform:"matrix("+s+", 0, 0, "+h+","+(t-r.canvasWidth)/2*s+" ,"+(i-r.canvasHeight)/2*h+")"})}if(!$("#"+e).get(0)){var a=document.createElement("div");a.id=e,$("body").append(a),a.innerHTML=i,o(),window.addEventListener("resize",o)}},f.isPC=function(){return function(){for(var e=navigator.userAgent,t=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"),i=!0,r=0;r<t.length;r++)if(e.indexOf(t[r])>0){i=!1;break}return i}()}(),f.isIOS=function(){return function(){for(var e=navigator.userAgent,t=new Array("iPhone","iPad","iPod"),i=!1,r=0;r<t.length;r++)if(e.indexOf(t[r])>0){i=!0;break}return i}()}(),f.isAndroid=function(){return function(){for(var e=navigator.userAgent,t=new Array("Android"),i=!1,r=0;r<t.length;r++)if(e.indexOf(t[r])>0){i=!0;break}return i}()}(),f.browser=function(){var e=navigator.userAgent;return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&-1==e.indexOf("KHTML"),mobile:!!e.match(/AppleWebKit.*Mobile.*/),iOS:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1,webApp:-1==e.indexOf("Safari"),weChat:e.indexOf("MicroMessenger")>-1,UC:e.indexOf("UCBrowser")>-1}}(),f.MicApp=!1,e.exports=f},function(e,t,i){function r(e,t){this._id=e,this._clearFn=t}var n=Function.prototype.apply;t.setTimeout=function(){return new r(n.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(n.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},i(82),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,i){"use strict";var r=r||{};r.MAX_VALUE=2147483647,window.TouchEvent=window.TouchEvent||function(){},window.MouseEvent=window.MouseEvent||function(){},TouchEvent.TOUCH_BEGIN="touchstart",TouchEvent.TOUCH_MOVE="touchmove",TouchEvent.TOUCH_END="touchend",TouchEvent.TAP="tap",TouchEvent.TOUCH_END_OUDSIDE="touchendoutside",TouchEvent.simulateTouchDown=function(e,t){e.emit("touchstart",t),e.emit("mousedown",t),e._isLeftDown=!0},MouseEvent.TOUCH_BEGIN="mousedown",MouseEvent.TOUCH_MOVE="mousemove",MouseEvent.TOUCH_END="mouseup",MouseEvent.TAP="click",MouseEvent.TOUCH_END_OUDSIDE="mouseupoutside",MouseEvent.MOUSE_OVER="mouseover",MouseEvent.MOUSE_OUT="mouseout",window.nb=window.nb||{},nb.canvasWidth=1280,nb.canvasHeight=720,nb.stackPosX=0,nb.CAMERA_NEAR=.1,nb.THREE={},nb.config={defaultFrame:void 0,bgURL:"assets/bg_min.png",bgRepeat:"repeat-x",URI_PREFIX:"",MODEL_URI_PREFIX:"",corssOrigin:"anonymous",resetStep:!0},nb.PIXELS_PER_ML=100,nb.event=nb.event||{},nb.event.OBSERVE="observe",nb.event.CLICK_OUT_SIDE="nb.event.clickOutSide",window.int=r,e.exports=nb},function(e,t,i){"use strict";t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=i(11),t.createHash=t.Hash=i(13),t.createHmac=t.Hmac=i(50);var r=i(102),n=Object.keys(r),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(n);t.getHashes=function(){return o};var a=i(52);t.pbkdf2=a.pbkdf2,t.pbkdf2Sync=a.pbkdf2Sync;var s=i(104);t.Cipher=s.Cipher,t.createCipher=s.createCipher,t.Cipheriv=s.Cipheriv,t.createCipheriv=s.createCipheriv,t.Decipher=s.Decipher,t.createDecipher=s.createDecipher,t.Decipheriv=s.Decipheriv,t.createDecipheriv=s.createDecipheriv,t.getCiphers=s.getCiphers,t.listCiphers=s.listCiphers;var h=i(123);t.DiffieHellmanGroup=h.DiffieHellmanGroup,t.createDiffieHellmanGroup=h.createDiffieHellmanGroup,t.getDiffieHellman=h.getDiffieHellman,t.createDiffieHellman=h.createDiffieHellman,t.DiffieHellman=h.DiffieHellman;var c=i(128);t.createSign=c.createSign,t.Sign=c.Sign,t.createVerify=c.createVerify,t.Verify=c.Verify,t.createECDH=i(166);var l=i(167);t.publicEncrypt=l.publicEncrypt,t.privateEncrypt=l.privateEncrypt,t.publicDecrypt=l.publicDecrypt,t.privateDecrypt=l.privateDecrypt;var u=i(170);t.randomFill=u.randomFill,t.randomFillSync=u.randomFillSync,t.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},t.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},function(e,t){var i={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},function(e,t,i){"use strict";(function(t,r){function n(e){return B.from(e)}function o(e){return B.isBuffer(e)||e instanceof N}function a(e,t,i){if("function"==typeof e.prependListener)return e.prependListener(t,i);e._events&&e._events[t]?F(e._events[t])?e._events[t].unshift(i):e._events[t]=[i,e._events[t]]:e.on(t,i)}function s(e,t){R=R||i(10),e=e||{},this.objectMode=!!e.objectMode,t instanceof R&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new G,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(z||(z=i(32).StringDecoder),this.decoder=new z(e.encoding),this.encoding=e.encoding)}function h(e){if(R=R||i(10),!(this instanceof h))return new h(e);this._readableState=new s(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),L.call(this)}function c(e,t,i,r,o){var a=e._readableState;if(null===t)a.reading=!1,m(e,a);else{var s;o||(s=u(a,t)),s?e.emit("error",s):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===B.prototype||(t=n(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):l(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!i?(t=a.decoder.write(t),a.objectMode||0!==t.length?l(e,a,t,!1):g(e,a)):l(e,a,t,!1))):r||(a.reading=!1)}return d(a)}function l(e,t,i,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",i),e.read(0)):(t.length+=t.objectMode?1:i.length,r?t.buffer.unshift(i):t.buffer.push(i),t.needReadable&&v(e)),g(e,t)}function u(e,t){var i;return o(t)||"string"==typeof t||void 0===t||e.objectMode||(i=new TypeError("Invalid non-string/buffer chunk")),i}function d(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function f(e){return e>=Y?e=Y:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function p(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=f(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function m(e,t){if(!t.ended){if(t.decoder){var i=t.decoder.end();i&&i.length&&(t.buffer.push(i),t.length+=t.objectMode?1:i.length)}t.ended=!0,v(e)}}function v(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(j("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?P(y,e):y(e))}function y(e){j("emit readable"),e.emit("readable"),E(e)}function g(e,t){t.readingMore||(t.readingMore=!0,P(b,e,t))}function b(e,t){for(var i=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(j("maybeReadMore read 0"),e.read(0),i!==t.length);)i=t.length;t.readingMore=!1}function x(e){return function(){var t=e._readableState;j("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&O(e,"data")&&(t.flowing=!0,E(e))}}function w(e){j("readable nexttick read 0"),e.read(0)}function _(e,t){t.resumeScheduled||(t.resumeScheduled=!0,P(T,e,t))}function T(e,t){t.reading||(j("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),E(e),t.flowing&&!t.reading&&e.read(0)}function E(e){var t=e._readableState;for(j("flow",t.flowing);t.flowing&&null!==e.read(););}function S(e,t){if(0===t.length)return null;var i;return t.objectMode?i=t.buffer.shift():!e||e>=t.length?(i=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):i=M(e,t.buffer,t.decoder),i}function M(e,t,i){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():i?C(e,t):A(e,t),r}function C(e,t){var i=t.head,r=1,n=i.data;for(e-=n.length;i=i.next;){var o=i.data,a=e>o.length?o.length:e;if(a===o.length?n+=o:n+=o.slice(0,e),0===(e-=a)){a===o.length?(++r,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=o.slice(a));break}++r}return t.length-=r,n}function A(e,t){var i=B.allocUnsafe(e),r=t.head,n=1;for(r.data.copy(i),e-=r.data.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(i,i.length-e,0,a),0===(e-=a)){a===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++n}return t.length-=n,i}function D(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,P(k,t,e))}function k(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function I(e,t){for(var i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1}var P=i(21);e.exports=h;var R,F=i(43);h.ReadableState=s;var O=(i(30).EventEmitter,function(e,t){return e.listeners(t).length}),L=i(45),B=i(2).Buffer,N=t.Uint8Array||function(){},U=i(14);U.inherits=i(0);var H=i(89),j=void 0;j=H&&H.debuglog?H.debuglog("stream"):function(){};var z,G=i(90),V=i(46);U.inherits(h,L);var X=["error","close","destroy","pause","resume"];Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),h.prototype.destroy=V.destroy,h.prototype._undestroy=V.undestroy,h.prototype._destroy=function(e,t){this.push(null),t(e)},h.prototype.push=function(e,t){var i,r=this._readableState;return r.objectMode?i=!0:"string"==typeof e&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=B.from(e,t),t=""),i=!0),c(this,e,t,!1,i)},h.prototype.unshift=function(e){return c(this,e,null,!0,!1)},h.prototype.isPaused=function(){return!1===this._readableState.flowing},h.prototype.setEncoding=function(e){return z||(z=i(32).StringDecoder),this._readableState.decoder=new z(e),this._readableState.encoding=e,this};var Y=8388608;h.prototype.read=function(e){j("read",e),e=parseInt(e,10);var t=this._readableState,i=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return j("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?D(this):v(this),null;if(0===(e=p(e,t))&&t.ended)return 0===t.length&&D(this),null;var r=t.needReadable;j("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,j("length less than watermark",r)),t.ended||t.reading?(r=!1,j("reading or ended",r)):r&&(j("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=p(i,t)));var n;return n=e>0?S(e,t):null,null===n?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),i!==e&&t.ended&&D(this)),null!==n&&this.emit("data",n),n},h.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},h.prototype.pipe=function(e,t){function i(e,t){j("onunpipe"),e===d&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,o())}function n(){j("onend"),e.end()}function o(){j("cleanup"),e.removeListener("close",c),e.removeListener("finish",l),e.removeListener("drain",v),e.removeListener("error",h),e.removeListener("unpipe",i),d.removeListener("end",n),d.removeListener("end",u),d.removeListener("data",s),y=!0,!f.awaitDrain||e._writableState&&!e._writableState.needDrain||v()}function s(t){j("ondata"),g=!1,!1!==e.write(t)||g||((1===f.pipesCount&&f.pipes===e||f.pipesCount>1&&-1!==I(f.pipes,e))&&!y&&(j("false write response, pause",d._readableState.awaitDrain),d._readableState.awaitDrain++,g=!0),d.pause())}function h(t){j("onerror",t),u(),e.removeListener("error",h),0===O(e,"error")&&e.emit("error",t)}function c(){e.removeListener("finish",l),u()}function l(){j("onfinish"),e.removeListener("close",c),u()}function u(){j("unpipe"),d.unpipe(e)}var d=this,f=this._readableState;switch(f.pipesCount){case 0:f.pipes=e;break;case 1:f.pipes=[f.pipes,e];break;default:f.pipes.push(e)}f.pipesCount+=1,j("pipe count=%d opts=%j",f.pipesCount,t);var p=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr,m=p?n:u;f.endEmitted?P(m):d.once("end",m),e.on("unpipe",i);var v=x(d);e.on("drain",v);var y=!1,g=!1;return d.on("data",s),a(e,"error",h),e.once("close",c),e.once("finish",l),e.emit("pipe",d),f.flowing||(j("pipe resume"),d.resume()),e},h.prototype.unpipe=function(e){var t=this._readableState,i={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,i),this);if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<n;o++)r[o].emit("unpipe",this,i);return this}var a=I(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,i),this)},h.prototype.on=function(e,t){var i=L.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&v(this):P(w,this))}return i},h.prototype.addListener=h.prototype.on,h.prototype.resume=function(){var e=this._readableState;return e.flowing||(j("resume"),e.flowing=!0,_(this,e)),this},h.prototype.pause=function(){return j("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(j("pause"),this._readableState.flowing=!1,this.emit("pause")),this},h.prototype.wrap=function(e){var t=this._readableState,i=!1,r=this;e.on("end",function(){if(j("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(n){if(j("wrapped data"),t.decoder&&(n=t.decoder.write(n)),(!t.objectMode||null!==n&&void 0!==n)&&(t.objectMode||n&&n.length)){r.push(n)||(i=!0,e.pause())}});for(var n in e)void 0===this[n]&&"function"==typeof e[n]&&(this[n]=function(t){return function(){return e[t].apply(e,arguments)}}(n));for(var o=0;o<X.length;o++)e.on(X[o],r.emit.bind(r,X[o]));return r._read=function(t){j("wrapped _read",t),i&&(i=!1,e.resume())},r},h._fromList=S}).call(t,i(1),i(8))},function(e,t,i){e.exports=i(30).EventEmitter},function(e,t,i){"use strict";function r(e,t){var i=this,r=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;if(r||n)return void(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||a(o,this,e));this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(a(o,i,e),i._writableState&&(i._writableState.errorEmitted=!0)):t&&t(e)})}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(e,t){e.emit("error",t)}var a=i(21);e.exports={destroy:r,undestroy:n}},function(e,t,i){"use strict";function r(e){this.afterTransform=function(t,i){return n(e,t,i)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function n(e,t,i){var r=e._transformState;r.transforming=!1;var n=r.writecb;if(!n)return e.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!==i&&void 0!==i&&e.push(i),n(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);s.call(this,e),this._transformState=new r(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e,i){a(t,e,i)}):a(t)})}function a(e,t,i){if(t)return e.emit("error",t);null!==i&&void 0!==i&&e.push(i);var r=e._writableState,n=e._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(n.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}e.exports=o;var s=i(10),h=i(14);h.inherits=i(0),h.inherits(o,s),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,s.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,i){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,i){var r=this._transformState;if(r.writecb=i,r.writechunk=e,r.writeencoding=t,!r.transforming){var n=this._readableState;(r.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var i=this;s.prototype._destroy.call(this,e,function(e){t(e),i.emit("close")})}},function(e,t,i){function r(){this.init(),this._w=p,u.call(this,64,56)}function n(e,t,i){return i^e&(t^i)}function o(e,t,i){return e&t|i&(e|t)}function a(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function s(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function h(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function c(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}var l=i(0),u=i(12),d=i(2).Buffer,f=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],p=new Array(64);l(r,u),r.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},r.prototype._update=function(e){for(var t=this._w,i=0|this._a,r=0|this._b,l=0|this._c,u=0|this._d,d=0|this._e,p=0|this._f,m=0|this._g,v=0|this._h,y=0;y<16;++y)t[y]=e.readInt32BE(4*y);for(;y<64;++y)t[y]=c(t[y-2])+t[y-7]+h(t[y-15])+t[y-16]|0;for(var g=0;g<64;++g){var b=v+s(d)+n(d,p,m)+f[g]+t[g]|0,x=a(i)+o(i,r,l)|0;v=m,m=p,p=d,d=u+b|0,u=l,l=r,r=i,i=b+x|0}this._a=i+this._a|0,this._b=r+this._b|0,this._c=l+this._c|0,this._d=u+this._d|0,this._e=d+this._e|0,this._f=p+this._f|0,this._g=m+this._g|0,this._h=v+this._h|0},r.prototype._hash=function(){var e=d.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=r},function(e,t,i){function r(){this.init(),this._w=y,p.call(this,128,112)}function n(e,t,i){return i^e&(t^i)}function o(e,t,i){return e&t|i&(e|t)}function a(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function s(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function h(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function c(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function l(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function u(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function d(e,t){return e>>>0<t>>>0?1:0}var f=i(0),p=i(12),m=i(2).Buffer,v=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],y=new Array(160);f(r,p),r.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},r.prototype._update=function(e){for(var t=this._w,i=0|this._ah,r=0|this._bh,f=0|this._ch,p=0|this._dh,m=0|this._eh,y=0|this._fh,g=0|this._gh,b=0|this._hh,x=0|this._al,w=0|this._bl,_=0|this._cl,T=0|this._dl,E=0|this._el,S=0|this._fl,M=0|this._gl,C=0|this._hl,A=0;A<32;A+=2)t[A]=e.readInt32BE(4*A),t[A+1]=e.readInt32BE(4*A+4);for(;A<160;A+=2){var D=t[A-30],k=t[A-30+1],I=h(D,k),P=c(k,D);D=t[A-4],k=t[A-4+1];var R=l(D,k),F=u(k,D),O=t[A-14],L=t[A-14+1],B=t[A-32],N=t[A-32+1],U=P+L|0,H=I+O+d(U,P)|0;U=U+F|0,H=H+R+d(U,F)|0,U=U+N|0,H=H+B+d(U,N)|0,t[A]=H,t[A+1]=U}for(var j=0;j<160;j+=2){H=t[j],U=t[j+1];var z=o(i,r,f),G=o(x,w,_),V=a(i,x),X=a(x,i),Y=s(m,E),W=s(E,m),q=v[j],$=v[j+1],K=n(m,y,g),Z=n(E,S,M),J=C+W|0,Q=b+Y+d(J,C)|0;J=J+Z|0,Q=Q+K+d(J,Z)|0,J=J+$|0,Q=Q+q+d(J,$)|0,J=J+U|0,Q=Q+H+d(J,U)|0;var ee=X+G|0,te=V+z+d(ee,X)|0;b=g,C=M,g=y,M=S,y=m,S=E,E=T+J|0,m=p+Q+d(E,T)|0,p=f,T=_,f=r,_=w,r=i,w=x,x=J+ee|0,i=Q+te+d(x,J)|0}this._al=this._al+x|0,this._bl=this._bl+w|0,this._cl=this._cl+_|0,this._dl=this._dl+T|0,this._el=this._el+E|0,this._fl=this._fl+S|0,this._gl=this._gl+M|0,this._hl=this._hl+C|0,this._ah=this._ah+i+d(this._al,x)|0,this._bh=this._bh+r+d(this._bl,w)|0,this._ch=this._ch+f+d(this._cl,_)|0,this._dh=this._dh+p+d(this._dl,T)|0,this._eh=this._eh+m+d(this._el,E)|0,this._fh=this._fh+y+d(this._fl,S)|0,this._gh=this._gh+g+d(this._gl,M)|0,this._hh=this._hh+b+d(this._hl,C)|0},r.prototype._hash=function(){function e(e,i,r){t.writeInt32BE(e,r),t.writeInt32BE(i,r+4)}var t=m.allocUnsafe(64);return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},e.exports=r},function(e,t,i){"use strict";function r(e,t){a.call(this,"digest"),"string"==typeof t&&(t=s.from(t));var i="sha512"===e||"sha384"===e?128:64;if(this._alg=e,this._key=t,t.length>i){t=("rmd160"===e?new c:l(e)).update(t).digest()}else t.length<i&&(t=s.concat([t,u],i));for(var r=this._ipad=s.allocUnsafe(i),n=this._opad=s.allocUnsafe(i),o=0;o<i;o++)r[o]=54^t[o],n[o]=92^t[o];this._hash="rmd160"===e?new c:l(e),this._hash.update(r)}var n=i(0),o=i(101),a=i(9),s=i(2).Buffer,h=i(28),c=i(29),l=i(33),u=s.alloc(128);n(r,a),r.prototype._update=function(e){this._hash.update(e)},r.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new c:l(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return e=e.toLowerCase(),"rmd160"===e||"ripemd160"===e?new r("rmd160",t):"md5"===e?new o(h,t):new r(e,t)}},function(e,t){e.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},function(e,t,i){t.pbkdf2=i(103),t.pbkdf2Sync=i(55)},function(e,t){var i=Math.pow(2,30)-1;e.exports=function(e,t){if("number"!=typeof e)throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if("number"!=typeof t)throw new TypeError("Key length not a number");if(t<0||t>i||t!==t)throw new TypeError("Bad key length")}},function(e,t,i){(function(t){var i;if(t.browser)i="utf-8";else{i=parseInt(t.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary"}e.exports=i}).call(t,i(8))},function(e,t,i){function r(e,t,i){var r=n(e),o="sha512"===e||"sha384"===e?128:64;t.length>o?t=r(t):t.length<o&&(t=u.concat([t,d],o));for(var a=u.allocUnsafe(o+f[e]),s=u.allocUnsafe(o+f[e]),h=0;h<o;h++)a[h]=54^t[h],s[h]=92^t[h];var c=u.allocUnsafe(o+i+4);a.copy(c,0,0,o),this.ipad1=c,this.ipad2=a,this.opad=s,this.alg=e,this.blocksize=o,this.hash=r,this.size=f[e]}function n(e){function t(t){return h(e).update(t).digest()}return"rmd160"===e||"ripemd160"===e?s:"md5"===e?a:t}function o(e,t,i,n,o){u.isBuffer(e)||(e=u.from(e,l)),u.isBuffer(t)||(t=u.from(t,l)),c(i,n),o=o||"sha1";var a=new r(o,e,t.length),s=u.allocUnsafe(n),h=u.allocUnsafe(t.length+4);t.copy(h,0,0,t.length);for(var d=0,p=f[o],m=Math.ceil(n/p),v=1;v<=m;v++){h.writeUInt32BE(v,t.length);for(var y=a.run(h,a.ipad1),g=y,b=1;b<i;b++){g=a.run(g,a.ipad2);for(var x=0;x<p;x++)y[x]^=g[x]}y.copy(s,d),d+=p}return s}var a=i(28),s=i(29),h=i(33),c=i(53),l=i(54),u=i(2).Buffer,d=u.alloc(128),f={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};r.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=o},function(e,t,i){function r(e){var t=e._cipher.encryptBlockRaw(e._prev);return a(e._prev),t}var n=i(15),o=i(2).Buffer,a=i(57);t.encrypt=function(e,t){var i=Math.ceil(t.length/16),a=e._cache.length;e._cache=o.concat([e._cache,o.allocUnsafe(16*i)]);for(var s=0;s<i;s++){var h=r(e),c=a+16*s;e._cache.writeUInt32BE(h[0],c+0),e._cache.writeUInt32BE(h[1],c+4),e._cache.writeUInt32BE(h[2],c+8),e._cache.writeUInt32BE(h[3],c+12)}var l=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),n(t,l)}},function(e,t){function i(e){for(var t,i=e.length;i--;){if(255!==(t=e.readUInt8(i))){t++,e.writeUInt8(t,i);break}e.writeUInt8(0,i)}}e.exports=i},function(e,t){e.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},function(e,t,i){function r(e,t){var i=0;e.length!==t.length&&i++;for(var r=Math.min(e.length,t.length),n=0;n<r;++n)i+=e[n]^t[n];return i}function n(e,t,i){if(12===t.length)return e._finID=s.concat([t,s.from([0,0,0,1])]),s.concat([t,s.from([0,0,0,2])]);var r=new l(i),n=t.length,o=n%16;r.update(t),o&&(o=16-o,r.update(s.alloc(o,0))),r.update(s.alloc(8,0));var a=8*n,h=s.alloc(8);h.writeUIntBE(a,0,8),r.update(h),e._finID=r.state;var c=s.from(e._finID);return d(c),c}function o(e,t,i,r){h.call(this);var o=s.alloc(4,0);this._cipher=new a.AES(t);var c=this._cipher.encryptBlock(o);this._ghash=new l(c),i=n(this,i,c),this._prev=s.from(i),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=r,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}var a=i(23),s=i(2).Buffer,h=i(9),c=i(0),l=i(114),u=i(15),d=i(57);c(o,h),o.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=s.alloc(t,0),this._ghash.update(t))}this._called=!0;var i=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(i),this._len+=e.length,i},o.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&r(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},o.prototype.getAuthTag=function(){if(this._decrypt||!s.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},o.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},o.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},e.exports=o},function(e,t,i){function r(e,t,i,r){a.call(this),this._cipher=new n.AES(t),this._prev=o.from(i),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=r,this._mode=e}var n=i(23),o=i(2).Buffer,a=i(9);i(0)(r,a),r.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},r.prototype._final=function(){this._cipher.scrub()},e.exports=r},function(e,t,i){function r(){if(null!==b)return b;var e=[];e[0]=2;for(var t=1,i=3;i<1048576;i+=2){for(var r=Math.ceil(Math.sqrt(i)),n=0;n<t&&e[n]<=r&&i%e[n]!=0;n++);t!==n&&e[n]<=r||(e[t++]=i)}return b=e,e}function n(e){for(var t=r(),i=0;i<t.length;i++)if(0===e.modn(t[i]))return 0===e.cmpn(t[i]);return!0}function o(e){var t=h.mont(e);return 0===f.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function a(e,t){if(e<16)return new h(2===t||5===t?[140,123]:[140,39]);t=new h(t);for(var i,r;;){for(i=new h(s(Math.ceil(e/8)));i.bitLength()>e;)i.ishrn(1);if(i.isEven()&&i.iadd(d),i.testn(1)||i.iadd(f),t.cmp(f)){if(!t.cmp(p))for(;i.mod(m).cmp(v);)i.iadd(g)}else for(;i.mod(c).cmp(y);)i.iadd(g);if(r=i.shrn(1),n(r)&&n(i)&&o(r)&&o(i)&&u.test(r)&&u.test(i))return i}}var s=i(11);e.exports=a,a.simpleSieve=n,a.fermatTest=o;var h=i(4),c=new h(24),l=i(63),u=new l,d=new h(1),f=new h(2),p=new h(5),m=(new h(16),new h(8),new h(10)),v=new h(3),y=(new h(7),new h(11)),g=new h(4),b=(new h(12),null)},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,i){function r(e){this.rand=e||new o.Rand}var n=i(4),o=i(64);e.exports=r,r.create=function(e){return new r(e)},r.prototype._randbelow=function(e){var t=e.bitLength(),i=Math.ceil(t/8);do{var r=new n(this.rand.generate(i))}while(r.cmp(e)>=0);return r},r.prototype._randrange=function(e,t){var i=t.sub(e);return e.add(this._randbelow(i))},r.prototype.test=function(e,t,i){var r=e.bitLength(),o=n.mont(e),a=new n(1).toRed(o);t||(t=Math.max(1,r/48|0));for(var s=e.subn(1),h=0;!s.testn(h);h++);for(var c=e.shrn(h),l=s.toRed(o);t>0;t--){var u=this._randrange(new n(2),s);i&&i(u);var d=u.toRed(o).redPow(c);if(0!==d.cmp(a)&&0!==d.cmp(l)){for(var f=1;f<h;f++){if(d=d.redSqr(),0===d.cmp(a))return!1;if(0===d.cmp(l))break}if(f===h)return!1}}return!0},r.prototype.getDivisor=function(e,t){var i=e.bitLength(),r=n.mont(e),o=new n(1).toRed(r);t||(t=Math.max(1,i/48|0));for(var a=e.subn(1),s=0;!a.testn(s);s++);for(var h=e.shrn(s),c=a.toRed(r);t>0;t--){var l=this._randrange(new n(2),a),u=e.gcd(l);if(0!==u.cmpn(1))return u;var d=l.toRed(r).redPow(h);if(0!==d.cmp(o)&&0!==d.cmp(c)){for(var f=1;f<s;f++){if(d=d.redSqr(),0===d.cmp(o))return d.fromRed().subn(1).gcd(e);if(0===d.cmp(c))break}if(f===s)return d=d.redSqr(),d.fromRed().subn(1).gcd(e)}}return!1}},function(e,t,i){function r(e){this.rand=e}var n;if(e.exports=function(e){return n||(n=new r(null)),n.generate(e)},e.exports.Rand=r,r.prototype.generate=function(e){return this._rand(e)},r.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),i=0;i<t.length;i++)t[i]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?r.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?r.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(r.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=i(125);if("function"!=typeof o.randomBytes)throw new Error("Not supported");r.prototype._rand=function(e){return o.randomBytes(e)}}catch(e){}},function(e,t,i){"use strict";function r(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var i=[];if("string"!=typeof e){for(var r=0;r<e.length;r++)i[r]=0|e[r];return i}if("hex"===t){e=e.replace(/[^a-z0-9]+/gi,""),e.length%2!=0&&(e="0"+e);for(var r=0;r<e.length;r+=2)i.push(parseInt(e[r]+e[r+1],16))}else for(var r=0;r<e.length;r++){var n=e.charCodeAt(r),o=n>>8,a=255&n;o?i.push(o,a):i.push(a)}return i}function n(e){return 1===e.length?"0"+e:e}function o(e){for(var t="",i=0;i<e.length;i++)t+=n(e[i].toString(16));return t}var a=t;a.toArray=r,a.zero2=n,a.toHex=o,a.encode=function(e,t){return"hex"===t?o(e):e}},function(e,t,i){"use strict";function r(e,t,i,r){return 0===e?n(t,i,r):1===e||3===e?a(t,i,r):2===e?o(t,i,r):void 0}function n(e,t,i){return e&t^~e&i}function o(e,t,i){return e&t^e&i^t&i}function a(e,t,i){return e^t^i}function s(e){return d(e,2)^d(e,13)^d(e,22)}function h(e){return d(e,6)^d(e,11)^d(e,25)}function c(e){return d(e,7)^d(e,18)^e>>>3}function l(e){return d(e,17)^d(e,19)^e>>>10}var u=i(7),d=u.rotr32;t.ft_1=r,t.ch32=n,t.maj32=o,t.p32=a,t.s0_256=s,t.s1_256=h,t.g0_256=c,t.g1_256=l},function(e,t,i){"use strict";function r(){if(!(this instanceof r))return new r;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}var n=i(7),o=i(16),a=i(66),s=i(6),h=n.sum32,c=n.sum32_4,l=n.sum32_5,u=a.ch32,d=a.maj32,f=a.s0_256,p=a.s1_256,m=a.g0_256,v=a.g1_256,y=o.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];n.inherits(r,y),e.exports=r,r.blockSize=512,r.outSize=256,r.hmacStrength=192,r.padLength=64,r.prototype._update=function(e,t){for(var i=this.W,r=0;r<16;r++)i[r]=e[t+r];for(;r<i.length;r++)i[r]=c(v(i[r-2]),i[r-7],m(i[r-15]),i[r-16]);var n=this.h[0],o=this.h[1],a=this.h[2],y=this.h[3],g=this.h[4],b=this.h[5],x=this.h[6],w=this.h[7];for(s(this.k.length===i.length),r=0;r<i.length;r++){var _=l(w,p(g),u(g,b,x),this.k[r],i[r]),T=h(f(n),d(n,o,a));w=x,x=b,b=g,g=h(y,_),y=a,a=o,o=n,n=h(_,T)}this.h[0]=h(this.h[0],n),this.h[1]=h(this.h[1],o),this.h[2]=h(this.h[2],a),this.h[3]=h(this.h[3],y),this.h[4]=h(this.h[4],g),this.h[5]=h(this.h[5],b),this.h[6]=h(this.h[6],x),this.h[7]=h(this.h[7],w)},r.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},function(e,t,i){"use strict";function r(){if(!(this instanceof r))return new r;k.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=I,this.W=new Array(160)}function n(e,t,i,r,n){var o=e&i^~e&n;return o<0&&(o+=4294967296),o}function o(e,t,i,r,n,o){var a=t&r^~t&o;return a<0&&(a+=4294967296),a}function a(e,t,i,r,n){var o=e&i^e&n^i&n;return o<0&&(o+=4294967296),o}function s(e,t,i,r,n,o){var a=t&r^t&o^r&o;return a<0&&(a+=4294967296),a}function h(e,t){var i=b(e,t,28),r=b(t,e,2),n=b(t,e,7),o=i^r^n;return o<0&&(o+=4294967296),o}function c(e,t){var i=x(e,t,28),r=x(t,e,2),n=x(t,e,7),o=i^r^n;return o<0&&(o+=4294967296),o}function l(e,t){var i=b(e,t,14),r=b(e,t,18),n=b(t,e,9),o=i^r^n;return o<0&&(o+=4294967296),o}function u(e,t){var i=x(e,t,14),r=x(e,t,18),n=x(t,e,9),o=i^r^n;return o<0&&(o+=4294967296),o}function d(e,t){var i=b(e,t,1),r=b(e,t,8),n=w(e,t,7),o=i^r^n;return o<0&&(o+=4294967296),o}function f(e,t){var i=x(e,t,1),r=x(e,t,8),n=_(e,t,7),o=i^r^n;return o<0&&(o+=4294967296),o}function p(e,t){var i=b(e,t,19),r=b(t,e,29),n=w(e,t,6),o=i^r^n;return o<0&&(o+=4294967296),o}function m(e,t){var i=x(e,t,19),r=x(t,e,29),n=_(e,t,6),o=i^r^n;return o<0&&(o+=4294967296),o}var v=i(7),y=i(16),g=i(6),b=v.rotr64_hi,x=v.rotr64_lo,w=v.shr64_hi,_=v.shr64_lo,T=v.sum64,E=v.sum64_hi,S=v.sum64_lo,M=v.sum64_4_hi,C=v.sum64_4_lo,A=v.sum64_5_hi,D=v.sum64_5_lo,k=y.BlockHash,I=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];v.inherits(r,k),e.exports=r,r.blockSize=1024,r.outSize=512,r.hmacStrength=192,r.padLength=128,r.prototype._prepareBlock=function(e,t){for(var i=this.W,r=0;r<32;r++)i[r]=e[t+r];for(;r<i.length;r+=2){var n=p(i[r-4],i[r-3]),o=m(i[r-4],i[r-3]),a=i[r-14],s=i[r-13],h=d(i[r-30],i[r-29]),c=f(i[r-30],i[r-29]),l=i[r-32],u=i[r-31];i[r]=M(n,o,a,s,h,c,l,u),i[r+1]=C(n,o,a,s,h,c,l,u)}},r.prototype._update=function(e,t){this._prepareBlock(e,t);var i=this.W,r=this.h[0],d=this.h[1],f=this.h[2],p=this.h[3],m=this.h[4],v=this.h[5],y=this.h[6],b=this.h[7],x=this.h[8],w=this.h[9],_=this.h[10],M=this.h[11],C=this.h[12],k=this.h[13],I=this.h[14],P=this.h[15];g(this.k.length===i.length);for(var R=0;R<i.length;R+=2){var F=I,O=P,L=l(x,w),B=u(x,w),N=n(x,w,_,M,C),U=o(x,w,_,M,C,k),H=this.k[R],j=this.k[R+1],z=i[R],G=i[R+1],V=A(F,O,L,B,N,U,H,j,z,G),X=D(F,O,L,B,N,U,H,j,z,G);F=h(r,d),O=c(r,d),L=a(r,d,f,p,m),B=s(r,d,f,p,m,v);var Y=E(F,O,L,B),W=S(F,O,L,B);I=C,P=k,C=_,k=M,_=x,M=w,x=E(y,b,V,X),w=S(b,b,V,X),y=m,b=v,m=f,v=p,f=r,p=d,r=E(V,X,Y,W),d=S(V,X,Y,W)}T(this.h,0,r,d),T(this.h,2,f,p),T(this.h,4,m,v),T(this.h,6,y,b),T(this.h,8,x,w),T(this.h,10,_,M),T(this.h,12,C,k),T(this.h,14,I,P)},r.prototype._digest=function(e){return"hex"===e?v.toHex32(this.h,"big"):v.split32(this.h,"big")}},function(e,t,i){function r(e,t){if(a.call(this,t),!s.isBuffer(e))return void this.error("Input not Buffer");this.base=e,this.offset=0,this.length=e.length}function n(e,t){if(Array.isArray(e))this.length=0,this.value=e.map(function(e){return e instanceof n||(e=new n(e,t)),this.length+=e.length,e},this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=s.byteLength(e);else{if(!s.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}var o=i(0),a=i(18).Reporter,s=i(3).Buffer;o(r,a),t.DecoderBuffer=r,r.prototype.save=function(){return{offset:this.offset,reporter:a.prototype.save.call(this)}},r.prototype.restore=function(e){var t=new r(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,a.prototype.restore.call(this,e.reporter),t},r.prototype.isEmpty=function(){return this.offset===this.length},r.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},r.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var i=new r(this.base);return i._reporterState=this._reporterState,i.offset=this.offset,i.length=this.offset+e,this.offset+=e,i},r.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.EncoderBuffer=n,n.prototype.join=function(e,t){return e||(e=new s(this.length)),t||(t=0),0===this.length?e:(Array.isArray(this.value)?this.value.forEach(function(i){i.join(e,t),t+=i.length}):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):s.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length),e)}},function(e,t,i){var r=t;r._reverse=function(e){var t={};return Object.keys(e).forEach(function(i){(0|i)==i&&(i|=0);var r=e[i];t[r]=i}),t},r.der=i(157)},function(e,t,i){function r(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new n,this.tree._init(e.body)}function n(e){c.Node.call(this,"der",e)}function o(e,t){var i=e.readUInt8(t);if(e.isError(i))return i;var r=u.tagClass[i>>6],n=0==(32&i);if(31==(31&i)){var o=i;for(i=0;128==(128&o);){if(o=e.readUInt8(t),e.isError(o))return o;i<<=7,i|=127&o}}else i&=31;return{cls:r,primitive:n,tag:i,tagStr:u.tag[i]}}function a(e,t,i){var r=e.readUInt8(i);if(e.isError(r))return r;if(!t&&128===r)return null;if(0==(128&r))return r;var n=127&r;if(n>4)return e.error("length octect is too long");r=0;for(var o=0;o<n;o++){r<<=8;var a=e.readUInt8(i);if(e.isError(a))return a;r|=a}return r}var s=i(0),h=i(17),c=h.base,l=h.bignum,u=h.constants.der;e.exports=r,r.prototype.decode=function(e,t){return e instanceof c.DecoderBuffer||(e=new c.DecoderBuffer(e,t)),this.tree._decode(e,t)},s(n,c.Node),n.prototype._peekTag=function(e,t,i){if(e.isEmpty())return!1;var r=e.save(),n=o(e,'Failed to peek tag: "'+t+'"');return e.isError(n)?n:(e.restore(r),n.tag===t||n.tagStr===t||n.tagStr+"of"===t||i)},n.prototype._decodeTag=function(e,t,i){var r=o(e,'Failed to decode tag of "'+t+'"');if(e.isError(r))return r;var n=a(e,r.primitive,'Failed to get length of "'+t+'"');if(e.isError(n))return n;if(!i&&r.tag!==t&&r.tagStr!==t&&r.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(r.primitive||null!==n)return e.skip(n,'Failed to match body of: "'+t+'"');var s=e.save(),h=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(h)?h:(n=e.offset-s.offset,e.restore(s),e.skip(n,'Failed to match body of: "'+t+'"'))},n.prototype._skipUntilEnd=function(e,t){for(;;){var i=o(e,t);if(e.isError(i))return i;var r=a(e,i.primitive,t);if(e.isError(r))return r;var n;if(n=i.primitive||null!==r?e.skip(r):this._skipUntilEnd(e,t),e.isError(n))return n;if("end"===i.tagStr)break}},n.prototype._decodeList=function(e,t,i,r){for(var n=[];!e.isEmpty();){var o=this._peekTag(e,"end");if(e.isError(o))return o;var a=i.decode(e,"der",r);if(e.isError(a)&&o)break;n.push(a)}return n},n.prototype._decodeStr=function(e,t){if("bitstr"===t){var i=e.readUInt8();return e.isError(i)?i:{unused:i,data:e.raw()}}if("bmpstr"===t){var r=e.raw();if(r.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");for(var n="",o=0;o<r.length/2;o++)n+=String.fromCharCode(r.readUInt16BE(2*o));return n}if("numstr"===t){var a=e.raw().toString("ascii");return this._isNumstr(a)?a:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var s=e.raw().toString("ascii");return this._isPrintstr(s)?s:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},n.prototype._decodeObjid=function(e,t,i){for(var r,n=[],o=0;!e.isEmpty();){var a=e.readUInt8();o<<=7,o|=127&a,0==(128&a)&&(n.push(o),o=0)}128&a&&n.push(o);var s=n[0]/40|0,h=n[0]%40;if(r=i?n:[s,h].concat(n.slice(1)),t){var c=t[r.join(" ")];void 0===c&&(c=t[r.join(".")]),void 0!==c&&(r=c)}return r},n.prototype._decodeTime=function(e,t){var i=e.raw().toString();if("gentime"===t)var r=0|i.slice(0,4),n=0|i.slice(4,6),o=0|i.slice(6,8),a=0|i.slice(8,10),s=0|i.slice(10,12),h=0|i.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");var r=0|i.slice(0,2),n=0|i.slice(2,4),o=0|i.slice(4,6),a=0|i.slice(6,8),s=0|i.slice(8,10),h=0|i.slice(10,12);r=r<70?2e3+r:1900+r}return Date.UTC(r,n-1,o,a,s,h,0)},n.prototype._decodeNull=function(e){return null},n.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},n.prototype._decodeInt=function(e,t){var i=e.raw(),r=new l(i);return t&&(r=t[r.toString(10)]||r),r},n.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},function(e,t,i){function r(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new n,this.tree._init(e.body)}function n(e){l.Node.call(this,"der",e)}function o(e){return e<10?"0"+e:e}function a(e,t,i,r){var n;if("seqof"===e?e="seq":"setof"===e&&(e="set"),u.tagByName.hasOwnProperty(e))n=u.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return r.error("Unknown tag: "+e);n=e}return n>=31?r.error("Multi-octet tag encoding unsupported"):(t||(n|=32),n|=u.tagClassByName[i||"universal"]<<6)}var s=i(0),h=i(3).Buffer,c=i(17),l=c.base,u=c.constants.der;e.exports=r,r.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},s(n,l.Node),n.prototype._encodeComposite=function(e,t,i,r){var n=a(e,t,i,this.reporter);if(r.length<128){var o=new h(2);return o[0]=n,o[1]=r.length,this._createEncoderBuffer([o,r])}for(var s=1,c=r.length;c>=256;c>>=8)s++;var o=new h(2+s);o[0]=n,o[1]=128|s;for(var c=1+s,l=r.length;l>0;c--,l>>=8)o[c]=255&l;return this._createEncoderBuffer([o,r])},n.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var i=new h(2*e.length),r=0;r<e.length;r++)i.writeUInt16BE(e.charCodeAt(r),2*r);return this._createEncoderBuffer(i)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)?this._createEncoderBuffer(e):"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},n.prototype._encodeObjid=function(e,t,i){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s\.]+/g);for(var r=0;r<e.length;r++)e[r]|=0}else if(Array.isArray(e)){e=e.slice();for(var r=0;r<e.length;r++)e[r]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!i){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}for(var n=0,r=0;r<e.length;r++){var o=e[r];for(n++;o>=128;o>>=7)n++}for(var a=new h(n),s=a.length-1,r=e.length-1;r>=0;r--){var o=e[r];for(a[s--]=127&o;(o>>=7)>0;)a[s--]=128|127&o}return this._createEncoderBuffer(a)},n.prototype._encodeTime=function(e,t){var i,r=new Date(e);return"gentime"===t?i=[o(r.getFullYear()),o(r.getUTCMonth()+1),o(r.getUTCDate()),o(r.getUTCHours()),o(r.getUTCMinutes()),o(r.getUTCSeconds()),"Z"].join(""):"utctime"===t?i=[o(r.getFullYear()%100),o(r.getUTCMonth()+1),o(r.getUTCDate()),o(r.getUTCHours()),o(r.getUTCMinutes()),o(r.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(i,"octstr")},n.prototype._encodeNull=function(){return this._createEncoderBuffer("")},n.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!h.isBuffer(e)){var i=e.toArray();!e.sign&&128&i[0]&&i.unshift(0),e=new h(i)}if(h.isBuffer(e)){var r=e.length;0===e.length&&r++;var n=new h(r);return e.copy(n),0===e.length&&(n[0]=0),this._createEncoderBuffer(n)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);for(var r=1,o=e;o>=256;o>>=8)r++;for(var n=new Array(r),o=n.length-1;o>=0;o--)n[o]=255&e,e>>=8;return 128&n[0]&&n.unshift(0),this._createEncoderBuffer(new h(n))},n.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},n.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},n.prototype._skipDefault=function(e,t,i){var r,n=this._baseState;if(null===n.default)return!1;var o=e.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,t,i).join()),o.length!==n.defaultBuffer.length)return!1;for(r=0;r<o.length;r++)if(o[r]!==n.defaultBuffer[r])return!1;return!0}},function(e,t){e.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},function(e,t,i){(function(t){function r(e){var i=new t(4);return i.writeUInt32BE(e,0),i}var n=i(13);e.exports=function(e,i){for(var o,a=new t(""),s=0;a.length<i;)o=r(s++),a=t.concat([a,n("sha1").update(e).update(o).digest()]);return a.slice(0,i)}}).call(t,i(3).Buffer)},function(e,t){e.exports=function(e,t){for(var i=e.length,r=-1;++r<i;)e[r]^=t[r];return e}},function(e,t,i){(function(t){function r(e,i){return new t(e.toRed(n.mont(i.modulus)).redPow(new n(i.publicExponent)).fromRed().toArray())}var n=i(4);e.exports=r}).call(t,i(3).Buffer)},function(t,i,r){"use strict";var n=r(81),o={gesture:{TAP:"gesture.tap",TAP_MISS:"gesture.tapMiss",ZOOM:"gesture.zoom",ROTA:"gesture.rota",PAN:"gesture.pan",HOLD:"hold",CLONE:"gesture.clone"},zoomGesture:function(e,t,i){function r(){!1!==s&&(t.x+=(h.x-t.x)*l,t.y+=(h.y-t.y)*l,t.scale.x+=(c.x-t.scale.y)*l,t.scale.y+=(c.y-t.scale.y)*l,t.emit("change.zoom",{zoom:t.scale.x}))}var o=new Map,a=PIXI.ticker.shared;i=i||{},t||(t=e);var s=!0,h={x:t.x,y:t.y},c={x:t.scale.x,y:t.scale.y},l=.15;Object.defineProperty(t,"activeZoomGesture",{set:function(e){this.__activeZoomGesture=e,!0===e?(a.remove(r),a.add(r)):a.remove(r)},get:function(){return this.__activeZoomGesture}}),e.addEventListener(TouchEvent.TOUCH_BEGIN,function(e){o.size>=2||!1!==s&&(o.set(e.data.identifier,{x:e.data.global.x,y:e.data.global.y}),2===o.size&&(c.x=t.scale.x,c.y=t.scale.y,h.x=t.x,h.y=t.y,t.activeZoomGesture=!0))},!1,1),e.addEventListener(TouchEvent.TOUCH_MOVE,function(e){if(!1!==s&&o.has(e.data.identifier)&&2===o.size){var t,r=e.data.identifier,a=o.get(r);o.forEach(function(e,i){r!=i&&(t=e)});var l=(a.x-e.data.global.x)/2,u=(a.y-e.data.global.y)/2;h.x-=l,h.y-=u;var d=n.distance(e.data.global,t)/n.distance(a,t),f=c.x*d;void 0!==i.maxZoom&&f>i.maxZoom&&(f=i.maxZoom,d=f/c.x),void 0!==i.minZoom&&f<i.minZoom&&(f=i.minZoom,d=f/c.x);var p=h.x,m=h.y,v=t.x-h.x,y=t.y-h.y;v*=d-1,y*=d-1,p-=v,m-=y,h.x=p,h.y=m,c.x=f,c.y=f,a.x=e.data.global.x,a.y=e.data.global.y}}),e.addEventListener(TouchEvent.TOUCH_END,function(e){o.delete(e.data.identifier)}),e.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,function(e){o.delete(e.data.identifier)});var u={};return u.getTouchCount=function(){return o.size},u.setGestureEnabled=function(e){s=e},u},panGesture:function(e,t){e.addEventListener(TouchEvent.TOUCH_BEGIN,function(i){e.__panGlobalPos__={x:i.data.global.x,y:i.data.global.y};var r=function(i){var r=i.data.global.x-e.__panGlobalPos__.x,n=i.data.global.y-e.__panGlobalPos__.y,a={target:e,data:i.data,offsetX:r,offsetY:n,type:"move",stopPropagation:function(){i.stopPropagation()}};t&&t.apply(e,[a]),e.emit(o.gesture.PAN,a),e.__panGlobalPos__={x:i.data.global.x,y:i.data.global.y}},n=function i(n){e.removeListener(TouchEvent.TOUCH_MOVE,r),e.removeListener(TouchEvent.TOUCH_END_OUDSIDE,i),e.removeListener(TouchEvent.TOUCH_END,i);var a={target:e,data:n.data,offsetX:0,offsetY:0,type:"end",stopPropagation:function(){n.stopPropagation()}};t&&t.apply(e,[a]),e.emit(o.gesture.PAN,a)};e.addEventListener(TouchEvent.TOUCH_MOVE,r),e.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,n),e.addEventListener(TouchEvent.TOUCH_END,n);var a={target:e,data:i.data,offsetX:0,offsetY:0,type:"begin",stopPropagation:function(){i.stopPropagation()}};t&&t.apply(e,[a]),e.emit(o.gesture.PAN,a)})},addGesture:function(e,t,i){switch(t){case this.gesture.TAP:this.tapGesture(e,i);break;case this.gesture.PAN:this.panGesture(e,i);break;case this.gesture.HOLD:this.holdGesture(e,i)}},holdGesture:function(e){function t(t){var i={target:e,data:t.data,type:"begin",stopPropagation:function(){t.stopPropagation()},startPos:{x:t.data.global.x,y:t.data.global.y}};"touchstart"===t.type?h.set(i.data.identifier,i):h.set("mouse",i),e.emit(o.gesture.HOLD,i),s=setInterval(function(){if(0===h.size)return void clearInterval(s);i.type="hold",h.forEach(function(t,i){e.emit(o.gesture.HOLD,t)})},a)}function i(t){var i,r,a={target:e,data:t.data,type:"move",stopPropagation:function(){t.stopPropagation()}};if(r="touchmove"===t.type?t.data.identifier:"mouse",i=h.get(r)){n.distance(t.data.global,i.startPos)>40&&(e.emit(o.gesture.HOLD,a),h.delete(r),0===h.size&&clearInterval(s))}}function r(t){var i,r={target:e,data:t.data,type:"end",stopPropagation:function(){t.stopPropagation()}};i="touchend"===t.type?t.data.identifier:"mouse",h.get(i)&&(e.emit(o.gesture.HOLD,r),h.delete(i)),0===h.size&&clearInterval(s)}var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;e.touches=new Map;var s,h=e.touches;e.addEventListener(TouchEvent.TOUCH_BEGIN,t),e.addEventListener(TouchEvent.TOUCH_MOVE,i),e.addEventListener(TouchEvent.TOUCH_END,r)},tapGesture:function(t,i){function r(e){this.timer=(new Date).getTime(),this.__globalPoint__=Object.assign({},e.data.global)}function a(r){var a=!1;if((new Date).getTime()-this.timer<200&&n.distance(this.__globalPoint__,r.data.global)<40){var s={target:t,data:r.data,stopPropagation:function(){e.stopPropagation()}};null==i?t.emit(o.gesture.TAP,s):i.apply(t,[s]),a=!0}!1===a&&t&&t.emit&&t.emit(o.gesture.TAP_MISS)}t.addEventListener(TouchEvent.TOUCH_BEGIN,r),t.addEventListener(TouchEvent.TOUCH_END,a),void 0===t.__gestureMap__&&(t.__gestureMap__={}),void 0===t.__gestureMap__[this.gesture.TAP]&&(t.__gestureMap__[this.gesture.TAP]=[]),t.__gestureMap__[this.gesture.TAP].push({begin:r,end:a})},removeGesture:function(e,t){if(e.__gestureMap__&&e.__gestureMap__[t])for(var i=e.__gestureMap__[t],r=0;r<i.length;r++)e.removeEventListener(TouchEvent.TOUCH_BEGIN,i[r].begin),e.removeEventListener(TouchEvent.TOUCH_END,i[r].end)},cloneEqGesture:function(e,t){function i(t){var i=t.data.identifier;void 0!==i&&2!==s.size&&(s.has(i)||(s.set(i,{x:t.data.global.x,y:t.data.global.y}),1===s.size&&(e.addEventListener(TouchEvent.TOUCH_MOVE,r),e.addEventListener(TouchEvent.TOUCH_END,a),e.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,a))))}function r(t){if(2===s.size){var i=t.data.identifier;if(i===h){var r=n.distance(s.get(i),t.data.global);r>c&&(s.clear(),a())}else{var r=n.distance(s.get(i),t.data.global);r>l&&(e.emit(o.gesture.CLONE,{global:{x:t.data.global.x,y:t.data.global.y}}),s.clear(),a())}}}function a(t){if(t){var i=t.data.identifier;s.delete(i)}0===s.size&&(h=NaN,e.removeListener(TouchEvent.TOUCH_MOVE,r),e.removeListener(TouchEvent.TOUCH_END,a),e.removeListener(TouchEvent.TOUCH_END_OUTSIDE,a))}t=t||{};var s=new Map;e.addEventListener(TouchEvent.TOUCH_BEGIN,i);var h=NaN,c=30,l=t.triggerDistance||100}};window.NBGesture=o,t.exports=o},function(e,t,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r(this,e),t instanceof Object?(this.x=t.x,this.y=t.y):(this.x=t,this.y=i)}return n(e,[{key:"addXY",value:function(t,i){var r=new e(this.x,this.y);return r.x+=t,r.y+=i,r}},{key:"add",value:function(t){var i=new e(this.x,this.y);return i.x+=isNaN(t.x)?t.get_x():t.x,i.y+=isNaN(t.y)?t.get_y():t.y,i}},{key:"sub",value:function(t){var i=new e(this.x,this.y);return isNaN(t.x)&&!t.get_x||(i.x-=isNaN(t.x)?t.get_x():t.x,i.y-=isNaN(t.y)?t.get_y():t.y),i}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-e.x*this.y}},{key:"projectTo",value:function(t){var i=t.x,r=t.y,n=t.dot(t),o=i*i/n,a=i*r/n,s=r*r/n,h=new PIXI.Matrix;return h.a=o,h.b=a,h.c=a,h.d=s,new e(h.apply(this))}},{key:"length",value:function(){var e=this.x,t=this.y;return Math.sqrt(e*e+t*t)}},{key:"toArray",value:function(){return[this.x,this.y]}},{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"setLength",value:function(e){this.multiplyScalar(e/this.length())}},{key:"lerp",value:function(e,t){var i=this.clone();return i.x+=(e.x-i.x)*t,i.y+=(e.y-i.y)*t,i}},{key:"rotate",value:function(e){var t=Math.cos(e),i=Math.sin(e);this.x=x*t-y*i,this.y=x*i+y*t}}]),e}();e.exports=o},function(e,t,i){"use strict";(function(t){function r(){var e=this.threeSystem.camera,t=this,s=[],h=null,c=[],l=null,u=null,d=[];t.on("update",function(t){for(var i=d.length,n=0;n<i;n++){var o=d[n],a=o.mesh,s=o.dis;void 0==s.parent&&console.log(""+s+"");var h=r.obj3DVecToDisPoint(a,new THREE.Vector3,e,s.parent);s.x=h.x,s.y=h.y}}),this.createObserveText=function(e,r,n){var o=i(181),a=new o;return a.system=this.threeSystem,a.setTip(r),a.setOffSet(n||null),t.addChild(a),a.bindToObject3D(e),c.push(a),a},this.addCloseFunc=function(e){null==h&&(h=new n,h.addEventListener(TouchEvent.TAP,function(e){var t=s.pop();t&&(t(),0==s.length&&TweenMax.to(h,1,{alpha:0,onComplete:function(){h.parent&&h.parent.removeChild(h)}}))})),s.push(e)},this.execCloseFunc=function(){h&&h.emit(TouchEvent.TAP)},this.addObserveButton=function(){return null==l&&(l=PIXI.Sprite.fromFrame("observe_detail"),this.addChild(l),o.add(l,{right:l.width+30,top:30}),l.hide=function(){var e=this;TweenMax.to(this,1,{alpha:0,onComplete:function(){e.visible=!1}})},l.show=function(){this.visible=!0,TweenMax.to(this,1,{alpha:1})}),l},this.addCameraButton=function(){return null==u&&(u=PIXI.Sprite.fromFrame("observe_camera"),this.addChild(l),o.add(u,{right:l.width+80,top:30})),u},this.bindDisplayToMesh=function(e){for(var i=e.dis||new a,r=e.mesh,n=(e.offsetX,e.offsetY,d.length),o=0;o<n;o++){if(d[o].dis===i||i.mesh===r)return}return i instanceof a&&(t.addChild(i),e.dis=i),d.push(e),i},this.unBindDisplayFromMesh=function(e){for(var t=0;t<d.length;t++){var i=d[t];if(i.dis===e||i.mesh===e){d.splice(t,1),i.dis instanceof a&&i.dis.parent.removeChild(i.dis);break}}},this.getMeshUnderPoint=function(e){return instance.interactiveManager.getInteractiveObject(r.pointToTHREEPoint(e),null,!0)},this.getHitObject3D=function(e){var t=e.toGlobal({x:e.width/2,y:e.height/2});return this.getMeshUnderPoint(t)}}var n=i(218),o=i(175),a=i(180);r.pointToTHREEPoint=function(e){var t=e.x,i=e.y,r={x:0,y:0},n=nb.stem.STEMMain.W,o=nb.stem.STEMMain.H;return r.x=t/n*2-1,r.y=-i/o*2+1,r},r.vertoc3ToPoint=function(e,t){var i=e.clone();return i.project(t),{x:(i.x+1)*nb.stem.STEMMain.W/2,y:(1-i.y)*nb.stem.STEMMain.H/2}},r.obj3DVecToDisPoint=function(e,t,i,n){var o=t.clone();e.localToWorld(o);var a=r.vertoc3ToPoint(o,i);return n.toLocal(a)},r.canvasPoint2DisPoint=function(e){var t={},i=instance.renderer.view;if(i==window.document)t.x=e.x,t.y=e.y;else{var r=i.getBoundingClientRect();t.x=(e.x-r.left)*(i.width/r.width),t.y=(e.y-r.top)*(i.height/r.height)}return t},t.Frame2DUtil=r,e.exports=r}).call(t,i(1))},function(e,t,i){"use strict";function r(){THREE.Group.call(this),this._alpha=1,this.useChildMatrix=!1}var n=i(186);r.prototype=Object.create(THREE.Group.prototype),r.constructor=r,r.prototype.createMovie=function(e){void 0==this.movie?this.movie=new n(e):console.error("",this.movie)},r.prototype.getChildByFuzzyName=function(e){for(var t=this.children.length,i=0;i<t;i++){var r=this.children[i];if(-1!=r.name.indexOf(e))return r}return null},r.prototype.clone=function(e,t){var i=THREE.Group.prototype.clone.call(this,e,t);return i.ID=this.ID,i},Object.defineProperty(r.prototype,"alpha",{get:function(){return this._alpha},set:function(e){0===e&&(e=1e-6);for(var t=this.children.length,i=0;i<t;i++){var r=this.children[i];if(r instanceof THREE.Mesh){var n=r.material;n.transparent=!0;var o=n.opacity/this.alpha;isNaN(o)&&(o=0),n.opacity=o*e}else for(var a=0;a<r.children.length;a++)r.alpha=e}this._alpha=e}}),e.exports=r},function(e,t,i){"use strict";(function(t){var i={};i.distance=function(e,t){var i=e.x-t.x,r=e.y-t.y;return Math.sqrt(i*i+r*r)},i.interpolate=function(e,t,i){i=1-i;var r={};return r.x=e.x+(t.x-e.x)*i,r.y=e.y+(t.y-e.y)*i,r},t.NBPoint=i,e.exports=i}).call(t,i(1))},function(e,t,i){(function(e,t){!function(e,i){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var r={callback:e,args:t};return c[h]=r,s(h),h++}function n(e){delete c[e]}function o(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(i,r)}}function a(e){if(l)setTimeout(a,0,e);else{var t=c[e];if(t){l=!0;try{o(t)}finally{n(e),l=!1}}}}if(!e.setImmediate){var s,h=1,c={},l=!1,u=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){a(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,i=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=i,t}}()?function(){var t="setImmediate$"+Math.random()+"$",i=function(i){i.source===e&&"string"==typeof i.data&&0===i.data.indexOf(t)&&a(+i.data.slice(t.length))};e.addEventListener?e.addEventListener("message",i,!1):e.attachEvent("onmessage",i),s=function(i){e.postMessage(t+i,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},s=function(t){e.port2.postMessage(t)}}():u&&"onreadystatechange"in u.createElement("script")?function(){var e=u.documentElement;s=function(t){var i=u.createElement("script");i.onreadystatechange=function(){a(t),i.onreadystatechange=null,e.removeChild(i),i=null},e.appendChild(i)}}():function(){s=function(e){setTimeout(a,0,e)}}(),d.setImmediate=r,d.clearImmediate=n}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,i(1),i(8))},function(e,t,i){"use strict";(function(t){window.NBMath={},NBMath.rotaPoint=function(e,t,i){var r=e.x-t.x,n=e.y-t.y,o=Math.cos(i)*r-Math.sin(i)*n,a=Math.sin(i)*r+Math.cos(i)*n;return{x:o+t.x,y:a+t.y}},NBMath.normalize=function(e){var t=Math.sqrt(e.x*e.x+e.y*e.y);return{x:e.x/t,y:e.y/t}},NBMath.distance=function(e,t){var i=e.x-t.x,r=e.y-t.y;return Math.sqrt(i*i+r*r)},NBMath.retrieveRotation=function(e){return Math.atan2(e.b,e.d)},NBMath.retrieveScale=function(e){var t=NBMath.retrieveRotation(e);return e.a/Math.cos(t)},NBMath.random=function(e,t){return e instanceof Array&&(t=e[1],e=e[0]),e+Math.random()*(t-e)},t.NBMath=e.exports=NBMath}).call(t,i(1))},function(e,t,i){var r,n;/*!
 * jQuery JavaScript Library v3.2.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2017-03-20T18:59Z
 */
!function(t,i){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return i(e)}:i(t)}("undefined"!=typeof window?window:this,function(i,o){"use strict";function a(e,t){t=t||ae;var i=t.createElement("script");i.text=e,t.head.appendChild(i).parentNode.removeChild(i)}function s(e){var t=!!e&&"length"in e&&e.length,i=ge.type(e);return"function"!==i&&!ge.isWindow(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)}function h(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function c(e,t,i){return ge.isFunction(t)?ge.grep(e,function(e,r){return!!t.call(e,r,e)!==i}):t.nodeType?ge.grep(e,function(e){return e===t!==i}):"string"!=typeof t?ge.grep(e,function(e){return ue.call(t,e)>-1!==i}):Ae.test(t)?ge.filter(t,e,i):(t=ge.filter(t,e),ge.grep(e,function(e){return ue.call(t,e)>-1!==i&&1===e.nodeType}))}function l(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function u(e){var t={};return ge.each(e.match(Re)||[],function(e,i){t[i]=!0}),t}function d(e){return e}function f(e){throw e}function p(e,t,i,r){var n;try{e&&ge.isFunction(n=e.promise)?n.call(e).done(t).fail(i):e&&ge.isFunction(n=e.then)?n.call(e,t,i):t.apply(void 0,[e].slice(r))}catch(e){i.apply(void 0,[e])}}function m(){ae.removeEventListener("DOMContentLoaded",m),i.removeEventListener("load",m),ge.ready()}function v(){this.expando=ge.expando+v.uid++}function y(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:He.test(e)?JSON.parse(e):e)}function g(e,t,i){var r;if(void 0===i&&1===e.nodeType)if(r="data-"+t.replace(je,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(r))){try{i=y(i)}catch(e){}Ue.set(e,t,i)}else i=void 0;return i}function b(e,t,i,r){var n,o=1,a=20,s=r?function(){return r.cur()}:function(){return ge.css(e,t,"")},h=s(),c=i&&i[3]||(ge.cssNumber[t]?"":"px"),l=(ge.cssNumber[t]||"px"!==c&&+h)&&Ge.exec(ge.css(e,t));if(l&&l[3]!==c){c=c||l[3],i=i||[],l=+h||1;do{o=o||".5",l/=o,ge.style(e,t,l+c)}while(o!==(o=s()/h)&&1!==o&&--a)}return i&&(l=+l||+h||0,n=i[1]?l+(i[1]+1)*i[2]:+i[2],r&&(r.unit=c,r.start=l,r.end=n)),n}function x(e){var t,i=e.ownerDocument,r=e.nodeName,n=We[r];return n||(t=i.body.appendChild(i.createElement(r)),n=ge.css(t,"display"),t.parentNode.removeChild(t),"none"===n&&(n="block"),We[r]=n,n)}function w(e,t){for(var i,r,n=[],o=0,a=e.length;o<a;o++)r=e[o],r.style&&(i=r.style.display,t?("none"===i&&(n[o]=Ne.get(r,"display")||null,n[o]||(r.style.display="")),""===r.style.display&&Xe(r)&&(n[o]=x(r))):"none"!==i&&(n[o]="none",Ne.set(r,"display",i)));for(o=0;o<a;o++)null!=n[o]&&(e[o].style.display=n[o]);return e}function _(e,t){var i;return i=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&h(e,t)?ge.merge([e],i):i}function T(e,t){for(var i=0,r=e.length;i<r;i++)Ne.set(e[i],"globalEval",!t||Ne.get(t[i],"globalEval"))}function E(e,t,i,r,n){for(var o,a,s,h,c,l,u=t.createDocumentFragment(),d=[],f=0,p=e.length;f<p;f++)if((o=e[f])||0===o)if("object"===ge.type(o))ge.merge(d,o.nodeType?[o]:o);else if(Je.test(o)){for(a=a||u.appendChild(t.createElement("div")),s=($e.exec(o)||["",""])[1].toLowerCase(),h=Ze[s]||Ze._default,a.innerHTML=h[1]+ge.htmlPrefilter(o)+h[2],l=h[0];l--;)a=a.lastChild;ge.merge(d,a.childNodes),a=u.firstChild,a.textContent=""}else d.push(t.createTextNode(o));for(u.textContent="",f=0;o=d[f++];)if(r&&ge.inArray(o,r)>-1)n&&n.push(o);else if(c=ge.contains(o.ownerDocument,o),a=_(u.appendChild(o),"script"),c&&T(a),i)for(l=0;o=a[l++];)Ke.test(o.type||"")&&i.push(o);return u}function S(){return!0}function M(){return!1}function C(){try{return ae.activeElement}catch(e){}}function A(e,t,i,r,n,o){var a,s;if("object"==typeof t){"string"!=typeof i&&(r=r||i,i=void 0);for(s in t)A(e,s,i,r,t[s],o);return e}if(null==r&&null==n?(n=i,r=i=void 0):null==n&&("string"==typeof i?(n=r,r=void 0):(n=r,r=i,i=void 0)),!1===n)n=M;else if(!n)return e;return 1===o&&(a=n,n=function(e){return ge().off(e),a.apply(this,arguments)},n.guid=a.guid||(a.guid=ge.guid++)),e.each(function(){ge.event.add(this,t,n,r,i)})}function D(e,t){return h(e,"table")&&h(11!==t.nodeType?t:t.firstChild,"tr")?ge(">tbody",e)[0]||e:e}function k(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function I(e){var t=at.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function P(e,t){var i,r,n,o,a,s,h,c;if(1===t.nodeType){if(Ne.hasData(e)&&(o=Ne.access(e),a=Ne.set(t,o),c=o.events)){delete a.handle,a.events={};for(n in c)for(i=0,r=c[n].length;i<r;i++)ge.event.add(t,n,c[n][i])}Ue.hasData(e)&&(s=Ue.access(e),h=ge.extend({},s),Ue.set(t,h))}}function R(e,t){var i=t.nodeName.toLowerCase();"input"===i&&qe.test(e.type)?t.checked=e.checked:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}function F(e,t,i,r){t=ce.apply([],t);var n,o,s,h,c,l,u=0,d=e.length,f=d-1,p=t[0],m=ge.isFunction(p);if(m||d>1&&"string"==typeof p&&!ye.checkClone&&ot.test(p))return e.each(function(n){var o=e.eq(n);m&&(t[0]=p.call(this,n,o.html())),F(o,t,i,r)});if(d&&(n=E(t,e[0].ownerDocument,!1,e,r),o=n.firstChild,1===n.childNodes.length&&(n=o),o||r)){for(s=ge.map(_(n,"script"),k),h=s.length;u<d;u++)c=n,u!==f&&(c=ge.clone(c,!0,!0),h&&ge.merge(s,_(c,"script"))),i.call(e[u],c,u);if(h)for(l=s[s.length-1].ownerDocument,ge.map(s,I),u=0;u<h;u++)c=s[u],Ke.test(c.type||"")&&!Ne.access(c,"globalEval")&&ge.contains(l,c)&&(c.src?ge._evalUrl&&ge._evalUrl(c.src):a(c.textContent.replace(st,""),l))}return e}function O(e,t,i){for(var r,n=t?ge.filter(t,e):e,o=0;null!=(r=n[o]);o++)i||1!==r.nodeType||ge.cleanData(_(r)),r.parentNode&&(i&&ge.contains(r.ownerDocument,r)&&T(_(r,"script")),r.parentNode.removeChild(r));return e}function L(e,t,i){var r,n,o,a,s=e.style;return i=i||lt(e),i&&(a=i.getPropertyValue(t)||i[t],""!==a||ge.contains(e.ownerDocument,e)||(a=ge.style(e,t)),!ye.pixelMarginRight()&&ct.test(a)&&ht.test(t)&&(r=s.width,n=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=i.width,s.width=r,s.minWidth=n,s.maxWidth=o)),void 0!==a?a+"":a}function B(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function N(e){if(e in vt)return e;for(var t=e[0].toUpperCase()+e.slice(1),i=mt.length;i--;)if((e=mt[i]+t)in vt)return e}function U(e){var t=ge.cssProps[e];return t||(t=ge.cssProps[e]=N(e)||e),t}function H(e,t,i){var r=Ge.exec(t);return r?Math.max(0,r[2]-(i||0))+(r[3]||"px"):t}function j(e,t,i,r,n){var o,a=0;for(o=i===(r?"border":"content")?4:"width"===t?1:0;o<4;o+=2)"margin"===i&&(a+=ge.css(e,i+Ve[o],!0,n)),r?("content"===i&&(a-=ge.css(e,"padding"+Ve[o],!0,n)),"margin"!==i&&(a-=ge.css(e,"border"+Ve[o]+"Width",!0,n))):(a+=ge.css(e,"padding"+Ve[o],!0,n),"padding"!==i&&(a+=ge.css(e,"border"+Ve[o]+"Width",!0,n)));return a}function z(e,t,i){var r,n=lt(e),o=L(e,t,n),a="border-box"===ge.css(e,"boxSizing",!1,n);return ct.test(o)?o:(r=a&&(ye.boxSizingReliable()||o===e.style[t]),"auto"===o&&(o=e["offset"+t[0].toUpperCase()+t.slice(1)]),(o=parseFloat(o)||0)+j(e,t,i||(a?"border":"content"),r,n)+"px")}function G(e,t,i,r,n){return new G.prototype.init(e,t,i,r,n)}function V(){gt&&(!1===ae.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(V):i.setTimeout(V,ge.fx.interval),ge.fx.tick())}function X(){return i.setTimeout(function(){yt=void 0}),yt=ge.now()}function Y(e,t){var i,r=0,n={height:e};for(t=t?1:0;r<4;r+=2-t)i=Ve[r],n["margin"+i]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function W(e,t,i){for(var r,n=(K.tweeners[t]||[]).concat(K.tweeners["*"]),o=0,a=n.length;o<a;o++)if(r=n[o].call(i,t,e))return r}function q(e,t,i){var r,n,o,a,s,h,c,l,u="width"in t||"height"in t,d=this,f={},p=e.style,m=e.nodeType&&Xe(e),v=Ne.get(e,"fxshow");i.queue||(a=ge._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,ge.queue(e,"fx").length||a.empty.fire()})}));for(r in t)if(n=t[r],bt.test(n)){if(delete t[r],o=o||"toggle"===n,n===(m?"hide":"show")){if("show"!==n||!v||void 0===v[r])continue;m=!0}f[r]=v&&v[r]||ge.style(e,r)}if((h=!ge.isEmptyObject(t))||!ge.isEmptyObject(f)){u&&1===e.nodeType&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],c=v&&v.display,null==c&&(c=Ne.get(e,"display")),l=ge.css(e,"display"),"none"===l&&(c?l=c:(w([e],!0),c=e.style.display||c,l=ge.css(e,"display"),w([e]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===ge.css(e,"float")&&(h||(d.done(function(){p.display=c}),null==c&&(l=p.display,c="none"===l?"":l)),p.display="inline-block")),i.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]})),h=!1;for(r in f)h||(v?"hidden"in v&&(m=v.hidden):v=Ne.access(e,"fxshow",{display:c}),o&&(v.hidden=!m),m&&w([e],!0),d.done(function(){m||w([e]),Ne.remove(e,"fxshow");for(r in f)ge.style(e,r,f[r])})),h=W(m?v[r]:0,r,d),r in v||(v[r]=h.start,m&&(h.end=h.start,h.start=0))}}function $(e,t){var i,r,n,o,a;for(i in e)if(r=ge.camelCase(i),n=t[r],o=e[i],Array.isArray(o)&&(n=o[1],o=e[i]=o[0]),i!==r&&(e[r]=o,delete e[i]),(a=ge.cssHooks[r])&&"expand"in a){o=a.expand(o),delete e[r];for(i in o)i in e||(e[i]=o[i],t[i]=n)}else t[r]=n}function K(e,t,i){var r,n,o=0,a=K.prefilters.length,s=ge.Deferred().always(function(){delete h.elem}),h=function(){if(n)return!1;for(var t=yt||X(),i=Math.max(0,c.startTime+c.duration-t),r=i/c.duration||0,o=1-r,a=0,h=c.tweens.length;a<h;a++)c.tweens[a].run(o);return s.notifyWith(e,[c,o,i]),o<1&&h?i:(h||s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:ge.extend({},t),opts:ge.extend(!0,{specialEasing:{},easing:ge.easing._default},i),originalProperties:t,originalOptions:i,startTime:yt||X(),duration:i.duration,tweens:[],createTween:function(t,i){var r=ge.Tween(e,c.opts,t,i,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var i=0,r=t?c.tweens.length:0;if(n)return this;for(n=!0;i<r;i++)c.tweens[i].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),l=c.props;for($(l,c.opts.specialEasing);o<a;o++)if(r=K.prefilters[o].call(c,e,l,c.opts))return ge.isFunction(r.stop)&&(ge._queueHooks(c.elem,c.opts.queue).stop=ge.proxy(r.stop,r)),r;return ge.map(l,W,c),ge.isFunction(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),ge.fx.timer(ge.extend(h,{elem:e,anim:c,queue:c.opts.queue})),c}function Z(e){return(e.match(Re)||[]).join(" ")}function J(e){return e.getAttribute&&e.getAttribute("class")||""}function Q(e,t,i,r){var n;if(Array.isArray(t))ge.each(t,function(t,n){i||kt.test(e)?r(e,n):Q(e+"["+("object"==typeof n&&null!=n?t:"")+"]",n,i,r)});else if(i||"object"!==ge.type(t))r(e,t);else for(n in t)Q(e+"["+n+"]",t[n],i,r)}function ee(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var r,n=0,o=t.toLowerCase().match(Re)||[];if(ge.isFunction(i))for(;r=o[n++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(i)):(e[r]=e[r]||[]).push(i)}}function te(e,t,i,r){function n(s){var h;return o[s]=!0,ge.each(e[s]||[],function(e,s){var c=s(t,i,r);return"string"!=typeof c||a||o[c]?a?!(h=c):void 0:(t.dataTypes.unshift(c),n(c),!1)}),h}var o={},a=e===zt;return n(t.dataTypes[0])||!o["*"]&&n("*")}function ie(e,t){var i,r,n=ge.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((n[i]?e:r||(r={}))[i]=t[i]);return r&&ge.extend(!0,e,r),e}function re(e,t,i){for(var r,n,o,a,s=e.contents,h=e.dataTypes;"*"===h[0];)h.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(n in s)if(s[n]&&s[n].test(r)){h.unshift(n);break}if(h[0]in i)o=h[0];else{for(n in i){if(!h[0]||e.converters[n+" "+h[0]]){o=n;break}a||(a=n)}o=o||a}if(o)return o!==h[0]&&h.unshift(o),i[o]}function ne(e,t,i,r){var n,o,a,s,h,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=l.shift();o;)if(e.responseFields[o]&&(i[e.responseFields[o]]=t),!h&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),h=o,o=l.shift())if("*"===o)o=h;else if("*"!==h&&h!==o){if(!(a=c[h+" "+o]||c["* "+o]))for(n in c)if(s=n.split(" "),s[1]===o&&(a=c[h+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[n]:!0!==c[n]&&(o=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+h+" to "+o}}}return{state:"success",data:t}}var oe=[],ae=i.document,se=Object.getPrototypeOf,he=oe.slice,ce=oe.concat,le=oe.push,ue=oe.indexOf,de={},fe=de.toString,pe=de.hasOwnProperty,me=pe.toString,ve=me.call(Object),ye={},ge=function(e,t){return new ge.fn.init(e,t)},be=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,xe=/^-ms-/,we=/-([a-z])/g,_e=function(e,t){return t.toUpperCase()};ge.fn=ge.prototype={jquery:"3.2.1",constructor:ge,length:0,toArray:function(){return he.call(this)},get:function(e){return null==e?he.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=ge.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return ge.each(this,e)},map:function(e){return this.pushStack(ge.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(he.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:le,sort:oe.sort,splice:oe.splice},ge.extend=ge.fn.extend=function(){var e,t,i,r,n,o,a=arguments[0]||{},s=1,h=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||ge.isFunction(a)||(a={}),s===h&&(a=this,s--);s<h;s++)if(null!=(e=arguments[s]))for(t in e)i=a[t],r=e[t],a!==r&&(c&&r&&(ge.isPlainObject(r)||(n=Array.isArray(r)))?(n?(n=!1,o=i&&Array.isArray(i)?i:[]):o=i&&ge.isPlainObject(i)?i:{},a[t]=ge.extend(c,o,r)):void 0!==r&&(a[t]=r));return a},ge.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ge.type(e)},isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=ge.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,i;return!(!e||"[object Object]"!==fe.call(e))&&(!(t=se(e))||"function"==typeof(i=pe.call(t,"constructor")&&t.constructor)&&me.call(i)===ve)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?de[fe.call(e)]||"object":typeof e},globalEval:function(e){a(e)},camelCase:function(e){return e.replace(xe,"ms-").replace(we,_e)},each:function(e,t){var i,r=0;if(s(e))for(i=e.length;r<i&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(be,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(s(Object(e))?ge.merge(i,"string"==typeof e?[e]:e):le.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:ue.call(t,e,i)},merge:function(e,t){for(var i=+t.length,r=0,n=e.length;r<i;r++)e[n++]=t[r];return e.length=n,e},grep:function(e,t,i){for(var r=[],n=0,o=e.length,a=!i;n<o;n++)!t(e[n],n)!==a&&r.push(e[n]);return r},map:function(e,t,i){var r,n,o=0,a=[];if(s(e))for(r=e.length;o<r;o++)null!=(n=t(e[o],o,i))&&a.push(n);else for(o in e)null!=(n=t(e[o],o,i))&&a.push(n);return ce.apply([],a)},guid:1,proxy:function(e,t){var i,r,n;if("string"==typeof t&&(i=e[t],t=e,e=i),ge.isFunction(e))return r=he.call(arguments,2),n=function(){return e.apply(t||this,r.concat(he.call(arguments)))},n.guid=e.guid=e.guid||ge.guid++,n},now:Date.now,support:ye}),"function"==typeof Symbol&&(ge.fn[Symbol.iterator]=oe[Symbol.iterator]),ge.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){de["[object "+t+"]"]=t.toLowerCase()});var Te=/*!
 * Sizzle CSS Selector Engine v2.3.3
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-08-08
 */
function(e){function t(e,t,i,r){var n,o,a,s,h,l,d,f=t&&t.ownerDocument,p=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return i;if(!r&&((t?t.ownerDocument||t:U)!==I&&k(t),t=t||I,R)){if(11!==p&&(h=me.exec(e)))if(n=h[1]){if(9===p){if(!(a=t.getElementById(n)))return i;if(a.id===n)return i.push(a),i}else if(f&&(a=f.getElementById(n))&&B(t,a)&&a.id===n)return i.push(a),i}else{if(h[2])return K.apply(i,t.getElementsByTagName(e)),i;if((n=h[3])&&x.getElementsByClassName&&t.getElementsByClassName)return K.apply(i,t.getElementsByClassName(n)),i}if(x.qsa&&!V[e+" "]&&(!F||!F.test(e))){if(1!==p)f=t,d=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(be,xe):t.setAttribute("id",s=N),l=E(e),o=l.length;o--;)l[o]="#"+s+" "+u(l[o]);d=l.join(","),f=ve.test(e)&&c(t.parentNode)||t}if(d)try{return K.apply(i,f.querySelectorAll(d)),i}catch(e){}finally{s===N&&t.removeAttribute("id")}}}return M(e.replace(oe,"$1"),t,i,r)}function i(){function e(i,r){return t.push(i+" ")>w.cacheLength&&delete e[t.shift()],e[i+" "]=r}var t=[];return e}function r(e){return e[N]=!0,e}function n(e){var t=I.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var i=e.split("|"),r=i.length;r--;)w.attrHandle[i[r]]=t}function a(e,t){var i=t&&e,r=i&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function s(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&_e(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function h(e){return r(function(t){return t=+t,r(function(i,r){for(var n,o=e([],i.length,t),a=o.length;a--;)i[n=o[a]]&&(i[n]=!(r[n]=i[n]))})})}function c(e){return e&&void 0!==e.getElementsByTagName&&e}function l(){}function u(e){for(var t=0,i=e.length,r="";t<i;t++)r+=e[t].value;return r}function d(e,t,i){var r=t.dir,n=t.next,o=n||r,a=i&&"parentNode"===o,s=j++;return t.first?function(t,i,n){for(;t=t[r];)if(1===t.nodeType||a)return e(t,i,n);return!1}:function(t,i,h){var c,l,u,d=[H,s];if(h){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,i,h))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(u=t[N]||(t[N]={}),l=u[t.uniqueID]||(u[t.uniqueID]={}),n&&n===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=l[o])&&c[0]===H&&c[1]===s)return d[2]=c[2];if(l[o]=d,d[2]=e(t,i,h))return!0}return!1}}function f(e){return e.length>1?function(t,i,r){for(var n=e.length;n--;)if(!e[n](t,i,r))return!1;return!0}:e[0]}function p(e,i,r){for(var n=0,o=i.length;n<o;n++)t(e,i[n],r);return r}function m(e,t,i,r,n){for(var o,a=[],s=0,h=e.length,c=null!=t;s<h;s++)(o=e[s])&&(i&&!i(o,r,n)||(a.push(o),c&&t.push(s)));return a}function v(e,t,i,n,o,a){return n&&!n[N]&&(n=v(n)),o&&!o[N]&&(o=v(o,a)),r(function(r,a,s,h){var c,l,u,d=[],f=[],v=a.length,y=r||p(t||"*",s.nodeType?[s]:s,[]),g=!e||!r&&t?y:m(y,d,e,s,h),b=i?o||(r?e:v||n)?[]:a:g;if(i&&i(g,b,s,h),n)for(c=m(b,f),n(c,[],s,h),l=c.length;l--;)(u=c[l])&&(b[f[l]]=!(g[f[l]]=u));if(r){if(o||e){if(o){for(c=[],l=b.length;l--;)(u=b[l])&&c.push(g[l]=u);o(null,b=[],c,h)}for(l=b.length;l--;)(u=b[l])&&(c=o?J(r,u):d[l])>-1&&(r[c]=!(a[c]=u))}}else b=m(b===a?b.splice(v,b.length):b),o?o(null,a,b,h):K.apply(a,b)})}function y(e){for(var t,i,r,n=e.length,o=w.relative[e[0].type],a=o||w.relative[" "],s=o?1:0,h=d(function(e){return e===t},a,!0),c=d(function(e){return J(t,e)>-1},a,!0),l=[function(e,i,r){var n=!o&&(r||i!==C)||((t=i).nodeType?h(e,i,r):c(e,i,r));return t=null,n}];s<n;s++)if(i=w.relative[e[s].type])l=[d(f(l),i)];else{if(i=w.filter[e[s].type].apply(null,e[s].matches),i[N]){for(r=++s;r<n&&!w.relative[e[r].type];r++);return v(s>1&&f(l),s>1&&u(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(oe,"$1"),i,s<r&&y(e.slice(s,r)),r<n&&y(e=e.slice(r)),r<n&&u(e))}l.push(i)}return f(l)}function g(e,i){var n=i.length>0,o=e.length>0,a=function(r,a,s,h,c){var l,u,d,f=0,p="0",v=r&&[],y=[],g=C,b=r||o&&w.find.TAG("*",c),x=H+=null==g?1:Math.random()||.1,_=b.length;for(c&&(C=a===I||a||c);p!==_&&null!=(l=b[p]);p++){if(o&&l){for(u=0,a||l.ownerDocument===I||(k(l),s=!R);d=e[u++];)if(d(l,a||I,s)){h.push(l);break}c&&(H=x)}n&&((l=!d&&l)&&f--,r&&v.push(l))}if(f+=p,n&&p!==f){for(u=0;d=i[u++];)d(v,y,a,s);if(r){if(f>0)for(;p--;)v[p]||y[p]||(y[p]=q.call(h));y=m(y)}K.apply(h,y),c&&!r&&y.length>0&&f+i.length>1&&t.uniqueSort(h)}return c&&(H=x,C=g),v};return n?r(a):a}var b,x,w,_,T,E,S,M,C,A,D,k,I,P,R,F,O,L,B,N="sizzle"+1*new Date,U=e.document,H=0,j=0,z=i(),G=i(),V=i(),X=function(e,t){return e===t&&(D=!0),0},Y={}.hasOwnProperty,W=[],q=W.pop,$=W.push,K=W.push,Z=W.slice,J=function(e,t){for(var i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1},Q="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ie="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",re=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",ne=new RegExp(ee+"+","g"),oe=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),ae=new RegExp("^"+ee+"*,"+ee+"*"),se=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),he=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),ce=new RegExp(re),le=new RegExp("^"+te+"$"),ue={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+re),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Q+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},de=/^(?:input|select|textarea|button)$/i,fe=/^h\d$/i,pe=/^[^{]+\{\s*\[native \w/,me=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,ye=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),ge=function(e,t,i){var r="0x"+t-65536;return r!==r||i?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},be=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,xe=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},we=function(){k()},_e=d(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{K.apply(W=Z.call(U.childNodes),U.childNodes),W[U.childNodes.length].nodeType}catch(e){K={apply:W.length?function(e,t){$.apply(e,Z.call(t))}:function(e,t){for(var i=e.length,r=0;e[i++]=t[r++];);e.length=i-1}}}x=t.support={},T=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},k=t.setDocument=function(e){var t,i,r=e?e.ownerDocument||e:U;return r!==I&&9===r.nodeType&&r.documentElement?(I=r,P=I.documentElement,R=!T(I),U!==I&&(i=I.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",we,!1):i.attachEvent&&i.attachEvent("onunload",we)),x.attributes=n(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=n(function(e){return e.appendChild(I.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=pe.test(I.getElementsByClassName),x.getById=n(function(e){return P.appendChild(e).id=N,!I.getElementsByName||!I.getElementsByName(N).length}),x.getById?(w.filter.ID=function(e){var t=e.replace(ye,ge);return function(e){return e.getAttribute("id")===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&R){var i=t.getElementById(e);return i?[i]:[]}}):(w.filter.ID=function(e){var t=e.replace(ye,ge);return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&R){var i,r,n,o=t.getElementById(e);if(o){if((i=o.getAttributeNode("id"))&&i.value===e)return[o];for(n=t.getElementsByName(e),r=0;o=n[r++];)if((i=o.getAttributeNode("id"))&&i.value===e)return[o]}return[]}}),w.find.TAG=x.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,r=[],n=0,o=t.getElementsByTagName(e);if("*"===e){for(;i=o[n++];)1===i.nodeType&&r.push(i);return r}return o},w.find.CLASS=x.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&R)return t.getElementsByClassName(e)},O=[],F=[],(x.qsa=pe.test(I.querySelectorAll))&&(n(function(e){P.appendChild(e).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&F.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||F.push("\\["+ee+"*(?:value|"+Q+")"),e.querySelectorAll("[id~="+N+"-]").length||F.push("~="),e.querySelectorAll(":checked").length||F.push(":checked"),e.querySelectorAll("a#"+N+"+*").length||F.push(".#.+[+~]")}),n(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=I.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&F.push("name"+ee+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&F.push(":enabled",":disabled"),P.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&F.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),F.push(",.*:")})),(x.matchesSelector=pe.test(L=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&n(function(e){x.disconnectedMatch=L.call(e,"*"),L.call(e,"[s!='']:x"),O.push("!=",re)}),F=F.length&&new RegExp(F.join("|")),O=O.length&&new RegExp(O.join("|")),t=pe.test(P.compareDocumentPosition),B=t||pe.test(P.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(i.contains?i.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},X=t?function(e,t){if(e===t)return D=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!x.sortDetached&&t.compareDocumentPosition(e)===i?e===I||e.ownerDocument===U&&B(U,e)?-1:t===I||t.ownerDocument===U&&B(U,t)?1:A?J(A,e)-J(A,t):0:4&i?-1:1)}:function(e,t){if(e===t)return D=!0,0;var i,r=0,n=e.parentNode,o=t.parentNode,s=[e],h=[t];if(!n||!o)return e===I?-1:t===I?1:n?-1:o?1:A?J(A,e)-J(A,t):0;if(n===o)return a(e,t);for(i=e;i=i.parentNode;)s.unshift(i);for(i=t;i=i.parentNode;)h.unshift(i);for(;s[r]===h[r];)r++;return r?a(s[r],h[r]):s[r]===U?-1:h[r]===U?1:0},I):I},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==I&&k(e),i=i.replace(he,"='$1']"),x.matchesSelector&&R&&!V[i+" "]&&(!O||!O.test(i))&&(!F||!F.test(i)))try{var r=L.call(e,i);if(r||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(i,I,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==I&&k(e),B(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==I&&k(e);var i=w.attrHandle[t.toLowerCase()],r=i&&Y.call(w.attrHandle,t.toLowerCase())?i(e,t,!R):void 0;return void 0!==r?r:x.attributes||!R?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.escape=function(e){return(e+"").replace(be,xe)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],r=0,n=0;if(D=!x.detectDuplicates,A=!x.sortStable&&e.slice(0),e.sort(X),D){for(;t=e[n++];)t===e[n]&&(r=i.push(n));for(;r--;)e.splice(i[r],1)}return A=null,e},_=t.getText=function(e){var t,i="",r=0,n=e.nodeType;if(n){if(1===n||9===n||11===n){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=_(e)}else if(3===n||4===n)return e.nodeValue}else for(;t=e[r++];)i+=_(t);return i},w=t.selectors={cacheLength:50,createPseudo:r,match:ue,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ye,ge),e[3]=(e[3]||e[4]||e[5]||"").replace(ye,ge),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return ue.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&ce.test(i)&&(t=E(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ye,ge).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,i,r){return function(n){var o=t.attr(n,e);return null==o?"!="===i:!i||(o+="","="===i?o===r:"!="===i?o!==r:"^="===i?r&&0===o.indexOf(r):"*="===i?r&&o.indexOf(r)>-1:"$="===i?r&&o.slice(-r.length)===r:"~="===i?(" "+o.replace(ne," ")+" ").indexOf(r)>-1:"|="===i&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,i,r,n){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===n?function(e){return!!e.parentNode}:function(t,i,h){var c,l,u,d,f,p,m=o!==a?"nextSibling":"previousSibling",v=t.parentNode,y=s&&t.nodeName.toLowerCase(),g=!h&&!s,b=!1;if(v){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===y:1===d.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?v.firstChild:v.lastChild],a&&g){for(d=v,u=d[N]||(d[N]={}),l=u[d.uniqueID]||(u[d.uniqueID]={}),c=l[e]||[],f=c[0]===H&&c[1],b=f&&c[2],d=f&&v.childNodes[f];d=++f&&d&&d[m]||(b=f=0)||p.pop();)if(1===d.nodeType&&++b&&d===t){l[e]=[H,f,b];break}}else if(g&&(d=t,u=d[N]||(d[N]={}),l=u[d.uniqueID]||(u[d.uniqueID]={}),c=l[e]||[],f=c[0]===H&&c[1],b=f),!1===b)for(;(d=++f&&d&&d[m]||(b=f=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==y:1!==d.nodeType)||!++b||(g&&(u=d[N]||(d[N]={}),l=u[d.uniqueID]||(u[d.uniqueID]={}),l[e]=[H,b]),d!==t)););return(b-=n)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,i){var n,o=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[N]?o(i):o.length>1?(n=[e,e,"",i],w.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,n=o(e,i),a=n.length;a--;)r=J(e,n[a]),e[r]=!(t[r]=n[a])}):function(e){return o(e,0,n)}):o}},pseudos:{not:r(function(e){var t=[],i=[],n=S(e.replace(oe,"$1"));return n[N]?r(function(e,t,i,r){for(var o,a=n(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,n(t,null,o,i),t[0]=null,!i.pop()}}),has:r(function(e){return function(i){return t(e,i).length>0}}),contains:r(function(e){return e=e.replace(ye,ge),function(t){return(t.textContent||t.innerText||_(t)).indexOf(e)>-1}}),lang:r(function(e){return le.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ye,ge).toLowerCase(),function(t){var i;do{if(i=R?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===P},focus:function(e){return e===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:s(!1),disabled:s(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return fe.test(e.nodeName)},input:function(e){return de.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:h(function(){return[0]}),last:h(function(e,t){return[t-1]}),eq:h(function(e,t,i){return[i<0?i+t:i]}),even:h(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:h(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:h(function(e,t,i){for(var r=i<0?i+t:i;--r>=0;)e.push(r);return e}),gt:h(function(e,t,i){for(var r=i<0?i+t:i;++r<t;)e.push(r);return e})}},w.pseudos.nth=w.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[b]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(b);for(b in{submit:!0,reset:!0})w.pseudos[b]=function(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}(b);return l.prototype=w.filters=w.pseudos,w.setFilters=new l,E=t.tokenize=function(e,i){var r,n,o,a,s,h,c,l=G[e+" "];if(l)return i?0:l.slice(0);for(s=e,h=[],c=w.preFilter;s;){r&&!(n=ae.exec(s))||(n&&(s=s.slice(n[0].length)||s),h.push(o=[])),r=!1,(n=se.exec(s))&&(r=n.shift(),o.push({value:r,type:n[0].replace(oe," ")}),s=s.slice(r.length));for(a in w.filter)!(n=ue[a].exec(s))||c[a]&&!(n=c[a](n))||(r=n.shift(),o.push({value:r,type:a,matches:n}),s=s.slice(r.length));if(!r)break}return i?s.length:s?t.error(e):G(e,h).slice(0)},S=t.compile=function(e,t){var i,r=[],n=[],o=V[e+" "];if(!o){for(t||(t=E(e)),i=t.length;i--;)o=y(t[i]),o[N]?r.push(o):n.push(o);o=V(e,g(n,r)),o.selector=e}return o},M=t.select=function(e,t,i,r){var n,o,a,s,h,l="function"==typeof e&&e,d=!r&&E(e=l.selector||e);if(i=i||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===t.nodeType&&R&&w.relative[o[1].type]){if(!(t=(w.find.ID(a.matches[0].replace(ye,ge),t)||[])[0]))return i;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(n=ue.needsContext.test(e)?0:o.length;n--&&(a=o[n],!w.relative[s=a.type]);)if((h=w.find[s])&&(r=h(a.matches[0].replace(ye,ge),ve.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(n,1),!(e=r.length&&u(o)))return K.apply(i,r),i;break}}return(l||S(e,d))(r,t,!R,i,!t||ve.test(e)&&c(t.parentNode)||t),i},x.sortStable=N.split("").sort(X).join("")===N,x.detectDuplicates=!!D,k(),x.sortDetached=n(function(e){return 1&e.compareDocumentPosition(I.createElement("fieldset"))}),n(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&n(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),n(function(e){return null==e.getAttribute("disabled")})||o(Q,function(e,t,i){var r;if(!i)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(i);ge.find=Te,ge.expr=Te.selectors,ge.expr[":"]=ge.expr.pseudos,ge.uniqueSort=ge.unique=Te.uniqueSort,ge.text=Te.getText,ge.isXMLDoc=Te.isXML,ge.contains=Te.contains,ge.escapeSelector=Te.escape;var Ee=function(e,t,i){for(var r=[],n=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(n&&ge(e).is(i))break;r.push(e)}return r},Se=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},Me=ge.expr.match.needsContext,Ce=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Ae=/^.[^:#\[\.,]*$/;ge.filter=function(e,t,i){var r=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ge.find.matchesSelector(r,e)?[r]:[]:ge.find.matches(e,ge.grep(t,function(e){return 1===e.nodeType}))},ge.fn.extend({find:function(e){var t,i,r=this.length,n=this;if("string"!=typeof e)return this.pushStack(ge(e).filter(function(){for(t=0;t<r;t++)if(ge.contains(n[t],this))return!0}));for(i=this.pushStack([]),t=0;t<r;t++)ge.find(e,n[t],i);return r>1?ge.uniqueSort(i):i},filter:function(e){return this.pushStack(c(this,e||[],!1))},not:function(e){return this.pushStack(c(this,e||[],!0))},is:function(e){return!!c(this,"string"==typeof e&&Me.test(e)?ge(e):e||[],!1).length}});var De,ke=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(ge.fn.init=function(e,t,i){var r,n;if(!e)return this;if(i=i||De,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ke.exec(e))||!r[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof ge?t[0]:t,ge.merge(this,ge.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:ae,!0)),Ce.test(r[1])&&ge.isPlainObject(t))for(r in t)ge.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return n=ae.getElementById(r[2]),n&&(this[0]=n,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):ge.isFunction(e)?void 0!==i.ready?i.ready(e):e(ge):ge.makeArray(e,this)}).prototype=ge.fn,De=ge(ae);var Ie=/^(?:parents|prev(?:Until|All))/,Pe={children:!0,contents:!0,next:!0,prev:!0};ge.fn.extend({has:function(e){var t=ge(e,this),i=t.length;return this.filter(function(){for(var e=0;e<i;e++)if(ge.contains(this,t[e]))return!0})},closest:function(e,t){var i,r=0,n=this.length,o=[],a="string"!=typeof e&&ge(e);if(!Me.test(e))for(;r<n;r++)for(i=this[r];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&ge.find.matchesSelector(i,e))){o.push(i);break}return this.pushStack(o.length>1?ge.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?ue.call(ge(e),this[0]):ue.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ge.uniqueSort(ge.merge(this.get(),ge(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ge.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Ee(e,"parentNode")},parentsUntil:function(e,t,i){return Ee(e,"parentNode",i)},next:function(e){return l(e,"nextSibling")},prev:function(e){return l(e,"previousSibling")},nextAll:function(e){return Ee(e,"nextSibling")},prevAll:function(e){return Ee(e,"previousSibling")},nextUntil:function(e,t,i){return Ee(e,"nextSibling",i)},prevUntil:function(e,t,i){return Ee(e,"previousSibling",i)},siblings:function(e){return Se((e.parentNode||{}).firstChild,e)},children:function(e){return Se(e.firstChild)},contents:function(e){return h(e,"iframe")?e.contentDocument:(h(e,"template")&&(e=e.content||e),ge.merge([],e.childNodes))}},function(e,t){ge.fn[e]=function(i,r){var n=ge.map(this,t,i);return"Until"!==e.slice(-5)&&(r=i),r&&"string"==typeof r&&(n=ge.filter(r,n)),this.length>1&&(Pe[e]||ge.uniqueSort(n),Ie.test(e)&&n.reverse()),this.pushStack(n)}});var Re=/[^\x20\t\r\n\f]+/g;ge.Callbacks=function(e){e="string"==typeof e?u(e):ge.extend({},e);var t,i,r,n,o=[],a=[],s=-1,h=function(){for(n=n||e.once,r=t=!0;a.length;s=-1)for(i=a.shift();++s<o.length;)!1===o[s].apply(i[0],i[1])&&e.stopOnFalse&&(s=o.length,i=!1);e.memory||(i=!1),t=!1,n&&(o=i?[]:"")},c={add:function(){return o&&(i&&!t&&(s=o.length-1,a.push(i)),function t(i){ge.each(i,function(i,r){ge.isFunction(r)?e.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==ge.type(r)&&t(r)})}(arguments),i&&!t&&h()),this},remove:function(){return ge.each(arguments,function(e,t){for(var i;(i=ge.inArray(t,o,i))>-1;)o.splice(i,1),i<=s&&s--}),this},has:function(e){return e?ge.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return n=a=[],o=i="",this},disabled:function(){return!o},lock:function(){return n=a=[],i||t||(o=i=""),this},locked:function(){return!!n},fireWith:function(e,i){return n||(i=i||[],i=[e,i.slice?i.slice():i],a.push(i),t||h()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},ge.extend({Deferred:function(e){var t=[["notify","progress",ge.Callbacks("memory"),ge.Callbacks("memory"),2],["resolve","done",ge.Callbacks("once memory"),ge.Callbacks("once memory"),0,"resolved"],["reject","fail",ge.Callbacks("once memory"),ge.Callbacks("once memory"),1,"rejected"]],r="pending",n={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return n.then(null,e)},pipe:function(){var e=arguments;return ge.Deferred(function(i){ge.each(t,function(t,r){var n=ge.isFunction(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=n&&n.apply(this,arguments);e&&ge.isFunction(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[r[0]+"With"](this,n?[e]:arguments)})}),e=null}).promise()},then:function(e,r,n){function o(e,t,r,n){return function(){var s=this,h=arguments,c=function(){var i,c;if(!(e<a)){if((i=r.apply(s,h))===t.promise())throw new TypeError("Thenable self-resolution");c=i&&("object"==typeof i||"function"==typeof i)&&i.then,ge.isFunction(c)?n?c.call(i,o(a,t,d,n),o(a,t,f,n)):(a++,c.call(i,o(a,t,d,n),o(a,t,f,n),o(a,t,d,t.notifyWith))):(r!==d&&(s=void 0,h=[i]),(n||t.resolveWith)(s,h))}},l=n?c:function(){try{c()}catch(i){ge.Deferred.exceptionHook&&ge.Deferred.exceptionHook(i,l.stackTrace),e+1>=a&&(r!==f&&(s=void 0,h=[i]),t.rejectWith(s,h))}};e?l():(ge.Deferred.getStackHook&&(l.stackTrace=ge.Deferred.getStackHook()),i.setTimeout(l))}}var a=0;return ge.Deferred(function(i){t[0][3].add(o(0,i,ge.isFunction(n)?n:d,i.notifyWith)),t[1][3].add(o(0,i,ge.isFunction(e)?e:d)),t[2][3].add(o(0,i,ge.isFunction(r)?r:f))}).promise()},promise:function(e){return null!=e?ge.extend(e,n):n}},o={};return ge.each(t,function(e,i){var a=i[2],s=i[5];n[i[1]]=a.add,s&&a.add(function(){r=s},t[3-e][2].disable,t[0][2].lock),a.add(i[3].fire),o[i[0]]=function(){return o[i[0]+"With"](this===o?void 0:this,arguments),this},o[i[0]+"With"]=a.fireWith}),n.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,i=t,r=Array(i),n=he.call(arguments),o=ge.Deferred(),a=function(e){return function(i){r[e]=this,n[e]=arguments.length>1?he.call(arguments):i,--t||o.resolveWith(r,n)}};if(t<=1&&(p(e,o.done(a(i)).resolve,o.reject,!t),"pending"===o.state()||ge.isFunction(n[i]&&n[i].then)))return o.then();for(;i--;)p(n[i],a(i),o.reject);return o.promise()}});var Fe=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ge.Deferred.exceptionHook=function(e,t){i.console&&i.console.warn&&e&&Fe.test(e.name)&&i.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},ge.readyException=function(e){i.setTimeout(function(){throw e})};var Oe=ge.Deferred();ge.fn.ready=function(e){return Oe.then(e).catch(function(e){ge.readyException(e)}),this},ge.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--ge.readyWait:ge.isReady)||(ge.isReady=!0,!0!==e&&--ge.readyWait>0||Oe.resolveWith(ae,[ge]))}}),ge.ready.then=Oe.then,"complete"===ae.readyState||"loading"!==ae.readyState&&!ae.documentElement.doScroll?i.setTimeout(ge.ready):(ae.addEventListener("DOMContentLoaded",m),i.addEventListener("load",m));var Le=function(e,t,i,r,n,o,a){var s=0,h=e.length,c=null==i;if("object"===ge.type(i)){n=!0;for(s in i)Le(e,t,s,i[s],!0,o,a)}else if(void 0!==r&&(n=!0,ge.isFunction(r)||(a=!0),c&&(a?(t.call(e,r),t=null):(c=t,t=function(e,t,i){return c.call(ge(e),i)})),t))for(;s<h;s++)t(e[s],i,a?r:r.call(e[s],s,t(e[s],i)));return n?e:c?t.call(e):h?t(e[0],i):o},Be=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};v.uid=1,v.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Be(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var r,n=this.cache(e);if("string"==typeof t)n[ge.camelCase(t)]=i;else for(r in t)n[ge.camelCase(r)]=t[r];return n},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ge.camelCase(t)]},access:function(e,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(e,t):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,r=e[this.expando];if(void 0!==r){if(void 0!==t){Array.isArray(t)?t=t.map(ge.camelCase):(t=ge.camelCase(t),t=t in r?[t]:t.match(Re)||[]),i=t.length;for(;i--;)delete r[t[i]]}(void 0===t||ge.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ge.isEmptyObject(t)}};var Ne=new v,Ue=new v,He=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,je=/[A-Z]/g;ge.extend({hasData:function(e){return Ue.hasData(e)||Ne.hasData(e)},data:function(e,t,i){return Ue.access(e,t,i)},removeData:function(e,t){Ue.remove(e,t)},_data:function(e,t,i){return Ne.access(e,t,i)},_removeData:function(e,t){Ne.remove(e,t)}}),ge.fn.extend({data:function(e,t){var i,r,n,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(n=Ue.get(o),1===o.nodeType&&!Ne.get(o,"hasDataAttrs"))){for(i=a.length;i--;)a[i]&&(r=a[i].name,0===r.indexOf("data-")&&(r=ge.camelCase(r.slice(5)),g(o,r,n[r])));Ne.set(o,"hasDataAttrs",!0)}return n}return"object"==typeof e?this.each(function(){Ue.set(this,e)}):Le(this,function(t){var i;if(o&&void 0===t){if(void 0!==(i=Ue.get(o,e)))return i;if(void 0!==(i=g(o,e)))return i}else this.each(function(){Ue.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Ue.remove(this,e)})}}),ge.extend({queue:function(e,t,i){var r;if(e)return t=(t||"fx")+"queue",r=Ne.get(e,t),i&&(!r||Array.isArray(i)?r=Ne.access(e,t,ge.makeArray(i)):r.push(i)),r||[]},dequeue:function(e,t){t=t||"fx";var i=ge.queue(e,t),r=i.length,n=i.shift(),o=ge._queueHooks(e,t),a=function(){ge.dequeue(e,t)};"inprogress"===n&&(n=i.shift(),r--),n&&("fx"===t&&i.unshift("inprogress"),delete o.stop,n.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return Ne.get(e,i)||Ne.access(e,i,{empty:ge.Callbacks("once memory").add(function(){Ne.remove(e,[t+"queue",i])})})}}),ge.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?ge.queue(this[0],e):void 0===t?this:this.each(function(){var i=ge.queue(this,e,t);ge._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&ge.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ge.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,r=1,n=ge.Deferred(),o=this,a=this.length,s=function(){--r||n.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(i=Ne.get(o[a],e+"queueHooks"))&&i.empty&&(r++,i.empty.add(s));return s(),n.promise(t)}});var ze=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ge=new RegExp("^(?:([+-])=|)("+ze+")([a-z%]*)$","i"),Ve=["Top","Right","Bottom","Left"],Xe=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&ge.contains(e.ownerDocument,e)&&"none"===ge.css(e,"display")},Ye=function(e,t,i,r){var n,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];n=i.apply(e,r||[]);for(o in t)e.style[o]=a[o];return n},We={};ge.fn.extend({show:function(){return w(this,!0)},hide:function(){return w(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Xe(this)?ge(this).show():ge(this).hide()})}});var qe=/^(?:checkbox|radio)$/i,$e=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ke=/^$|\/(?:java|ecma)script/i,Ze={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ze.optgroup=Ze.option,Ze.tbody=Ze.tfoot=Ze.colgroup=Ze.caption=Ze.thead,Ze.th=Ze.td;var Je=/<|&#?\w+;/;!function(){var e=ae.createDocumentFragment(),t=e.appendChild(ae.createElement("div")),i=ae.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),t.appendChild(i),ye.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",ye.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Qe=ae.documentElement,et=/^key/,tt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,it=/^([^.]*)(?:\.(.+)|)/;ge.event={global:{},add:function(e,t,i,r,n){var o,a,s,h,c,l,u,d,f,p,m,v=Ne.get(e);if(v)for(i.handler&&(o=i,i=o.handler,n=o.selector),n&&ge.find.matchesSelector(Qe,n),i.guid||(i.guid=ge.guid++),(h=v.events)||(h=v.events={}),(a=v.handle)||(a=v.handle=function(t){return void 0!==ge&&ge.event.triggered!==t.type?ge.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Re)||[""],c=t.length;c--;)s=it.exec(t[c])||[],f=m=s[1],p=(s[2]||"").split(".").sort(),f&&(u=ge.event.special[f]||{},f=(n?u.delegateType:u.bindType)||f,u=ge.event.special[f]||{},l=ge.extend({type:f,origType:m,data:r,handler:i,guid:i.guid,selector:n,needsContext:n&&ge.expr.match.needsContext.test(n),namespace:p.join(".")},o),(d=h[f])||(d=h[f]=[],d.delegateCount=0,u.setup&&!1!==u.setup.call(e,r,p,a)||e.addEventListener&&e.addEventListener(f,a)),u.add&&(u.add.call(e,l),l.handler.guid||(l.handler.guid=i.guid)),n?d.splice(d.delegateCount++,0,l):d.push(l),ge.event.global[f]=!0)},remove:function(e,t,i,r,n){var o,a,s,h,c,l,u,d,f,p,m,v=Ne.hasData(e)&&Ne.get(e);if(v&&(h=v.events)){for(t=(t||"").match(Re)||[""],c=t.length;c--;)if(s=it.exec(t[c])||[],f=m=s[1],p=(s[2]||"").split(".").sort(),f){for(u=ge.event.special[f]||{},f=(r?u.delegateType:u.bindType)||f,d=h[f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)l=d[o],!n&&m!==l.origType||i&&i.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(d.splice(o,1),l.selector&&d.delegateCount--,u.remove&&u.remove.call(e,l));a&&!d.length&&(u.teardown&&!1!==u.teardown.call(e,p,v.handle)||ge.removeEvent(e,f,v.handle),delete h[f])}else for(f in h)ge.event.remove(e,f+t[c],i,r,!0);ge.isEmptyObject(h)&&Ne.remove(e,"handle events")}},dispatch:function(e){var t,i,r,n,o,a,s=ge.event.fix(e),h=new Array(arguments.length),c=(Ne.get(this,"events")||{})[s.type]||[],l=ge.event.special[s.type]||{};for(h[0]=s,t=1;t<arguments.length;t++)h[t]=arguments[t];if(s.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,s)){for(a=ge.event.handlers.call(this,s,c),t=0;(n=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=n.elem,i=0;(o=n.handlers[i++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((ge.event.special[o.origType]||{}).handle||o.handler).apply(n.elem,h))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,s),s.result}},handlers:function(e,t){var i,r,n,o,a,s=[],h=t.delegateCount,c=e.target;if(h&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],a={},i=0;i<h;i++)r=t[i],n=r.selector+" ",void 0===a[n]&&(a[n]=r.needsContext?ge(n,this).index(c)>-1:ge.find(n,this,null,[c]).length),a[n]&&o.push(r);o.length&&s.push({elem:c,handlers:o})}return c=this,h<t.length&&s.push({elem:c,handlers:t.slice(h)}),s},addProp:function(e,t){Object.defineProperty(ge.Event.prototype,e,{enumerable:!0,configurable:!0,get:ge.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[ge.expando]?e:new ge.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==C()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===C()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&h(this,"input"))return this.click(),!1},_default:function(e){return h(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ge.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},ge.Event=function(e,t){if(!(this instanceof ge.Event))return new ge.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?S:M,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&ge.extend(this,t),this.timeStamp=e&&e.timeStamp||ge.now(),this[ge.expando]=!0},ge.Event.prototype={constructor:ge.Event,isDefaultPrevented:M,isPropagationStopped:M,isImmediatePropagationStopped:M,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=S,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=S,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=S,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ge.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&et.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&tt.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},ge.event.addProp),ge.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ge.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,r=this,n=e.relatedTarget,o=e.handleObj;return n&&(n===r||ge.contains(r,n))||(e.type=o.origType,i=o.handler.apply(this,arguments),e.type=t),i}}}),ge.fn.extend({on:function(e,t,i,r){return A(this,e,t,i,r)},one:function(e,t,i,r){return A(this,e,t,i,r,1)},off:function(e,t,i){var r,n;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ge(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(n in e)this.off(n,t,e[n]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=M),this.each(function(){ge.event.remove(this,e,i,t)})}});var rt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,nt=/<script|<style|<link/i,ot=/checked\s*(?:[^=]|=\s*.checked.)/i,at=/^true\/(.*)/,st=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ge.extend({htmlPrefilter:function(e){return e.replace(rt,"<$1></$2>")},clone:function(e,t,i){var r,n,o,a,s=e.cloneNode(!0),h=ge.contains(e.ownerDocument,e);if(!(ye.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ge.isXMLDoc(e)))for(a=_(s),o=_(e),r=0,n=o.length;r<n;r++)R(o[r],a[r]);if(t)if(i)for(o=o||_(e),a=a||_(s),r=0,n=o.length;r<n;r++)P(o[r],a[r]);else P(e,s);return a=_(s,"script"),a.length>0&&T(a,!h&&_(e,"script")),s},cleanData:function(e){for(var t,i,r,n=ge.event.special,o=0;void 0!==(i=e[o]);o++)if(Be(i)){if(t=i[Ne.expando]){if(t.events)for(r in t.events)n[r]?ge.event.remove(i,r):ge.removeEvent(i,r,t.handle);i[Ne.expando]=void 0}i[Ue.expando]&&(i[Ue.expando]=void 0)}}}),ge.fn.extend({detach:function(e){return O(this,e,!0)},remove:function(e){return O(this,e)},text:function(e){return Le(this,function(e){return void 0===e?ge.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return F(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){D(this,e).appendChild(e)}})},prepend:function(){return F(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=D(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return F(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return F(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ge.cleanData(_(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ge.clone(this,e,t)})},html:function(e){return Le(this,function(e){var t=this[0]||{},i=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!nt.test(e)&&!Ze[($e.exec(e)||["",""])[1].toLowerCase()]){e=ge.htmlPrefilter(e);try{for(;i<r;i++)t=this[i]||{},1===t.nodeType&&(ge.cleanData(_(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return F(this,arguments,function(t){var i=this.parentNode;ge.inArray(this,e)<0&&(ge.cleanData(_(this)),i&&i.replaceChild(t,this))},e)}}),ge.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ge.fn[e]=function(e){for(var i,r=[],n=ge(e),o=n.length-1,a=0;a<=o;a++)i=a===o?this:this.clone(!0),ge(n[a])[t](i),le.apply(r,i.get());return this.pushStack(r)}});var ht=/^margin/,ct=new RegExp("^("+ze+")(?!px)[a-z%]+$","i"),lt=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=i),t.getComputedStyle(e)};!function(){function e(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Qe.appendChild(a);var e=i.getComputedStyle(s);t="1%"!==e.top,o="2px"===e.marginLeft,r="4px"===e.width,s.style.marginRight="50%",n="4px"===e.marginRight,Qe.removeChild(a),s=null}}var t,r,n,o,a=ae.createElement("div"),s=ae.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",ye.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),ge.extend(ye,{pixelPosition:function(){return e(),t},boxSizingReliable:function(){return e(),r},pixelMarginRight:function(){return e(),n},reliableMarginLeft:function(){return e(),o}}))}();var ut=/^(none|table(?!-c[ea]).+)/,dt=/^--/,ft={position:"absolute",visibility:"hidden",display:"block"},pt={letterSpacing:"0",fontWeight:"400"},mt=["Webkit","Moz","ms"],vt=ae.createElement("div").style;ge.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=L(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var n,o,a,s=ge.camelCase(t),h=dt.test(t),c=e.style;if(h||(t=U(s)),a=ge.cssHooks[t]||ge.cssHooks[s],void 0===i)return a&&"get"in a&&void 0!==(n=a.get(e,!1,r))?n:c[t];o=typeof i,"string"===o&&(n=Ge.exec(i))&&n[1]&&(i=b(e,t,n),o="number"),null!=i&&i===i&&("number"===o&&(i+=n&&n[3]||(ge.cssNumber[s]?"":"px")),ye.clearCloneStyle||""!==i||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(i=a.set(e,i,r))||(h?c.setProperty(t,i):c[t]=i))}},css:function(e,t,i,r){var n,o,a,s=ge.camelCase(t);return dt.test(t)||(t=U(s)),a=ge.cssHooks[t]||ge.cssHooks[s],a&&"get"in a&&(n=a.get(e,!0,i)),void 0===n&&(n=L(e,t,r)),"normal"===n&&t in pt&&(n=pt[t]),""===i||i?(o=parseFloat(n),!0===i||isFinite(o)?o||0:n):n}}),ge.each(["height","width"],function(e,t){ge.cssHooks[t]={get:function(e,i,r){if(i)return!ut.test(ge.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?z(e,t,r):Ye(e,ft,function(){return z(e,t,r)})},set:function(e,i,r){var n,o=r&&lt(e),a=r&&j(e,t,r,"border-box"===ge.css(e,"boxSizing",!1,o),o);return a&&(n=Ge.exec(i))&&"px"!==(n[3]||"px")&&(e.style[t]=i,i=ge.css(e,t)),H(e,i,a)}}}),ge.cssHooks.marginLeft=B(ye.reliableMarginLeft,function(e,t){if(t)return(parseFloat(L(e,"marginLeft"))||e.getBoundingClientRect().left-Ye(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),ge.each({margin:"",padding:"",border:"Width"},function(e,t){ge.cssHooks[e+t]={expand:function(i){for(var r=0,n={},o="string"==typeof i?i.split(" "):[i];r<4;r++)n[e+Ve[r]+t]=o[r]||o[r-2]||o[0];return n}},ht.test(e)||(ge.cssHooks[e+t].set=H)}),ge.fn.extend({css:function(e,t){return Le(this,function(e,t,i){var r,n,o={},a=0;if(Array.isArray(t)){for(r=lt(e),n=t.length;a<n;a++)o[t[a]]=ge.css(e,t[a],!1,r);return o}return void 0!==i?ge.style(e,t,i):ge.css(e,t)},e,t,arguments.length>1)}}),ge.Tween=G,G.prototype={constructor:G,init:function(e,t,i,r,n,o){this.elem=e,this.prop=i,this.easing=n||ge.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ge.cssNumber[i]?"":"px")},cur:function(){var e=G.propHooks[this.prop];return e&&e.get?e.get(this):G.propHooks._default.get(this)},run:function(e){var t,i=G.propHooks[this.prop];return this.options.duration?this.pos=t=ge.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):G.propHooks._default.set(this),this}},G.prototype.init.prototype=G.prototype,G.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ge.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){ge.fx.step[e.prop]?ge.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[ge.cssProps[e.prop]]&&!ge.cssHooks[e.prop]?e.elem[e.prop]=e.now:ge.style(e.elem,e.prop,e.now+e.unit)}}},G.propHooks.scrollTop=G.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ge.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ge.fx=G.prototype.init,ge.fx.step={};var yt,gt,bt=/^(?:toggle|show|hide)$/,xt=/queueHooks$/;ge.Animation=ge.extend(K,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return b(i.elem,e,Ge.exec(t),i),i}]},tweener:function(e,t){ge.isFunction(e)?(t=e,e=["*"]):e=e.match(Re);for(var i,r=0,n=e.length;r<n;r++)i=e[r],K.tweeners[i]=K.tweeners[i]||[],K.tweeners[i].unshift(t)},prefilters:[q],prefilter:function(e,t){t?K.prefilters.unshift(e):K.prefilters.push(e)}}),ge.speed=function(e,t,i){var r=e&&"object"==typeof e?ge.extend({},e):{complete:i||!i&&t||ge.isFunction(e)&&e,duration:e,easing:i&&t||t&&!ge.isFunction(t)&&t};return ge.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in ge.fx.speeds?r.duration=ge.fx.speeds[r.duration]:r.duration=ge.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){ge.isFunction(r.old)&&r.old.call(this),r.queue&&ge.dequeue(this,r.queue)},r},ge.fn.extend({fadeTo:function(e,t,i,r){return this.filter(Xe).css("opacity",0).show().end().animate({opacity:t},e,i,r)},animate:function(e,t,i,r){var n=ge.isEmptyObject(e),o=ge.speed(t,i,r),a=function(){var t=K(this,ge.extend({},e),o);(n||Ne.get(this,"finish"))&&t.stop(!0)};return a.finish=a,n||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,i){var r=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=ge.timers,a=Ne.get(this);if(n)a[n]&&a[n].stop&&r(a[n]);else for(n in a)a[n]&&a[n].stop&&xt.test(n)&&r(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(i),t=!1,o.splice(n,1));!t&&i||ge.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,i=Ne.get(this),r=i[e+"queue"],n=i[e+"queueHooks"],o=ge.timers,a=r?r.length:0;for(i.finish=!0,ge.queue(this,e,[]),n&&n.stop&&n.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete i.finish})}}),ge.each(["toggle","show","hide"],function(e,t){var i=ge.fn[t];ge.fn[t]=function(e,r,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(Y(t,!0),e,r,n)}}),ge.each({slideDown:Y("show"),slideUp:Y("hide"),slideToggle:Y("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ge.fn[e]=function(e,i,r){return this.animate(t,e,i,r)}}),ge.timers=[],ge.fx.tick=function(){var e,t=0,i=ge.timers;for(yt=ge.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||ge.fx.stop(),yt=void 0},ge.fx.timer=function(e){ge.timers.push(e),ge.fx.start()},ge.fx.interval=13,ge.fx.start=function(){gt||(gt=!0,V())},ge.fx.stop=function(){gt=null},ge.fx.speeds={slow:600,fast:200,_default:400},ge.fn.delay=function(e,t){return e=ge.fx?ge.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,r){var n=i.setTimeout(t,e);r.stop=function(){i.clearTimeout(n)}})},function(){var e=ae.createElement("input"),t=ae.createElement("select"),i=t.appendChild(ae.createElement("option"));e.type="checkbox",ye.checkOn=""!==e.value,ye.optSelected=i.selected,e=ae.createElement("input"),e.value="t",e.type="radio",ye.radioValue="t"===e.value}();var wt,_t=ge.expr.attrHandle;ge.fn.extend({attr:function(e,t){return Le(this,ge.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ge.removeAttr(this,e)})}}),ge.extend({attr:function(e,t,i){var r,n,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?ge.prop(e,t,i):(1===o&&ge.isXMLDoc(e)||(n=ge.attrHooks[t.toLowerCase()]||(ge.expr.match.bool.test(t)?wt:void 0)),void 0!==i?null===i?void ge.removeAttr(e,t):n&&"set"in n&&void 0!==(r=n.set(e,i,t))?r:(e.setAttribute(t,i+""),i):n&&"get"in n&&null!==(r=n.get(e,t))?r:(r=ge.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!ye.radioValue&&"radio"===t&&h(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,r=0,n=t&&t.match(Re);if(n&&1===e.nodeType)for(;i=n[r++];)e.removeAttribute(i)}}),wt={set:function(e,t,i){return!1===t?ge.removeAttr(e,i):e.setAttribute(i,i),i}},ge.each(ge.expr.match.bool.source.match(/\w+/g),function(e,t){var i=_t[t]||ge.find.attr;_t[t]=function(e,t,r){var n,o,a=t.toLowerCase();return r||(o=_t[a],_t[a]=n,n=null!=i(e,t,r)?a:null,_t[a]=o),n}});var Tt=/^(?:input|select|textarea|button)$/i,Et=/^(?:a|area)$/i;ge.fn.extend({prop:function(e,t){return Le(this,ge.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[ge.propFix[e]||e]})}}),ge.extend({prop:function(e,t,i){var r,n,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ge.isXMLDoc(e)||(t=ge.propFix[t]||t,n=ge.propHooks[t]),void 0!==i?n&&"set"in n&&void 0!==(r=n.set(e,i,t))?r:e[t]=i:n&&"get"in n&&null!==(r=n.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=ge.find.attr(e,"tabindex");return t?parseInt(t,10):Tt.test(e.nodeName)||Et.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ye.optSelected||(ge.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ge.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ge.propFix[this.toLowerCase()]=this}),ge.fn.extend({addClass:function(e){var t,i,r,n,o,a,s,h=0;if(ge.isFunction(e))return this.each(function(t){ge(this).addClass(e.call(this,t,J(this)))});if("string"==typeof e&&e)for(t=e.match(Re)||[];i=this[h++];)if(n=J(i),r=1===i.nodeType&&" "+Z(n)+" "){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");s=Z(r),n!==s&&i.setAttribute("class",s)}return this},removeClass:function(e){var t,i,r,n,o,a,s,h=0;if(ge.isFunction(e))return this.each(function(t){ge(this).removeClass(e.call(this,t,J(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Re)||[];i=this[h++];)if(n=J(i),r=1===i.nodeType&&" "+Z(n)+" "){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");s=Z(r),n!==s&&i.setAttribute("class",s)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):ge.isFunction(e)?this.each(function(i){ge(this).toggleClass(e.call(this,i,J(this),t),t)}):this.each(function(){var t,r,n,o;if("string"===i)for(r=0,n=ge(this),o=e.match(Re)||[];t=o[r++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else void 0!==e&&"boolean"!==i||(t=J(this),t&&Ne.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Ne.get(this,"__className__")||""))})},hasClass:function(e){var t,i,r=0;for(t=" "+e+" ";i=this[r++];)if(1===i.nodeType&&(" "+Z(J(i))+" ").indexOf(t)>-1)return!0;return!1}});var St=/\r/g;ge.fn.extend({val:function(e){var t,i,r,n=this[0];{if(arguments.length)return r=ge.isFunction(e),this.each(function(i){var n;1===this.nodeType&&(n=r?e.call(this,i,ge(this).val()):e,null==n?n="":"number"==typeof n?n+="":Array.isArray(n)&&(n=ge.map(n,function(e){return null==e?"":e+""})),(t=ge.valHooks[this.type]||ge.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,n,"value")||(this.value=n))});if(n)return(t=ge.valHooks[n.type]||ge.valHooks[n.nodeName.toLowerCase()])&&"get"in t&&void 0!==(i=t.get(n,"value"))?i:(i=n.value,"string"==typeof i?i.replace(St,""):null==i?"":i)}}}),ge.extend({valHooks:{option:{get:function(e){var t=ge.find.attr(e,"value");return null!=t?t:Z(ge.text(e))}},select:{get:function(e){var t,i,r,n=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],c=a?o+1:n.length;for(r=o<0?c:a?o:0;r<c;r++)if(i=n[r],(i.selected||r===o)&&!i.disabled&&(!i.parentNode.disabled||!h(i.parentNode,"optgroup"))){if(t=ge(i).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var i,r,n=e.options,o=ge.makeArray(t),a=n.length;a--;)r=n[a],(r.selected=ge.inArray(ge.valHooks.option.get(r),o)>-1)&&(i=!0);return i||(e.selectedIndex=-1),o}}}}),ge.each(["radio","checkbox"],function(){ge.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=ge.inArray(ge(e).val(),t)>-1}},ye.checkOn||(ge.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Mt=/^(?:focusinfocus|focusoutblur)$/;ge.extend(ge.event,{trigger:function(e,t,r,n){var o,a,s,h,c,l,u,d=[r||ae],f=pe.call(e,"type")?e.type:e,p=pe.call(e,"namespace")?e.namespace.split("."):[];if(a=s=r=r||ae,3!==r.nodeType&&8!==r.nodeType&&!Mt.test(f+ge.event.triggered)&&(f.indexOf(".")>-1&&(p=f.split("."),f=p.shift(),p.sort()),c=f.indexOf(":")<0&&"on"+f,e=e[ge.expando]?e:new ge.Event(f,"object"==typeof e&&e),e.isTrigger=n?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:ge.makeArray(t,[e]),u=ge.event.special[f]||{},n||!u.trigger||!1!==u.trigger.apply(r,t))){if(!n&&!u.noBubble&&!ge.isWindow(r)){for(h=u.delegateType||f,Mt.test(h+f)||(a=a.parentNode);a;a=a.parentNode)d.push(a),s=a;s===(r.ownerDocument||ae)&&d.push(s.defaultView||s.parentWindow||i)}for(o=0;(a=d[o++])&&!e.isPropagationStopped();)e.type=o>1?h:u.bindType||f,l=(Ne.get(a,"events")||{})[e.type]&&Ne.get(a,"handle"),l&&l.apply(a,t),(l=c&&a[c])&&l.apply&&Be(a)&&(e.result=l.apply(a,t),!1===e.result&&e.preventDefault());return e.type=f,n||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(d.pop(),t)||!Be(r)||c&&ge.isFunction(r[f])&&!ge.isWindow(r)&&(s=r[c],s&&(r[c]=null),ge.event.triggered=f,r[f](),ge.event.triggered=void 0,s&&(r[c]=s)),e.result}},simulate:function(e,t,i){var r=ge.extend(new ge.Event,i,{type:e,isSimulated:!0});ge.event.trigger(r,null,t)}}),ge.fn.extend({trigger:function(e,t){return this.each(function(){ge.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return ge.event.trigger(e,t,i,!0)}}),ge.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){ge.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),ge.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ye.focusin="onfocusin"in i,ye.focusin||ge.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){ge.event.simulate(t,e.target,ge.event.fix(e))};ge.event.special[t]={setup:function(){var r=this.ownerDocument||this,n=Ne.access(r,t);n||r.addEventListener(e,i,!0),Ne.access(r,t,(n||0)+1)},teardown:function(){var r=this.ownerDocument||this,n=Ne.access(r,t)-1;n?Ne.access(r,t,n):(r.removeEventListener(e,i,!0),Ne.remove(r,t))}}});var Ct=i.location,At=ge.now(),Dt=/\?/;ge.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new i.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||ge.error("Invalid XML: "+e),t};var kt=/\[\]$/,It=/\r?\n/g,Pt=/^(?:submit|button|image|reset|file)$/i,Rt=/^(?:input|select|textarea|keygen)/i;ge.param=function(e,t){var i,r=[],n=function(e,t){var i=ge.isFunction(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==i?"":i)};if(Array.isArray(e)||e.jquery&&!ge.isPlainObject(e))ge.each(e,function(){n(this.name,this.value)});else for(i in e)Q(i,e[i],t,n);return r.join("&")},ge.fn.extend({serialize:function(){return ge.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ge.prop(this,"elements");return e?ge.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ge(this).is(":disabled")&&Rt.test(this.nodeName)&&!Pt.test(e)&&(this.checked||!qe.test(e))}).map(function(e,t){var i=ge(this).val();return null==i?null:Array.isArray(i)?ge.map(i,function(e){return{name:t.name,value:e.replace(It,"\r\n")}}):{name:t.name,value:i.replace(It,"\r\n")}}).get()}});var Ft=/%20/g,Ot=/#.*$/,Lt=/([?&])_=[^&]*/,Bt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Nt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ut=/^(?:GET|HEAD)$/,Ht=/^\/\//,jt={},zt={},Gt="*/".concat("*"),Vt=ae.createElement("a");Vt.href=Ct.href,ge.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ct.href,type:"GET",isLocal:Nt.test(Ct.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Gt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ge.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ie(ie(e,ge.ajaxSettings),t):ie(ge.ajaxSettings,e)},ajaxPrefilter:ee(jt),ajaxTransport:ee(zt),ajax:function(e,t){function r(e,t,r,s){var c,d,f,x,w,_=t;l||(l=!0,h&&i.clearTimeout(h),n=void 0,a=s||"",T.readyState=e>0?4:0,c=e>=200&&e<300||304===e,r&&(x=re(p,T,r)),x=ne(p,x,T,c),c?(p.ifModified&&(w=T.getResponseHeader("Last-Modified"),w&&(ge.lastModified[o]=w),(w=T.getResponseHeader("etag"))&&(ge.etag[o]=w)),204===e||"HEAD"===p.type?_="nocontent":304===e?_="notmodified":(_=x.state,d=x.data,f=x.error,c=!f)):(f=_,!e&&_||(_="error",e<0&&(e=0))),T.status=e,T.statusText=(t||_)+"",c?y.resolveWith(m,[d,_,T]):y.rejectWith(m,[T,_,f]),T.statusCode(b),b=void 0,u&&v.trigger(c?"ajaxSuccess":"ajaxError",[T,p,c?d:f]),g.fireWith(m,[T,_]),u&&(v.trigger("ajaxComplete",[T,p]),--ge.active||ge.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,o,a,s,h,c,l,u,d,f,p=ge.ajaxSetup({},t),m=p.context||p,v=p.context&&(m.nodeType||m.jquery)?ge(m):ge.event,y=ge.Deferred(),g=ge.Callbacks("once memory"),b=p.statusCode||{},x={},w={},_="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(l){if(!s)for(s={};t=Bt.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return l?a:null},setRequestHeader:function(e,t){return null==l&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,x[e]=t),this},overrideMimeType:function(e){return null==l&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)T.always(e[T.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||_;return n&&n.abort(t),r(0,t),this}};if(y.promise(T),p.url=((e||p.url||Ct.href)+"").replace(Ht,Ct.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(Re)||[""],null==p.crossDomain){c=ae.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=Vt.protocol+"//"+Vt.host!=c.protocol+"//"+c.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=ge.param(p.data,p.traditional)),te(jt,p,t,T),l)return T;u=ge.event&&p.global,u&&0==ge.active++&&ge.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ut.test(p.type),o=p.url.replace(Ot,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Ft,"+")):(f=p.url.slice(o.length),p.data&&(o+=(Dt.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(Lt,"$1"),f=(Dt.test(o)?"&":"?")+"_="+At+++f),p.url=o+f),p.ifModified&&(ge.lastModified[o]&&T.setRequestHeader("If-Modified-Since",ge.lastModified[o]),ge.etag[o]&&T.setRequestHeader("If-None-Match",ge.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&T.setRequestHeader("Content-Type",p.contentType),T.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Gt+"; q=0.01":""):p.accepts["*"]);for(d in p.headers)T.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(m,T,p)||l))return T.abort();if(_="abort",g.add(p.complete),T.done(p.success),T.fail(p.error),n=te(zt,p,t,T)){if(T.readyState=1,u&&v.trigger("ajaxSend",[T,p]),l)return T;p.async&&p.timeout>0&&(h=i.setTimeout(function(){T.abort("timeout")},p.timeout));try{l=!1,n.send(x,r)}catch(e){if(l)throw e;r(-1,e)}}else r(-1,"No Transport");return T},getJSON:function(e,t,i){return ge.get(e,t,i,"json")},getScript:function(e,t){return ge.get(e,void 0,t,"script")}}),ge.each(["get","post"],function(e,t){ge[t]=function(e,i,r,n){return ge.isFunction(i)&&(n=n||r,r=i,i=void 0),ge.ajax(ge.extend({url:e,type:t,dataType:n,data:i,success:r},ge.isPlainObject(e)&&e))}}),ge._evalUrl=function(e){return ge.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},ge.fn.extend({wrapAll:function(e){var t;return this[0]&&(ge.isFunction(e)&&(e=e.call(this[0])),t=ge(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return ge.isFunction(e)?this.each(function(t){ge(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ge(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=ge.isFunction(e);return this.each(function(i){ge(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){ge(this).replaceWith(this.childNodes)}),this}}),ge.expr.pseudos.hidden=function(e){return!ge.expr.pseudos.visible(e)},ge.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},ge.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(e){}};var Xt={0:200,1223:204},Yt=ge.ajaxSettings.xhr();ye.cors=!!Yt&&"withCredentials"in Yt,ye.ajax=Yt=!!Yt,ge.ajaxTransport(function(e){var t,r;if(ye.cors||Yt&&!e.crossDomain)return{send:function(n,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(a in n)s.setRequestHeader(a,n[a]);t=function(e){return function(){t&&(t=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Xt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),r=s.onerror=t("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&i.setTimeout(function(){t&&r()})},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),ge.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),ge.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ge.globalEval(e),e}}}),ge.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ge.ajaxTransport("script",function(e){if(e.crossDomain){var t,i;return{send:function(r,n){t=ge("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&n("error"===e.type?404:200,e.type)}),ae.head.appendChild(t[0])},abort:function(){i&&i()}}}});var Wt=[],qt=/(=)\?(?=&|$)|\?\?/;ge.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Wt.pop()||ge.expando+"_"+At++;return this[e]=!0,e}}),ge.ajaxPrefilter("json jsonp",function(e,t,r){var n,o,a,s=!1!==e.jsonp&&(qt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&qt.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return n=e.jsonpCallback=ge.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(qt,"$1"+n):!1!==e.jsonp&&(e.url+=(Dt.test(e.url)?"&":"?")+e.jsonp+"="+n),e.converters["script json"]=function(){return a||ge.error(n+" was not called"),a[0]},e.dataTypes[0]="json",o=i[n],i[n]=function(){a=arguments},r.always(function(){void 0===o?ge(i).removeProp(n):i[n]=o,e[n]&&(e.jsonpCallback=t.jsonpCallback,Wt.push(n)),a&&ge.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),ye.createHTMLDocument=function(){var e=ae.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),ge.parseHTML=function(e,t,i){if("string"!=typeof e)return[];"boolean"==typeof t&&(i=t,t=!1);var r,n,o;return t||(ye.createHTMLDocument?(t=ae.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=ae.location.href,t.head.appendChild(r)):t=ae),n=Ce.exec(e),o=!i&&[],n?[t.createElement(n[1])]:(n=E([e],t,o),o&&o.length&&ge(o).remove(),ge.merge([],n.childNodes))},ge.fn.load=function(e,t,i){var r,n,o,a=this,s=e.indexOf(" ");return s>-1&&(r=Z(e.slice(s)),e=e.slice(0,s)),ge.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(n="POST"),a.length>0&&ge.ajax({url:e,type:n||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?ge("<div>").append(ge.parseHTML(e)).find(r):e)}).always(i&&function(e,t){a.each(function(){i.apply(this,o||[e.responseText,t,e])})}),this},ge.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ge.fn[t]=function(e){return this.on(t,e)}}),ge.expr.pseudos.animated=function(e){return ge.grep(ge.timers,function(t){return e===t.elem}).length},ge.offset={setOffset:function(e,t,i){var r,n,o,a,s,h,c,l=ge.css(e,"position"),u=ge(e),d={};"static"===l&&(e.style.position="relative"),s=u.offset(),o=ge.css(e,"top"),h=ge.css(e,"left"),c=("absolute"===l||"fixed"===l)&&(o+h).indexOf("auto")>-1,c?(r=u.position(),a=r.top,n=r.left):(a=parseFloat(o)||0,n=parseFloat(h)||0),ge.isFunction(t)&&(t=t.call(e,i,ge.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+n),"using"in t?t.using.call(e,d):u.css(d)}},ge.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ge.offset.setOffset(this,e,t)});var t,i,r,n,o=this[0];if(o)return o.getClientRects().length?(r=o.getBoundingClientRect(),t=o.ownerDocument,i=t.documentElement,n=t.defaultView,{top:r.top+n.pageYOffset-i.clientTop,left:r.left+n.pageXOffset-i.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var e,t,i=this[0],r={top:0,left:0};return"fixed"===ge.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),h(e[0],"html")||(r=e.offset()),r={top:r.top+ge.css(e[0],"borderTopWidth",!0),left:r.left+ge.css(e[0],"borderLeftWidth",!0)}),{top:t.top-r.top-ge.css(i,"marginTop",!0),left:t.left-r.left-ge.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===ge.css(e,"position");)e=e.offsetParent;return e||Qe})}}),ge.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i="pageYOffset"===t;ge.fn[e]=function(r){return Le(this,function(e,r,n){var o;if(ge.isWindow(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===n)return o?o[t]:e[r];o?o.scrollTo(i?o.pageXOffset:n,i?n:o.pageYOffset):e[r]=n},e,r,arguments.length)}}),ge.each(["top","left"],function(e,t){ge.cssHooks[t]=B(ye.pixelPosition,function(e,i){if(i)return i=L(e,t),ct.test(i)?ge(e).position()[t]+"px":i})}),ge.each({Height:"height",Width:"width"},function(e,t){ge.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,r){ge.fn[r]=function(n,o){var a=arguments.length&&(i||"boolean"!=typeof n),s=i||(!0===n||!0===o?"margin":"border");return Le(this,function(t,i,n){var o;return ge.isWindow(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===n?ge.css(t,i,s):ge.style(t,i,n,s)},t,a?n:void 0,a)}})}),ge.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,r){return this.on(t,e,i,r)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}}),ge.holdReady=function(e){e?ge.readyWait++:ge.ready(!0)},ge.isArray=Array.isArray,ge.parseJSON=JSON.parse,ge.nodeName=h,r=[],void 0!==(n=function(){return ge}.apply(t,r))&&(e.exports=n);var $t=i.jQuery,Kt=i.$;return ge.noConflict=function(e){return i.$===ge&&(i.$=Kt),e&&i.jQuery===ge&&(i.jQuery=$t),ge},o||(i.jQuery=i.$=ge),ge})},function(e,t,i){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function n(e){return 3*e.length/4-r(e)}function o(e){var t,i,n,o,a,s=e.length;o=r(e),a=new u(3*s/4-o),i=o>0?s-4:s;var h=0;for(t=0;t<i;t+=4)n=l[e.charCodeAt(t)]<<18|l[e.charCodeAt(t+1)]<<12|l[e.charCodeAt(t+2)]<<6|l[e.charCodeAt(t+3)],a[h++]=n>>16&255,a[h++]=n>>8&255,a[h++]=255&n;return 2===o?(n=l[e.charCodeAt(t)]<<2|l[e.charCodeAt(t+1)]>>4,a[h++]=255&n):1===o&&(n=l[e.charCodeAt(t)]<<10|l[e.charCodeAt(t+1)]<<4|l[e.charCodeAt(t+2)]>>2,a[h++]=n>>8&255,a[h++]=255&n),a}function a(e){return c[e>>18&63]+c[e>>12&63]+c[e>>6&63]+c[63&e]}function s(e,t,i){for(var r,n=[],o=t;o<i;o+=3)r=(e[o]<<16)+(e[o+1]<<8)+e[o+2],n.push(a(r));return n.join("")}function h(e){for(var t,i=e.length,r=i%3,n="",o=[],a=0,h=i-r;a<h;a+=16383)o.push(s(e,a,a+16383>h?h:a+16383));return 1===r?(t=e[i-1],n+=c[t>>2],n+=c[t<<4&63],n+="=="):2===r&&(t=(e[i-2]<<8)+e[i-1],n+=c[t>>10],n+=c[t>>4&63],n+=c[t<<2&63],n+="="),o.push(n),o.join("")}t.byteLength=n,t.toByteArray=o,t.fromByteArray=h;for(var c=[],l=[],u="undefined"!=typeof Uint8Array?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,p=d.length;f<p;++f)c[f]=d[f],l[d.charCodeAt(f)]=f;l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,i,r,n){var o,a,s=8*n-r-1,h=(1<<s)-1,c=h>>1,l=-7,u=i?n-1:0,d=i?-1:1,f=e[t+u];for(u+=d,o=f&(1<<-l)-1,f>>=-l,l+=s;l>0;o=256*o+e[t+u],u+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+u],u+=d,l-=8);if(0===o)o=1-c;else{if(o===h)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),o-=c}return(f?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,i,r,n,o){var a,s,h,c=8*o-n-1,l=(1<<c)-1,u=l>>1,d=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-a))<1&&(a--,h*=2),t+=a+u>=1?d/h:d*Math.pow(2,1-u),t*h>=2&&(a++,h/=2),a+u>=l?(s=0,a=l):a+u>=1?(s=(t*h-1)*Math.pow(2,n),a+=u):(s=t*Math.pow(2,u-1)*Math.pow(2,n),a=0));n>=8;e[i+f]=255&s,f+=p,s/=256,n-=8);for(a=a<<n|s,c+=n;c>0;e[i+f]=255&a,f+=p,a/=256,c-=8);e[i+f-p]|=128*m}},function(e,t,i){"use strict";(function(t){function i(e){if(e.length%r!=0){var i=e.length+(r-e.length%r);e=t.concat([e,n],i)}for(var o=new Array(e.length>>>2),a=0,s=0;a<e.length;a+=r,s++)o[s]=e.readInt32LE(a);return o}var r=4,n=new t(r);n.fill(0);e.exports=function(e,r){var n=r(i(e),8*e.length);e=new t(16);for(var o=0;o<n.length;o++)e.writeInt32LE(n[o],o<<2,!0);return e}}).call(t,i(3).Buffer)},function(e,t,i){"use strict";(function(t){function r(e){n.call(this),this._block=new t(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}var n=i(19).Transform;i(0)(r,n),r.prototype._transform=function(e,i,r){var n=null;try{"buffer"!==i&&(e=new t(e,i)),this.update(e)}catch(e){n=e}r(n)},r.prototype._flush=function(e){var t=null;try{this.push(this._digest())}catch(e){t=e}e(t)},r.prototype.update=function(e,i){if(!t.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");t.isBuffer(e)||(e=new t(e,i||"binary"));for(var r=this._block,n=0;this._blockOffset+e.length-n>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)r[o++]=e[n++];this._update(),this._blockOffset=0}for(;n<e.length;)r[this._blockOffset++]=e[n++];for(var a=0,s=8*e.length;s>0;++a)this._length[a]+=s,(s=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*s);return this},r.prototype._update=function(e){throw new Error("_update is not implemented")},r.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();return void 0!==e&&(t=t.toString(e)),t},r.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=r}).call(t,i(3).Buffer)},function(e,t){},function(e,t,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t,i){e.copy(t,i)}var o=i(2).Buffer;e.exports=function(){function e(){r(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,i=""+t.data;t=t.next;)i+=e+t.data;return i},e.prototype.concat=function(e){if(0===this.length)return o.alloc(0);if(1===this.length)return this.head.data;for(var t=o.allocUnsafe(e>>>0),i=this.head,r=0;i;)n(i.data,t,r),r+=i.data.length,i=i.next;return t},e}()},function(e,t,i){(function(t){function i(e,t){function i(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}if(r("noDeprecation"))return e;var n=!1;return i}function r(e){try{if(!t.localStorage)return!1}catch(e){return!1}var i=t.localStorage[e];return null!=i&&"true"===String(i).toLowerCase()}e.exports=i}).call(t,i(1))},function(e,t,i){"use strict";function r(e){if(!(this instanceof r))return new r(e);n.call(this,e)}e.exports=r;var n=i(47),o=i(14);o.inherits=i(0),o.inherits(r,n),r.prototype._transform=function(e,t,i){i(null,e)}},function(e,t,i){e.exports=i(31)},function(e,t,i){e.exports=i(10)},function(e,t,i){e.exports=i(20).Transform},function(e,t,i){e.exports=i(20).PassThrough},function(e,t,i){function r(){this.init(),this._w=u,h.call(this,64,56)}function n(e){return e<<5|e>>>27}function o(e){return e<<30|e>>>2}function a(e,t,i,r){return 0===e?t&i|~t&r:2===e?t&i|t&r|i&r:t^i^r}var s=i(0),h=i(12),c=i(2).Buffer,l=[1518500249,1859775393,-1894007588,-899497514],u=new Array(80);s(r,h),r.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},r.prototype._update=function(e){for(var t=this._w,i=0|this._a,r=0|this._b,s=0|this._c,h=0|this._d,c=0|this._e,u=0;u<16;++u)t[u]=e.readInt32BE(4*u);for(;u<80;++u)t[u]=t[u-3]^t[u-8]^t[u-14]^t[u-16];for(var d=0;d<80;++d){var f=~~(d/20),p=n(i)+a(f,r,s,h)+c+t[d]+l[f]|0;c=h,h=s,s=o(r),r=i,i=p}this._a=i+this._a|0,this._b=r+this._b|0,this._c=s+this._c|0,this._d=h+this._d|0,this._e=c+this._e|0},r.prototype._hash=function(){var e=c.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=r},function(e,t,i){function r(){this.init(),this._w=d,c.call(this,64,56)}function n(e){return e<<1|e>>>31}function o(e){return e<<5|e>>>27}function a(e){return e<<30|e>>>2}function s(e,t,i,r){return 0===e?t&i|~t&r:2===e?t&i|t&r|i&r:t^i^r}var h=i(0),c=i(12),l=i(2).Buffer,u=[1518500249,1859775393,-1894007588,-899497514],d=new Array(80);h(r,c),r.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},r.prototype._update=function(e){for(var t=this._w,i=0|this._a,r=0|this._b,h=0|this._c,c=0|this._d,l=0|this._e,d=0;d<16;++d)t[d]=e.readInt32BE(4*d);for(;d<80;++d)t[d]=n(t[d-3]^t[d-8]^t[d-14]^t[d-16]);for(var f=0;f<80;++f){var p=~~(f/20),m=o(i)+s(p,r,h,c)+l+t[f]+u[p]|0;l=c,c=h,h=a(r),r=i,i=m}this._a=i+this._a|0,this._b=r+this._b|0,this._c=h+this._c|0,this._d=c+this._d|0,this._e=l+this._e|0},r.prototype._hash=function(){var e=l.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=r},function(e,t,i){function r(){this.init(),this._w=h,a.call(this,64,56)}var n=i(0),o=i(48),a=i(12),s=i(2).Buffer,h=new Array(64);n(r,o),r.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},r.prototype._hash=function(){var e=s.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=r},function(e,t,i){function r(){this.init(),this._w=h,a.call(this,128,112)}var n=i(0),o=i(49),a=i(12),s=i(2).Buffer,h=new Array(160);n(r,o),r.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},r.prototype._hash=function(){function e(e,i,r){t.writeInt32BE(e,r),t.writeInt32BE(i,r+4)}var t=s.allocUnsafe(48);return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},e.exports=r},function(e,t,i){"use strict";function r(e,t){a.call(this,"digest"),"string"==typeof t&&(t=o.from(t)),this._alg=e,this._key=t,t.length>h?t=e(t):t.length<h&&(t=o.concat([t,s],h));for(var i=this._ipad=o.allocUnsafe(h),r=this._opad=o.allocUnsafe(h),n=0;n<h;n++)i[n]=54^t[n],r[n]=92^t[n];this._hash=[i]}var n=i(0),o=i(2).Buffer,a=i(9),s=o.alloc(128),h=64;n(r,a),r.prototype._update=function(e){this._hash.push(e)},r.prototype._final=function(){var e=this._alg(o.concat(this._hash));return this._alg(o.concat([this._opad,e]))},e.exports=r},function(e,t,i){e.exports=i(51)},function(e,t,i){(function(t,r){function n(e){if(t.process&&!t.process.browser)return Promise.resolve(!1);if(!d||!d.importKey||!d.deriveBits)return Promise.resolve(!1);if(void 0!==p[e])return p[e];s=s||u.alloc(8);var i=o(s,s,10,128,e).then(function(){return!0}).catch(function(){return!1});return p[e]=i,i}function o(e,t,i,r,n){return d.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then(function(e){return d.deriveBits({name:"PBKDF2",salt:t,iterations:i,hash:{name:n}},e,r<<3)}).then(function(e){return u.from(e)})}function a(e,t){e.then(function(e){r.nextTick(function(){t(null,e)})},function(e){r.nextTick(function(){t(e)})})}var s,h=i(53),c=i(54),l=i(55),u=i(2).Buffer,d=t.crypto&&t.crypto.subtle,f={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},p=[];e.exports=function(e,i,s,d,p,m){if(u.isBuffer(e)||(e=u.from(e,c)),u.isBuffer(i)||(i=u.from(i,c)),h(s,d),"function"==typeof p&&(m=p,p=void 0),"function"!=typeof m)throw new Error("No callback provided to pbkdf2");p=p||"sha1";var v=f[p.toLowerCase()];if(!v||"function"!=typeof t.Promise)return r.nextTick(function(){var t;try{t=l(e,i,s,d,p)}catch(e){return m(e)}m(null,t)});a(n(v).then(function(t){return t?o(e,i,s,d,v):l(e,i,s,d,p)}),m)}}).call(t,i(1),i(8))},function(e,t,i){function r(e,t){var i,r;if(e=e.toLowerCase(),d[e])i=d[e].key,r=d[e].iv;else{if(!u[e])throw new TypeError("invalid suite type");i=8*u[e].key,r=u[e].iv}var n=h(t,!1,i,r);return o(e,n.key,n.iv)}function n(e,t){var i,r;if(e=e.toLowerCase(),d[e])i=d[e].key,r=d[e].iv;else{if(!u[e])throw new TypeError("invalid suite type");i=8*u[e].key,r=u[e].iv}var n=h(t,!1,i,r);return a(e,n.key,n.iv)}function o(e,t,i){if(e=e.toLowerCase(),d[e])return c.createCipheriv(e,t,i);if(u[e])return new l({key:t,iv:i,mode:e});throw new TypeError("invalid suite type")}function a(e,t,i){if(e=e.toLowerCase(),d[e])return c.createDecipheriv(e,t,i);if(u[e])return new l({key:t,iv:i,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}function s(){return Object.keys(u).concat(c.getCiphers())}var h=i(22),c=i(34),l=i(116),u=i(122),d=i(35);t.createCipher=t.Cipher=r,t.createCipheriv=t.Cipheriv=o,t.createDecipher=t.Decipher=n,t.createDecipheriv=t.Decipheriv=a,t.listCiphers=t.getCiphers=s},function(e,t,i){"use strict";(function(t){function r(){l.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function n(e,t){return e<<t|e>>>32-t}function o(e,t,i,r,o,a,s){return n(e+(t&i|~t&r)+o+a|0,s)+t|0}function a(e,t,i,r,o,a,s){return n(e+(t&r|i&~r)+o+a|0,s)+t|0}function s(e,t,i,r,o,a,s){return n(e+(t^i^r)+o+a|0,s)+t|0}function h(e,t,i,r,o,a,s){return n(e+(i^(t|~r))+o+a|0,s)+t|0}var c=i(0),l=i(106),u=new Array(16);c(r,l),r.prototype._update=function(){for(var e=u,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var i=this._a,r=this._b,n=this._c,c=this._d;i=o(i,r,n,c,e[0],3614090360,7),c=o(c,i,r,n,e[1],3905402710,12),n=o(n,c,i,r,e[2],606105819,17),r=o(r,n,c,i,e[3],3250441966,22),i=o(i,r,n,c,e[4],4118548399,7),c=o(c,i,r,n,e[5],1200080426,12),n=o(n,c,i,r,e[6],2821735955,17),r=o(r,n,c,i,e[7],4249261313,22),i=o(i,r,n,c,e[8],1770035416,7),c=o(c,i,r,n,e[9],2336552879,12),n=o(n,c,i,r,e[10],4294925233,17),r=o(r,n,c,i,e[11],2304563134,22),i=o(i,r,n,c,e[12],1804603682,7),c=o(c,i,r,n,e[13],4254626195,12),n=o(n,c,i,r,e[14],2792965006,17),r=o(r,n,c,i,e[15],1236535329,22),i=a(i,r,n,c,e[1],4129170786,5),c=a(c,i,r,n,e[6],3225465664,9),n=a(n,c,i,r,e[11],643717713,14),r=a(r,n,c,i,e[0],3921069994,20),i=a(i,r,n,c,e[5],3593408605,5),c=a(c,i,r,n,e[10],38016083,9),n=a(n,c,i,r,e[15],3634488961,14),r=a(r,n,c,i,e[4],3889429448,20),i=a(i,r,n,c,e[9],568446438,5),c=a(c,i,r,n,e[14],3275163606,9),n=a(n,c,i,r,e[3],4107603335,14),r=a(r,n,c,i,e[8],1163531501,20),i=a(i,r,n,c,e[13],2850285829,5),c=a(c,i,r,n,e[2],4243563512,9),n=a(n,c,i,r,e[7],1735328473,14),r=a(r,n,c,i,e[12],2368359562,20),i=s(i,r,n,c,e[5],4294588738,4),c=s(c,i,r,n,e[8],2272392833,11),n=s(n,c,i,r,e[11],1839030562,16),r=s(r,n,c,i,e[14],4259657740,23),i=s(i,r,n,c,e[1],2763975236,4),c=s(c,i,r,n,e[4],1272893353,11),n=s(n,c,i,r,e[7],4139469664,16),r=s(r,n,c,i,e[10],3200236656,23),i=s(i,r,n,c,e[13],681279174,4),c=s(c,i,r,n,e[0],3936430074,11),n=s(n,c,i,r,e[3],3572445317,16),r=s(r,n,c,i,e[6],76029189,23),i=s(i,r,n,c,e[9],3654602809,4),c=s(c,i,r,n,e[12],3873151461,11),n=s(n,c,i,r,e[15],530742520,16),r=s(r,n,c,i,e[2],3299628645,23),i=h(i,r,n,c,e[0],4096336452,6),c=h(c,i,r,n,e[7],1126891415,10),n=h(n,c,i,r,e[14],2878612391,15),r=h(r,n,c,i,e[5],4237533241,21),i=h(i,r,n,c,e[12],1700485571,6),c=h(c,i,r,n,e[3],2399980690,10),n=h(n,c,i,r,e[10],4293915773,15),r=h(r,n,c,i,e[1],2240044497,21),i=h(i,r,n,c,e[8],1873313359,6),c=h(c,i,r,n,e[15],4264355552,10),n=h(n,c,i,r,e[6],2734768916,15),r=h(r,n,c,i,e[13],1309151649,21),i=h(i,r,n,c,e[4],4149444226,6),c=h(c,i,r,n,e[11],3174756917,10),n=h(n,c,i,r,e[2],718787259,15),r=h(r,n,c,i,e[9],3951481745,21),this._a=this._a+i|0,this._b=this._b+r|0,this._c=this._c+n|0,this._d=this._d+c|0},r.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=new t(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=r}).call(t,i(3).Buffer)},function(e,t,i){"use strict";function r(e,t){if(!o.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}function n(e){a.call(this),this._block=o.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}var o=i(2).Buffer,a=i(19).Transform;i(0)(n,a),n.prototype._transform=function(e,t,i){var r=null;try{this.update(e,t)}catch(e){r=e}i(r)},n.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},n.prototype.update=function(e,t){if(r(e,"Data"),this._finalized)throw new Error("Digest already called");o.isBuffer(e)||(e=o.from(e,t));for(var i=this._block,n=0;this._blockOffset+e.length-n>=this._blockSize;){for(var a=this._blockOffset;a<this._blockSize;)i[a++]=e[n++];this._update(),this._blockOffset=0}for(;n<e.length;)i[this._blockOffset++]=e[n++];for(var s=0,h=8*e.length;h>0;++s)this._length[s]+=h,(h=this._length[s]/4294967296|0)>0&&(this._length[s]-=4294967296*h);return this},n.prototype._update=function(){throw new Error("_update is not implemented")},n.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var i=0;i<4;++i)this._length[i]=0;return t},n.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=n},function(e,t,i){function r(e,t,i){u.call(this),this._cache=new n,this._cipher=new d.AES(t),this._prev=c.from(i),this._mode=e,this._autopadding=!0}function n(){this.cache=c.allocUnsafe(0)}function o(e,t,i){var n=s[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=c.from(t)),t.length!==n.key/8)throw new TypeError("invalid key length "+t.length);if("string"==typeof i&&(i=c.from(i)),"GCM"!==n.mode&&i.length!==n.iv)throw new TypeError("invalid iv length "+i.length);return"stream"===n.type?new l(n.module,t,i):"auth"===n.type?new h(n.module,t,i):new r(n.module,t,i)}function a(e,t){var i=s[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");var r=f(t,!1,i.key,i.iv);return o(e,r.key,r.iv)}var s=i(35),h=i(59),c=i(2).Buffer,l=i(60),u=i(9),d=i(23),f=i(22);i(0)(r,u),r.prototype._update=function(e){this._cache.add(e);for(var t,i,r=[];t=this._cache.get();)i=this._mode.encrypt(this,t),r.push(i);return c.concat(r)};var p=c.alloc(16,16);r.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(p))throw this._cipher.scrub(),new Error("data not multiple of block length")},r.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},n.prototype.add=function(e){this.cache=c.concat([this.cache,e])},n.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},n.prototype.flush=function(){for(var e=16-this.cache.length,t=c.allocUnsafe(e),i=-1;++i<e;)t.writeUInt8(e,i);return c.concat([this.cache,t])},t.createCipheriv=o,t.createCipher=a},function(e,t){t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},function(e,t,i){var r=i(15);t.encrypt=function(e,t){var i=r(t,e._prev);return e._prev=e._cipher.encryptBlock(i),e._prev},t.decrypt=function(e,t){var i=e._prev;e._prev=t;var n=e._cipher.decryptBlock(t);return r(n,i)}},function(e,t,i){function r(e,t,i){var r=t.length,a=o(t,e._cache);return e._cache=e._cache.slice(r),e._prev=n.concat([e._prev,i?t:a]),a}var n=i(2).Buffer,o=i(15);t.encrypt=function(e,t,i){for(var o,a=n.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=n.allocUnsafe(0)),!(e._cache.length<=t.length)){a=n.concat([a,r(e,t,i)]);break}o=e._cache.length,a=n.concat([a,r(e,t.slice(0,o),i)]),t=t.slice(o)}return a}},function(e,t,i){function r(e,t,i){var r=e._cipher.encryptBlock(e._prev),o=r[0]^t;return e._prev=n.concat([e._prev.slice(1),n.from([i?t:o])]),o}var n=i(2).Buffer;t.encrypt=function(e,t,i){for(var o=t.length,a=n.allocUnsafe(o),s=-1;++s<o;)a[s]=r(e,t[s],i);return a}},function(e,t,i){function r(e,t,i){for(var r,o,a,s=-1,h=0;++s<8;)r=e._cipher.encryptBlock(e._prev),o=t&1<<7-s?128:0,a=r[0]^o,h+=(128&a)>>s%8,e._prev=n(e._prev,i?o:a);return h}function n(e,t){var i=e.length,r=-1,n=o.allocUnsafe(e.length);for(e=o.concat([e,o.from([t])]);++r<i;)n[r]=e[r]<<1|e[r+1]>>7;return n}var o=i(2).Buffer;t.encrypt=function(e,t,i){for(var n=t.length,a=o.allocUnsafe(n),s=-1;++s<n;)a[s]=r(e,t[s],i);return a}},function(e,t,i){(function(e){function r(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}var n=i(15);t.encrypt=function(t,i){for(;t._cache.length<i.length;)t._cache=e.concat([t._cache,r(t)]);var o=t._cache.slice(0,i.length);return t._cache=t._cache.slice(i.length),n(i,o)}}).call(t,i(3).Buffer)},function(e,t,i){function r(e){return[e.readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)]}function n(e){var t=a.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function o(e){this.h=e,this.state=a.alloc(16,0),this.cache=a.allocUnsafe(0)}var a=i(2).Buffer,s=a.alloc(16,0);o.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},o.prototype._multiply=function(){for(var e,t,i,o=r(this.h),a=[0,0,0,0],s=-1;++s<128;){for(t=0!=(this.state[~~(s/8)]&1<<7-s%8),t&&(a[0]^=o[0],a[1]^=o[1],a[2]^=o[2],a[3]^=o[3]),i=0!=(1&o[3]),e=3;e>0;e--)o[e]=o[e]>>>1|(1&o[e-1])<<31;o[0]=o[0]>>>1,i&&(o[0]=o[0]^225<<24)}this.state=n(a)},o.prototype.update=function(e){this.cache=a.concat([this.cache,e]);for(var t;this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},o.prototype.final=function(e,t){return this.cache.length&&this.ghash(a.concat([this.cache,s],16)),this.ghash(n([0,e,0,t])),this.state},e.exports=o},function(e,t,i){function r(e,t,i){d.call(this),this._cache=new n,this._last=void 0,this._cipher=new f.AES(t),this._prev=c.from(i),this._mode=e,this._autopadding=!0}function n(){this.cache=c.allocUnsafe(0)}function o(e){for(var t=e[15],i=-1;++i<t;)if(e[i+(16-t)]!==t)throw new Error("unable to decrypt data");if(16!==t)return e.slice(0,16-t)}function a(e,t,i){var n=l[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if("string"==typeof i&&(i=c.from(i)),"GCM"!==n.mode&&i.length!==n.iv)throw new TypeError("invalid iv length "+i.length);if("string"==typeof t&&(t=c.from(t)),t.length!==n.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===n.type?new u(n.module,t,i,!0):"auth"===n.type?new h(n.module,t,i,!0):new r(n.module,t,i)}function s(e,t){var i=l[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");var r=p(t,!1,i.key,i.iv);return a(e,r.key,r.iv)}var h=i(59),c=i(2).Buffer,l=i(35),u=i(60),d=i(9),f=i(23),p=i(22);i(0)(r,d),r.prototype._update=function(e){this._cache.add(e);for(var t,i,r=[];t=this._cache.get(this._autopadding);)i=this._mode.decrypt(this,t),r.push(i);return c.concat(r)},r.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return o(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},r.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},n.prototype.add=function(e){this.cache=c.concat([this.cache,e])},n.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},n.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=s,t.createDecipheriv=a},function(e,t,i){(function(t){function r(e){n.call(this);var i,r=e.mode.toLowerCase(),o=s[r];i=e.decrypt?"decrypt":"encrypt";var a=e.key;"des-ede"!==r&&"des-ede-cbc"!==r||(a=t.concat([a,a.slice(0,8)]));var h=e.iv;this._des=o.create({key:a,iv:h,type:i})}var n=i(9),o=i(36),a=i(0),s={"des-ede3-cbc":o.CBC.instantiate(o.EDE),"des-ede3":o.EDE,"des-ede-cbc":o.CBC.instantiate(o.EDE),"des-ede":o.EDE,"des-cbc":o.CBC.instantiate(o.DES),"des-ecb":o.DES};s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],e.exports=r,a(r,n),r.prototype._update=function(e){return new t(this._des.update(e))},r.prototype._final=function(){return new t(this._des.final())}}).call(t,i(3).Buffer)},function(e,t,i){"use strict";t.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},t.writeUInt32BE=function(e,t,i){e[0+i]=t>>>24,e[1+i]=t>>>16&255,e[2+i]=t>>>8&255,e[3+i]=255&t},t.ip=function(e,t,i,r){for(var n=0,o=0,a=6;a>=0;a-=2){for(var s=0;s<=24;s+=8)n<<=1,n|=t>>>s+a&1;for(var s=0;s<=24;s+=8)n<<=1,n|=e>>>s+a&1}for(var a=6;a>=0;a-=2){for(var s=1;s<=25;s+=8)o<<=1,o|=t>>>s+a&1;for(var s=1;s<=25;s+=8)o<<=1,o|=e>>>s+a&1}i[r+0]=n>>>0,i[r+1]=o>>>0},t.rip=function(e,t,i,r){for(var n=0,o=0,a=0;a<4;a++)for(var s=24;s>=0;s-=8)n<<=1,n|=t>>>s+a&1,n<<=1,n|=e>>>s+a&1;for(var a=4;a<8;a++)for(var s=24;s>=0;s-=8)o<<=1,o|=t>>>s+a&1,o<<=1,o|=e>>>s+a&1;i[r+0]=n>>>0,i[r+1]=o>>>0},t.pc1=function(e,t,i,r){for(var n=0,o=0,a=7;a>=5;a--){for(var s=0;s<=24;s+=8)n<<=1,n|=t>>s+a&1;for(var s=0;s<=24;s+=8)n<<=1,n|=e>>s+a&1}for(var s=0;s<=24;s+=8)n<<=1,n|=t>>s+a&1;for(var a=1;a<=3;a++){for(var s=0;s<=24;s+=8)o<<=1,o|=t>>s+a&1;for(var s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1}for(var s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1;i[r+0]=n>>>0,i[r+1]=o>>>0},t.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(e,t,i,n){for(var o=0,a=0,s=r.length>>>1,h=0;h<s;h++)o<<=1,o|=e>>>r[h]&1;for(var h=s;h<r.length;h++)a<<=1,a|=t>>>r[h]&1;i[n+0]=o>>>0,i[n+1]=a>>>0},t.expand=function(e,t,i){var r=0,n=0;r=(1&e)<<5|e>>>27;for(var o=23;o>=15;o-=4)r<<=6,r|=e>>>o&63;for(var o=11;o>=3;o-=4)n|=e>>>o&63,n<<=6;n|=(31&e)<<1|e>>>31,t[i+0]=r>>>0,t[i+1]=n>>>0};var n=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(e,t){for(var i=0,r=0;r<4;r++){var o=e>>>18-6*r&63,a=n[64*r+o];i<<=4,i|=a}for(var r=0;r<4;r++){var o=t>>>18-6*r&63,a=n[256+64*r+o];i<<=4,i|=a}return i>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(e){for(var t=0,i=0;i<o.length;i++)t<<=1,t|=e>>>o[i]&1;return t>>>0},t.padSplit=function(e,t,i){for(var r=e.toString(2);r.length<t;)r="0"+r;for(var n=[],o=0;o<t;o+=i)n.push(r.slice(o,o+i));return n.join(" ")}},function(e,t,i){"use strict";function r(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}var n=i(6);e.exports=r,r.prototype._init=function(){},r.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},r.prototype._buffer=function(e,t){for(var i=Math.min(this.buffer.length-this.bufferOff,e.length-t),r=0;r<i;r++)this.buffer[this.bufferOff+r]=e[t+r];return this.bufferOff+=i,i},r.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},r.prototype._updateEncrypt=function(e){var t=0,i=0,r=(this.bufferOff+e.length)/this.blockSize|0,n=new Array(r*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(i+=this._flushBuffer(n,i)));for(var o=e.length-(e.length-t)%this.blockSize;t<o;t+=this.blockSize)this._update(e,t,n,i),i+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return n},r.prototype._updateDecrypt=function(e){for(var t=0,i=0,r=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,n=new Array(r*this.blockSize);r>0;r--)t+=this._buffer(e,t),i+=this._flushBuffer(n,i);return t+=this._buffer(e,t),n},r.prototype.final=function(e){var t;e&&(t=this.update(e));var i;return i="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(i):i},r.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},r.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},r.prototype._unpad=function(e){return e},r.prototype._finalDecrypt=function(){n.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},function(e,t,i){"use strict";function r(){this.tmp=new Array(2),this.keys=null}function n(e){c.call(this,e);var t=new r;this._desState=t,this.deriveKeys(t,e.key)}var o=i(6),a=i(0),s=i(36),h=s.utils,c=s.Cipher;a(n,c),e.exports=n,n.create=function(e){return new n(e)};var l=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];n.prototype.deriveKeys=function(e,t){e.keys=new Array(32),o.equal(t.length,this.blockSize,"Invalid key length");var i=h.readUInt32BE(t,0),r=h.readUInt32BE(t,4);h.pc1(i,r,e.tmp,0),i=e.tmp[0],r=e.tmp[1];for(var n=0;n<e.keys.length;n+=2){var a=l[n>>>1];i=h.r28shl(i,a),r=h.r28shl(r,a),h.pc2(i,r,e.keys,n)}},n.prototype._update=function(e,t,i,r){var n=this._desState,o=h.readUInt32BE(e,t),a=h.readUInt32BE(e,t+4);h.ip(o,a,n.tmp,0),o=n.tmp[0],a=n.tmp[1],"encrypt"===this.type?this._encrypt(n,o,a,n.tmp,0):this._decrypt(n,o,a,n.tmp,0),o=n.tmp[0],a=n.tmp[1],h.writeUInt32BE(i,o,r),h.writeUInt32BE(i,a,r+4)},n.prototype._pad=function(e,t){for(var i=e.length-t,r=t;r<e.length;r++)e[r]=i;return!0},n.prototype._unpad=function(e){for(var t=e[e.length-1],i=e.length-t;i<e.length;i++)o.equal(e[i],t);return e.slice(0,e.length-t)},n.prototype._encrypt=function(e,t,i,r,n){for(var o=t,a=i,s=0;s<e.keys.length;s+=2){var c=e.keys[s],l=e.keys[s+1];h.expand(a,e.tmp,0),c^=e.tmp[0],l^=e.tmp[1];var u=h.substitute(c,l),d=h.permute(u),f=a;a=(o^d)>>>0,o=f}h.rip(a,o,r,n)},n.prototype._decrypt=function(e,t,i,r,n){for(var o=i,a=t,s=e.keys.length-2;s>=0;s-=2){var c=e.keys[s],l=e.keys[s+1];h.expand(o,e.tmp,0),c^=e.tmp[0],l^=e.tmp[1];var u=h.substitute(c,l),d=h.permute(u),f=o;o=(a^d)>>>0,a=f}h.rip(o,a,r,n)}},function(e,t,i){"use strict";function r(e){o.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}function n(e){function t(t){e.call(this,t),this._cbcInit()}a(t,e);for(var i=Object.keys(s),r=0;r<i.length;r++){var n=i[r];t.prototype[n]=s[n]}return t.create=function(e){return new t(e)},t}var o=i(6),a=i(0),s={};t.instantiate=n,s._cbcInit=function(){var e=new r(this.options.iv);this._cbcState=e},s._update=function(e,t,i,r){var n=this._cbcState,o=this.constructor.super_.prototype,a=n.iv;if("encrypt"===this.type){for(var s=0;s<this.blockSize;s++)a[s]^=e[t+s];o._update.call(this,a,0,i,r);for(var s=0;s<this.blockSize;s++)a[s]=i[r+s]}else{o._update.call(this,e,t,i,r);for(var s=0;s<this.blockSize;s++)i[r+s]^=a[s];for(var s=0;s<this.blockSize;s++)a[s]=e[t+s]}}},function(e,t,i){"use strict";function r(e,t){o.equal(t.length,24,"Invalid key length");var i=t.slice(0,8),r=t.slice(8,16),n=t.slice(16,24);this.ciphers="encrypt"===e?[c.create({type:"encrypt",key:i}),c.create({type:"decrypt",key:r}),c.create({type:"encrypt",key:n})]:[c.create({type:"decrypt",key:n}),c.create({type:"encrypt",key:r}),c.create({type:"decrypt",key:i})]}function n(e){h.call(this,e);var t=new r(this.type,this.options.key);this._edeState=t}var o=i(6),a=i(0),s=i(36),h=s.Cipher,c=s.DES;a(n,h),e.exports=n,n.create=function(e){return new n(e)},n.prototype._update=function(e,t,i,r){var n=this._edeState;n.ciphers[0]._update(e,t,i,r),n.ciphers[1]._update(i,r,i,r),n.ciphers[2]._update(i,r,i,r)},n.prototype._pad=c.prototype._pad,n.prototype._unpad=c.prototype._unpad},function(e,t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},function(e,t,i){(function(e){function r(t){var i=new e(a[t].prime,"hex"),r=new e(a[t].gen,"hex");return new s(i,r)}function n(t,i,r,a){return e.isBuffer(i)||void 0===h[i]?n(t,"binary",i,r):(i=i||"binary",a=a||"binary",r=r||new e([2]),e.isBuffer(r)||(r=new e(r,a)),"number"==typeof t?new s(o(t,r),r,!0):(e.isBuffer(t)||(t=new e(t,i)),new s(t,r,!0)))}var o=i(61),a=i(126),s=i(127),h={binary:!0,hex:!0,base64:!0};t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=r,t.createDiffieHellman=t.DiffieHellman=n}).call(t,i(3).Buffer)},function(e,t){},function(e,t){},function(e,t){e.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},function(e,t,i){(function(t){function r(e,i){return i=i||"utf8",t.isBuffer(e)||(e=new t(e,i)),this._pub=new h(e),this}function n(e,i){return i=i||"utf8",t.isBuffer(e)||(e=new t(e,i)),this._priv=new h(e),this}function o(e,t){var i=t.toString("hex"),r=[i,e.toString(16)].join("_");if(r in g)return g[r];var n=0;if(e.isEven()||!v.simpleSieve||!v.fermatTest(e)||!l.test(e))return n+=1,n+="02"===i||"05"===i?8:4,g[r]=n,n;l.test(e.shrn(1))||(n+=2);var o;switch(i){case"02":e.mod(u).cmp(d)&&(n+=8);break;case"05":o=e.mod(f),o.cmp(p)&&o.cmp(m)&&(n+=8);break;default:n+=4}return g[r]=n,n}function a(e,t,i){this.setGenerator(t),this.__prime=new h(e),this._prime=h.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,i?(this.setPublicKey=r,this.setPrivateKey=n):this._primeCode=8}function s(e,i){var r=new t(e.toArray());return i?r.toString(i):r}var h=i(4),c=i(63),l=new c,u=new h(24),d=new h(11),f=new h(10),p=new h(3),m=new h(7),v=i(61),y=i(11);e.exports=a;var g={};Object.defineProperty(a.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=o(this.__prime,this.__gen)),this._primeCode}}),a.prototype.generateKeys=function(){return this._priv||(this._priv=new h(y(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},a.prototype.computeSecret=function(e){e=new h(e),e=e.toRed(this._prime);var i=e.redPow(this._priv).fromRed(),r=new t(i.toArray()),n=this.getPrime();if(r.length<n.length){var o=new t(n.length-r.length);o.fill(0),r=t.concat([o,r])}return r},a.prototype.getPublicKey=function(e){return s(this._pub,e)},a.prototype.getPrivateKey=function(e){return s(this._priv,e)},a.prototype.getPrime=function(e){return s(this.__prime,e)},a.prototype.getGenerator=function(e){return s(this._gen,e)},a.prototype.setGenerator=function(e,i){return i=i||"utf8",t.isBuffer(e)||(e=new t(e,i)),this.__gen=e,this._gen=new h(e),this}}).call(t,i(3).Buffer)},function(e,t,i){(function(t){function r(e){h.Writable.call(this);var t=d[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=s(t.hash),this._tag=t.id,this._signType=t.sign}function n(e){h.Writable.call(this);var t=d[e];if(!t)throw new Error("Unknown message digest");this._hash=s(t.hash),this._tag=t.id,this._signType=t.sign}function o(e){return new r(e)}function a(e){return new n(e)}var s=i(13),h=i(19),c=i(0),l=i(129),u=i(165),d=i(51);Object.keys(d).forEach(function(e){d[e].id=new t(d[e].id,"hex"),d[e.toLowerCase()]=d[e]}),c(r,h.Writable),r.prototype._write=function(e,t,i){this._hash.update(e),i()},r.prototype.update=function(e,i){return"string"==typeof e&&(e=new t(e,i)),this._hash.update(e),this},r.prototype.sign=function(e,t){this.end();var i=this._hash.digest(),r=l(i,e,this._hashType,this._signType,this._tag);return t?r.toString(t):r},c(n,h.Writable),n.prototype._write=function(e,t,i){this._hash.update(e),i()},n.prototype.update=function(e,i){return"string"==typeof e&&(e=new t(e,i)),this._hash.update(e),this},n.prototype.verify=function(e,i,r){"string"==typeof i&&(i=new t(i,r)),this.end();var n=this._hash.digest();return u(i,n,e,this._signType,this._tag)},e.exports={Sign:o,Verify:a,createSign:o,createVerify:a}}).call(t,i(3).Buffer)},function(e,t,i){(function(t){function r(e,i,r,a,s){var h=v(i);if(h.curve){if("ecdsa"!==a&&"ecdsa/rsa"!==a)throw new Error("wrong private key type");return n(e,h)}if("dsa"===h.type){if("dsa"!==a)throw new Error("wrong private key type");return o(e,h,r)}if("rsa"!==a&&"ecdsa/rsa"!==a)throw new Error("wrong private key type");e=t.concat([s,e]);for(var c=h.modulus.byteLength(),l=[0,1];e.length+l.length+1<c;)l.push(255);l.push(0);for(var u=-1;++u<e.length;)l.push(e[u]);return f(l,h)}function n(e,i){var r=y[i.curve.join(".")];if(!r)throw new Error("unknown curve "+i.curve.join("."));var n=new p(r),o=n.keyFromPrivate(i.privateKey),a=o.sign(e);return new t(a.toDER())}function o(e,t,i){for(var r,n=t.params.priv_key,o=t.params.p,c=t.params.q,d=t.params.g,f=new m(0),p=h(e,c).mod(c),v=!1,y=s(n,c,e,i);!1===v;)r=l(c,y,i),f=u(d,r,o,c),v=r.invm(c).imul(p.add(n.mul(f))).mod(c),0===v.cmpn(0)&&(v=!1,f=new m(0));return a(f,v)}function a(e,i){e=e.toArray(),i=i.toArray(),128&e[0]&&(e=[0].concat(e)),128&i[0]&&(i=[0].concat(i));var r=e.length+i.length+4,n=[48,r,2,e.length];return n=n.concat(e,[2,i.length],i),new t(n)}function s(e,i,r,n){if(e=new t(e.toArray()),e.length<i.byteLength()){var o=new t(i.byteLength()-e.length);o.fill(0),e=t.concat([o,e])}var a=r.length,s=c(r,i),h=new t(a);h.fill(1);var l=new t(a);return l.fill(0),l=d(n,l).update(h).update(new t([0])).update(e).update(s).digest(),h=d(n,l).update(h).digest(),l=d(n,l).update(h).update(new t([1])).update(e).update(s).digest(),h=d(n,l).update(h).digest(),{k:l,v:h}}function h(e,t){var i=new m(e),r=(e.length<<3)-t.bitLength();return r>0&&i.ishrn(r),i}function c(e,i){e=h(e,i),e=e.mod(i);var r=new t(e.toArray());if(r.length<i.byteLength()){var n=new t(i.byteLength()-r.length);n.fill(0),r=t.concat([n,r])}return r}function l(e,i,r){var n,o;do{for(n=new t(0);8*n.length<e.bitLength();)i.v=d(r,i.k).update(i.v).digest(),n=t.concat([n,i.v]);o=h(n,e),i.k=d(r,i.k).update(i.v).update(new t([0])).digest(),i.v=d(r,i.k).update(i.v).digest()}while(-1!==o.cmp(e));return o}function u(e,t,i,r){return e.toRed(m.mont(i)).redPow(t).fromRed().mod(r)}var d=i(50),f=i(37),p=i(5).ec,m=i(4),v=i(25),y=i(73);e.exports=r,e.exports.getKey=s,e.exports.makeKey=l}).call(t,i(3).Buffer)},function(e,t){e.exports={_args:[["elliptic@6.4.0","/Users/nobook-mac-001/Desktop/science/science-combine/src/science-new"]],_from:"elliptic@6.4.0",_id:"elliptic@6.4.0",_inBundle:!1,_integrity:"sha1-ysmvh2LIWDYYcAPI3+GT5eLq5d8=",_location:"/elliptic",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"elliptic@6.4.0",name:"elliptic",escapedName:"elliptic",rawSpec:"6.4.0",saveSpec:null,fetchSpec:"6.4.0"},_requiredBy:["/browserify-sign","/create-ecdh"],_resolved:"http://registry.npm.taobao.org/elliptic/download/elliptic-6.4.0.tgz",_spec:"6.4.0",_where:"/Users/nobook-mac-001/Desktop/science/science-combine/src/science-new",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.4.0"}},function(e,t,i){"use strict";function r(e,t){for(var i=[],r=1<<t+1,n=e.clone();n.cmpn(1)>=0;){var o;if(n.isOdd()){var a=n.andln(r-1);o=a>(r>>1)-1?(r>>1)-a:a,n.isubn(o)}else o=0;i.push(o);for(var s=0!==n.cmpn(0)&&0===n.andln(r-1)?t+1:1,h=1;h<s;h++)i.push(0);n.iushrn(s)}return i}function n(e,t){var i=[[],[]];e=e.clone(),t=t.clone();for(var r=0,n=0;e.cmpn(-r)>0||t.cmpn(-n)>0;){var o=e.andln(3)+r&3,a=t.andln(3)+n&3;3===o&&(o=-1),3===a&&(a=-1);var s;if(0==(1&o))s=0;else{var h=e.andln(7)+r&7;s=3!==h&&5!==h||2!==a?o:-o}i[0].push(s);var c;if(0==(1&a))c=0;else{var h=t.andln(7)+n&7;c=3!==h&&5!==h||2!==o?a:-a}i[1].push(c),2*r===s+1&&(r=1-r),2*n===c+1&&(n=1-n),e.iushrn(1),t.iushrn(1)}return i}function o(e,t,i){var r="_"+t;e.prototype[t]=function(){return void 0!==this[r]?this[r]:this[r]=i.call(this)}}function a(e){return"string"==typeof e?h.toArray(e,"hex"):e}function s(e){return new c(e,"hex","le")}var h=t,c=i(4),l=i(6),u=i(65);h.assert=l,h.toArray=u.toArray,h.zero2=u.zero2,h.toHex=u.toHex,h.encode=u.encode,h.getNAF=r,h.getJSF=n,h.cachedProperty=o,h.parseBytes=a,h.intFromLE=s},function(e,t,i){"use strict";function r(e,t){this.type=e,this.p=new o(t.p,16),this.red=t.prime?o.red(t.prime):o.mont(this.p),this.zero=new o(0).toRed(this.red),this.one=new o(1).toRed(this.red),this.two=new o(2).toRed(this.red),this.n=t.n&&new o(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var i=this.n&&this.p.div(this.n);!i||i.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function n(e,t){this.curve=e,this.type=t,this.precomputed=null}var o=i(4),a=i(5),s=a.utils,h=s.getNAF,c=s.getJSF,l=s.assert;e.exports=r,r.prototype.point=function(){throw new Error("Not implemented")},r.prototype.validate=function(){throw new Error("Not implemented")},r.prototype._fixedNafMul=function(e,t){l(e.precomputed);var i=e._getDoubles(),r=h(t,1),n=(1<<i.step+1)-(i.step%2==0?2:1);n/=3;for(var o=[],a=0;a<r.length;a+=i.step){for(var s=0,t=a+i.step-1;t>=a;t--)s=(s<<1)+r[t];o.push(s)}for(var c=this.jpoint(null,null,null),u=this.jpoint(null,null,null),d=n;d>0;d--){for(var a=0;a<o.length;a++){var s=o[a];s===d?u=u.mixedAdd(i.points[a]):s===-d&&(u=u.mixedAdd(i.points[a].neg()))}c=c.add(u)}return c.toP()},r.prototype._wnafMul=function(e,t){var i=4,r=e._getNAFPoints(i);i=r.wnd;for(var n=r.points,o=h(t,i),a=this.jpoint(null,null,null),s=o.length-1;s>=0;s--){for(var t=0;s>=0&&0===o[s];s--)t++;if(s>=0&&t++,a=a.dblp(t),s<0)break;var c=o[s];l(0!==c),a="affine"===e.type?c>0?a.mixedAdd(n[c-1>>1]):a.mixedAdd(n[-c-1>>1].neg()):c>0?a.add(n[c-1>>1]):a.add(n[-c-1>>1].neg())}return"affine"===e.type?a.toP():a},r.prototype._wnafMulAdd=function(e,t,i,r,n){for(var o=this._wnafT1,a=this._wnafT2,s=this._wnafT3,l=0,u=0;u<r;u++){var d=t[u],f=d._getNAFPoints(e);o[u]=f.wnd,a[u]=f.points}for(var u=r-1;u>=1;u-=2){var p=u-1,m=u;if(1===o[p]&&1===o[m]){var v=[t[p],null,null,t[m]];0===t[p].y.cmp(t[m].y)?(v[1]=t[p].add(t[m]),v[2]=t[p].toJ().mixedAdd(t[m].neg())):0===t[p].y.cmp(t[m].y.redNeg())?(v[1]=t[p].toJ().mixedAdd(t[m]),v[2]=t[p].add(t[m].neg())):(v[1]=t[p].toJ().mixedAdd(t[m]),v[2]=t[p].toJ().mixedAdd(t[m].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],g=c(i[p],i[m]);l=Math.max(g[0].length,l),s[p]=new Array(l),s[m]=new Array(l);for(var b=0;b<l;b++){var x=0|g[0][b],w=0|g[1][b];s[p][b]=y[3*(x+1)+(w+1)],s[m][b]=0,a[p]=v}}else s[p]=h(i[p],o[p]),s[m]=h(i[m],o[m]),l=Math.max(s[p].length,l),l=Math.max(s[m].length,l)}for(var _=this.jpoint(null,null,null),T=this._wnafT4,u=l;u>=0;u--){for(var E=0;u>=0;){for(var S=!0,b=0;b<r;b++)T[b]=0|s[b][u],0!==T[b]&&(S=!1);if(!S)break;E++,u--}if(u>=0&&E++,_=_.dblp(E),u<0)break;for(var b=0;b<r;b++){var d,M=T[b];0!==M&&(M>0?d=a[b][M-1>>1]:M<0&&(d=a[b][-M-1>>1].neg()),_="affine"===d.type?_.mixedAdd(d):_.add(d))}}for(var u=0;u<r;u++)a[u]=null;return n?_:_.toP()},r.BasePoint=n,n.prototype.eq=function(){throw new Error("Not implemented")},n.prototype.validate=function(){return this.curve.validate(this)},r.prototype.decodePoint=function(e,t){e=s.toArray(e,t);var i=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*i){6===e[0]?l(e[e.length-1]%2==0):7===e[0]&&l(e[e.length-1]%2==1);return this.point(e.slice(1,1+i),e.slice(1+i,1+2*i))}if((2===e[0]||3===e[0])&&e.length-1===i)return this.pointFromX(e.slice(1,1+i),3===e[0]);throw new Error("Unknown point format")},n.prototype.encodeCompressed=function(e){return this.encode(e,!0)},n.prototype._encode=function(e){var t=this.curve.p.byteLength(),i=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",t))},n.prototype.encode=function(e,t){return s.encode(this._encode(t),e)},n.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},n.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},n.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],r=this,n=0;n<t;n+=e){for(var o=0;o<e;o++)r=r.dbl();i.push(r)}return{step:e,points:i}},n.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],i=(1<<e)-1,r=1===i?null:this.dbl(),n=1;n<i;n++)t[n]=t[n-1].add(r);return{wnd:e,points:t}},n.prototype._getBeta=function(){return null},n.prototype.dblp=function(e){for(var t=this,i=0;i<e;i++)t=t.dbl();return t}},function(e,t,i){"use strict";function r(e){l.call(this,"short",e),this.a=new h(e.a,16).toRed(this.red),this.b=new h(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function n(e,t,i,r){l.BasePoint.call(this,e,"affine"),null===t&&null===i?(this.x=null,this.y=null,this.inf=!0):(this.x=new h(t,16),this.y=new h(i,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function o(e,t,i,r){l.BasePoint.call(this,e,"jacobian"),null===t&&null===i&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new h(0)):(this.x=new h(t,16),this.y=new h(i,16),this.z=new h(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}var a=i(24),s=i(5),h=i(4),c=i(0),l=a.base,u=s.utils.assert;c(r,l),e.exports=r,r.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,i;if(e.beta)t=new h(e.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);t=r[0].cmp(r[1])<0?r[0]:r[1],t=t.toRed(this.red)}if(e.lambda)i=new h(e.lambda,16);else{var n=this._getEndoRoots(this.n);0===this.g.mul(n[0]).x.cmp(this.g.x.redMul(t))?i=n[0]:(i=n[1],u(0===this.g.mul(i).x.cmp(this.g.x.redMul(t))))}var o;return o=e.basis?e.basis.map(function(e){return{a:new h(e.a,16),b:new h(e.b,16)}}):this._getEndoBasis(i),{beta:t,lambda:i,basis:o}}},r.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:h.mont(e),i=new h(2).toRed(t).redInvm(),r=i.redNeg(),n=new h(3).toRed(t).redNeg().redSqrt().redMul(i);return[r.redAdd(n).fromRed(),r.redSub(n).fromRed()]},r.prototype._getEndoBasis=function(e){for(var t,i,r,n,o,a,s,c,l,u=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,f=this.n.clone(),p=new h(1),m=new h(0),v=new h(0),y=new h(1),g=0;0!==d.cmpn(0);){var b=f.div(d);c=f.sub(b.mul(d)),l=v.sub(b.mul(p));var x=y.sub(b.mul(m));if(!r&&c.cmp(u)<0)t=s.neg(),i=p,r=c.neg(),n=l;else if(r&&2==++g)break;s=c,f=d,d=c,v=p,p=l,y=m,m=x}o=c.neg(),a=l;var w=r.sqr().add(n.sqr());return o.sqr().add(a.sqr()).cmp(w)>=0&&(o=t,a=i),r.negative&&(r=r.neg(),n=n.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:r,b:n},{a:o,b:a}]},r.prototype._endoSplit=function(e){var t=this.endo.basis,i=t[0],r=t[1],n=r.b.mul(e).divRound(this.n),o=i.b.neg().mul(e).divRound(this.n),a=n.mul(i.a),s=o.mul(r.a),h=n.mul(i.b),c=o.mul(r.b);return{k1:e.sub(a).sub(s),k2:h.add(c).neg()}},r.prototype.pointFromX=function(e,t){e=new h(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),r=i.redSqrt();if(0!==r.redSqr().redSub(i).cmp(this.zero))throw new Error("invalid point");var n=r.fromRed().isOdd();return(t&&!n||!t&&n)&&(r=r.redNeg()),this.point(e,r)},r.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,i=e.y,r=this.a.redMul(t),n=t.redSqr().redMul(t).redIAdd(r).redIAdd(this.b);return 0===i.redSqr().redISub(n).cmpn(0)},r.prototype._endoWnafMulAdd=function(e,t,i){for(var r=this._endoWnafT1,n=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),s=e[o],h=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),h=h.neg(!0)),r[2*o]=s,r[2*o+1]=h,n[2*o]=a.k1,n[2*o+1]=a.k2}for(var c=this._wnafMulAdd(1,r,n,2*o,i),l=0;l<2*o;l++)r[l]=null,n[l]=null;return c},c(n,l.BasePoint),r.prototype.point=function(e,t,i){return new n(this,e,t,i)},r.prototype.pointFromJSON=function(e,t){return n.fromJSON(this,e,t)},n.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var i=this.curve,r=function(e){return i.point(e.x.redMul(i.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(r)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(r)}}}return t}},n.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},n.fromJSON=function(e,t,i){function r(t){return e.point(t[0],t[1],i)}"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],i);if(!t[2])return n;var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(r))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(r))}},n},n.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},n.prototype.isInfinity=function(){return this.inf},n.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var i=t.redSqr().redISub(this.x).redISub(e.x),r=t.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,r)},n.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,i=this.x.redSqr(),r=e.redInvm(),n=i.redAdd(i).redIAdd(i).redIAdd(t).redMul(r),o=n.redSqr().redISub(this.x.redAdd(this.x)),a=n.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},n.prototype.getX=function(){return this.x.fromRed()},n.prototype.getY=function(){return this.y.fromRed()},n.prototype.mul=function(e){return e=new h(e,16),this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},n.prototype.mulAdd=function(e,t,i){var r=[this,t],n=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(r,n):this.curve._wnafMulAdd(1,r,n,2)},n.prototype.jmulAdd=function(e,t,i){var r=[this,t],n=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(r,n,!0):this.curve._wnafMulAdd(1,r,n,2,!0)},n.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},n.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var i=this.precomputed,r=function(e){return e.neg()};t.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(r)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(r)}}}return t},n.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},c(o,l.BasePoint),r.prototype.jpoint=function(e,t,i){return new o(this,e,t,i)},o.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),i=this.x.redMul(t),r=this.y.redMul(t).redMul(e);return this.curve.point(i,r)},o.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},o.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),i=this.z.redSqr(),r=this.x.redMul(t),n=e.x.redMul(i),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(i.redMul(this.z)),s=r.redSub(n),h=o.redSub(a);if(0===s.cmpn(0))return 0!==h.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),l=c.redMul(s),u=r.redMul(c),d=h.redSqr().redIAdd(l).redISub(u).redISub(u),f=h.redMul(u.redISub(d)).redISub(o.redMul(l)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(d,f,p)},o.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),i=this.x,r=e.x.redMul(t),n=this.y,o=e.y.redMul(t).redMul(this.z),a=i.redSub(r),s=n.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=a.redSqr(),c=h.redMul(a),l=i.redMul(h),u=s.redSqr().redIAdd(c).redISub(l).redISub(l),d=s.redMul(l.redISub(u)).redISub(n.redMul(c)),f=this.z.redMul(a);return this.curve.jpoint(u,d,f)},o.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,i=0;i<e;i++)t=t.dbl();return t}for(var r=this.curve.a,n=this.curve.tinv,o=this.x,a=this.y,s=this.z,h=s.redSqr().redSqr(),c=a.redAdd(a),i=0;i<e;i++){var l=o.redSqr(),u=c.redSqr(),d=u.redSqr(),f=l.redAdd(l).redIAdd(l).redIAdd(r.redMul(h)),p=o.redMul(u),m=f.redSqr().redISub(p.redAdd(p)),v=p.redISub(m),y=f.redMul(v);y=y.redIAdd(y).redISub(d);var g=c.redMul(s);i+1<e&&(h=h.redMul(d)),o=m,s=g,c=y}return this.curve.jpoint(o,c.redMul(n),s)},o.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},o.prototype._zeroDbl=function(){var e,t,i;if(this.zOne){var r=this.x.redSqr(),n=this.y.redSqr(),o=n.redSqr(),a=this.x.redAdd(n).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var s=r.redAdd(r).redIAdd(r),h=s.redSqr().redISub(a).redISub(a),c=o.redIAdd(o);c=c.redIAdd(c),c=c.redIAdd(c),e=h,t=s.redMul(a.redISub(h)).redISub(c),i=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),u=this.y.redSqr(),d=u.redSqr(),f=this.x.redAdd(u).redSqr().redISub(l).redISub(d);f=f.redIAdd(f);var p=l.redAdd(l).redIAdd(l),m=p.redSqr(),v=d.redIAdd(d);v=v.redIAdd(v),v=v.redIAdd(v),e=m.redISub(f).redISub(f),t=p.redMul(f.redISub(e)).redISub(v),i=this.y.redMul(this.z),i=i.redIAdd(i)}return this.curve.jpoint(e,t,i)},o.prototype._threeDbl=function(){var e,t,i;if(this.zOne){var r=this.x.redSqr(),n=this.y.redSqr(),o=n.redSqr(),a=this.x.redAdd(n).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var s=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),h=s.redSqr().redISub(a).redISub(a);e=h;var c=o.redIAdd(o);c=c.redIAdd(c),c=c.redIAdd(c),t=s.redMul(a.redISub(h)).redISub(c),i=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),u=this.y.redSqr(),d=this.x.redMul(u),f=this.x.redSub(l).redMul(this.x.redAdd(l));f=f.redAdd(f).redIAdd(f);var p=d.redIAdd(d);p=p.redIAdd(p);var m=p.redAdd(p);e=f.redSqr().redISub(m),i=this.y.redAdd(this.z).redSqr().redISub(u).redISub(l);var v=u.redSqr();v=v.redIAdd(v),v=v.redIAdd(v),v=v.redIAdd(v),t=f.redMul(p.redISub(e)).redISub(v)}return this.curve.jpoint(e,t,i)},o.prototype._dbl=function(){var e=this.curve.a,t=this.x,i=this.y,r=this.z,n=r.redSqr().redSqr(),o=t.redSqr(),a=i.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(n)),h=t.redAdd(t);h=h.redIAdd(h);var c=h.redMul(a),l=s.redSqr().redISub(c.redAdd(c)),u=c.redISub(l),d=a.redSqr();d=d.redIAdd(d),d=d.redIAdd(d),d=d.redIAdd(d);var f=s.redMul(u).redISub(d),p=i.redAdd(i).redMul(r);return this.curve.jpoint(l,f,p)},o.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr(),r=t.redSqr(),n=e.redAdd(e).redIAdd(e),o=n.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(r);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var s=a.redSqr(),h=r.redIAdd(r);h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var c=n.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(h),l=t.redMul(c);l=l.redIAdd(l),l=l.redIAdd(l);var u=this.x.redMul(s).redISub(l);u=u.redIAdd(u),u=u.redIAdd(u);var d=this.y.redMul(c.redMul(h.redISub(c)).redISub(a.redMul(s)));d=d.redIAdd(d),d=d.redIAdd(d),d=d.redIAdd(d);var f=this.z.redAdd(a).redSqr().redISub(i).redISub(s);return this.curve.jpoint(u,d,f)},o.prototype.mul=function(e,t){return e=new h(e,t),this.curve._wnafMul(this,e)},o.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),i=e.z.redSqr();if(0!==this.x.redMul(i).redISub(e.x.redMul(t)).cmpn(0))return!1;var r=t.redMul(this.z),n=i.redMul(e.z);return 0===this.y.redMul(n).redISub(e.y.redMul(r)).cmpn(0)},o.prototype.eqXToP=function(e){var t=this.z.redSqr(),i=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(i))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(t);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(n),0===this.x.cmp(i))return!0}return!1},o.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},o.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},function(e,t,i){"use strict";function r(e){h.call(this,"mont",e),this.a=new a(e.a,16).toRed(this.red),this.b=new a(e.b,16).toRed(this.red),this.i4=new a(4).toRed(this.red).redInvm(),this.two=new a(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function n(e,t,i){h.BasePoint.call(this,e,"projective"),null===t&&null===i?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new a(t,16),this.z=new a(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}var o=i(24),a=i(4),s=i(0),h=o.base,c=i(5),l=c.utils;s(r,h),e.exports=r,r.prototype.validate=function(e){var t=e.normalize().x,i=t.redSqr(),r=i.redMul(t).redAdd(i.redMul(this.a)).redAdd(t);return 0===r.redSqrt().redSqr().cmp(r)},s(n,h.BasePoint),r.prototype.decodePoint=function(e,t){return this.point(l.toArray(e,t),1)},r.prototype.point=function(e,t){return new n(this,e,t)},r.prototype.pointFromJSON=function(e){return n.fromJSON(this,e)},n.prototype.precompute=function(){},n.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},n.fromJSON=function(e,t){return new n(e,t[0],t[1]||e.one)},n.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},n.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},n.prototype.dbl=function(){var e=this.x.redAdd(this.z),t=e.redSqr(),i=this.x.redSub(this.z),r=i.redSqr(),n=t.redSub(r),o=t.redMul(r),a=n.redMul(r.redAdd(this.curve.a24.redMul(n)));return this.curve.point(o,a)},n.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},n.prototype.diffAdd=function(e,t){var i=this.x.redAdd(this.z),r=this.x.redSub(this.z),n=e.x.redAdd(e.z),o=e.x.redSub(e.z),a=o.redMul(i),s=n.redMul(r),h=t.z.redMul(a.redAdd(s).redSqr()),c=t.x.redMul(a.redISub(s).redSqr());return this.curve.point(h,c)},n.prototype.mul=function(e){for(var t=e.clone(),i=this,r=this.curve.point(null,null),n=this,o=[];0!==t.cmpn(0);t.iushrn(1))o.push(t.andln(1));for(var a=o.length-1;a>=0;a--)0===o[a]?(i=i.diffAdd(r,n),r=r.dbl()):(r=i.diffAdd(r,n),i=i.dbl());return r},n.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},n.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},n.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},n.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},n.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(e,t,i){"use strict";function r(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,c.call(this,"edwards",e),this.a=new s(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new s(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new s(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),l(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function n(e,t,i,r,n){c.BasePoint.call(this,e,"projective"),null===t&&null===i&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new s(t,16),this.y=new s(i,16),this.z=r?new s(r,16):this.curve.one,this.t=n&&new s(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}var o=i(24),a=i(5),s=i(4),h=i(0),c=o.base,l=a.utils.assert;h(r,c),e.exports=r,r.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},r.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},r.prototype.jpoint=function(e,t,i,r){return this.point(e,t,i,r)},r.prototype.pointFromX=function(e,t){e=new s(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),r=this.c2.redSub(this.a.redMul(i)),n=this.one.redSub(this.c2.redMul(this.d).redMul(i)),o=r.redMul(n.redInvm()),a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var h=a.fromRed().isOdd();return(t&&!h||!t&&h)&&(a=a.redNeg()),this.point(e,a)},r.prototype.pointFromY=function(e,t){e=new s(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),r=i.redSub(this.one),n=i.redMul(this.d).redAdd(this.one),o=r.redMul(n.redInvm());if(0===o.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return a.isOdd()!==t&&(a=a.redNeg()),this.point(a,e)},r.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),i=e.y.redSqr(),r=t.redMul(this.a).redAdd(i),n=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(i)));return 0===r.cmp(n)},h(n,c.BasePoint),r.prototype.pointFromJSON=function(e){return n.fromJSON(this,e)},r.prototype.point=function(e,t,i,r){return new n(this,e,t,i,r)},n.fromJSON=function(e,t){return new n(e,t[0],t[1],t[2])},n.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},n.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&0===this.y.cmp(this.z)},n.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr();i=i.redIAdd(i);var r=this.curve._mulA(e),n=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=r.redAdd(t),a=o.redSub(i),s=r.redSub(t),h=n.redMul(a),c=o.redMul(s),l=n.redMul(s),u=a.redMul(o);return this.curve.point(h,c,u,l)},n.prototype._projDbl=function(){var e,t,i,r=this.x.redAdd(this.y).redSqr(),n=this.x.redSqr(),o=this.y.redSqr();if(this.curve.twisted){var a=this.curve._mulA(n),s=a.redAdd(o);if(this.zOne)e=r.redSub(n).redSub(o).redMul(s.redSub(this.curve.two)),t=s.redMul(a.redSub(o)),i=s.redSqr().redSub(s).redSub(s);else{var h=this.z.redSqr(),c=s.redSub(h).redISub(h);e=r.redSub(n).redISub(o).redMul(c),t=s.redMul(a.redSub(o)),i=s.redMul(c)}}else{var a=n.redAdd(o),h=this.curve._mulC(this.c.redMul(this.z)).redSqr(),c=a.redSub(h).redSub(h);e=this.curve._mulC(r.redISub(a)).redMul(c),t=this.curve._mulC(a).redMul(n.redISub(o)),i=a.redMul(c)}return this.curve.point(e,t,i)},n.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},n.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),i=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),r=this.t.redMul(this.curve.dd).redMul(e.t),n=this.z.redMul(e.z.redAdd(e.z)),o=i.redSub(t),a=n.redSub(r),s=n.redAdd(r),h=i.redAdd(t),c=o.redMul(a),l=s.redMul(h),u=o.redMul(h),d=a.redMul(s);return this.curve.point(c,l,d,u)},n.prototype._projAdd=function(e){var t,i,r=this.z.redMul(e.z),n=r.redSqr(),o=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(o).redMul(a),h=n.redSub(s),c=n.redAdd(s),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(a),u=r.redMul(h).redMul(l);return this.curve.twisted?(t=r.redMul(c).redMul(a.redSub(this.curve._mulA(o))),i=h.redMul(c)):(t=r.redMul(c).redMul(a.redSub(o)),i=this.curve._mulC(h).redMul(c)),this.curve.point(u,t,i)},n.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},n.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},n.prototype.mulAdd=function(e,t,i){return this.curve._wnafMulAdd(1,[this,t],[e,i],2,!1)},n.prototype.jmulAdd=function(e,t,i){return this.curve._wnafMulAdd(1,[this,t],[e,i],2,!0)},n.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},n.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},n.prototype.getX=function(){return this.normalize(),this.x.fromRed()},n.prototype.getY=function(){return this.normalize(),this.y.fromRed()},n.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},n.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var i=e.clone(),r=this.curve.redN.redMul(this.z);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(r),0===this.x.cmp(t))return!0}return!1},n.prototype.toP=n.prototype.normalize,n.prototype.mixedAdd=n.prototype.add},function(e,t,i){"use strict";function r(e){"short"===e.type?this.curve=new s.curve.short(e):"edwards"===e.type?this.curve=new s.curve.edwards(e):this.curve=new s.curve.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,h(this.g.validate(),"Invalid curve"),h(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function n(e,t){Object.defineProperty(o,e,{configurable:!0,enumerable:!0,get:function(){var i=new r(t);return Object.defineProperty(o,e,{configurable:!0,enumerable:!0,value:i}),i}})}var o=t,a=i(38),s=i(5),h=s.utils.assert;o.PresetCurve=r,n("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:a.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),n("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:a.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),n("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:a.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),n("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:a.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),n("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:a.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),n("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["9"]}),n("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=i(143)}catch(e){c=void 0}n("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:a.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})},function(e,t,i){"use strict";t.sha1=i(138),t.sha224=i(139),t.sha256=i(67),t.sha384=i(140),t.sha512=i(68)},function(e,t,i){"use strict";function r(){if(!(this instanceof r))return new r;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}var n=i(7),o=i(16),a=i(66),s=n.rotl32,h=n.sum32,c=n.sum32_5,l=a.ft_1,u=o.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];n.inherits(r,u),e.exports=r,r.blockSize=512,r.outSize=160,r.hmacStrength=80,r.padLength=64,r.prototype._update=function(e,t){for(var i=this.W,r=0;r<16;r++)i[r]=e[t+r];for(;r<i.length;r++)i[r]=s(i[r-3]^i[r-8]^i[r-14]^i[r-16],1);var n=this.h[0],o=this.h[1],a=this.h[2],u=this.h[3],f=this.h[4];for(r=0;r<i.length;r++){var p=~~(r/20),m=c(s(n,5),l(p,o,a,u),f,i[r],d[p]);f=u,u=a,a=s(o,30),o=n,n=m}this.h[0]=h(this.h[0],n),this.h[1]=h(this.h[1],o),this.h[2]=h(this.h[2],a),this.h[3]=h(this.h[3],u),this.h[4]=h(this.h[4],f)},r.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},function(e,t,i){"use strict";function r(){if(!(this instanceof r))return new r;o.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}var n=i(7),o=i(67);n.inherits(r,o),e.exports=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},function(e,t,i){"use strict";function r(){if(!(this instanceof r))return new r;o.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}var n=i(7),o=i(68);n.inherits(r,o),e.exports=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},function(e,t,i){"use strict";function r(){if(!(this instanceof r))return new r;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function n(e,t,i,r){return e<=15?t^i^r:e<=31?t&i|~t&r:e<=47?(t|~i)^r:e<=63?t&r|i&~r:t^(i|~r)}function o(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function a(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var s=i(7),h=i(16),c=s.rotl32,l=s.sum32,u=s.sum32_3,d=s.sum32_4,f=h.BlockHash;s.inherits(r,f),t.ripemd160=r,r.blockSize=512,r.outSize=160,r.hmacStrength=192,r.padLength=64,r.prototype._update=function(e,t){for(var i=this.h[0],r=this.h[1],s=this.h[2],h=this.h[3],f=this.h[4],g=i,b=r,x=s,w=h,_=f,T=0;T<80;T++){var E=l(c(d(i,n(T,r,s,h),e[p[T]+t],o(T)),v[T]),f);i=f,f=h,h=c(s,10),s=r,r=E,E=l(c(d(g,n(79-T,b,x,w),e[m[T]+t],a(T)),y[T]),_),g=_,_=w,w=c(x,10),x=b,b=E}E=u(this.h[1],s,w),this.h[1]=u(this.h[2],h,_),this.h[2]=u(this.h[3],f,g),this.h[3]=u(this.h[4],i,b),this.h[4]=u(this.h[0],r,x),this.h[0]=E},r.prototype._digest=function(e){return"hex"===e?s.toHex32(this.h,"little"):s.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],v=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(e,t,i){"use strict";function r(e,t,i){if(!(this instanceof r))return new r(e,t,i);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,i))}var n=i(7),o=i(6);e.exports=r,r.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),o(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},r.prototype.update=function(e,t){return this.inner.update(e,t),this},r.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},function(e,t){e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},function(e,t,i){"use strict";function r(e){if(!(this instanceof r))return new r(e);"string"==typeof e&&(h(a.curves.hasOwnProperty(e),"Unknown curve "+e),e=a.curves[e]),e instanceof a.curves.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var n=i(4),o=i(145),a=i(5),s=a.utils,h=s.assert,c=i(146),l=i(147);e.exports=r,r.prototype.keyPair=function(e){return new c(this,e)},r.prototype.keyFromPrivate=function(e,t){return c.fromPrivate(this,e,t)},r.prototype.keyFromPublic=function(e,t){return c.fromPublic(this,e,t)},r.prototype.genKeyPair=function(e){e||(e={});for(var t=new o({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||a.rand(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),r=this.n.sub(new n(2));;){var s=new n(t.generate(i));if(!(s.cmp(r)>0))return s.iaddn(1),this.keyFromPrivate(s)}},r.prototype._truncateToN=function(e,t){var i=8*e.byteLength()-this.n.bitLength();return i>0&&(e=e.ushrn(i)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},r.prototype.sign=function(e,t,i,r){"object"==typeof i&&(r=i,i=null),r||(r={}),t=this.keyFromPrivate(t,i),e=this._truncateToN(new n(e,16));for(var a=this.n.byteLength(),s=t.getPrivate().toArray("be",a),h=e.toArray("be",a),c=new o({hash:this.hash,entropy:s,nonce:h,pers:r.pers,persEnc:r.persEnc||"utf8"}),u=this.n.sub(new n(1)),d=0;!0;d++){var f=r.k?r.k(d):new n(c.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(u)>=0)){var p=this.g.mul(f);if(!p.isInfinity()){var m=p.getX(),v=m.umod(this.n);if(0!==v.cmpn(0)){var y=f.invm(this.n).mul(v.mul(t.getPrivate()).iadd(e));if(y=y.umod(this.n),0!==y.cmpn(0)){var g=(p.getY().isOdd()?1:0)|(0!==m.cmp(v)?2:0);return r.canonical&&y.cmp(this.nh)>0&&(y=this.n.sub(y),g^=1),new l({r:v,s:y,recoveryParam:g})}}}}}},r.prototype.verify=function(e,t,i,r){e=this._truncateToN(new n(e,16)),i=this.keyFromPublic(i,r),t=new l(t,"hex");var o=t.r,a=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s=a.invm(this.n),h=s.mul(e).umod(this.n),c=s.mul(o).umod(this.n);if(!this.curve._maxwellTrick){var u=this.g.mulAdd(h,i.getPublic(),c);return!u.isInfinity()&&0===u.getX().umod(this.n).cmp(o)}var u=this.g.jmulAdd(h,i.getPublic(),c);return!u.isInfinity()&&u.eqXToP(o)},r.prototype.recoverPubKey=function(e,t,i,r){h((3&i)===i,"The recovery param is more than two bits"),t=new l(t,r);var o=this.n,a=new n(e),s=t.r,c=t.s,u=1&i,d=i>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");s=d?this.curve.pointFromX(s.add(this.curve.n),u):this.curve.pointFromX(s,u);var f=t.r.invm(o),p=o.sub(a).mul(f).umod(o),m=c.mul(f).umod(o);return this.g.mulAdd(p,s,m)},r.prototype.getKeyRecoveryParam=function(e,t,i,r){if(t=new l(t,r),null!==t.recoveryParam)return t.recoveryParam;for(var n=0;n<4;n++){var o;try{o=this.recoverPubKey(e,t,n)}catch(e){continue}if(o.eq(i))return n}throw new Error("Unable to find valid recovery factor")}},function(e,t,i){"use strict";function r(e){if(!(this instanceof r))return new r(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=o.toArray(e.entropy,e.entropyEnc||"hex"),i=o.toArray(e.nonce,e.nonceEnc||"hex"),n=o.toArray(e.pers,e.persEnc||"hex");a(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,i,n)}var n=i(38),o=i(65),a=i(6);e.exports=r,r.prototype._init=function(e,t,i){var r=e.concat(t).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},r.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},r.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},r.prototype.reseed=function(e,t,i,r){"string"!=typeof t&&(r=i,i=t,t=null),e=o.toArray(e,t),i=o.toArray(i,r),a(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(i||[])),this._reseed=1},r.prototype.generate=function(e,t,i,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(r=i,i=t,t=null),i&&(i=o.toArray(i,r||"hex"),this._update(i));for(var n=[];n.length<e;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var a=n.slice(0,e);return this._update(i),this._reseed++,o.encode(a,t)}},function(e,t,i){"use strict";function r(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var n=i(4),o=i(5),a=o.utils,s=a.assert;e.exports=r,r.fromPublic=function(e,t,i){return t instanceof r?t:new r(e,{pub:t,pubEnc:i})},r.fromPrivate=function(e,t,i){return t instanceof r?t:new r(e,{priv:t,privEnc:i})},r.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},r.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},r.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},r.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},r.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?s(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||s(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},r.prototype.derive=function(e){return e.mul(this.priv).getX()},r.prototype.sign=function(e,t,i){return this.ec.sign(e,this,t,i)},r.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},r.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(e,t,i){"use strict";function r(e,t){if(e instanceof r)return e;this._importDER(e,t)||(u(e.r&&e.s,"Signature without r or s"),this.r=new h(e.r,16),this.s=new h(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function n(){this.place=0}function o(e,t){var i=e[t.place++];if(!(128&i))return i;for(var r=15&i,n=0,o=0,a=t.place;o<r;o++,a++)n<<=8,n|=e[a];return t.place=a,n}function a(e){for(var t=0,i=e.length-1;!e[t]&&!(128&e[t+1])&&t<i;)t++;return 0===t?e:e.slice(t)}function s(e,t){if(t<128)return void e.push(t);var i=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|i);--i;)e.push(t>>>(i<<3)&255);e.push(t)}var h=i(4),c=i(5),l=c.utils,u=l.assert;e.exports=r,r.prototype._importDER=function(e,t){e=l.toArray(e,t);var i=new n;if(48!==e[i.place++])return!1;if(o(e,i)+i.place!==e.length)return!1;if(2!==e[i.place++])return!1;var r=o(e,i),a=e.slice(i.place,r+i.place);if(i.place+=r,2!==e[i.place++])return!1;var s=o(e,i);if(e.length!==s+i.place)return!1;var c=e.slice(i.place,s+i.place);return 0===a[0]&&128&a[1]&&(a=a.slice(1)),0===c[0]&&128&c[1]&&(c=c.slice(1)),this.r=new h(a),this.s=new h(c),this.recoveryParam=null,!0},r.prototype.toDER=function(e){var t=this.r.toArray(),i=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&i[0]&&(i=[0].concat(i)),t=a(t),i=a(i);!(i[0]||128&i[1]);)i=i.slice(1);var r=[2];s(r,t.length),r=r.concat(t),r.push(2),s(r,i.length);var n=r.concat(i),o=[48];return s(o,n.length),o=o.concat(n),l.encode(o,e)}},function(e,t,i){"use strict";function r(e){if(s("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof r))return new r(e);var e=o.curves[e].curve;this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}var n=i(38),o=i(5),a=o.utils,s=a.assert,h=a.parseBytes,c=i(149),l=i(150);e.exports=r,r.prototype.sign=function(e,t){e=h(e);var i=this.keyFromSecret(t),r=this.hashInt(i.messagePrefix(),e),n=this.g.mul(r),o=this.encodePoint(n),a=this.hashInt(o,i.pubBytes(),e).mul(i.priv()),s=r.add(a).umod(this.curve.n);return this.makeSignature({R:n,S:s,Rencoded:o})},r.prototype.verify=function(e,t,i){e=h(e),t=this.makeSignature(t);var r=this.keyFromPublic(i),n=this.hashInt(t.Rencoded(),r.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(r.pub().mul(n)).eq(o)},r.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return a.intFromLE(e.digest()).umod(this.curve.n)},r.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},r.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},r.prototype.makeSignature=function(e){return e instanceof l?e:new l(this,e)},r.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},r.prototype.decodePoint=function(e){e=a.parseBytes(e);var t=e.length-1,i=e.slice(0,t).concat(-129&e[t]),r=0!=(128&e[t]),n=a.intFromLE(i);return this.curve.pointFromY(n,r)},r.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},r.prototype.decodeInt=function(e){return a.intFromLE(e)},r.prototype.isPoint=function(e){return e instanceof this.pointClass}},function(e,t,i){"use strict";function r(e,t){this.eddsa=e,this._secret=s(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=s(t.pub)}var n=i(5),o=n.utils,a=o.assert,s=o.parseBytes,h=o.cachedProperty;r.fromPublic=function(e,t){return t instanceof r?t:new r(e,{pub:t})},r.fromSecret=function(e,t){return t instanceof r?t:new r(e,{secret:t})},r.prototype.secret=function(){return this._secret},h(r,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),h(r,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),h(r,"privBytes",function(){var e=this.eddsa,t=this.hash(),i=e.encodingLength-1,r=t.slice(0,e.encodingLength);return r[0]&=248,r[i]&=127,r[i]|=64,r}),h(r,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),h(r,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),h(r,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),r.prototype.sign=function(e){return a(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},r.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},r.prototype.getSecret=function(e){return a(this._secret,"KeyPair is public only"),o.encode(this.secret(),e)},r.prototype.getPublic=function(e){return o.encode(this.pubBytes(),e)},e.exports=r},function(e,t,i){"use strict";function r(e,t){this.eddsa=e,"object"!=typeof t&&(t=c(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),s(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}var n=i(4),o=i(5),a=o.utils,s=a.assert,h=a.cachedProperty,c=a.parseBytes;h(r,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),h(r,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),h(r,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),h(r,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),r.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},r.prototype.toHex=function(){return a.encode(this.toBytes(),"hex").toUpperCase()},e.exports=r},function(e,t,i){"use strict";var r=i(17);t.certificate=i(162);var n=r.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});t.RSAPrivateKey=n;var o=r.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});t.RSAPublicKey=o;var a=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())});t.PublicKey=a;var s=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),h=r.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())});t.PrivateKey=h;var c=r.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});t.EncryptedPrivateKey=c;var l=r.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});t.DSAPrivateKey=l,t.DSAparam=r.define("DSAparam",function(){this.int()});var u=r.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(d),this.key("publicKey").optional().explicit(1).bitstr())});t.ECPrivateKey=u;var d=r.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});t.signature=r.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},function(e,t,i){function r(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}var n=i(17),o=i(0);t.define=function(e,t){return new r(e,t)},r.prototype._createNamed=function(e){var t;try{t=i(153).runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(e){t=function(e){this._initNamed(e)}}return o(t,e),t.prototype._initNamed=function(t){e.call(this,t)},new t(this)},r.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(n.decoders[e])),this.decoders[e]},r.prototype.decode=function(e,t,i){return this._getDecoder(t).decode(e,i)},r.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(n.encoders[e])),this.encoders[e]},r.prototype.encode=function(e,t,i){return this._getEncoder(t).encode(e,i)}},function(module,exports,__webpack_require__){function Context(){}var indexOf=__webpack_require__(154),Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var i in e)t.push(i);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var i=0;i<e.length;i++)t(e[i],i,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,i){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:i})}}catch(e){return function(e,t,i){e[t]=i}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var i=t.contentWindow,r=i.eval,n=i.execScript;!r&&n&&(n.call(i,"null"),r=i.eval),forEach(Object_keys(e),function(t){i[t]=e[t]}),forEach(globals,function(t){e[t]&&(i[t]=e[t])});var o=Object_keys(i),a=r.call(i,this.code);return forEach(Object_keys(i),function(t){(t in e||-1===indexOf(o,t))&&(e[t]=i[t])}),forEach(globals,function(t){t in e||defineProp(e,t,i[t])}),document.body.removeChild(t),a},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),i=this.runInContext(t);return forEach(Object_keys(t),function(i){e[i]=t[i]}),i},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var i=Script(t);return i[e].apply(i,[].slice.call(arguments,1))}}),exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),function(i){t[i]=e[i]}),t}},function(e,t){var i=[].indexOf;e.exports=function(e,t){if(i)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},function(e,t,i){function r(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function n(e,t){this.path=e,this.rethrow(t)}var o=i(0);t.Reporter=r,r.prototype.isError=function(e){return e instanceof n},r.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},r.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},r.prototype.enterKey=function(e){return this._reporterState.path.push(e)},r.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},r.prototype.leaveKey=function(e,t,i){var r=this._reporterState;this.exitKey(e),null!==r.obj&&(r.obj[t]=i)},r.prototype.path=function(){return this._reporterState.path.join("/")},r.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},r.prototype.leaveObject=function(e){var t=this._reporterState,i=t.obj;return t.obj=e,i},r.prototype.error=function(e){var t,i=this._reporterState,r=e instanceof n;if(t=r?e:new n(i.path.map(function(e){return"["+JSON.stringify(e)+"]"}).join(""),e.message||e,e.stack),!i.options.partial)throw t;return r||i.errors.push(t),t},r.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},o(n,Error),n.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,n),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},function(e,t,i){function r(e,t){var i={};this._baseState=i,i.enc=e,i.parent=t||null,i.children=null,i.tag=null,i.args=null,i.reverseArgs=null,i.choice=null,i.optional=!1,i.any=!1,i.obj=!1,i.use=null,i.useDecoder=null,i.key=null,i.default=null,i.explicit=null,i.implicit=null,i.contains=null,i.parent||(i.children=[],this._wrap())}var n=i(18).Reporter,o=i(18).EncoderBuffer,a=i(18).DecoderBuffer,s=i(6),h=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(h),l=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];e.exports=r;var u=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];r.prototype.clone=function(){var e=this._baseState,t={};u.forEach(function(i){t[i]=e[i]});var i=new this.constructor(t.parent);return i._baseState=t,i},r.prototype._wrap=function(){var e=this._baseState;c.forEach(function(t){this[t]=function(){var i=new this.constructor(this);return e.children.push(i),i[t].apply(i,arguments)}},this)},r.prototype._init=function(e){var t=this._baseState;s(null===t.parent),e.call(this),t.children=t.children.filter(function(e){return e._baseState.parent===this},this),s.equal(t.children.length,1,"Root node can have only one child")},r.prototype._useArgs=function(e){var t=this._baseState,i=e.filter(function(e){return e instanceof this.constructor},this);e=e.filter(function(e){return!(e instanceof this.constructor)},this),0!==i.length&&(s(null===t.children),t.children=i,i.forEach(function(e){e._baseState.parent=this},this)),0!==e.length&&(s(null===t.args),t.args=e,t.reverseArgs=e.map(function(e){if("object"!=typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach(function(i){i==(0|i)&&(i|=0);var r=e[i];t[r]=i}),t}))},l.forEach(function(e){r.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}}),h.forEach(function(e){r.prototype[e]=function(){var t=this._baseState,i=Array.prototype.slice.call(arguments);return s(null===t.tag),t.tag=e,this._useArgs(i),this}}),r.prototype.use=function(e){s(e);var t=this._baseState;return s(null===t.use),t.use=e,this},r.prototype.optional=function(){return this._baseState.optional=!0,this},r.prototype.def=function(e){var t=this._baseState;return s(null===t.default),t.default=e,t.optional=!0,this},r.prototype.explicit=function(e){var t=this._baseState;return s(null===t.explicit&&null===t.implicit),t.explicit=e,this},r.prototype.implicit=function(e){var t=this._baseState;return s(null===t.explicit&&null===t.implicit),t.implicit=e,this},r.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},r.prototype.key=function(e){var t=this._baseState;return s(null===t.key),t.key=e,this},r.prototype.any=function(){return this._baseState.any=!0,this},r.prototype.choice=function(e){var t=this._baseState;return s(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map(function(t){return e[t]})),this},r.prototype.contains=function(e){var t=this._baseState;return s(null===t.use),t.contains=e,this},r.prototype._decode=function(e,t){var i=this._baseState;if(null===i.parent)return e.wrapResult(i.children[0]._decode(e,t));var r=i.default,n=!0,o=null;if(null!==i.key&&(o=e.enterKey(i.key)),i.optional){var s=null;if(null!==i.explicit?s=i.explicit:null!==i.implicit?s=i.implicit:null!==i.tag&&(s=i.tag),null!==s||i.any){if(n=this._peekTag(e,s,i.any),e.isError(n))return n}else{var h=e.save();try{null===i.choice?this._decodeGeneric(i.tag,e,t):this._decodeChoice(e,t),n=!0}catch(e){n=!1}e.restore(h)}}var c;if(i.obj&&n&&(c=e.enterObject()),n){if(null!==i.explicit){var l=this._decodeTag(e,i.explicit);if(e.isError(l))return l;e=l}var u=e.offset;if(null===i.use&&null===i.choice){if(i.any)var h=e.save();var d=this._decodeTag(e,null!==i.implicit?i.implicit:i.tag,i.any);if(e.isError(d))return d;i.any?r=e.raw(h):e=d}if(t&&t.track&&null!==i.tag&&t.track(e.path(),u,e.length,"tagged"),t&&t.track&&null!==i.tag&&t.track(e.path(),e.offset,e.length,"content"),r=i.any?r:null===i.choice?this._decodeGeneric(i.tag,e,t):this._decodeChoice(e,t),e.isError(r))return r;if(i.any||null!==i.choice||null===i.children||i.children.forEach(function(i){i._decode(e,t)}),i.contains&&("octstr"===i.tag||"bitstr"===i.tag)){var f=new a(r);r=this._getUse(i.contains,e._reporterState.obj)._decode(f,t)}}return i.obj&&n&&(r=e.leaveObject(c)),null===i.key||null===r&&!0!==n?null!==o&&e.exitKey(o):e.leaveKey(o,i.key,r),r},r.prototype._decodeGeneric=function(e,t,i){var r=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,r.args[0],i):/str$/.test(e)?this._decodeStr(t,e,i):"objid"===e&&r.args?this._decodeObjid(t,r.args[0],r.args[1],i):"objid"===e?this._decodeObjid(t,null,null,i):"gentime"===e||"utctime"===e?this._decodeTime(t,e,i):"null_"===e?this._decodeNull(t,i):"bool"===e?this._decodeBool(t,i):"objDesc"===e?this._decodeStr(t,e,i):"int"===e||"enum"===e?this._decodeInt(t,r.args&&r.args[0],i):null!==r.use?this._getUse(r.use,t._reporterState.obj)._decode(t,i):t.error("unknown tag: "+e)},r.prototype._getUse=function(e,t){var i=this._baseState;return i.useDecoder=this._use(e,t),s(null===i.useDecoder._baseState.parent),i.useDecoder=i.useDecoder._baseState.children[0],i.implicit!==i.useDecoder._baseState.implicit&&(i.useDecoder=i.useDecoder.clone(),i.useDecoder._baseState.implicit=i.implicit),i.useDecoder},r.prototype._decodeChoice=function(e,t){var i=this._baseState,r=null,n=!1;return Object.keys(i.choice).some(function(o){var a=e.save(),s=i.choice[o];try{var h=s._decode(e,t);if(e.isError(h))return!1;r={type:o,value:h},n=!0}catch(t){return e.restore(a),!1}return!0},this),n?r:e.error("Choice not matched")},r.prototype._createEncoderBuffer=function(e){return new o(e,this.reporter)},r.prototype._encode=function(e,t,i){var r=this._baseState;if(null===r.default||r.default!==e){var n=this._encodeValue(e,t,i);if(void 0!==n&&!this._skipDefault(n,t,i))return n}},r.prototype._encodeValue=function(e,t,i){var r=this._baseState;if(null===r.parent)return r.children[0]._encode(e,t||new n);var o=null;if(this.reporter=t,r.optional&&void 0===e){if(null===r.default)return;e=r.default}var a=null,s=!1;if(r.any)o=this._createEncoderBuffer(e);else if(r.choice)o=this._encodeChoice(e,t);else if(r.contains)a=this._getUse(r.contains,i)._encode(e,t),s=!0;else if(r.children)a=r.children.map(function(i){if("null_"===i._baseState.tag)return i._encode(null,t,e);if(null===i._baseState.key)return t.error("Child should have a key");var r=t.enterKey(i._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");var n=i._encode(e[i._baseState.key],t,e);return t.leaveKey(r),n},this).filter(function(e){return e}),a=this._createEncoderBuffer(a);else if("seqof"===r.tag||"setof"===r.tag){if(!r.args||1!==r.args.length)return t.error("Too many args for : "+r.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var h=this.clone();h._baseState.implicit=null,a=this._createEncoderBuffer(e.map(function(i){var r=this._baseState;return this._getUse(r.args[0],e)._encode(i,t)},h))}else null!==r.use?o=this._getUse(r.use,i)._encode(e,t):(a=this._encodePrimitive(r.tag,e),s=!0);var o;if(!r.any&&null===r.choice){var c=null!==r.implicit?r.implicit:r.tag,l=null===r.implicit?"universal":"context";null===c?null===r.use&&t.error("Tag could be omitted only for .use()"):null===r.use&&(o=this._encodeComposite(c,s,l,a))}return null!==r.explicit&&(o=this._encodeComposite(r.explicit,!1,"context",o)),o},r.prototype._encodeChoice=function(e,t){var i=this._baseState,r=i.choice[e.type];return r||s(!1,e.type+" not found in "+JSON.stringify(Object.keys(i.choice))),r._encode(e.value,t)},r.prototype._encodePrimitive=function(e,t){var i=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&i.args)return this._encodeObjid(t,i.reverseArgs[0],i.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,i.args&&i.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},r.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},r.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}},function(e,t,i){var r=i(70);t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=r._reverse(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=r._reverse(t.tag)},function(e,t,i){var r=t;r.der=i(71),r.pem=i(159)},function(e,t,i){function r(e){a.call(this,e),this.enc="pem"}var n=i(0),o=i(3).Buffer,a=i(71);n(r,a),e.exports=r,r.prototype.decode=function(e,t){for(var i=e.toString().split(/[\r\n]+/g),r=t.label.toUpperCase(),n=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,h=-1,c=0;c<i.length;c++){var l=i[c].match(n);if(null!==l&&l[2]===r){if(-1!==s){if("END"!==l[1])break;h=c;break}if("BEGIN"!==l[1])break;s=c}}if(-1===s||-1===h)throw new Error("PEM section not found for: "+r);var u=i.slice(s+1,h).join("");u.replace(/[^a-z0-9\+\/=]+/gi,"");var d=new o(u,"base64");return a.prototype.decode.call(this,d,t)}},function(e,t,i){var r=t;r.der=i(72),r.pem=i(161)},function(e,t,i){function r(e){o.call(this,e),this.enc="pem"}var n=i(0),o=i(72);n(r,o),e.exports=r,r.prototype.encode=function(e,t){for(var i=o.prototype.encode.call(this,e),r=i.toString("base64"),n=["-----BEGIN "+t.label+"-----"],a=0;a<r.length;a+=64)n.push(r.slice(a,a+64));return n.push("-----END "+t.label+"-----"),n.join("\n")}},function(e,t,i){"use strict";var r=i(17),n=r.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),o=r.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),a=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional())}),s=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())}),h=r.define("RelativeDistinguishedName",function(){this.setof(o)}),c=r.define("RDNSequence",function(){this.seqof(h)}),l=r.define("Name",function(){this.choice({rdnSequence:this.use(c)})}),u=r.define("Validity",function(){this.seq().obj(this.key("notBefore").use(n),this.key("notAfter").use(n))}),d=r.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),f=r.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(l),this.key("validity").use(u),this.key("subject").use(l),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(d).optional())}),p=r.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(f),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())});e.exports=p},function(e,t){e.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},function(e,t,i){(function(t){var r=/Proc-Type: 4,ENCRYPTED\n\r?DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)\n\r?\n\r?([0-9A-z\n\r\+\/\=]+)\n\r?/m,n=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----\n/m,o=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----\n\r?([0-9A-z\n\r\+\/\=]+)\n\r?-----END \1-----$/m,a=i(22),s=i(34);e.exports=function(e,i){var h,c=e.toString(),l=c.match(r);if(l){var u="aes"+l[1],d=new t(l[2],"hex"),f=new t(l[3].replace(/\r?\n/g,""),"base64"),p=a(i,d.slice(0,8),parseInt(l[1],10)).key,m=[],v=s.createDecipheriv(u,p,d);m.push(v.update(f)),m.push(v.final()),h=t.concat(m)}else{var y=c.match(o);h=new t(y[2].replace(/\r?\n/g,""),"base64")}return{tag:c.match(n)[1],data:h}}}).call(t,i(3).Buffer)},function(e,t,i){(function(t){function r(e,i,r,a,h){var l=c(r);if("ec"===l.type){if("ecdsa"!==a&&"ecdsa/rsa"!==a)throw new Error("wrong public key type");return n(e,i,l)}if("dsa"===l.type){if("dsa"!==a)throw new Error("wrong public key type");return o(e,i,l)}if("rsa"!==a&&"ecdsa/rsa"!==a)throw new Error("wrong public key type");i=t.concat([h,i]);for(var u=l.modulus.byteLength(),d=[1],f=0;i.length+d.length+2<u;)d.push(255),f++;d.push(0);for(var p=-1;++p<i.length;)d.push(i[p]);d=new t(d);var m=s.mont(l.modulus);e=new s(e).toRed(m),e=e.redPow(new s(l.publicExponent)),e=new t(e.fromRed().toArray());var v=f<8?1:0;for(u=Math.min(e.length,d.length),e.length!==d.length&&(v=1),p=-1;++p<u;)v|=e[p]^d[p];return 0===v}function n(e,t,i){var r=l[i.data.algorithm.curve.join(".")];if(!r)throw new Error("unknown curve "+i.data.algorithm.curve.join("."));var n=new h(r),o=i.data.subjectPrivateKey.data;return n.verify(t,e,o)}function o(e,t,i){var r=i.data.p,n=i.data.q,o=i.data.g,h=i.data.pub_key,l=c.signature.decode(e,"der"),u=l.s,d=l.r;a(u,n),a(d,n);var f=s.mont(r),p=u.invm(n);return 0===o.toRed(f).redPow(new s(t).mul(p).mod(n)).fromRed().mul(h.toRed(f).redPow(d.mul(p).mod(n)).fromRed()).mod(r).mod(n).cmp(d)}function a(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}var s=i(4),h=i(5).ec,c=i(25),l=i(73);e.exports=r}).call(t,i(3).Buffer)},function(e,t,i){(function(t){function r(e){this.curveType=s[e],this.curveType||(this.curveType={name:e}),this.curve=new o.ec(this.curveType.name),this.keys=void 0}function n(e,i,r){Array.isArray(e)||(e=e.toArray());var n=new t(e);if(r&&n.length<r){var o=new t(r-n.length);o.fill(0),n=t.concat([o,n])}return i?n.toString(i):n}var o=i(5),a=i(4);e.exports=function(e){return new r(e)};var s={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};s.p224=s.secp224r1,s.p256=s.secp256r1=s.prime256v1,s.p192=s.secp192r1=s.prime192v1,s.p384=s.secp384r1,s.p521=s.secp521r1,r.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},r.prototype.computeSecret=function(e,i,r){return i=i||"utf8",t.isBuffer(e)||(e=new t(e,i)),n(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},r.prototype.getPublicKey=function(e,t){var i=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(i[i.length-1]%2?i[0]=7:i[0]=6),n(i,e)},r.prototype.getPrivateKey=function(e){return n(this.keys.getPrivate(),e)},r.prototype.setPublicKey=function(e,i){return i=i||"utf8",t.isBuffer(e)||(e=new t(e,i)),this.keys._importPublic(e),this},r.prototype.setPrivateKey=function(e,i){i=i||"utf8",t.isBuffer(e)||(e=new t(e,i));var r=new a(e);return r=r.toString(16),this.keys._importPrivate(r),this}}).call(t,i(3).Buffer)},function(e,t,i){t.publicEncrypt=i(168),t.privateDecrypt=i(169),t.privateEncrypt=function(e,i){return t.publicEncrypt(e,i,!0)},t.publicDecrypt=function(e,i){return t.privateDecrypt(e,i,!0)}},function(e,t,i){(function(t){function r(e,i){var r=e.modulus.byteLength(),n=i.length,o=h("sha1").update(new t("")).digest(),a=o.length,d=2*a;if(n>r-d-2)throw new Error("message too long");var f=new t(r-n-d-2);f.fill(0);var p=r-a-1,m=s(a),v=l(t.concat([o,f,new t([1]),i],p),c(m,p)),y=l(m,c(v,a));return new u(t.concat([new t([0]),y,v],r))}function n(e,i,r){var n=i.length,a=e.modulus.byteLength();if(n>a-11)throw new Error("message too long");var s;return r?(s=new t(a-n-3),s.fill(255)):s=o(a-n-3),new u(t.concat([new t([0,r?1:2]),s,new t([0]),i],a))}function o(e,i){for(var r,n=new t(e),o=0,a=s(2*e),h=0;o<e;)h===a.length&&(a=s(2*e),h=0),(r=a[h++])&&(n[o++]=r);return n}var a=i(25),s=i(11),h=i(13),c=i(74),l=i(75),u=i(4),d=i(76),f=i(37);e.exports=function(e,t,i){var o;o=e.padding?e.padding:i?1:4;var s,h=a(e);if(4===o)s=r(h,t);else if(1===o)s=n(h,t,i);else{if(3!==o)throw new Error("unknown padding");if(s=new u(t),s.cmp(h.modulus)>=0)throw new Error("data too long for modulus")}return i?f(s,h):d(s,h)}}).call(t,i(3).Buffer)},function(e,t,i){(function(t){function r(e,i){var r=(e.modulus,e.modulus.byteLength()),n=(i.length,u("sha1").update(new t("")).digest()),a=n.length;if(0!==i[0])throw new Error("decryption error");var c=i.slice(1,a+1),l=i.slice(a+1),d=h(c,s(l,a)),f=h(l,s(d,r-a-1));if(o(n,f.slice(0,a)))throw new Error("decryption error");for(var p=a;0===f[p];)p++;if(1!==f[p++])throw new Error("decryption error");return f.slice(p)}function n(e,t,i){for(var r=t.slice(0,2),n=2,o=0;0!==t[n++];)if(n>=t.length){o++;break}var a=t.slice(2,n-1);t.slice(n-1,n);if(("0002"!==r.toString("hex")&&!i||"0001"!==r.toString("hex")&&i)&&o++,a.length<8&&o++,o)throw new Error("decryption error");return t.slice(n)}function o(e,i){e=new t(e),i=new t(i);var r=0,n=e.length;e.length!==i.length&&(r++,n=Math.min(e.length,i.length));for(var o=-1;++o<n;)r+=e[o]^i[o];return r}var a=i(25),s=i(74),h=i(75),c=i(4),l=i(37),u=i(13),d=i(76);e.exports=function(e,i,o){var s;s=e.padding?e.padding:o?1:4;var h=a(e),u=h.modulus.byteLength();if(i.length>u||new c(i).cmp(h.modulus)>=0)throw new Error("decryption error");var f;f=o?d(new c(i),h):l(i,h);var p=new t(u-f.length);if(p.fill(0),f=t.concat([p,f],u),4===s)return r(h,f);if(1===s)return n(h,f,o);if(3===s)return f;throw new Error("unknown padding")}}).call(t,i(3).Buffer)},function(e,t,i){"use strict";(function(e,r){function n(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}function o(e,t){if("number"!=typeof e||e!==e)throw new TypeError("offset must be a number");if(e>m||e<0)throw new TypeError("offset must be a uint32");if(e>f||e>t)throw new RangeError("offset out of range")}function a(e,t,i){if("number"!=typeof e||e!==e)throw new TypeError("size must be a number");if(e>m||e<0)throw new TypeError("size must be a uint32");if(e+t>i||e>f)throw new RangeError("buffer too small")}function s(t,i,r,n){if(!(d.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof i)n=i,i=0,r=t.length;else if("function"==typeof r)n=r,r=t.length-i;else if("function"!=typeof n)throw new TypeError('"cb" argument must be a function');return o(i,t.length),a(r,i,t.length),h(t,i,r,n)}function h(e,t,i,n){if(r.browser){var o=e.buffer,a=new Uint8Array(o,t,i);return p.getRandomValues(a),n?void r.nextTick(function(){n(null,e)}):e}return n?void u(i,function(i,r){if(i)return n(i);r.copy(e,t),n(null,e)}):(u(i).copy(e,t),e)}function c(t,i,r){if(void 0===i&&(i=0),!(d.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return o(i,t.length),void 0===r&&(r=t.length-i),a(r,i,t.length),h(t,i,r)}var l=i(2),u=i(11),d=l.Buffer,f=l.kMaxLength,p=e.crypto||e.msCrypto,m=Math.pow(2,32)-1;p&&p.getRandomValues||!r.browser?(t.randomFill=s,t.randomFillSync=c):(t.randomFill=n,t.randomFillSync=n)}).call(t,i(1),i(8))},function(e,t,i){"use strict";function r(e,t){function i(){o||(e&&(this.super=e.prototype),void 0!=this.init&&this.init.apply(this,arguments))}"object"===(void 0===e?"undefined":n(e))&&(t=e,e=null),e&&(o=!0,i.prototype=new e,i.prototype.constructor=i,o=!1);for(var r in t)t.hasOwnProperty(r)&&(e&&"function"==typeof t[r]&&"function"==typeof i.prototype[r]?i.prototype[r]=function(t,i){return function(){return this.base=e.prototype[t],i.apply(this,arguments)}}(r,t[r]):i.prototype[r]=t[r]);return i.prototypeDefine=t,i}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=!1;e.exports=r},function(e,t,i){"use strict";var r={},n=i(39);r.event={STOP_DRAG:"stopDrag",START_DRAG:"startDrag",DRAG_MOVE:"dragMove"};var o=!1;r.isDragging=function(){return o},r.addDrag=function(e,t,i){if(i=i||{},r.removeDrag(e),void 0!=t){e.parent.parent&&e.parent.parent.updateTransform(),e.dragRect=new PIXI.Rectangle(t.x,t.y,t.width,t.height);var a=e.parent.toGlobal(t);t={x:a.x,y:a.y,width:t.width,height:t.height}}var s=function(a){if(!a.data.isPropagationStopped){if(a.stopPropagation(),e.dragRect){var s=e.parent.toGlobal(e.dragRect);t={x:s.x,y:s.y,width:t.width,height:t.height}}o=!0;var h={x:a.data.global.x,y:a.data.global.y},c=this.toLocal(h,instance.stage),l={x:c.x-this.pivot.x,y:c.y-this.pivot.y},u=e.rotation;l=NBMath.rotaPoint(l,{x:0,y:0},u),l.x*=this.scale.x,l.y*=this.scale.y,i.bringToFront&&this.parent.addChild(this);var d=function(e){if(!e.data.isPropagationStopped){var i=this.getLocalBounds(),o=e.data.global,a={},s={left:-i.width/2-i.x+l.x,right:n.W-i.width/2-i.x+l.x};null!=t&&(s.left=t.x+l.x,s.right=t.x+t.width+l.x),h.x<s.left?a.x=s.left:h.x>s.right?a.x=s.right:a.x=h.x;var c={up:-i.height/2-i.y+l.y,down:n.H-i.height/2-i.y+l.y};null!=t&&(c.up=t.y+l.y,c.down=t.y+t.height+l.y),h.y<c.up?a.y=c.up:h.y>c.down?a.y=c.down:a.y=h.y;var u=this.parent.toLocal(a,instance.stage);this.x=u.x-l.x,this.y=u.y-l.y,this.updateTransform(),this.emit(r.event.DRAG_MOVE,{target:this,data:e.data}),h.x=o.x,h.y=o.y}},f=function(e){m.apply(this,e)},p=function(e){m.apply(this,e)},m=function(){delete this.__touchEnd__,this.removeListener(TouchEvent.TOUCH_MOVE,d),this.removeListener(TouchEvent.TOUCH_END,p),this.removeListener(TouchEvent.TOUCH_END_OUDSIDE,f),this.isDragging=!1,o=!1,a.data.isPropagationStopped||this.emit(r.event.STOP_DRAG,{target:this,data:a.data})};this.addEventListener(TouchEvent.TOUCH_MOVE,d),this.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,f),this.addEventListener(TouchEvent.TOUCH_END,p),this.emit(r.event.START_DRAG,{target:this,data:a.data}),this.isDragging=!0,this.__touchEnd__=p}};e.addEventListener(TouchEvent.TOUCH_BEGIN,s),e.__touchBegin__=s},r.removeDrag=function(e){e.removeListener(TouchEvent.TOUCH_BEGIN,e.__touchBegin__),e.__touchEnd__&&e.__touchEnd__(),delete e.__touchBegin__,delete e.dragRect},r.hasDrag=function(e){return void 0!==e.__touchBegin__},e.exports=r},function(e,t,i){"use strict";function r(e,t){instance.nbTable=this;var i=document.createElement("div");i.id="nbTable",i.innerHTML=e,$("body").append(i);var r=$("#nbTable");r.css("position","absolute"),r.css("left",$(window).width()-or.width()),r.css("top",100),$("#nbTable").draggabilly({handle:"#table_tr"}),this.hide()}r.prototype.show=function(){$("#nbTable").show()},r.prototype.hide=function(){$("#nbTable").hide()},r.prototype.get$=function(){return $("#nbTable")},r.constructor=r,e.exports=r},function(e,t,i){"use strict";window.nb=window.nb||{},nb.GraphicsUtils={};var r={MOVE_TO:1,LINE_TO:2,CURVO_TO:3,LINE_STYLE:32,BEGIN_FILL:33,END_FILL:255};nb.GraphicsUtils.draw=function(e,t){e.lastMovePos={x:NaN,y:NaN};for(var i="",n=nb.GraphicsUtils.__moveTo__;t.length;){var o=t.pop();if(o==r.MOVE_TO){var a=t.pop(),s=t.pop(),h=n(e,a,s);h&&(i+="g.moveTo("+a+","+s+")\n")}else if(o==r.LINE_TO){var a=t.pop(),s=t.pop();e.lastMovePos.x==a&&e.lastMovePos.y==s||(i+="g.lineTo("+a+","+s+")\n",e.lineTo(a,s),e.lastMovePos.x=a,e.lastMovePos.y=s)}else if(o==r.CURVO_TO){var a=t.pop(),s=t.pop(),h=n(e,a,s);h&&(i+="g.moveTo("+a+","+s+")\n");var c=t.pop(),l=t.pop(),u=t.pop(),d=t.pop();e.lastMovePos.x=u,e.lastMovePos.y=d,e.quadraticCurveTo(c,l,u,d),i+="g.quadraticCurveTo("+c+","+l+","+u+","+d+")\n"}else if(o==r.LINE_STYLE){var f=t.pop(),p=t.pop(),m=t.pop();e.lineStyle(f,p,m),i+="g.lineStyle("+f+","+p+","+m+")\n"}else if(o==r.BEGIN_FILL){var f=t.pop(),p=t.pop();e.beginFill(f,p),i+="g.beginFill("+f+","+p+")\n"}else o==r.END_FILL&&(e.endFill(),i+="g.endFill();\n")}},nb.GraphicsUtils.__moveTo__=function(e,t,i){return(e.lastMovePos.x!=t||e.lastMovePos.y!=i)&&(e.moveTo(t,i),e.lastMovePos.x=t,e.lastMovePos.y=i,!0)},nb.GraphicsUtils.drawPolygon=function(e,t){for(var i=0;i<t.length;i++){var r=t[i];0==i?e.moveTo(r.x,r.y):e.lineTo(r.x,r.y)}},e.exports=nb.GraphicsUtils},function(e,t,i){"use strict";function r(){}function n(){for(var e=0;e<h.length;e++){o(h[e])}}function o(e){var t=e.dis.toGlobal({x:0,y:0});void 0!=e.prop.right&&(t.x=a.W-e.prop.right),void 0!=e.prop.left&&(t.x=e.prop.left),void 0!=e.prop.top&&(t.y=e.prop.top),void 0!=e.prop.bottom&&(t.y=a.H-e.prop.bottom),e.dis.parent&&(t=e.dis.parent.toLocal(t,instance.stage),e.dis.x=t.x,e.dis.y=t.y)}var a=i(39),s=!0,h=[];r.add=function(e,t){s&&(window.addEventListener("resize",n),s=!1),h.push({dis:e,prop:t}),o(h[h.length-1])},e.exports=r},function(e,t,i){"use strict";function r(){o<640?($(".timeline-logo").addClass("caidan-bg"),$(".mobile-hide").css({"margin-left":"-400px"}),$(".timeline-wrapper").css("margin-left","0").addClass("timeline-wrapper2 clear-before"),$(".timeline-logo h2").css("padding-left","0.3em"),$(".mobile-hide,.timeline-background,.timeline-icon").hide()):($(".timeline-logo").removeClass("caidan-bg"),$(".mobile-hide").css({"margin-left":"0px"}),$(".timeline-wrapper").css("margin-left","5.7em").removeClass("timeline-wrapper2 clear-before"),$(".timeline-logo h2").css("padding-left","3.6em"),$(".mobile-hide,.timeline-background,.timeline-icon").show())}function n(e){}var o;n.constructor=n;var a=0;n.prototype.getConfig=function(){return this.config},n.prototype.randomColor=function(){var e=["rgba(245, 157, 0, 1)","rgba(219, 19, 95, 1)","rgba(0, 192, 242, 1)","rgba(96, 90, 170, 1)","rgba(255, 185, 0, 1)","rgba(119, 184, 233, 1)","rgba(232, 74, 76, 1)","rgba(115, 194, 56, 1)"];return e[a++%e.length]},n.prototype.setVisible=function(e){e?($("#logo").show(),$(".timeline-parent").show()):($("#logo").hide(),$(".timeline-parent").hide())},n.prototype.parse=function(e){function t(e,t){var i;i=1==arguments.length||t,a&&e[0]===a[0]||(a&&a.removeClass(o),i&&$(e[0]).addClass(o),a=$(e[0]))}function i(e,i){function r(){n&&n.threeSystem&&span.parent().next().find("dt").removeClass(o)}if(!s||e[0]!==s){if(s){s.find("span").removeClass(o)}span=e.find("span"),$(span[0]).addClass(o),s=e;var n,a=e.find("dl").find("dt");if(i){span.on("click",function(){flag=!0}),span.parent().on("click",function(){flag=!0});var h=i.dispatch;if(void 0!=a[0]){var c=a[0].getAttribute("goto");void 0!=c&&(n=instance.gotoStep(c),n&&h&&n.emit(h.type,h),console.log(!n),t(a,!n.threeSystem))}else{var c=e.find("h2")[0].getAttribute("goto");void 0!=c&&(n=instance.gotoStep(c))&&h&&n.emit(h.type,h),console.log(!n),t(a,!n.threeSystem)}}span.on("click",r),span.parent().on("click",r)}}for(var n=this.div,o="timeline-selected",a=null,s=null,h=[],c=0;c<e.length;c++){var l=e.length,u=e[c],d=$('<div class="timeline-wrapper" id="timeline-wrapper'+c+'"></div>'),f=this.randomColor(),p="menuCircle3"+c,m=$('<div class="timeline-icon"><svg height="100" width="100"> <circle cx="40" class="menuCircle1" cy="40" r="7" fill="'+f+'" /> <circle cx="40" class= "'+p+'" cy="40" r="8" fill="'+f+'" /> <circle cx="40" class="menuCircle2" cy="40" r="14" stroke="'+f+'" stroke-width="5" fill="rgba(0, 0, 0, 0)" /> </svg> </div>');d.append(m),h.push(m);var v=$('<h2 goto="'+u.goto+'" class="timeline-time"><span>'+u.name+"</span></h2>");d.append(v),d.click(function(e){var t=p;return function(){for(var r=0;r<l;r++)$("[class='menuCircle3"+r+"']").attr("fill","rgba(255, 247, 153, 0)");if($("[class='"+t+"']").attr("fill","rgba(255, 247, 153, 1)"),e.dispatch){instance.getCurrentFrame().emit(e.dispatch.type,e.dispatch)}void 0!==e.goto&&(null==s?i($(this),e):(s[0],i($(this),e)))}}(u)),"discuss"===u.goto&&(u.items=[{name:""}]),n.append(d);var y=u.items;if(void 0==y||0==y.length)v.css("background-image",'url("#")');else{var g=$('<dl class="timeline-series" id="timeline-series'+c+'"></dl>');d.append(g);for(var b=0;b<y.length;b++){var x=y[b];void 0===x.goto&&(x.goto=u.goto),x.name=function(e){return e=e.replace(/,/g,""),e=e.replace(/\D\./g,function(e){return"."!==e.substr(0,1)?e.substr(0,1)+"":""}),e=e.replace(/\D\./g,function(e){return"."!==e.substr(0,1)?e.substr(0,1)+"":""}),e=e.replace(/!/g,""),e=e.replace(/\?/g,"")}(x.name);var w=$('<dt goto="'+x.goto+'" id="custom'+c+b+'" class="timeline-event"><a class="mobile-hide">'+x.name+"</a></dt>");void 0!=x.click&&w.click(function(e,t,i){return r(),function(){controller.dispatchEvent({type:e,data:t})}}(x.click,x.clickParams,x.goto)),w.click(function(e,r){var n=p;return function(s){if($(this).addClass(o),s.stopImmediatePropagation(),void 0!=e){for(var h=0;h<l;h++)$("[class='menuCircle3"+h+"']").attr("fill","rgba(255, 247, 153, 0)");if($("[class='"+n+"']").attr("fill","rgba(255, 247, 153, 1)"),a&&$(this)[0]===a[0]){if(r){instance.getCurrentFrame().emit(r.type,r)}return}var c=instance.gotoStep(e);c&&r&&c.emit(r.type,r);var u=$(this);t($(this)),i(u.parent().parent())}}}(x.goto,x.dispatch)),g.append(w)}}}},n.prototype.updateStyle=function(e){if(1===e)$(".menuCircle1").attr("fill","rgba(0, 183, 238, 1)"),$(".menuCircle1").css({r:"14px"}),$(".menuCircle2").attr("stroke","rgba(255, 255, 255, 1)"),$(".menuCircle2").css({"stroke-width":"2px"}),$(".menuCircle30").attr("fill","rgba(255, 247, 153, 1)"),$(".menuCircle31").attr("fill","rgba(255, 247, 153, 0)"),$(".menuCircle32").attr("fill","rgba(255, 247, 153, 0)"),$(".menuCircle33").attr("fill","rgba(255, 247, 153, 0)"),$(".menuCircle34").attr("fill","rgba(255, 247, 153, 0)"),$(".menuCircle35").attr("fill","rgba(255, 247, 153, 0)");else{$(".menuCircle3").hide(),$(".menuCircle1").css({r:"7px"}),$(".menuCircle2").css({"stroke-width":"5px"}),a=0;for(var t=$(".menuCircle1"),i=$(".menuCircle2"),r=t.length,n=0;n<r;n++){var o=this.randomColor();$(t[n]).attr("fill",o),$(i[n]).attr("stroke",o)}}},n.prototype.gotoStep=function(e){this.currentFrame=e},n.prototype.getSelectMenuIndex=function(){return this.currentFrame},e.exports=n},function(e,t,i){"use strict";function r(e){function t(e,t,i){e.global=a(i);for(var r=e.dispatchEvent?e:e.object;r;){var n=!1,o={type:t,data:e,stopPropagation:function(){n=!0}};if(r.dispatchEvent(o),n)break;r=r.parent}}function i(e){var i=o(e);i&&t(i,TouchEvent.TOUCH_BEGIN,e)}function r(e){var i=o(e);e instanceof MouseEvent&&(void 0==i?d&&(t(d,MouseEvent.MOUSE_OUT,e),d=void 0):i.object!=d&&(d&&t(d,MouseEvent.MOUSE_OUT,e),d=i.object,t(i,MouseEvent.MOUSE_OVER,e))),i&&t(i,TouchEvent.TOUCH_MOVE,e)}function n(e){var i=o(e);i&&t(i,TouchEvent.TOUCH_END,e)}function o(e){return h(a(e))}function a(e){if(e instanceof TouchEvent){var t=e.changedTouches[0];return{x:t.clientX,y:t.clientY}}return{x:e.offsetX||e.clientX,y:e.offsetY||e.clientY}}function s(e){var i=o(e);i&&t(i,TouchEvent.TOUCH_END_OUDSIDE,e)}function h(e,t,i){var r=c(),n=l();if(null==r||null==n)return null;var o=e.x,a=e.y,s={x:0,y:0};if(!0===i)s.x=e.x,s.y=e.y;else{var h=$("#threeJS").width(),d=$("#threeJS").height();s.x=o/h*2-1,s.y=-a/d*2+1}u.setFromCamera(s,n);var f;if(null==t){f=r.children.concat();for(var p=0;p<f.length;p++){0===f[p].name.indexOf("nbRef_")&&(f.splice(p,1),p--)}}else f=t;return u.intersectObjects(f,!0)[0]||r}function c(){if(instance.getCurrentFrame){var e,t=instance.getCurrentFrame();return t&&(e=t.threeSystem),e?e.scene:null}}function l(){if(instance.getCurrentFrame){var e,t=instance.getCurrentFrame();return t&&(e=t.threeSystem),e?e.camera:null}}e.addEventListener(MouseEvent.TOUCH_BEGIN,i,!0),e.addEventListener(MouseEvent.TOUCH_MOVE,r,!0),e.addEventListener(MouseEvent.TOUCH_END,n,!0),e.addEventListener(MouseEvent.TOUCH_END_OUDSIDE,s,!0),e.addEventListener(TouchEvent.TOUCH_BEGIN,i,!0),e.addEventListener(TouchEvent.TOUCH_MOVE,r,!0),e.addEventListener(TouchEvent.TOUCH_END,n,!0),e.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,s,!0);var u=this.raycaster=new THREE.Raycaster,d=null;this.getInteractiveObject=h}i(41),e.exports=r},function(e,t,i){var r=i(222);"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0};n.transform=void 0;i(27)(r,n);r.locals&&(e.exports=r.locals)},function(e,t,i){e.exports=i.p+"7809726215ef02cc052075c07fe0f487.png"},function(e,t,i){"use strict";function r(){PIXI.Container.call(this);var e=new PIXI.Graphics;e.beginFill(10066329,0),e.drawCircle(0,0,50),e.lineStyle(4,16777215,.7),e.drawCircle(0,0,30),e.drawCircle(0,0,20),e.endFill(),this.addChild(e),TweenMax.to(e,2,{alpha:0,repeat:-1}),TweenMax.to(e.scale,2,{x:1.5,y:1.5,repeat:-1}),this.gra=e}r.prototype=Object.create(PIXI.Container.prototype),r.constructor=r,r.stop=function(){TweenMax.killTweensOf(this.gra)},e.exports=r},function(e,t,i){"use strict";function r(){PIXI.Container.apply(this),this.txt=new PIXI.Text("",h),this.graphics=new PIXI.Graphics,this.addChild(this.graphics),this.addChild(this.txt),this.visible=!1}function n(){for(var e=[0,0,0,0],t=0;t<d.length;t++){var i=d[t],r=i.tip,n=r,h=r.graphics,f=r.txt,p=i.bind;if(0!=n.visible){var m=n.parent.stepRoot.threeSystem.camera,v=new THREE.Vector3;void 0!=p.geometry&&(null===p.geometry.boundingSphere&&p.geometry.computeBoundingSphere(),v=p.geometry.boundingSphere.center),n.tipoffset&&(v=v.clone().add(n.tipoffset));var y=o.obj3DVecToDisPoint(p,v,m,n.parent),g=nb.canvasWidth-nb.stackPosX,b=a.H;n.x=y.x,n.y=y.y;var x={x:Math.floor(y.x/g*2),y:Math.floor(y.y/b*2)},w={},_=Math.PI/2,T=(x.x<<1)+x.y,E=e[T];if(E<4){var S=_/8+3*_/4*E/4;w.x=400*Math.cos(S),w.y=450*Math.sin(S),0==x.x&&(w.x*=-1,w.x-=f.width),0==x.y&&(w.y*=-1)}else{w.x=0==x.x?-400:400,w.y=0==x.y?-300:300}e[T]++,f.x+=(w.x-f.x)/6,f.y+=(w.y-f.y)/6,h.clear(),h.lineStyle(l,u>>8,(255&u)/255);h.drawCircle(0,0,10),h.drawCircle(0,0,15);var M={x:f.x,y:f.y};0==x.x&&(M.x+=f.width);var C=s.interpolate(M,{x:0,y:0},15/s.distance(M,{x:0,y:0}));h.moveTo(C.x,C.y),h.lineTo(M.x,M.y),h.beginFill(c>>8,(255&c)/255),h.drawRect(f.x-4,f.y-4,f.width+8,f.height+8)}}}var o=i(79),a=i(39),s=i(81),h={fill:"#222222",font:'normal 30px "Microsoft Yahei"'},c=4294967193,l=4,u=4294967108,d=[];PIXI.ticker.shared.add(n),r.prototype=Object.create(PIXI.Container.prototype),r.constructor=r,r.prototype.setTip=function(e){this.txt.text=e},r.prototype.setOffSet=function(e){e&&(this.tipoffset=new THREE.Vector3,this.tipoffset.setX(e.x||0),this.tipoffset.setY(e.y||0),this.tipoffset.setZ(e.z||0))},r.prototype.bindToObject3D=function(e){for(var t=0;t<d.length;t++)if(d[t].bind===e)throw"";this.bindTarget=e,d.push({tip:this,bind:e})},r.prototype.removeBind=function(){for(var e=0;e<d.length;e++)if(d[e].bind===this.bindTarget){d.splice(e,1);break}this.bindTarget=void 0},r.prototype.showTip=function(){this.visible=!0,TweenMax.to(this,.4,{alpha:1})},r.showAllTips=function(e){for(var t=0;t<d.length;t++){var i=d[t].tip;i.system===e&&i.showTip()}},r.hideAllTips=function(e){for(var t=0;t<d.length;t++){var i=d[t].tip;i.system===e&&i.hideTip()}},r.prototype.hideTip=function(){var e=this;TweenMax.to(this,.4,{alpha:0,onComplete:function(){e.visible=!1}})},e.exports=r},function(e,t,i){"use strict";(function(t){var i={EYES_OVER:"eyesOver",EYES_OUT:"eyesOut",EYES_HANG_ON:"eyesHangOn"};t.VREvent=i,e.exports=i}).call(t,i(1))},function(e,t,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(e){function t(e,i,o){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),s=PIXI.Sprite.fromFrame("stepPrompt");a.delY=-s.height-30,a.delX=s.width/5,a.addChild(s);var h=new PIXI.Text(e||" ");return h.style.font='24px "Microsoft YaHei"',h.style.fill="#ffffff",h.style.wordWrap=!0,h.style.wordWrapWidth=s.width-120,a.addChildWithSamePos(h),a.transDuration=.5,a.alpha=0,h.x=92,e.length<=7?h.y=35:h.y=20,a.x=(i||0)+a.delX,a.y=(o||0)+a.delY,a}return o(t,e),t}(PIXI.Container);a.prototype.setTip=function(e,t,i){0===this.alpha&&this.hideNotes(),this.setText(e),this.setPosition(t,i)},a.prototype.setText=function(){this.children[1].text=arguments[0]||" ",this.children[1].text.length<=7?this.children[1].y=35:this.children[1].y=20},a.prototype.setPosition=function(e,t){this.x=(e||0)+this.delX,this.y=(t||0)+this.delY},a.prototype.setDuration=function(e){this.transDuration=e||.5},a.prototype.displayNotes=function(){TweenMax.to(this,this.transDuration,{alpha:1})},a.prototype.hideNotes=function(){TweenMax.to(this,this.transDuration,{alpha:0})},e.exports=a},function(e,t,i){(function(e){function i(){if(void 0!==o)return o;if(e.XMLHttpRequest){o=new e.XMLHttpRequest;try{o.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(e){o=null}}else o=null;return o}function r(e){var t=i();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}function n(e){return"function"==typeof e}t.fetch=n(e.fetch)&&n(e.ReadableStream),t.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),t.blobConstructor=!0}catch(e){}var o,a=void 0!==e.ArrayBuffer,s=a&&n(e.ArrayBuffer.prototype.slice);t.arraybuffer=t.fetch||a&&r("arraybuffer"),t.msstream=!t.fetch&&s&&r("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&a&&r("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!i()&&n(i().overrideMimeType),t.vbArray=n(e.VBArray),o=null}).call(t,i(1))},function(e,t,i){"use strict";function r(){}window.THREE&&(r.prototype=Object.create(THREE.EventDispatcher.prototype));var n=new r;e.exports=n},function(e,t,i){"use strict";function r(e){THREE.EventDispatcher.call(this),this.ticker=new PIXI.ticker.Ticker,this.ticker.start(),this.mixer=e;var t=this;e.addEventListener("finished",function(e){t.dispatchEvent(e)})}r.prototype=Object.create(THREE.EventDispatcher.prototype),r.constructor=r,Object.defineProperty(r.prototype,"loop",{get:function(){return this._loop},set:function(e){for(var t=0;t<this.mixer.actions.length;t++){var i=this.mixer.actions[t];i.loop=!0===e?THREE.LoopRepeat:!1===e?THREE.LoopOnce:e}this._loop=e}}),r.prototype.replay=function(){this.play()},r.prototype.play=function(){this.ticker.add(this.update())},r.prototype.stop=function(){this.ticker.remove(this.update())},r.prototype.update=function(){if(void 0==this.updateFunc){var e=this;this.updateFunc=function(t){e.mixer.update(t)}}return 1===arguments.length?void this.updateFunc(arguments[0]):this.updateFunc},r.prototype.setSpeed=function(e){this.ticker.speed=e},e.exports=r},function(e,t,i){"use strict";function r(){}function n(e,t,i){e.name=t.name;var r=t.m.elements;for(var n in r)e.matrix.elements[n]=r[n];void 0!=t.v&&(e.visible=t.v),void 0!=t.ca&&(e.castShadow=t.ca),void 0!=t.re&&(e.receiveShadow=t.re),e.matrix.decompose(e.position,e.quaternion,e.scale),o(e,i)}function o(e,t){window.editor?window.editor.addObject(e):(t.add(e),void 0!=t[e.name]?console.warn(e.name+" "):t[e.name]=e)}r.parse=function(e,t){var i;switch(e.type){case 0:n(new THREE.PerspectiveCamera(e.fov,1,e.near,e.far),e,t);break;case 1:var r=new THREE.PointLight(e.hex,e.intensity,e.distance,e.decay);n(r,e,t);break;case 2:var r=new THREE.SpotLight(e.hex,e.intensity,e.distance,e.angle,e.exponent,e.decay);n(r,e,t);break;case 3:var r=new THREE.DirectionalLight(e.hex,e.intensity);n(r,e,t);break;case 4:var r=new THREE.HemisphereLight(e.hex,e.groundColor,e.intensity);n(r,e,t);break;case 5:var r=new THREE.AmbientLight(e.hex);n(r,e,t);break;case 10:var a=e.parameters;if(e.jsonData){var s=new THREE.ObjectLoader,h=s.parse(e.jsonData);o(h,t),i=h}else{var c=new THREE.PlaneGeometry(a.width,a.height,a.widthSegments,a.heightSegments),l=new THREE.MeshPhongMaterial({});i=new THREE.Mesh(c,l),n(i,e,t)}break;case 11:var a=e.parameters;if(e.jsonData){var s=new THREE.ObjectLoader,h=s.parse(e.jsonData);o(h,t),i=h}else{var c=new THREE.BoxGeometry(a.width,a.height,a.depth,a.widthSegments,a.heightSegments,a.depthSegments),l=new THREE.MeshPhongMaterial({});i=new THREE.Mesh(c,l),n(i,e,t)}break;case 12:var a=e.parameters,s=new THREE.ObjectLoader,h=s.parse(e.jsonData);o(h,t),i=h;break;case 30:void 0===t.materialConfMap&&(t.materialConfMap=e);break;case 50:var a=e,u=a.color,d=a.near,f=a.far,p=new THREE.Fog(u,d,f);t.fog=p}i&&(i.ref=e.ref,void 0!=e.ref&&void 0==window.editor&&(i.visible=!e.ref))},e.exports=r},function(e,t,i){"use strict";function r(){this.animations={},this.weightSchedule=[],this.warpSchedule=[],this.reverse=!1,this.parse=function(e){var t=e.material;t.skinning=!0;var i=e.geometry;THREE.SkinnedMesh.call(this,i,t),this.name=e.name,this.mixer=new THREE.AnimationMixer(this);for(var r=0;r<i.animations.length;++r){var n=i.animations[r].name;this.animations[n]=i.animations[r]}};var e=this;this.update=function(t){!0===e.reverse&&(t*=-1),e.mixer.update(1*t/60)},this.setRatio=function(e){e<0&&(e=0),e>1&&(e=1);for(var t=0;t<this.mixer.actions.length;t++){var i=this.mixer.actions[t],r=i.clip.duration;i.actionTime=r*e,i.clipTime=r*e}},this.play=function(e,t){this.mixer.removeAllActions(),t=t||{};for(var i in this.animations)-1!=i.indexOf(e)&&this.mixer.play(new THREE.AnimationAction(this.animations[i],t.startTime,t.timeScale,t.weight,t.loop))},this.crossfade=function(e,t,i){this.mixer.removeAllActions();var r=new THREE.AnimationAction(this.animations[e]),n=new THREE.AnimationAction(this.animations[t]);this.mixer.play(r),this.mixer.play(n),this.mixer.crossFade(r,n,i,!1)},this.warp=function(e,t,i){this.mixer.removeAllActions();var r=new THREE.AnimationAction(this.animations[e]),n=new THREE.AnimationAction(this.animations[t]);this.mixer.play(r),this.mixer.play(n),this.mixer.crossFade(r,n,i,!0)},this.applyWeight=function(e,t){var i=this.mixer.findActionByName(e);i&&(i.weight=t)},this.pauseAll=function(){this.mixer.timeScale=0},this.unPauseAll=function(){this.mixer.timeScale=1},this.stopAll=function(){this.mixer.removeAllActions()},this.showModel=function(e){this.visible=e},this.ticker=PIXI.ticker.shared,this.ticker.add(this.update)}r.prototype=Object.create(THREE.SkinnedMesh.prototype),r.prototype.constructor=THREE.BlendCharacter,r.prototype.setAutoUpdate=function(e){!1===e?this.ticker.remove(this.update):this.ticker.add(this.update)},r.prototype.getForward=function(){var e=new THREE.Vector3;return function(){return e.set(-this.matrix.elements[8],-this.matrix.elements[9],-this.matrix.elements[10]),e}},e.exports=r},,,function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var i=t.protocol+"//"+t.host,r=i+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var n=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(n))return e;var o;return o=0===n.indexOf("//")?n:0===n.indexOf("/")?i+n:r+n.replace(/^\.\//,""),"url("+JSON.stringify(o)+")"})}},function(e,t,i){"use strict";nb.commonFunc=function(){},nb.commonFunc.shake=function(e,t){if(e instanceof Array)if(0===e.length)console.log("Please input the object which you need!");else for(var i=0;i<e.length;i++)!function(i){var r=e[i],n=r.txt;t.add(TweenMax.to(r,.6,{rotation:1*Math.PI,yoyo:!0,repeat:4,onStart:function(){n.alpha=0}})),t.add(TweenMax.to(r,.6,{rotation:0,onComplete:function(){n.alpha=0}}))}(i);else if(e){var r=e.txt;t.add(TweenMax.to(e,.6,{rotation:1*Math.PI,yoyo:!0,repeat:4,onStart:function(){r.alpha=0}})),t.add(TweenMax.to(e,.6,{rotation:0,onComplete:function(){r.alpha=0}}))}else console.log("Please attach a element!")},nb.commonFunc.initContainer=function(e,t){if(!e)throw"";if(e.capacityScale){t.liquid&&e.liquid.addChild(t.liquid),e.addIntoMask(e.liquid),e.hideLiquid(),t.totalCapacity&&e.setTotalCapacity(t.totalCapacity),t.currentCapacity&&e.setCurrentCapacity(t.currentCapacity),t.text&&e.resetName(t.text);var i=t.color||16777215,r=t.alphaLiquid||0;e.setColor(i,r)}else t.text&&(e.txt.text=t.text);void 0===t.alpha&&(t.alpha=1),e.alpha=t.alpha,0===e.alpha&&(e.visible=!1)},nb.commonFunc.openLid=function(e,t){var i=t?0:1;return e.defaultX=e.x,e.defaultY=e.y,e.defaultAlpha=e.alpha,e.defaultRotation=e.rotation,e.isOpened=!0,TweenMax.to(e,1,{x:e.x-e.width/3,y:e.y-3*e.height,rotation:-120*Math.PI/180,alpha:i,ease:Back.easeOut})},nb.commonFunc.closeLid=function(e){if(e.isOpened)return e.isOpened=!1,TweenMax.to(e,1,{x:e.defaultX,y:e.defaultY,rotation:e.defaultRotation,alpha:e.defaultAlpha,ease:Back.easeIn,delay:-.8});throw"HaHa, you cannot close a closed lid!"},nb.commonFunc.addLid=function(e){e.alpha=0,e.visible=!0;var t=e.y;return e.y-=3*e.height,TweenMax.to(e,1,{alpha:1,y:t})},nb.commonFunc.overLid=function(e,t,i){var r=i||{},n=t?0:1;return e.defaultX=e.x,e.defaultY=e.y,e.defaultAlpha=e.alpha,e.defaultRotation=e.rotation,e.isOpened=!0,TweenMax.to(e,1,{x:e.x+r.x,y:e.y+r.y,alpha:n,ease:Back.easeOut})},nb.commonFunc.addSimpleDrag=function(e,t){e.startD=null,e.reachedD=null,e.notReachedD=null,e.reachedHit=null,e.progressHit=null,e.theD=0,e.scaD=1,t&&(e.startD=t.start||null,e.reachedD=t.reached||null,e.notReachedD=t.notReached||null,e.reachedHitD=t.onhitreach||null,e.progressHitD=t.hitprogress||null,e.theD=t.del||0,e.scaD=t.scale||1),nb.simpleDrag(e,e.theD,e.scaD),e.addEventListener(nb.simpleDrag.event.START_DRAG,e.startD),e.addEventListener(nb.simpleDrag.event.REACH_TARGET,e.reachedD),e.addEventListener(nb.simpleDrag.event.NOT_REACH_TARGET,e.notReachedD),e.addEventListener(nb.simpleDrag.event.REACH_TARGET_HITTED,e.reachedHitD),e.addEventListener(nb.simpleDrag.event.ON_HITTED,e.progressHitD)},nb.commonFunc.removeSimpleDrag=function(e){NBDrag.removeDrag(e),e.removeSimpleDrag(),e.removeEventListener(),e.removeEventListener(nb.simpleDrag.event.START_DRAG,e.startD),e.removeEventListener(nb.simpleDrag.event.REACH_TARGET,e.reachedD),e.removeEventListener(nb.simpleDrag.event.NOT_REACH_TARGET,e.notReachedD),e.removeEventListener(nb.simpleDrag.event.REACH_TARGET_HITTED,e.reachedHitD),e.removeEventListener(nb.simpleDrag.event.ON_HITTED,e.progressHitD)},nb.commonFunc.displayStepEnd=function(e,t){var i=t.width;if(e instanceof Array){if(e.length<=0)throw"elements ";var r=[],n=0,o=i/(e.length+1);return o=Math.min(o,400),e.forEach(function(e){t.addChildWithSamePos(e),r[n]=TweenMax.to(e,1.5,{x:++n*o,y:600,ease:Quad.easeInOut})}),r}return t.addChildWithSamePos(e),TweenMax.to(e,1.5,{x:i/2,y:600,ease:Quad.easeInOut})},nb.commonFunc.initMicroscope=function(e,t){function i(){var i=e.threeSystem,n=i.scene;r=n["0145/model.dae"],n.microscope=r,i.controls.setRotateType(2,{maxRangeY:.8,minRangeY:-.8}),t?nb.microscopeWithThree.apply(r,[i,e,t]):nb.microscopeWithThree.apply(r,[i,e]),r.showTips()}var r=void 0;if(e.threeSystem)i();else{var n=new nb.stem.plguin.THREE(e);e.on("update",function(){n.render()}),e.nbsLoadComplete=function(){i(),t&&(t[0].container?r.addContainerSlides(t):r.addSlides(),r.showSlidesList()),e.title&&(e.title.visible=!0),e.emit("loaded")}}return r},nb.commonFunc.setArg=function(e,t,i){var r=0,n=!0,o=!1,a=void 0;try{for(var s,h=e[Symbol.iterator]();!(n=(s=h.next()).done);n=!0){var c=s.value;try{c[t]=i,r++}catch(e){console.log("%cnb.commonFunc.setArg  arr["+r+"]is not defined","color: red");continue}}}catch(e){o=!0,a=e}finally{try{!n&&h.return&&h.return()}finally{if(o)throw a}}},nb.commonFunc.resetName=function(e,t,i){var r=Object.assign({timer:.3,color:"#ffffff",tweenMove:!1},i);TweenMax.to(e,r.timer,{alpha:0,ease:Linear.easeIn,onComplete:function(){e.text=t+"",TweenMax.to(e,r.timer,{alpha:1,ease:Linear.easeIn}),r.color&&(e.style.fill=r.color,e.updateText()),r.tweenMove&&TweenMax.to(e,.4,{x:"+=30",ease:Linear.easeIn,repeat:3,yoyo:!0,onComplete:function(){r.callback&&r.callback()}})}})},nb.commonFunc.getKB=function(e,t){var i=e.x,r=e.y,n=t.y,o=t.x,a=(r-n)/(i-o);return{k:a,b:r-i*a}},e.exports=nb.commonFunc},function(e,t,i){i(194),i(195),i(196),i(197),i(325),i(327),i(329),e.exports=i(330)},function(e,t){!function(){window.updateBrowser=function(){window.require?(console.log("xx"),console.log("xx")):nb.stem.isAndroid?(console.log("xx"),console.log("xx")):(console.log("xx"),window.location.href="http://shengwu.nobook.com.cn/browser.html")},"undefined"==typeof Worker&&updateBrowser()}()},function(e,t,i){(function(t,i){var r,r;/**
 * @license
 * pixi.js - v3.0.8
 * Compiled 2017-06-14T11:42:32.249Z
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license.php
 *
 *
 * The MIT License
 * 
 * Copyright (c) 2013-2015 Mathew Groves
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 * 
 */
!function(t){e.exports=t()}(function(){var e;return function e(t,i,n){function o(s,h){if(!i[s]){if(!t[s]){var c="function"==typeof r&&r;if(!h&&c)return r(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=i[s]={exports:{}};t[s][0].call(u.exports,function(e){var i=t[s][1][e];return o(i||e)},u,u.exports,e,t,i,n)}return i[s].exports}for(var a="function"==typeof r&&r,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(r,n,o){(function(t,r){/*!
 * async
 * https://github.com/caolan/async
 *
 * Copyright 2010-2014 Caolan McMahon
 * Released under the MIT license
 */
!function(){function o(){}function a(e){return e}function s(e){return!!e}function h(e){return!e}function c(e){return function(){if(null===e)throw new Error("Callback was already called.");e.apply(this,arguments),e=null}}function l(e){return function(){null!==e&&(e.apply(this,arguments),e=null)}}function u(e){return j(e)||"number"==typeof e.length&&e.length>=0&&e.length%1==0}function d(e,t){for(var i=-1,r=e.length;++i<r;)t(e[i],i,e)}function f(e,t){for(var i=-1,r=e.length,n=Array(r);++i<r;)n[i]=t(e[i],i,e);return n}function p(e){return f(Array(e),function(e,t){return t})}function m(e,t,i){return d(e,function(e,r,n){i=t(i,e,r,n)}),i}function v(e,t){d(G(e),function(i){t(e[i],i)})}function y(e,t){for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1}function g(e){var t,i,r=-1;return u(e)?(t=e.length,function(){return r++,r<t?r:null}):(i=G(e),t=i.length,function(){return r++,r<t?i[r]:null})}function b(e,t){return t=null==t?e.length-1:+t,function(){for(var i=Math.max(arguments.length-t,0),r=Array(i),n=0;n<i;n++)r[n]=arguments[n+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r)}}}function x(e){return function(t,i,r){return e(t,r)}}function w(e){return function(t,i,r){r=l(r||o),t=t||[];var n=g(t);if(e<=0)return r(null);var a=!1,s=0,h=!1;!function o(){if(a&&s<=0)return r(null);for(;s<e&&!h;){var l=n();if(null===l)return a=!0,void(s<=0&&r(null));s+=1,i(t[l],l,c(function(e){s-=1,e?(r(e),h=!0):o()}))}}()}}function _(e){return function(t,i,r){return e(N.eachOf,t,i,r)}}function T(e){return function(t,i,r,n){return e(w(i),t,r,n)}}function E(e){return function(t,i,r){return e(N.eachOfSeries,t,i,r)}}function S(e,t,i,r){r=l(r||o),t=t||[];var n=u(t)?[]:{};e(t,function(e,t,r){i(e,function(e,i){n[t]=i,r(e)})},function(e){r(e,n)})}function M(e,t,i,r){var n=[];e(t,function(e,t,r){i(e,function(i){i&&n.push({index:t,value:e}),r()})},function(){r(f(n.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})}function C(e,t,i,r){M(e,t,function(e,t){i(e,function(e){t(!e)})},r)}function A(e,t,i){return function(r,n,o,a){function s(){a&&a(i(!1,void 0))}function h(e,r,n){if(!a)return n();o(e,function(r){a&&t(r)&&(a(i(!0,e)),a=o=!1),n()})}arguments.length>3?e(r,n,h,s):(a=o,o=n,e(r,h,s))}}function D(e,t){return t}function k(e,t,i){i=i||o;var r=u(t)?[]:{};e(t,function(e,t,i){e(b(function(e,n){n.length<=1&&(n=n[0]),r[t]=n,i(e)}))},function(e){i(e,r)})}function I(e,t,i,r){var n=[];e(t,function(e,t,r){i(e,function(e,t){n=n.concat(t||[]),r(e)})},function(e){r(e,n)})}function P(e,t,i){function r(e,t,i,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(e.started=!0,j(t)||(t=[t]),0===t.length&&e.idle())return N.setImmediate(function(){e.drain()});d(t,function(t){var n={data:t,callback:r||o};i?e.tasks.unshift(n):e.tasks.push(n),e.tasks.length===e.concurrency&&e.saturated()}),N.setImmediate(e.process)}function n(e,t){return function(){a-=1;var i=!1,r=arguments;d(t,function(e){d(s,function(t,r){t!==e||i||(s.splice(r,1),i=!0)}),e.callback.apply(e,r)}),e.tasks.length+a===0&&e.drain(),e.process()}}if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var a=0,s=[],h={tasks:[],concurrency:t,payload:i,saturated:o,empty:o,drain:o,started:!1,paused:!1,push:function(e,t){r(h,e,!1,t)},kill:function(){h.drain=o,h.tasks=[]},unshift:function(e,t){r(h,e,!0,t)},process:function(){for(;!h.paused&&a<h.concurrency&&h.tasks.length;){var t=h.payload?h.tasks.splice(0,h.payload):h.tasks.splice(0,h.tasks.length),i=f(t,function(e){return e.data});0===h.tasks.length&&h.empty(),a+=1,s.push(t[0]);var r=c(n(h,t));e(i,r)}},length:function(){return h.tasks.length},running:function(){return a},workersList:function(){return s},idle:function(){return h.tasks.length+a===0},pause:function(){h.paused=!0},resume:function(){if(!1!==h.paused){h.paused=!1;for(var e=Math.min(h.concurrency,h.tasks.length),t=1;t<=e;t++)N.setImmediate(h.process)}}};return h}function R(e){return b(function(t,i){t.apply(null,i.concat([b(function(t,i){"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&d(i,function(t){console[e](t)}))})]))})}function F(e){return function(t,i,r){e(p(t),i,r)}}function O(e){return b(function(t,i){var r=b(function(i){var r=this,n=i.pop();return e(t,function(e,t,n){e.apply(r,i.concat([n]))},n)});return i.length?r.apply(this,i):r})}function L(e){return b(function(t){var i=t.pop();t.push(function(){var e=arguments;r?N.setImmediate(function(){i.apply(null,e)}):i.apply(null,e)});var r=!0;e.apply(this,t),r=!1})}var B,N={},U="object"==typeof self&&self.self===self&&self||"object"==typeof r&&r.global===r&&r||this;null!=U&&(B=U.async),N.noConflict=function(){return U.async=B,N};var H=Object.prototype.toString,j=Array.isArray||function(e){return"[object Array]"===H.call(e)},z=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},G=Object.keys||function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i);return t},V="function"==typeof i&&i,X=V?function(e){V(e)}:function(e){setTimeout(e,0)};"object"==typeof t&&"function"==typeof t.nextTick?N.nextTick=t.nextTick:N.nextTick=X,N.setImmediate=V?X:N.nextTick,N.forEach=N.each=function(e,t,i){return N.eachOf(e,x(t),i)},N.forEachSeries=N.eachSeries=function(e,t,i){return N.eachOfSeries(e,x(t),i)},N.forEachLimit=N.eachLimit=function(e,t,i,r){return w(t)(e,x(i),r)},N.forEachOf=N.eachOf=function(e,t,i){function r(e){s--,e?i(e):null===n&&s<=0&&i(null)}i=l(i||o),e=e||[];for(var n,a=g(e),s=0;null!=(n=a());)s+=1,t(e[n],n,c(r));0===s&&i(null)},N.forEachOfSeries=N.eachOfSeries=function(e,t,i){function r(){var o=!0;if(null===a)return i(null);t(e[a],a,c(function(e){if(e)i(e);else{if(null===(a=n()))return i(null);o?N.setImmediate(r):r()}})),o=!1}i=l(i||o),e=e||[];var n=g(e),a=n();r()},N.forEachOfLimit=N.eachOfLimit=function(e,t,i,r){w(t)(e,i,r)},N.map=_(S),N.mapSeries=E(S),N.mapLimit=T(S),N.inject=N.foldl=N.reduce=function(e,t,i,r){N.eachOfSeries(e,function(e,r,n){i(t,e,function(e,i){t=i,n(e)})},function(e){r(e,t)})},N.foldr=N.reduceRight=function(e,t,i,r){var n=f(e,a).reverse();N.reduce(n,t,i,r)},N.transform=function(e,t,i,r){3===arguments.length&&(r=i,i=t,t=j(e)?[]:{}),N.eachOf(e,function(e,r,n){i(t,e,r,n)},function(e){r(e,t)})},N.select=N.filter=_(M),N.selectLimit=N.filterLimit=T(M),N.selectSeries=N.filterSeries=E(M),N.reject=_(C),N.rejectLimit=T(C),N.rejectSeries=E(C),N.any=N.some=A(N.eachOf,s,a),N.someLimit=A(N.eachOfLimit,s,a),N.all=N.every=A(N.eachOf,h,h),N.everyLimit=A(N.eachOfLimit,h,h),N.detect=A(N.eachOf,a,D),N.detectSeries=A(N.eachOfSeries,a,D),N.detectLimit=A(N.eachOfLimit,a,D),N.sortBy=function(e,t,i){function r(e,t){var i=e.criteria,r=t.criteria;return i<r?-1:i>r?1:0}N.map(e,function(e,i){t(e,function(t,r){t?i(t):i(null,{value:e,criteria:r})})},function(e,t){if(e)return i(e);i(null,f(t.sort(r),function(e){return e.value}))})},N.auto=function(e,t,i){function r(e){p.unshift(e)}function n(e){var t=y(p,e);t>=0&&p.splice(t,1)}function a(){h--,d(p.slice(0),function(e){e()})}"function"==typeof arguments[1]&&(i=t,t=null),i=l(i||o);var s=G(e),h=s.length;if(!h)return i(null);t||(t=h);var c={},u=0,f=!1,p=[];r(function(){h||i(null,c)}),d(s,function(o){function s(){return u<t&&m(g,function(e,t){return e&&c.hasOwnProperty(t)},!0)&&!c.hasOwnProperty(o)}function h(){s()&&(u++,n(h),d[d.length-1](p,c))}if(!f){for(var l,d=j(e[o])?e[o]:[e[o]],p=b(function(e,t){if(u--,t.length<=1&&(t=t[0]),e){var r={};v(c,function(e,t){r[t]=e}),r[o]=t,f=!0,i(e,r)}else c[o]=t,N.setImmediate(a)}),g=d.slice(0,d.length-1),x=g.length;x--;){if(!(l=e[g[x]]))throw new Error("Has nonexistent dependency in "+g.join(", "));if(j(l)&&y(l,o)>=0)throw new Error("Has cyclic dependencies")}s()?(u++,d[d.length-1](p,c)):r(h)}})},N.retry=function(e,t,i){function r(e,t){for(;s.times;){var i=!(s.times-=1);a.push(function(e,i){return function(r){e(function(e,t){r(!e||i,{err:e,result:t})},t)}}(s.task,i)),!i&&s.interval>0&&a.push(function(e){return function(t){setTimeout(function(){t(null)},e)}}(s.interval))}N.series(a,function(t,i){i=i[i.length-1],(e||s.callback)(i.err,i.result)})}var n=5,o=0,a=[],s={times:n,interval:o},h=arguments.length;if(h<1||h>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");return h<=2&&"function"==typeof e&&(i=t,t=e),"function"!=typeof e&&function(e,t){if("number"==typeof t)e.times=parseInt(t,10)||n;else{if("object"!=typeof t)throw new Error("Unsupported argument type for 'times': "+typeof t);e.times=parseInt(t.times,10)||n,e.interval=parseInt(t.interval,10)||o}}(s,e),s.callback=i,s.task=t,s.callback?r():r},N.waterfall=function(e,t){function i(e){return b(function(r,n){if(r)t.apply(null,[r].concat(n));else{var o=e.next();o?n.push(i(o)):n.push(t),L(e).apply(null,n)}})}if(t=l(t||o),!j(e)){var r=new Error("First argument to waterfall must be an array of functions");return t(r)}if(!e.length)return t();i(N.iterator(e))()},N.parallel=function(e,t){k(N.eachOf,e,t)},N.parallelLimit=function(e,t,i){k(w(t),e,i)},N.series=function(e,t){k(N.eachOfSeries,e,t)},N.iterator=function(e){function t(i){function r(){return e.length&&e[i].apply(null,arguments),r.next()}return r.next=function(){return i<e.length-1?t(i+1):null},r}return t(0)},N.apply=b(function(e,t){return b(function(i){return e.apply(null,t.concat(i))})}),N.concat=_(I),N.concatSeries=E(I),N.whilst=function(e,t,i){if(i=i||o,e()){var r=b(function(n,o){n?i(n):e.apply(this,o)?t(r):i.apply(null,[null].concat(o))});t(r)}else i(null)},N.doWhilst=function(e,t,i){var r=0;return N.whilst(function(){return++r<=1||t.apply(this,arguments)},e,i)},N.until=function(e,t,i){return N.whilst(function(){return!e.apply(this,arguments)},t,i)},N.doUntil=function(e,t,i){return N.doWhilst(e,function(){return!t.apply(this,arguments)},i)},N.during=function(e,t,i){i=i||o;var r=b(function(t,r){t?i(t):(r.push(n),e.apply(this,r))}),n=function(e,n){e?i(e):n?t(r):i(null)};e(n)},N.doDuring=function(e,t,i){var r=0;N.during(function(e){r++<1?e(null,!0):t.apply(this,arguments)},e,i)},N.queue=function(e,t){return P(function(t,i){e(t[0],i)},t,1)},N.priorityQueue=function(e,t){function i(e,t){return e.priority-t.priority}function r(e,t,i){for(var r=-1,n=e.length-1;r<n;){var o=r+(n-r+1>>>1);i(t,e[o])>=0?r=o:n=o-1}return r}function n(e,t,n,a){if(null!=a&&"function"!=typeof a)throw new Error("task callback must be a function");if(e.started=!0,j(t)||(t=[t]),0===t.length)return N.setImmediate(function(){e.drain()});d(t,function(t){var s={data:t,priority:n,callback:"function"==typeof a?a:o};e.tasks.splice(r(e.tasks,s,i)+1,0,s),e.tasks.length===e.concurrency&&e.saturated(),N.setImmediate(e.process)})}var a=N.queue(e,t);return a.push=function(e,t,i){n(a,e,t,i)},delete a.unshift,a},N.cargo=function(e,t){return P(e,1,t)},N.log=R("log"),N.dir=R("dir"),N.memoize=function(e,t){var i={},r={},n=Object.prototype.hasOwnProperty;t=t||a;var o=b(function(o){var a=o.pop(),s=t.apply(null,o);n.call(i,s)?N.setImmediate(function(){a.apply(null,i[s])}):n.call(r,s)?r[s].push(a):(r[s]=[a],e.apply(null,o.concat([b(function(e){i[s]=e;var t=r[s];delete r[s];for(var n=0,o=t.length;n<o;n++)t[n].apply(null,e)})])))});return o.memo=i,o.unmemoized=e,o},N.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},N.times=F(N.map),N.timesSeries=F(N.mapSeries),N.timesLimit=function(e,t,i,r){return N.mapLimit(p(e),t,i,r)},N.seq=function(){var e=arguments;return b(function(t){var i=this,r=t[t.length-1];"function"==typeof r?t.pop():r=o,N.reduce(e,t,function(e,t,r){t.apply(i,e.concat([b(function(e,t){r(e,t)})]))},function(e,t){r.apply(i,[e].concat(t))})})},N.compose=function(){return N.seq.apply(null,Array.prototype.reverse.call(arguments))},N.applyEach=O(N.eachOf),N.applyEachSeries=O(N.eachOfSeries),N.forever=function(e,t){function i(e){if(e)return r(e);n(i)}var r=c(t||o),n=L(e);i()},N.ensureAsync=L,N.constant=b(function(e){var t=[null].concat(e);return function(e){return e.apply(this,t)}}),N.wrapSync=N.asyncify=function(e){return b(function(t){var i,r=t.pop();try{i=e.apply(this,t)}catch(e){return r(e)}z(i)&&"function"==typeof i.then?i.then(function(e){r(null,e)}).catch(function(e){r(e.message?e:new Error(e))}):r(null,i)})},"object"==typeof n&&n.exports?n.exports=N:"function"==typeof e&&e.amd?e([],function(){return N}):U.async=N}()}).call(this,r("_process"),void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:7}],2:[function(e,t,i){"use strict";function r(e,t,i){i=i||2;var r=t&&t.length,o=r?t[0]*i:e.length,s=n(e,0,o,i,!0),h=[];if(!s)return h;var c,l,d,f,p,m,v;if(r&&(s=u(e,t,s,i)),e.length>80*i){c=d=e[0],l=f=e[1];for(var y=i;y<o;y+=i)p=e[y],m=e[y+1],p<c&&(c=p),m<l&&(l=m),p>d&&(d=p),m>f&&(f=m);v=Math.max(d-c,f-l)}return a(s,h,i,c,l,v),h}function n(e,t,i,r,n){var o,a;if(n===I(e,t,i,r)>0)for(o=t;o<i;o+=r)a=A(o,e[o],e[o+1],a);else for(o=i-r;o>=t;o-=r)a=A(o,e[o],e[o+1],a);return a&&_(a,a.next)&&(D(a),a=a.next),a}function o(e,t){if(!e)return e;t||(t=e);var i,r=e;do{if(i=!1,r.steiner||!_(r,r.next)&&0!==w(r.prev,r,r.next))r=r.next;else{if(D(r),(r=t=r.prev)===r.next)return null;i=!0}}while(i||r!==t);return t}function a(e,t,i,r,n,u,d){if(e){!d&&u&&m(e,r,n,u);for(var f,p,v=e;e.prev!==e.next;)if(f=e.prev,p=e.next,u?h(e,r,n,u):s(e))t.push(f.i/i),t.push(e.i/i),t.push(p.i/i),D(e),e=p.next,v=p.next;else if((e=p)===v){d?1===d?(e=c(e,t,i),a(e,t,i,r,n,u,2)):2===d&&l(e,t,i,r,n,u):a(o(e),t,i,r,n,u,1);break}}}function s(e){var t=e.prev,i=e,r=e.next;if(w(t,i,r)>=0)return!1;for(var n=e.next.next;n!==e.prev;){if(b(t.x,t.y,i.x,i.y,r.x,r.y,n.x,n.y)&&w(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function h(e,t,i,r){var n=e.prev,o=e,a=e.next;if(w(n,o,a)>=0)return!1;for(var s=n.x<o.x?n.x<a.x?n.x:a.x:o.x<a.x?o.x:a.x,h=n.y<o.y?n.y<a.y?n.y:a.y:o.y<a.y?o.y:a.y,c=n.x>o.x?n.x>a.x?n.x:a.x:o.x>a.x?o.x:a.x,l=n.y>o.y?n.y>a.y?n.y:a.y:o.y>a.y?o.y:a.y,u=y(s,h,t,i,r),d=y(c,l,t,i,r),f=e.nextZ;f&&f.z<=d;){if(f!==e.prev&&f!==e.next&&b(n.x,n.y,o.x,o.y,a.x,a.y,f.x,f.y)&&w(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(f=e.prevZ;f&&f.z>=u;){if(f!==e.prev&&f!==e.next&&b(n.x,n.y,o.x,o.y,a.x,a.y,f.x,f.y)&&w(f.prev,f,f.next)>=0)return!1;f=f.prevZ}return!0}function c(e,t,i){var r=e;do{var n=r.prev,o=r.next.next;!_(n,o)&&T(n,r,r.next,o)&&S(n,o)&&S(o,n)&&(t.push(n.i/i),t.push(r.i/i),t.push(o.i/i),D(r),D(r.next),r=e=o),r=r.next}while(r!==e);return r}function l(e,t,i,r,n,s){var h=e;do{for(var c=h.next.next;c!==h.prev;){if(h.i!==c.i&&x(h,c)){var l=C(h,c);return h=o(h,h.next),l=o(l,l.next),a(h,t,i,r,n,s),void a(l,t,i,r,n,s)}c=c.next}h=h.next}while(h!==e)}function u(e,t,i,r){var a,s,h,c,l,u=[];for(a=0,s=t.length;a<s;a++)h=t[a]*r,c=a<s-1?t[a+1]*r:e.length,l=n(e,h,c,r,!1),l===l.next&&(l.steiner=!0),u.push(g(l));for(u.sort(d),a=0;a<u.length;a++)f(u[a],i),i=o(i,i.next);return i}function d(e,t){return e.x-t.x}function f(e,t){if(t=p(e,t)){var i=C(t,e);o(i,i.next)}}function p(e,t){var i,r=t,n=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=n&&s>a){if(a=s,s===n){if(o===r.y)return r;if(o===r.next.y)return r.next}i=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!i)return null;if(n===a)return i.prev;var h,c=i,l=i.x,u=i.y,d=1/0;for(r=i.next;r!==c;)n>=r.x&&r.x>=l&&b(o<u?n:a,o,l,u,o<u?a:n,o,r.x,r.y)&&((h=Math.abs(o-r.y)/(n-r.x))<d||h===d&&r.x>i.x)&&S(r,e)&&(i=r,d=h),r=r.next;return i}function m(e,t,i,r){var n=e;do{null===n.z&&(n.z=y(n.x,n.y,t,i,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==e);n.prevZ.nextZ=null,n.prevZ=null,v(n)}function v(e){var t,i,r,n,o,a,s,h,c=1;do{for(i=e,e=null,o=null,a=0;i;){for(a++,r=i,s=0,t=0;t<c&&(s++,r=r.nextZ);t++);for(h=c;s>0||h>0&&r;)0===s?(n=r,r=r.nextZ,h--):0!==h&&r?i.z<=r.z?(n=i,i=i.nextZ,s--):(n=r,r=r.nextZ,h--):(n=i,i=i.nextZ,s--),o?o.nextZ=n:e=n,n.prevZ=o,o=n;i=r}o.nextZ=null,c*=2}while(a>1);return e}function y(e,t,i,r,n){return e=32767*(e-i)/n,t=32767*(t-r)/n,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function g(e){var t=e,i=e;do{t.x<i.x&&(i=t),t=t.next}while(t!==e);return i}function b(e,t,i,r,n,o,a,s){return(n-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(i-a)*(t-s)>=0&&(i-a)*(o-s)-(n-a)*(r-s)>=0}function x(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!E(e,t)&&S(e,t)&&S(t,e)&&M(e,t)}function w(e,t,i){return(t.y-e.y)*(i.x-t.x)-(t.x-e.x)*(i.y-t.y)}function _(e,t){return e.x===t.x&&e.y===t.y}function T(e,t,i,r){return!!(_(e,t)&&_(i,r)||_(e,r)&&_(i,t))||w(e,t,i)>0!=w(e,t,r)>0&&w(i,r,e)>0!=w(i,r,t)>0}function E(e,t){var i=e;do{if(i.i!==e.i&&i.next.i!==e.i&&i.i!==t.i&&i.next.i!==t.i&&T(i,i.next,e,t))return!0;i=i.next}while(i!==e);return!1}function S(e,t){return w(e.prev,e,e.next)<0?w(e,t,e.next)>=0&&w(e,e.prev,t)>=0:w(e,t,e.prev)<0||w(e,e.next,t)<0}function M(e,t){var i=e,r=!1,n=(e.x+t.x)/2,o=(e.y+t.y)/2;do{i.y>o!=i.next.y>o&&n<(i.next.x-i.x)*(o-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next}while(i!==e);return r}function C(e,t){var i=new k(e.i,e.x,e.y),r=new k(t.i,t.x,t.y),n=e.next,o=t.prev;return e.next=t,t.prev=e,i.next=n,n.prev=i,r.next=i,i.prev=r,o.next=r,r.prev=o,r}function A(e,t,i,r){var n=new k(e,t,i);return r?(n.next=r.next,n.prev=r,r.next.prev=n,r.next=n):(n.prev=n,n.next=n),n}function D(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function k(e,t,i){this.i=e,this.x=t,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function I(e,t,i,r){for(var n=0,o=t,a=i-r;o<i;o+=r)n+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return n}t.exports=r,r.deviation=function(e,t,i,r){var n=t&&t.length,o=n?t[0]*i:e.length,a=Math.abs(I(e,0,o,i));if(n)for(var s=0,h=t.length;s<h;s++){var c=t[s]*i,l=s<h-1?t[s+1]*i:e.length;a-=Math.abs(I(e,c,l,i))}var u=0;for(s=0;s<r.length;s+=3){var d=r[s]*i,f=r[s+1]*i,p=r[s+2]*i;u+=Math.abs((e[d]-e[p])*(e[f+1]-e[d+1])-(e[d]-e[f])*(e[p+1]-e[d+1]))}return 0===a&&0===u?0:Math.abs((u-a)/a)},r.flatten=function(e){for(var t=e[0][0].length,i={vertices:[],holes:[],dimensions:t},r=0,n=0;n<e.length;n++){for(var o=0;o<e[n].length;o++)for(var a=0;a<t;a++)i.vertices.push(e[n][o][a]);n>0&&(r+=e[n-1].length,i.holes.push(r))}return i}},{}],3:[function(e,t,i){"use strict";function r(e,t,i){this.fn=e,this.context=t,this.once=i||!1}function n(){}var o=Object.prototype.hasOwnProperty,a="function"!=typeof Object.create&&"~";n.prototype._events=void 0,n.prototype.eventNames=function(){var e,t=this._events,i=[];if(!t)return i;for(e in t)o.call(t,e)&&i.push(a?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},n.prototype.listeners=function(e,t){var i=a?a+e:e,r=this._events&&this._events[i];if(t)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var n=0,o=r.length,s=new Array(o);n<o;n++)s[n]=r[n].fn;return s},n.prototype.emit=function(e,t,i,r,n,o){var s=a?a+e:e;if(!this._events||!this._events[s])return!1;var h,c,l=this._events[s],u=arguments.length;if("function"==typeof l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),u){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,i),!0;case 4:return l.fn.call(l.context,t,i,r),!0;case 5:return l.fn.call(l.context,t,i,r,n),!0;case 6:return l.fn.call(l.context,t,i,r,n,o),!0}for(c=1,h=new Array(u-1);c<u;c++)h[c-1]=arguments[c];l.fn.apply(l.context,h)}else{var d,f=l.length;for(c=0;c<f;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),u){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,i);break;default:if(!h)for(d=1,h=new Array(u-1);d<u;d++)h[d-1]=arguments[d];l[c].fn.apply(l[c].context,h)}}return!0},n.prototype.on=function(e,t,i){var n=new r(t,i||this),o=a?a+e:e;return this._events||(this._events=a?{}:Object.create(null)),this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],n]:this._events[o].push(n):this._events[o]=n,this},n.prototype.once=function(e,t,i){var n=new r(t,i||this,!0),o=a?a+e:e;return this._events||(this._events=a?{}:Object.create(null)),this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],n]:this._events[o].push(n):this._events[o]=n,this},n.prototype.removeListener=function(e,t,i,r){var n=a?a+e:e;if(!this._events||!this._events[n])return this;var o=this._events[n],s=[];if(t)if(o.fn)(o.fn!==t||r&&!o.once||i&&o.context!==i)&&s.push(o);else for(var h=0,c=o.length;h<c;h++)(o[h].fn!==t||r&&!o[h].once||i&&o[h].context!==i)&&s.push(o[h]);return s.length?this._events[n]=1===s.length?s[0]:s:delete this._events[n],this},n.prototype.removeAllListeners=function(e){return this._events?(e?delete this._events[a?a+e:e]:this._events=a?{}:Object.create(null),this):this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prototype.setMaxListeners=function(){return this},n.prefixed=a,void 0!==t&&(t.exports=n)},{}],4:[function(e,t,i){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var i,s,h=r(e),c=1;c<arguments.length;c++){i=Object(arguments[c]);for(var l in i)o.call(i,l)&&(h[l]=i[l]);if(n){s=n(i);for(var u=0;u<s.length;u++)a.call(i,s[u])&&(h[s[u]]=i[s[u]])}}return h}},{}],5:[function(e,t,i){"use strict";t.exports=function(e,t){t=t||{};for(var i={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=i.parser[t.strictMode?"strict":"loose"].exec(e),n={},o=14;o--;)n[i.key[o]]=r[o]||"";return n[i.q.name]={},n[i.key[12]].replace(i.q.parser,function(e,t,r){t&&(n[i.q.name][t]=r)}),n}},{}],6:[function(e,t,i){(function(e){function t(e,t){for(var i=0,r=e.length-1;r>=0;r--){var n=e[r];"."===n?e.splice(r,1):".."===n?(e.splice(r,1),i++):i&&(e.splice(r,1),i--)}if(t)for(;i--;i)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var i=[],r=0;r<e.length;r++)t(e[r],r,e)&&i.push(e[r]);return i}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return n.exec(e).slice(1)};i.resolve=function(){for(var i="",n=!1,o=arguments.length-1;o>=-1&&!n;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(i=a+"/"+i,n="/"===a.charAt(0))}return i=t(r(i.split("/"),function(e){return!!e}),!n).join("/"),(n?"/":"")+i||"."},i.normalize=function(e){var n=i.isAbsolute(e),o="/"===a(e,-1);return e=t(r(e.split("/"),function(e){return!!e}),!n).join("/"),e||n||(e="."),e&&o&&(e+="/"),(n?"/":"")+e},i.isAbsolute=function(e){return"/"===e.charAt(0)},i.join=function(){var e=Array.prototype.slice.call(arguments,0);return i.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},i.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var i=e.length-1;i>=0&&""===e[i];i--);return t>i?[]:e.slice(t,i-t+1)}e=i.resolve(e).substr(1),t=i.resolve(t).substr(1);for(var n=r(e.split("/")),o=r(t.split("/")),a=Math.min(n.length,o.length),s=a,h=0;h<a;h++)if(n[h]!==o[h]){s=h;break}for(var c=[],h=s;h<n.length;h++)c.push("..");return c=c.concat(o.slice(s)),c.join("/")},i.sep="/",i.delimiter=":",i.dirname=function(e){var t=o(e),i=t[0],r=t[1];return i||r?(r&&(r=r.substr(0,r.length-1)),i+r):"."},i.basename=function(e,t){var i=o(e)[2];return t&&i.substr(-1*t.length)===t&&(i=i.substr(0,i.length-t.length)),i},i.extname=function(e){return o(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,i){return e.substr(t,i)}:function(e,t,i){return t<0&&(t=e.length+t),e.substr(t,i)}}).call(this,e("_process"))},{_process:7}],7:[function(e,t,i){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(e){if(u===setTimeout)return setTimeout(e,0);if((u===r||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function a(e){if(d===clearTimeout)return clearTimeout(e);if((d===n||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function s(){v&&p&&(v=!1,p.length?m=p.concat(m):y=-1,m.length&&h())}function h(){if(!v){var e=o(s);v=!0;for(var t=m.length;t;){for(p=m,m=[];++y<t;)p&&p[y].run();y=-1,t=m.length}p=null,v=!1,a(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var u,d,f=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:r}catch(e){u=r}try{d="function"==typeof clearTimeout?clearTimeout:n}catch(e){d=n}}();var p,m=[],v=!1,y=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];m.push(new c(e,t)),1!==m.length||v||o(h)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.prependListener=l,f.prependOnceListener=l,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],8:[function(e,t,i){"use strict";function r(){}function n(e,t,i){this.fn=e,this.context=t,this.once=i||!1}function o(){this._events=new r,this._eventsCount=0}var a=Object.prototype.hasOwnProperty,s="~";Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(s=!1)),o.prototype.eventNames=function(){var e,t,i=[];if(0===this._eventsCount)return i;for(t in e=this._events)a.call(e,t)&&i.push(s?t.slice(1):t);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e,t){var i=s?s+e:e,r=this._events[i];if(t)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var n=0,o=r.length,a=new Array(o);n<o;n++)a[n]=r[n].fn;return a},o.prototype.emit=function(e,t,i,r,n,o){var a=s?s+e:e;if(!this._events[a])return!1;var h,c,l=this._events[a],u=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),u){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,i),!0;case 4:return l.fn.call(l.context,t,i,r),!0;case 5:return l.fn.call(l.context,t,i,r,n),!0;case 6:return l.fn.call(l.context,t,i,r,n,o),!0}for(c=1,h=new Array(u-1);c<u;c++)h[c-1]=arguments[c];l.fn.apply(l.context,h)}else{var d,f=l.length;for(c=0;c<f;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),u){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,i);break;case 4:l[c].fn.call(l[c].context,t,i,r);break;default:if(!h)for(d=1,h=new Array(u-1);d<u;d++)h[d-1]=arguments[d];l[c].fn.apply(l[c].context,h)}}return!0},o.prototype.on=function(e,t,i){var r=new n(t,i||this),o=s?s+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},o.prototype.once=function(e,t,i){var r=new n(t,i||this,!0),o=s?s+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},o.prototype.removeListener=function(e,t,i,n){var o=s?s+e:e;if(!this._events[o])return this;if(!t)return 0==--this._eventsCount?this._events=new r:delete this._events[o],this;var a=this._events[o];if(a.fn)a.fn!==t||n&&!a.once||i&&a.context!==i||(0==--this._eventsCount?this._events=new r:delete this._events[o]);else{for(var h=0,c=[],l=a.length;h<l;h++)(a[h].fn!==t||n&&!a[h].once||i&&a[h].context!==i)&&c.push(a[h]);c.length?this._events[o]=1===c.length?c[0]:c:0==--this._eventsCount?this._events=new r:delete this._events[o]}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=s?s+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new r:delete this._events[t])):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=s,o.EventEmitter=o,void 0!==t&&(t.exports=o)},{}],9:[function(e,t,i){"use strict";function r(e,t){s.call(this),t=t||h,this.baseUrl=e||"",this.progress=0,this.loading=!1,this._progressChunk=0,this._beforeMiddleware=[],this._afterMiddleware=[],this._boundLoadResource=this._loadResource.bind(this),this._buffer=[],this._numToLoad=0,this._queue=o.queue(this._boundLoadResource,t),this.resources={}}var n=e("parse-uri"),o=e("./async"),a=e("./Resource"),s=e("eventemitter3"),h=10;r.prototype=Object.create(s.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.add=r.prototype.enqueue=function(e,t,i,r){if(Array.isArray(e)){for(var n=0;n<e.length;++n)this.add(e[n]);return this}if("object"==typeof e&&(r=t||e.callback||e.onComplete,i=e,t=e.url,e=e.name||e.key||e.url),"string"!=typeof t&&(r=i,i=t,t=e),"string"!=typeof t)throw new Error("No url passed to add resource to loader.");if("function"==typeof i&&(r=i,i=null),this.resources[e])throw new Error('Resource with name "'+e+'" already exists.');return t=this._prepareUrl(t),this.resources[e]=new a(e,t,i),"function"==typeof r&&this.resources[e].once("afterMiddleware",r),this._numToLoad++,this._queue.started?(this._queue.push(this.resources[e]),this._progressChunk=(100-this.progress)/(this._queue.length()+this._queue.running())):(this._buffer.push(this.resources[e]),this._progressChunk=100/this._buffer.length),this},r.prototype.before=r.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},r.prototype.after=r.prototype.use=function(e){return this._afterMiddleware.push(e),this},r.prototype.reset=function(){this.progress=0,this.loading=!1,this._progressChunk=0,this._buffer.length=0,this._numToLoad=0,this._queue.kill(),this._queue.started=!1;for(var e in this.resources){var t=this.resources[e];t.off("complete",this._onLoad,this),t.isLoading&&t.abort()}return this.resources={},this},r.prototype.load=function(e){if("function"==typeof e&&this.once("complete",e),this._queue.started)return this;this.emit("start",this),this.loading=!0;for(var t=0;t<this._buffer.length;++t)this._queue.push(this._buffer[t]);return this._buffer.length=0,this},r.prototype._prepareUrl=function(e){var t=n(e,{strictMode:!0});return t.protocol||!t.path||0===t.path.indexOf("//")?e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==e.charAt(0)?this.baseUrl+"/"+e:this.baseUrl+e},r.prototype._loadResource=function(e,t){var i=this;e._dequeue=t,o.eachSeries(this._beforeMiddleware,function(t,r){t.call(i,e,function(){r(e.isComplete?{}:null)})},function(){e.isComplete?i._onLoad(e):(e.once("complete",i._onLoad,i),e.load())})},r.prototype._onComplete=function(){this.loading=!1,this.emit("complete",this,this.resources)},r.prototype._onLoad=function(e){var t=this;o.eachSeries(this._afterMiddleware,function(i,r){i.call(t,e,r)},function(){e.emit("afterMiddleware",e),t._numToLoad--,t.progress+=t._progressChunk,t.emit("progress",t,e),e.error?t.emit("error",e.error,t,e):t.emit("load",t,e),0===t._numToLoad&&(t.progress=100,t._onComplete())}),e._dequeue()},r.LOAD_TYPE=a.LOAD_TYPE,r.XHR_RESPONSE_TYPE=a.XHR_RESPONSE_TYPE},{"./Resource":10,"./async":11,eventemitter3:8,"parse-uri":5}],10:[function(e,t,i){"use strict";function r(e,t,i){if(a.call(this),i=i||{},"string"!=typeof e||"string"!=typeof t)throw new Error("Both name and url are required for constructing a resource.");this.name=e,this.url=t,this.isDataUrl=0===this.url.indexOf("data:"),this.data=null,this.crossOrigin=!0===i.crossOrigin?"anonymous":i.crossOrigin,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.isJson=!1,this.isXml=!1,this.isImage=!1,this.isAudio=!1,this.isVideo=!1,this.isComplete=!1,this.isLoading=!1,this._dequeue=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this)}function n(e){return e.toString().replace("object ","")}function o(e,t,i){t&&0===t.indexOf(".")&&(t=t.substring(1)),t&&(e[t]=i)}var a=e("eventemitter3"),s=e("parse-uri"),h=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),c=null;r.prototype=Object.create(a.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.complete=function(){if(this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.isComplete)throw new Error("Complete called again for an already completed resource.");this.isComplete=!0,this.isLoading=!1,this.emit("complete",this)},r.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(void 0!==this.data.src)this.data.src="";else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}},r.prototype.load=function(e){if(!this.isLoading)if(this.isComplete){if(e){var t=this;setTimeout(function(){e(t)},1)}}else switch(e&&this.once("complete",e),this.isLoading=!0,this.emit("start",this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case r.LOAD_TYPE.IMAGE:this._loadElement("image");break;case r.LOAD_TYPE.AUDIO:this._loadSourceElement("audio");break;case r.LOAD_TYPE.VIDEO:this._loadSourceElement("video");break;case r.LOAD_TYPE.XHR:default:h&&this.crossOrigin?this._loadXdr():this._loadXhr()}},r.prototype._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===e&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url);var t="is"+e[0].toUpperCase()+e.substring(1);!1===this[t]&&(this[t]=!0),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},r.prototype._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===e&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(e),null===this.data)return void this.abort("Unsupported element "+e);if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var t=0;t<this.url.length;++t)this.data.appendChild(this._createSource(e,this.url[t]));else this.data.appendChild(this._createSource(e,this.url));this["is"+e[0].toUpperCase()+e.substring(1)]=!0,this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()},r.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),this.xhrType===r.XHR_RESPONSE_TYPE.JSON||this.xhrType===r.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=r.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},r.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XDomainRequest;e.timeout=5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXdrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout(function(){e.send()},0)},r.prototype._createSource=function(e,t,i){i||(i=e+"/"+t.substr(t.lastIndexOf(".")+1));var r=document.createElement("source");return r.src=t,r.type=i,r},r.prototype._onError=function(e){this.abort("Failed to load element using "+e.target.nodeName)},r.prototype._onProgress=function(e){e&&e.lengthComputable&&this.emit("progress",this,e.loaded/e.total)},r.prototype._xhrOnError=function(){var e=this.xhr;this.abort(n(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},r.prototype._xhrOnAbort=function(){this.abort(n(this.xhr)+" Request was aborted by the user.")},r.prototype._xdrOnTimeout=function(){this.abort(n(this.xhr)+" Request timed out.")},r.prototype._xhrOnLoad=function(){var e=this.xhr,t=void 0===e.status?e.status:200;if(!(200===t||204===t||0===t&&e.responseText.length>0))return void this.abort("["+e.status+"]"+e.statusText+":"+e.responseURL);if(this.xhrType===r.XHR_RESPONSE_TYPE.TEXT)this.data=e.responseText;else if(this.xhrType===r.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(e.responseText),this.isJson=!0}catch(e){return void this.abort("Error trying to parse loaded json:",e)}else if(this.xhrType===r.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var i=new DOMParser;this.data=i.parseFromString(e.responseText,"text/xml")}else{var n=document.createElement("div");n.innerHTML=e.responseText,this.data=n}this.isXml=!0}catch(e){return void this.abort("Error trying to parse loaded xml:",e)}else this.data=e.response||e.responseText;this.complete()},r.prototype._determineCrossOrigin=function(e,t){if(0===e.indexOf("data:"))return"";t=t||window.location,c||(c=document.createElement("a")),c.href=e,e=s(c.href,{strictMode:!0});var i=!e.port&&""===t.port||e.port===t.port,r=e.protocol?e.protocol+":":"";return e.host===t.hostname&&i&&r===t.protocol?"":"anonymous"},r.prototype._determineXhrType=function(){return r._xhrTypeMap[this._getExtension()]||r.XHR_RESPONSE_TYPE.TEXT},r.prototype._determineLoadType=function(){return r._loadTypeMap[this._getExtension()]||r.LOAD_TYPE.XHR},r.prototype._getExtension=function(){var e=this.url,t="";if(this.isDataUrl){var i=e.indexOf("/");t=e.substring(i+1,e.indexOf(";",i))}else{var r=e.indexOf("?");-1!==r&&(e=e.substring(0,r)),t=e.substring(e.lastIndexOf(".")+1)}return t.toLowerCase()},r.prototype._getMimeFromXhrType=function(e){switch(e){case r.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case r.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case r.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case r.XHR_RESPONSE_TYPE.JSON:return"application/json";case r.XHR_RESPONSE_TYPE.DEFAULT:case r.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},r.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},r.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},r._loadTypeMap={gif:r.LOAD_TYPE.IMAGE,png:r.LOAD_TYPE.IMAGE,bmp:r.LOAD_TYPE.IMAGE,jpg:r.LOAD_TYPE.IMAGE,jpeg:r.LOAD_TYPE.IMAGE,tif:r.LOAD_TYPE.IMAGE,tiff:r.LOAD_TYPE.IMAGE,webp:r.LOAD_TYPE.IMAGE,tga:r.LOAD_TYPE.IMAGE,"svg+xml":r.LOAD_TYPE.IMAGE},r._xhrTypeMap={xhtml:r.XHR_RESPONSE_TYPE.DOCUMENT,html:r.XHR_RESPONSE_TYPE.DOCUMENT,htm:r.XHR_RESPONSE_TYPE.DOCUMENT,xml:r.XHR_RESPONSE_TYPE.DOCUMENT,tmx:r.XHR_RESPONSE_TYPE.DOCUMENT,tsx:r.XHR_RESPONSE_TYPE.DOCUMENT,svg:r.XHR_RESPONSE_TYPE.DOCUMENT,gif:r.XHR_RESPONSE_TYPE.BLOB,png:r.XHR_RESPONSE_TYPE.BLOB,bmp:r.XHR_RESPONSE_TYPE.BLOB,jpg:r.XHR_RESPONSE_TYPE.BLOB,jpeg:r.XHR_RESPONSE_TYPE.BLOB,tif:r.XHR_RESPONSE_TYPE.BLOB,tiff:r.XHR_RESPONSE_TYPE.BLOB,webp:r.XHR_RESPONSE_TYPE.BLOB,tga:r.XHR_RESPONSE_TYPE.BLOB,json:r.XHR_RESPONSE_TYPE.JSON,text:r.XHR_RESPONSE_TYPE.TEXT,txt:r.XHR_RESPONSE_TYPE.TEXT},r.setExtensionLoadType=function(e,t){o(r._loadTypeMap,e,t)},r.setExtensionXhrType=function(e,t){o(r._xhrTypeMap,e,t)}},{eventemitter3:8,"parse-uri":5}],11:[function(e,t,i){"use strict";function r(){}function n(e,t,i){var r=0,n=e.length;!function o(a){if(a||r===n)return void(i&&i(a));t(e[r++],o)}()}function o(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}function a(e,t){function i(e,t,i){if(null!=i&&"function"!=typeof i)throw new Error("task callback must be a function");if(s.started=!0,null==e&&s.idle())return void setTimeout(function(){s.drain()},1);var n={data:e,callback:"function"==typeof i?i:r};t?s._tasks.unshift(n):s._tasks.push(n),setTimeout(function(){s.process()},1)}function n(e){return function(){a-=1,e.callback.apply(e,arguments),null!=arguments[0]&&s.error(arguments[0],e.data),a<=s.concurrency-s.buffer&&s.unsaturated(),s.idle()&&s.drain(),s.process()}}if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var a=0,s={_tasks:[],concurrency:t,saturated:r,unsaturated:r,buffer:t/4,empty:r,drain:r,error:r,started:!1,paused:!1,push:function(e,t){i(e,!1,t)},kill:function(){s.drain=r,s._tasks=[]},unshift:function(e,t){i(e,!0,t)},process:function(){for(;!s.paused&&a<s.concurrency&&s._tasks.length;){var t=s._tasks.shift();0===s._tasks.length&&s.empty(),a+=1,a===s.concurrency&&s.saturated(),e(t.data,o(n(t)))}},length:function(){return s._tasks.length},running:function(){return a},idle:function(){return s._tasks.length+a===0},pause:function(){!0!==s.paused&&(s.paused=!0)},resume:function(){if(!1!==s.paused){s.paused=!1;for(var e=1;e<=s.concurrency;e++)s.process()}}};return s}t.exports={eachSeries:n,queue:a}},{}],12:[function(e,t,i){"use strict";t.exports={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encodeBinary:function(e){for(var t,i="",r=new Array(4),n=0,o=0;n<e.length;){for(t=new Array(3),o=0;o<t.length;o++)n<e.length?t[o]=255&e.charCodeAt(n++):t[o]=0;switch(r[0]=t[0]>>2,r[1]=(3&t[0])<<4|t[1]>>4,r[2]=(15&t[1])<<2|t[2]>>6,r[3]=63&t[2],n-(e.length-1)){case 2:r[3]=64,r[2]=64;break;case 1:r[3]=64}for(o=0;o<r.length;o++)i+=this._keyStr.charAt(r[o])}return i}}},{}],13:[function(e,t,i){"use strict";t.exports=e("./Loader"),t.exports.Resource=e("./Resource"),t.exports.middleware={caching:{memory:e("./middlewares/caching/memory")},parsing:{blob:e("./middlewares/parsing/blob")}},t.exports.async=e("./async")},{"./Loader":9,"./Resource":10,"./async":11,"./middlewares/caching/memory":14,"./middlewares/parsing/blob":15}],14:[function(e,t,i){"use strict";var r={};t.exports=function(){return function(e,t){r[e.url]?(e.data=r[e.url],e.complete()):e.once("complete",function(){r[this.url]=this.data}),t()}}},{}],15:[function(e,t,i){"use strict";var r=e("../../Resource"),n=e("../../b64"),o=window.URL||window.webkitURL;t.exports=function(){return function(e,t){if(!e.data)return void t();if(e.xhr&&e.xhrType===r.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof e.data){if(0===e.data.type.indexOf("image")){var i=o.createObjectURL(e.data);return e.blob=e.data,e.data=new Image,e.data.src=i,e.isImage=!0,void(e.data.onload=function(){o.revokeObjectURL(i),e.data.onload=null,t()})}}else{var a=e.xhr.getResponseHeader("content-type");if(a&&0===a.indexOf("image"))return e.data=new Image,e.data.src="data:"+a+";base64,"+n.encodeBinary(e.xhr.responseText),e.isImage=!0,void(e.data.onload=function(){e.data.onload=null,t()})}t()}}},{"../../Resource":10,"../../b64":12}],16:[function(e,t,i){t.exports={name:"pixi.js",version:"3.0.8",description:"Pixi.js is a fast lightweight 2D library that works across all devices.",author:"Mat Groves",contributors:["Chad Engler <chad@pantherdev.com>","Richard Davey <rdavey@gmail.com>"],main:"./src/index.js",homepage:"http://goodboydigital.com/",bugs:"https://github.com/pixijs/pixi.js/issues",license:"MIT",repository:{type:"git",url:"https://github.com/pixijs/pixi.js.git"},scripts:{start:"gulp && gulp watch",test:"gulp && testem ci",build:"gulp",postbuild:"cp bin/pixi.js ../pixi.js",docs:"jsdoc -c ./gulp/util/jsdoc.conf.json -R README.md"},files:["bin/","src/","CONTRIBUTING.md","LICENSE","package.json","README.md"],dependencies:{async:"^1.4.2",brfs:"^1.4.1",earcut:"^2.0.2",eventemitter3:"^1.1.1","gulp-header":"^1.7.1","object-assign":"^4.0.1","resource-loader":"^1.6.2"},devDependencies:{browserify:"^11.1.0",chai:"^3.2.0",del:"^2.0.2",gulp:"^3.9.1","gulp-cached":"^1.1.0","gulp-concat":"^2.6.0","gulp-debug":"^2.1.0","gulp-jshint":"^1.11.2","gulp-mirror":"^0.4.0","gulp-plumber":"^1.0.1","gulp-rename":"^1.2.2","gulp-sourcemaps":"^1.5.2","gulp-uglify":"^1.4.1","gulp-util":"^3.0.6","jaguarjs-jsdoc":"git+https://github.com/davidshimjs/jaguarjs-jsdoc.git",jsdoc:"^3.3.2","jshint-summary":"^0.4.0",minimist:"^1.2.0",mocha:"^2.3.2","require-dir":"^0.3.0","run-sequence":"^1.1.2",testem:"^0.9.4","vinyl-buffer":"^1.0.0","vinyl-source-stream":"^1.1.0",watchify:"^3.4.0"},browserify:{transform:["brfs"]}}},{}],17:[function(e,t,i){function r(e){var t=document.createElement("div");t.style.width="100px",t.style.height="100px",t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.zIndex=2,this.div=t,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,window.addEventListener("keydown",this._onKeyDown,!1)}var n=e("../core");Object.assign(n.DisplayObject.prototype,e("./accessibleTarget")),r.prototype.constructor=r,t.exports=r,r.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode.appendChild(this.div))},r.prototype.deactivate=function(){this.isActive&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode.removeChild(this.div))},r.prototype.updateAccessibleObjects=function(e){if(e.visible){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);for(var t=e.children,i=t.length-1;i>=0;i--)this.updateAccessibleObjects(t[i])}},r.prototype.update=function(){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),t=e.width/this.renderer.width,i=e.height/this.renderer.height,r=this.div;r.style.left=e.left+"px",r.style.top=e.top+"px",r.style.width=this.renderer.width+"px",r.style.height=this.renderer.height+"px";for(var o=0;o<this.children.length;o++){var a=this.children[o];if(a.renderId!==this.renderId)a._accessibleActive=!1,n.utils.removeItems(this.children,o,1),this.div.removeChild(a._accessibleDiv),this.pool.push(a._accessibleDiv),a._accessibleDiv=null,o--,0===this.children.length&&this.deactivate();else{r=a._accessibleDiv;var s=a.hitArea,h=a.worldTransform;a.hitArea?(r.style.left=(h.tx+s.x*h.a)*t+"px",r.style.top=(h.ty+s.y*h.d)*i+"px",r.style.width=s.width*h.a*t+"px",r.style.height=s.height*h.d*i+"px"):(s=a.getBounds(),this.capHitArea(s),r.style.left=s.x*t+"px",r.style.top=s.y*i+"px",r.style.width=s.width*t+"px",r.style.height=s.height*i+"px")}}this.renderId++},r.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0),e.x+e.width>this.renderer.width&&(e.width=this.renderer.width-e.x),e.y+e.height>this.renderer.height&&(e.height=this.renderer.height-e.y)},r.prototype.addChild=function(e){var t=this.pool.pop();t||(t=document.createElement("button"),t.style.width="100px",t.style.height="100px",t.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=2,t.style.borderStyle="none",t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.title=e.accessibleTitle||"displayObject "+this.tabIndex,e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},r.prototype._onClick=function(e){var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"click",t.eventData)},r.prototype._onFocus=function(e){var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"mouseover",t.eventData)},r.prototype._onFocusOut=function(e){var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"mouseout",t.eventData)},r.prototype._onKeyDown=function(e){9===e.keyCode&&this.activate()},r.prototype._onMouseMove=function(){this.deactivate()},r.prototype.destroy=function(){this.div=null;for(var e=0;e<this.children.length;e++)this.children[e].div=null;window.document.removeEventListener("mousemove",this._onMouseMove),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},n.WebGLRenderer.registerPlugin("accessibility",r),n.CanvasRenderer.registerPlugin("accessibility",r)},{"../core":27,"./accessibleTarget":18}],18:[function(e,t,i){var r={accessible:!1,accessibleTitle:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1};t.exports=r},{}],19:[function(e,t,i){/**
 * @file        Main export of the PIXI accessibility library
 * @author      Mat Groves <mat@goodboydigital.com>
 * @copyright   2013-2015 GoodBoyDigital
 * @license     {@link https://github.com/pixijs/pixi.js/blob/master/LICENSE|MIT License}
 */
t.exports={accessibleTarget:e("./accessibleTarget"),AccessibilityManager:e("./AccessibilityManager")}},{"./AccessibilityManager":17,"./accessibleTarget":18}],20:[function(e,t,i){var r={VERSION:e("../../package.json").version,PI_2:2*Math.PI,RAD_TO_DEG:180/Math.PI,DEG_TO_RAD:Math.PI/180,TARGET_FPMS:.06,RENDERER_TYPE:{UNKNOWN:0,WEBGL:1,CANVAS:2},BLEND_MODES:{NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16},DRAW_MODES:{POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},SCALE_MODES:{DEFAULT:0,LINEAR:0,NEAREST:1},RETINA_PREFIX:/@(.+)x/,RESOLUTION:1,FILTER_RESOLUTION:1,DEFAULT_RENDER_OPTIONS:{view:null,resolution:1,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1},SHAPES:{POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},SPRITE_BATCH_SIZE:2e3};t.exports=r},{"../../package.json":16}],21:[function(e,t,i){function r(){a.call(this),this.children=[]}var n=e("../math"),o=e("../utils"),a=e("./DisplayObject"),s=e("../textures/RenderTexture"),h=new n.Matrix;r.prototype=Object.create(a.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.addChildWithSamePos=function(e){var t=this.toLocal({x:0,y:0},e);e.x=t.x,e.y=t.y,this.addChild(e)},r.prototype.clone=function(){if(void 0!==this._nbData_){var e=instance.createChildFromData(this.parent,this._nbData_);return this.name&&""!==this.name&&(this.parent[this.name]=this),delete this.name,e}return console.warn(""),null},Object.defineProperties(r.prototype,{width:{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var t=this.getLocalBounds().width;this.scale.x=0!==t?e/t:1,this._width=e}},height:{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var t=this.getLocalBounds().height;this.scale.y=0!==t?e/t:1,this._height=e}}}),r.prototype.onChildrenChange=function(){},r.prototype.addChild=function(e){var t=arguments.length;if(t>1)for(var i=0;i<t;i++)this.addChild(arguments[i]);else e.parent&&e.parent.removeChild(e),e.parent=this,this.children.push(e),this.onChildrenChange(this.children.length-1),e.emit("added",this);return e},r.prototype.addChildAt=function(e,t){if(e===this)return e;if(t>=0&&t<=this.children.length)return e.parent&&e.parent.removeChild(e),e.parent=this,this.children.splice(t,0,e),this.onChildrenChange(t),e.emit("added",this),e;throw new Error(e+"addChildAt: The index "+t+" supplied is out of bounds "+this.children.length)},r.prototype.swapChildren=function(e,t){if(e!==t){var i=this.getChildIndex(e),r=this.getChildIndex(t);if(i<0||r<0)throw new Error("swapChildren: Both the supplied DisplayObjects must be children of the caller.");this.children[i]=t,this.children[r]=e,this.onChildrenChange(i<r?i:r)}},r.prototype.getChildIndex=function(e){return this.children.indexOf(e)},r.prototype.setChildIndex=function(e,t){if(t<0||t>=this.children.length)throw new Error("The supplied index is out of bounds");var i=this.getChildIndex(e);o.removeItems(this.children,i,1),this.children.splice(t,0,e),this.onChildrenChange(t)},r.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Supplied index "+e+" does not exist in the child list, or the supplied DisplayObject is not a child of the caller");return this.children[e]},r.prototype.removeChild=function(e){var t=arguments.length;if(t>1)for(var i=0;i<t;i++)this.removeChild(arguments[i]);else{var r=this.children.indexOf(e);if(-1===r)return;e.parent=null,o.removeItems(this.children,r,1),this.onChildrenChange(r),e.emit("removed",this)}return e},r.prototype.removeChildAt=function(e){var t=this.getChildAt(e);return t.parent=null,o.removeItems(this.children,e,1),this.onChildrenChange(e),t.emit("removed",this),t},r.prototype.removeChildren=function(e,t){var i,r,n=e||0,o="number"==typeof t?t:this.children.length,a=o-n;if(a>0&&a<=o){for(i=this.children.splice(n,a),r=0;r<i.length;++r)i[r].parent=null;for(this.onChildrenChange(e),r=0;r<i.length;++r)i[r].emit("removed",this);return i}if(0===a&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},r.prototype.generateTexture=function(e,t,i){var r=this.getLocalBounds(),n=new s(e,0|r.width,0|r.height,i,t);return h.tx=-r.x,h.ty=-r.y,n.render(this,h),n},r.prototype.updateTransform=function(){if(this.visible){this.displayObjectUpdateTransform();for(var e=0,t=this.children.length;e<t;++e)this.children[e].updateTransform()}},r.prototype.containerUpdateTransform=r.prototype.updateTransform,r.prototype.getBounds=function(){if(!this._currentBounds){if(0===this.children.length)return n.Rectangle.EMPTY;for(var e,t,i,r=1/0,o=1/0,a=-1/0,s=-1/0,h=!1,c=0,l=this.children.length;c<l;++c){this.children[c].visible&&(h=!0,e=this.children[c].getBounds(),e.width*e.height!=0&&Math.abs(e.width)!==1/0&&Math.abs(e.height)!==1/0&&(r=r<e.x?r:e.x,o=o<e.y?o:e.y,t=e.width+e.x,i=e.height+e.y,a=a>t?a:t,s=s>i?s:i))}if(!h)return n.Rectangle.EMPTY;var u=this._bounds;u.x=r,u.y=o,u.width=a-r,u.height=s-o,this._currentBounds=u}return this._currentBounds},r.prototype.containerGetBounds=r.prototype.getBounds,r.prototype.getLocalBounds=function(){var e=this.worldTransform;this.worldTransform=n.Matrix.IDENTITY;for(var t=0,i=this.children.length;t<i;++t)this.children[t].updateTransform();return this.worldTransform=e,this._currentBounds=null,this.getBounds(n.Matrix.IDENTITY)},r.prototype.renderWebGL=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){var t,i;if(this._mask||this._filters){for(e.currentRenderer.flush(),this._filters&&this._filters.length&&e.filterManager.pushFilter(this,this._filters),this._mask&&e.maskManager.pushMask(this,this._mask),e.currentRenderer.start(),this._renderWebGL(e),t=0,i=this.children.length;t<i;t++)this.children[t].renderWebGL(e);e.currentRenderer.flush(),this._mask&&e.maskManager.popMask(this,this._mask),this._filters&&e.filterManager.popFilter(),e.currentRenderer.start()}else for(this._renderWebGL(e),t=0,i=this.children.length;t<i;++t)this.children[t].renderWebGL(e)}},r.prototype._renderWebGL=function(e){},r.prototype._renderCanvas=function(e){},r.prototype.renderCanvas=function(e){if(this.visible&&!(this.alpha<=0)&&this.renderable){this._mask&&e.maskManager.pushMask(this._mask,e),this._renderCanvas(e);for(var t=0,i=this.children.length;t<i;++t)this.children[t].renderCanvas(e);this._mask&&e.maskManager.popMask(e)}},r.prototype.destroy=function(e){if(a.prototype.destroy.call(this),e)for(var t=0,i=this.children.length;t<i;++t)this.children[t].destroy(e);this.removeChildren(),this.children=null}},{"../math":30,"../textures/RenderTexture":68,"../utils":74,"./DisplayObject":22}],22:[function(e,t,i){function r(){s.call(this),u.apply(this),this.position=new o.Point,this.scale=new o.Point(1,1),this.pivot=new o.Point(0,0),this.skew=new o.Point(0,0),this.rotation=0,this.alpha=1,this.visible=!0,this.renderable=!0,this.parent=null,this.worldAlpha=1,this.worldTransform=new o.Matrix,this.filterArea=null,this._sr=0,this._cr=1,this._bounds=new o.Rectangle(0,0,1,1),this._currentBounds=null,this._mask=null}function n(e,t,i){this.fn=e,this.context=t,this.once=i||!1,this.bubble=!1,this.capture=!1}var o=e("../math"),a=e("../textures/RenderTexture"),s=e("eventemitter3"),h=e("../const"),c=new o.Matrix,l={worldTransform:new o.Matrix,worldAlpha:1,children:[]};r.prototype=Object.create(s.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{x:{get:function(){return this.position.x},set:function(e){this.position.x=e}},y:{get:function(){return this.position.y},set:function(e){this.position.y=e}},worldVisible:{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}},mask:{get:function(){return this._mask},set:function(e){this._mask&&(this._mask.renderable=!0),this._mask=e,this._mask&&(this._mask.renderable=!1)}},filters:{get:function(){return this._filters&&this._filters.slice()},set:function(e){this._filters=e&&e.slice()}}}),r.prototype.updateTransform=function(){var e,t,i,r,n,o,a=this.parent.worldTransform,s=this.worldTransform;this.skew.x||this.skew.y?(c.setTransform(this.position.x,this.position.y,this.pivot.x,this.pivot.y,this.scale.x,this.scale.y,this.rotation,this.skew.x,this.skew.y),s.a=c.a*a.a+c.b*a.c,s.b=c.a*a.b+c.b*a.d,s.c=c.c*a.a+c.d*a.c,s.d=c.c*a.b+c.d*a.d,s.tx=c.tx*a.a+c.ty*a.c+a.tx,s.ty=c.tx*a.b+c.ty*a.d+a.ty):this.rotation%h.PI_2?(this.rotation!==this.rotationCache&&(this.rotationCache=this.rotation,this._sr=Math.sin(this.rotation),this._cr=Math.cos(this.rotation)),e=this._cr*this.scale.x,t=this._sr*this.scale.x,i=-this._sr*this.scale.y,r=this._cr*this.scale.y,n=this.position.x,o=this.position.y,(this.pivot.x||this.pivot.y)&&(n-=this.pivot.x*e+this.pivot.y*i,o-=this.pivot.x*t+this.pivot.y*r),s.a=e*a.a+t*a.c,s.b=e*a.b+t*a.d,s.c=i*a.a+r*a.c,s.d=i*a.b+r*a.d,s.tx=n*a.a+o*a.c+a.tx,s.ty=n*a.b+o*a.d+a.ty):(e=this.scale.x,r=this.scale.y,n=this.position.x-this.pivot.x*e,o=this.position.y-this.pivot.y*r,s.a=e*a.a,s.b=e*a.b,s.c=r*a.c,s.d=r*a.d,s.tx=n*a.a+o*a.c+a.tx,s.ty=n*a.b+o*a.d+a.ty),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._currentBounds=null},r.prototype.displayObjectUpdateTransform=r.prototype.updateTransform,r.prototype.addEventListener=function(){this.interactive=!0,this.on.apply(this,arguments)},r.prototype.getBounds=function(e){return o.Rectangle.EMPTY},r.prototype.hitTest=function(e){return NBHitTest.hitTest(this,e)},r.prototype.hitTestPoint=function(e){return this.getBounds().contains(e.x,e.y)},r.prototype.hitTestPixel=function(e,t){var i=this.getLocalBounds();return this.generateTexture(e).getPixel(t.x-i.x,t.y-i.y)[3]>0},r.prototype.getLocalBounds=function(){return this.getBounds(o.Matrix.IDENTITY)},r.prototype.toGlobal=function(e){return this.parent?this.displayObjectUpdateTransform():(this.parent=l,this.displayObjectUpdateTransform(),this.parent=null),this.worldTransform.apply(e)},r.prototype.toLocal=function(e,t,i){return t&&(e=t.toGlobal(e)),this.parent?this.displayObjectUpdateTransform():(this.parent=l,this.displayObjectUpdateTransform(),this.parent=null),this.worldTransform.applyInverse(e,i)},r.prototype.renderWebGL=function(e){},r.prototype.renderCanvas=function(e){},r.prototype.generateTexture=function(e,t,i){var r=this.getLocalBounds(),n=new a(e,0|r.width,0|r.height,t,i);return c.tx=-r.x,c.ty=-r.y,n.render(this,c),n},r.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},r.prototype.has=s.prototype.hasEventListener=function(e){var t=e;return!(!this._events||!this._events[t])},r.prototype.emit=function(e,t,i,r,n,o){var a=e;if(t&&void 0===t.capture&&(t.capture=!1),!this._events||!this._events[a])return!1;var s,h,c=this._events[a],l=arguments.length;if("function"==typeof c.fn)if(c.once&&this.removeListener(e,c.fn,void 0,!0),void 0!==t){for(h=1,s=[];h<l;h++)s[h-1]=arguments[h];c.capture!==t.capture&&void 0!==t.capture||c.fn.apply(c.context,s)}else c.fn.call(c.context);else{var u,d=c.length;for(h=0;h<d&&(c[h].once&&this.removeListener(e,c[h].fn,void 0,!0),!t||!0!==t.stopImmediate);h++)if(void 0!==t){for(u=1,s=[];u<l;u++)s[u-1]=arguments[u];c[h].capture!==t.capture&&void 0!==t.capture||c[h].fn.apply(c[h].context,s)}else c[h].fn.apply(c[h].context)}return!0},r.prototype.once=function(e,t,i){var r=new n(t,i||this,!0),o=e;return this._events||(this._events=Object.create(null)),this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):this._events[o]=r,this},r.prototype.$on=function(e,t,i,r){var o=new n(t,this),a=e;if(void 0===i&&(i=!1),o.capture=i,o.priority=r||0,this._events||(this._events=Object.create(null)),this._events[a]){var s=this._events[a];if(s.fn)s.fn!==o.fn&&(s=[s,o],this._events[a]=s);else{for(var h=0;h<s.length;h++){if(s[h].fn===t)break}h===s.length&&s.push(o)}s instanceof Array&&s.sort(function(e,t){return t.priority-e.priority})}else this._events[a]=o;return this},r.prototype.on=function(e,t,i,r){return e===TouchEvent.TOUCH_BEGIN?(this.$on("mousedown",t,i,r),this.$on("touchstart",t,i,r),this):e===TouchEvent.TOUCH_MOVE?(this.$on("mousemove",t,i,r),this.$on("touchmove",t,i,r),this):e===TouchEvent.TOUCH_END?(this.$on("mouseup",t,i,r),this.$on("touchend",t,i,r),this):e===TouchEvent.TAP?(this.$on("click",t,i,r),this.$on("tap",t,i,r),this):e===TouchEvent.TOUCH_END_OUDSIDE?(this.$on("mouseupoutside",t,i,r),this.$on("touchendoutside",t,i,r),this):void this.$on(e,t,i,r)},r.prototype.$removeListener=function(e,t,i,r){var n=e;if(!this._events||!this._events[n])return this;var o=this._events[n],a=[];if(t){if(o.fn)(o.fn!==t||r&&!o.once||!o.capture===i)&&a.push(o);else for(var s=0,h=o.length;s<h;s++)(o[s].fn!==t||r&&!o[s].once||!o[s].capture===i)&&a.push(o[s]);return a.length?this._events[n]=1===a.length?a[0]:a:delete this._events[n],this}},r.prototype.removeEventListener=r.prototype.removeListener=function(e,t,i,r){return e===TouchEvent.TOUCH_BEGIN?(this.$removeListener("mousedown",t,i,r),void this.$removeListener("touchstart",t,i,r)):e===TouchEvent.TOUCH_MOVE?(this.$removeListener("mousemove",t,i,r),void this.$removeListener("touchmove",t,i,r)):e===TouchEvent.TOUCH_END?(this.$removeListener("mouseup",t,i,r),void this.$removeListener("touchend",t,i,r)):e===TouchEvent.TAP?(this.$removeListener("click",t,i,r),void this.$removeListener("tap",t,i,r)):e===TouchEvent.TOUCH_END_OUDSIDE?(this.$removeListener("mouseupoutside",t,i,r),void this.$removeListener("touchendoutside",t,i,r)):void this.$removeListener(e,t,i,r)},r.prototype.setTransform=function(e,t,i,r,n,o,a,s,h){return this.position.x=e||0,this.position.y=t||0,this.scale.x=i||1,this.scale.y=r||1,this.rotation=n||0,this.skew.x=o||0,this.skew.y=a||0,this.pivot.x=s||0,this.pivot.y=h||0,this},r.prototype.destroy=function(){this.position=null,this.scale=null,this.pivot=null,this.skew=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.worldTransform=null,this.filterArea=null};var u=function(){var e=this;this.hide=function(t){if(t)var i=t.direction||"center",r=t.time||0,n=t.callback;else var i="center",r=0,n=null;TweenMax.to(e,r,{alpha:0,onComplete:function(){e.visible=!1,n&&n()}});var o=0,a=0;switch(i){case"top":a-=150;break;case"bottom":a+=150;break;case"left":o-=150;break;case"right":o+=150}TweenMax.to(e,r,{x:e.x+o,y:e.y+a})},this.show=function(t){if(t)var i=t.direction||"center",r=t.time||0,n=t.callback;else var i="center",r=0,n=null;e.visible=!0,TweenMax.to(e,r,{alpha:1,onComplete:function(){n&&n()}});var o=0,a=0;switch(i){case"top":a+=150;break;case"bottom":a-=150;break;case"left":o+=150;break;case"right":o-=150}TweenMax.to(e,r,{x:e.x+o,y:e.y+a})},this.getPos=function(){e.pos={x:e.x,y:e.y,scale:e.scale}},this.goPoint=function(t,i){if(i)var r=i.time||0,n=i.callback||!1,o=i.x||0,a=i.y||0;else var r=0,n=!1,o=0,a=0;TweenMax.to(e,r,{x:t.x+o,y:t.y+a,onComplete:function(){n&&n()}})},this.backScale=function(){for(var t=[],i=e;;){if("frame"==i.name.substr(0,5))break;if(t.push(i.scale),i=i.parent,t.length>100){console.log("100");break}}for(var r=1,n=1,o=0;o<t.length;o++)r/=t[o].x,n/=t[o].y;e.scale.x*=r,e.scale.y*=n}}},{"../const":20,"../math":30,"../textures/RenderTexture":68,eventemitter3:3}],23:[function(e,t,i){function r(){n.call(this),this.fillAlpha=1,this.lineWidth=0,this.lineColor=0,this.graphicsData=[],this.tint=16777215,this._prevTint=16777215,this.blendMode=l.BLEND_MODES.NORMAL,this.currentPath=null,this._webGL={},this.isMask=!1,this.boundsPadding=0,this._localBounds=new c.Rectangle(0,0,1,1),this.dirty=!0,this.glDirty=!1,this.boundsDirty=!0,this.cachedSpriteDirty=!1}var n=e("../display/Container"),o=e("../textures/Texture"),a=e("../renderers/canvas/utils/CanvasBuffer"),s=e("../renderers/canvas/utils/CanvasGraphics"),h=e("./GraphicsData"),c=e("../math"),l=e("../const"),u=new c.Point;r.prototype=Object.create(n.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.clone=function(){var e=new r;e.renderable=this.renderable,e.fillAlpha=this.fillAlpha,e.lineWidth=this.lineWidth,e.lineColor=this.lineColor,e.tint=this.tint,e.blendMode=this.blendMode,e.isMask=this.isMask,e.boundsPadding=this.boundsPadding,e.dirty=!0,e.glDirty=!0,e.cachedSpriteDirty=this.cachedSpriteDirty;for(var t=0;t<this.graphicsData.length;++t)e.graphicsData.push(this.graphicsData[t].clone());return e.currentPath=e.graphicsData[e.graphicsData.length-1],e.updateLocalBounds(),e},r.prototype.lineStyle=function(e,t,i){if(this.lineWidth=e||0,this.lineColor=t||0,this.lineAlpha=void 0===i?1:i,this.currentPath)if(this.currentPath.shape.points.length){var r=new c.Polygon(this.currentPath.shape.points.slice(-2));r.closed=!1,this.drawShape(r)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha;return this},r.prototype.moveTo=function(e,t){var i=new c.Polygon([e,t]);return i.closed=!1,this.drawShape(i),this},r.prototype.lineTo=function(e,t){return this.currentPath.shape.points.push(e,t),this.dirty=!0,this},r.prototype.quadraticCurveTo=function(e,t,i,r){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var n,o,a=this.currentPath.shape.points;0===a.length&&this.moveTo(0,0);for(var s=a[a.length-2],h=a[a.length-1],c=0,l=1;l<=20;++l)c=l/20,n=s+(e-s)*c,o=h+(t-h)*c,a.push(n+(e+(i-e)*c-n)*c,o+(t+(r-t)*c-o)*c);return this.dirty=this.boundsDirty=!0,this},r.prototype.bezierCurveTo=function(e,t,i,r,n,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);for(var a,s,h,c,l,u=this.currentPath.shape.points,d=u[u.length-2],f=u[u.length-1],p=0,m=1;m<=20;++m)p=m/20,a=1-p,s=a*a,h=s*a,c=p*p,l=c*p,u.push(h*d+3*s*p*e+3*a*c*i+l*n,h*f+3*s*p*t+3*a*c*r+l*o);return this.dirty=this.boundsDirty=!0,this},r.prototype.arcTo=function(e,t,i,r,n){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(e,t):this.moveTo(e,t);var o=this.currentPath.shape.points,a=o[o.length-2],s=o[o.length-1],h=s-t,c=a-e,l=r-t,u=i-e,d=Math.abs(h*u-c*l);if(d<1e-8||0===n)o[o.length-2]===e&&o[o.length-1]===t||o.push(e,t);else{var f=h*h+c*c,p=l*l+u*u,m=h*l+c*u,v=n*Math.sqrt(f)/d,y=n*Math.sqrt(p)/d,g=v*m/f,b=y*m/p,x=v*u+y*c,w=v*l+y*h,_=c*(y+g),T=h*(y+g),E=u*(v+b),S=l*(v+b),M=Math.atan2(T-w,_-x),C=Math.atan2(S-w,E-x);this.arc(x+e,w+t,n,M,C,c*l>u*h)}return this.dirty=this.boundsDirty=!0,this},r.prototype.arc=function(e,t,i,r,n,o){if(o=o||!1,r===n)return this;!o&&n<=r?n+=2*Math.PI:o&&r<=n&&(r+=2*Math.PI);var a=o?-1*(r-n):n-r,s=40*Math.ceil(Math.abs(a)/(2*Math.PI));if(0===a)return this;var h=e+Math.cos(r)*i,c=t+Math.sin(r)*i;this.currentPath?this.currentPath.shape.points.push(h,c):this.moveTo(h,c);for(var l=this.currentPath.shape.points,u=a/(2*s),d=2*u,f=Math.cos(u),p=Math.sin(u),m=s-1,v=m%1/m,y=0;y<=m;y++){var g=y+v*y,b=u+r+d*g,x=Math.cos(b),w=-Math.sin(b);l.push((f*x+p*w)*i+e,(f*-w+p*x)*i+t)}return this.dirty=this.boundsDirty=!0,this},r.prototype.beginFill=function(e,t){return this.filling=!0,this.fillColor=e||0,this.fillAlpha=void 0===t?1:t,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},r.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},r.prototype.drawRect=function(e,t,i,r){return this.drawShape(new c.Rectangle(e,t,i,r)),this},r.prototype.drawRoundedRect=function(e,t,i,r,n){return this.drawShape(new c.RoundedRectangle(e,t,i,r,n)),this},r.prototype.drawCircle=function(e,t,i){return this.drawShape(new c.Circle(e,t,i)),this},r.prototype.drawEllipse=function(e,t,i,r){return this.drawShape(new c.Ellipse(e,t,i,r)),this},r.prototype.drawPolygon=function(e){var t=e,i=!0;if(t instanceof c.Polygon&&(i=t.closed,t=t.points),!Array.isArray(t)){t=new Array(arguments.length);for(var r=0;r<t.length;++r)t[r]=arguments[r]}var n=new c.Polygon(t);return n.closed=i,this.drawShape(n),this},r.prototype.clear=function(){return this.lineWidth=0,this.filling=!1,this.dirty=!0,this.clearDirty=!0,this.graphicsData=[],this},r.prototype.generateTexture=function(e,t,i){t=t||1;var r=this.getLocalBounds(),n=new a(r.width*t,r.height*t),h=o.fromCanvas(n.canvas,i);return h.baseTexture.resolution=t,n.context.scale(t,t),n.context.translate(-r.x,-r.y),s.renderGraphics(this,n.context),h},r.prototype._renderWebGL=function(e){this.glDirty&&(this.dirty=!0,this.glDirty=!1),e.setObjectRenderer(e.plugins.graphics),e.plugins.graphics.render(this)},r.prototype._renderCanvas=function(e){if(!0!==this.isMask){this._prevTint!==this.tint&&(this.dirty=!0);var t=e.context,i=this.worldTransform,r=e.blendModes[this.blendMode];r!==t.globalCompositeOperation&&(t.globalCompositeOperation=r);var n=e.resolution;t.setTransform(i.a*n,i.b*n,i.c*n,i.d*n,i.tx*n,i.ty*n),s.renderGraphics(this,t)}},r.prototype.getBounds=function(e){if(!this._currentBounds){if(!this.renderable)return c.Rectangle.EMPTY;this.boundsDirty&&(this.updateLocalBounds(),this.glDirty=!0,this.cachedSpriteDirty=!0,this.boundsDirty=!1);var t=this._localBounds,i=t.x,r=t.width+t.x,n=t.y,o=t.height+t.y,a=e||this.worldTransform,s=a.a,h=a.b,l=a.c,u=a.d,d=a.tx,f=a.ty,p=s*r+l*o+d,m=u*o+h*r+f,v=s*i+l*o+d,y=u*o+h*i+f,g=s*i+l*n+d,b=u*n+h*i+f,x=s*r+l*n+d,w=u*n+h*r+f,_=p,T=m,E=p,S=m;E=v<E?v:E,E=g<E?g:E,E=x<E?x:E,S=y<S?y:S,S=b<S?b:S,S=w<S?w:S,_=v>_?v:_,_=g>_?g:_,_=x>_?x:_,T=y>T?y:T,T=b>T?b:T,T=w>T?w:T,this._bounds.x=E,this._bounds.width=_-E,this._bounds.y=S,this._bounds.height=T-S,this._currentBounds=this._bounds}return this._currentBounds},r.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,u);for(var t=this.graphicsData,i=0;i<t.length;i++){var r=t[i];if(r.fill&&(r.shape&&r.shape.contains(u.x,u.y)))return!0}return!1},r.prototype.updateLocalBounds=function(){var e=1/0,t=-1/0,i=1/0,r=-1/0;if(this.graphicsData.length)for(var n,o,a,s,h,c,u=0;u<this.graphicsData.length;u++){var d=this.graphicsData[u],f=d.type,p=d.lineWidth;if(n=d.shape,f===l.SHAPES.RECT||f===l.SHAPES.RREC)a=n.x-p/2,s=n.y-p/2,h=n.width+p,c=n.height+p,e=a<e?a:e,t=a+h>t?a+h:t,i=s<i?s:i,r=s+c>r?s+c:r;else if(f===l.SHAPES.CIRC)a=n.x,s=n.y,h=n.radius+p/2,c=n.radius+p/2,e=a-h<e?a-h:e,t=a+h>t?a+h:t,i=s-c<i?s-c:i,r=s+c>r?s+c:r;else if(f===l.SHAPES.ELIP)a=n.x,s=n.y,h=n.width+p/2,c=n.height+p/2,e=a-h<e?a-h:e,t=a+h>t?a+h:t,i=s-c<i?s-c:i,r=s+c>r?s+c:r;else{o=n.points;for(var m=0;m<o.length;m+=2)a=o[m],s=o[m+1],e=a-p<e?a-p:e,t=a+p>t?a+p:t,i=s-p<i?s-p:i,r=s+p>r?s+p:r}}else e=0,t=0,i=0,r=0;var v=this.boundsPadding;this._localBounds.x=e-v,this._localBounds.width=t-e+2*v,this._localBounds.y=i-v,this._localBounds.height=r-i+2*v},r.prototype.drawShape=function(e){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var t=new h(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,e);return this.graphicsData.push(t),t.type===l.SHAPES.POLY&&(t.shape.closed=t.shape.closed&&this.filling,t.shape.closed=t.shape.closed||this.filling,this.currentPath=t),this.dirty=this.boundsDirty=!0,t},r.prototype.destroy=function(){n.prototype.destroy.apply(this,arguments);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();for(var t in this._webgl)for(var i=0;i<this._webgl[t].data.length;++i)this._webgl[t].data[i].destroy();this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null}},{"../const":20,"../display/Container":21,"../math":30,"../renderers/canvas/utils/CanvasBuffer":42,"../renderers/canvas/utils/CanvasGraphics":43,"../textures/Texture":69,"./GraphicsData":24}],24:[function(e,t,i){function r(e,t,i,r,n,o,a){this.lineWidth=e,this.lineColor=t,this.lineAlpha=i,this._lineTint=t,this.fillColor=r,this.fillAlpha=n,this._fillTint=r,this.fill=o,this.shape=a,this.type=a.type}r.prototype.constructor=r,t.exports=r,r.prototype.clone=function(){return new r(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.shape)},r.prototype.destroy=function(){this.shape=null}},{}],25:[function(e,t,i){function r(e){s.call(this,e),this.graphicsDataPool=[],this.primitiveShader=null,this.complexPrimitiveShader=null,this.maximumSimplePolySize=200}var n=e("../../utils"),o=e("../../math"),a=e("../../const"),s=e("../../renderers/webgl/utils/ObjectRenderer"),h=e("../../renderers/webgl/WebGLRenderer"),c=e("./WebGLGraphicsData"),l=e("earcut");r.prototype=Object.create(s.prototype),r.prototype.constructor=r,t.exports=r,h.registerPlugin("graphics",r),r.prototype.onContextChange=function(){},r.prototype.destroy=function(){s.prototype.destroy.call(this);for(var e=0;e<this.graphicsDataPool.length;++e)this.graphicsDataPool[e].destroy();this.graphicsDataPool=null},r.prototype.render=function(e){var t,i=this.renderer,r=i.gl,o=i.shaderManager.plugins.primitiveShader;!e.dirty&&e._webGL[r.id]||this.updateGraphics(e);var a=e._webGL[r.id];i.blendModeManager.setBlendMode(e.blendMode);for(var s=0,h=a.data.length;s<h;s++)t=a.data[s],1===a.data[s].mode?(i.stencilManager.pushStencil(e,t),r.uniform1f(i.shaderManager.complexPrimitiveShader.uniforms.alpha._location,e.worldAlpha*t.alpha),r.drawElements(r.TRIANGLE_FAN,4,r.UNSIGNED_SHORT,2*(t.indices.length-4)),i.stencilManager.popStencil(e,t)):(o=i.shaderManager.primitiveShader,i.shaderManager.setShader(o),r.uniformMatrix3fv(o.uniforms.translationMatrix._location,!1,e.worldTransform.toArray(!0)),r.uniformMatrix3fv(o.uniforms.projectionMatrix._location,!1,i.currentRenderTarget.projectionMatrix.toArray(!0)),r.uniform3fv(o.uniforms.tint._location,n.hex2rgb(e.tint)),r.uniform1f(o.uniforms.alpha._location,e.worldAlpha),r.bindBuffer(r.ARRAY_BUFFER,t.buffer),r.vertexAttribPointer(o.attributes.aVertexPosition,2,r.FLOAT,!1,24,0),r.vertexAttribPointer(o.attributes.aColor,4,r.FLOAT,!1,24,8),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t.indexBuffer),r.drawElements(r.TRIANGLE_STRIP,t.indices.length,r.UNSIGNED_SHORT,0)),i.drawCount++},r.prototype.updateGraphics=function(e){var t=this.renderer.gl,i=e._webGL[t.id];i||(i=e._webGL[t.id]={lastIndex:0,data:[],gl:t}),e.dirty=!1;var r;if(e.clearDirty){for(e.clearDirty=!1,r=0;r<i.data.length;r++){var n=i.data[r];n.reset(),this.graphicsDataPool.push(n)}i.data=[],i.lastIndex=0}var o;for(r=i.lastIndex;r<e.graphicsData.length;r++){var s=e.graphicsData[r];if(s.type===a.SHAPES.POLY){if(s.points=s.shape.points.slice(),s.shape.closed&&(s.points[0]===s.points[s.points.length-2]&&s.points[1]===s.points[s.points.length-1]||s.points.push(s.points[0],s.points[1])),s.fill&&s.points.length>=6)if(s.points.length<2*this.maximumSimplePolySize){o=this.switchMode(i,0);var h=this.buildPoly(s,o);h||(o=this.switchMode(i,1),this.buildComplexPoly(s,o))}else o=this.switchMode(i,1),this.buildComplexPoly(s,o);s.lineWidth>0&&(o=this.switchMode(i,0),this.buildLine(s,o))}else o=this.switchMode(i,0),s.type===a.SHAPES.RECT?this.buildRectangle(s,o):s.type===a.SHAPES.CIRC||s.type===a.SHAPES.ELIP?this.buildCircle(s,o):s.type===a.SHAPES.RREC&&this.buildRoundedRectangle(s,o);i.lastIndex++}for(r=0;r<i.data.length;r++)o=i.data[r],o.dirty&&o.upload()},r.prototype.switchMode=function(e,t){var i;return e.data.length?(i=e.data[e.data.length-1],(i.points.length>32e4||i.mode!==t||1===t)&&(i=this.graphicsDataPool.pop()||new c(e.gl),i.mode=t,e.data.push(i))):(i=this.graphicsDataPool.pop()||new c(e.gl),i.mode=t,e.data.push(i)),i.dirty=!0,i},r.prototype.buildRectangle=function(e,t){var i=e.shape,r=i.x,o=i.y,a=i.width,s=i.height;if(e.fill){var h=n.hex2rgb(e.fillColor),c=e.fillAlpha,l=h[0]*c,u=h[1]*c,d=h[2]*c,f=t.points,p=t.indices,m=f.length/6;f.push(r,o),f.push(l,u,d,c),f.push(r+a,o),f.push(l,u,d,c),f.push(r,o+s),f.push(l,u,d,c),f.push(r+a,o+s),f.push(l,u,d,c),p.push(m,m,m+1,m+2,m+3,m+3)}if(e.lineWidth){var v=e.points;e.points=[r,o,r+a,o,r+a,o+s,r,o+s,r,o],this.buildLine(e,t),e.points=v}},r.prototype.buildRoundedRectangle=function(e,t){var i=e.shape,r=i.x,o=i.y,a=i.width,s=i.height,h=i.radius,c=[];if(c.push(r,o+h),this.quadraticBezierCurve(r,o+s-h,r,o+s,r+h,o+s,c),this.quadraticBezierCurve(r+a-h,o+s,r+a,o+s,r+a,o+s-h,c),this.quadraticBezierCurve(r+a,o+h,r+a,o,r+a-h,o,c),this.quadraticBezierCurve(r+h,o,r,o,r,o+h+1e-10,c),e.fill){var u=n.hex2rgb(e.fillColor),d=e.fillAlpha,f=u[0]*d,p=u[1]*d,m=u[2]*d,v=t.points,y=t.indices,g=v.length/6,b=l(c,null,2),x=0;for(x=0;x<b.length;x+=3)y.push(b[x]+g),y.push(b[x]+g),y.push(b[x+1]+g),y.push(b[x+2]+g),y.push(b[x+2]+g);for(x=0;x<c.length;x++)v.push(c[x],c[++x],f,p,m,d)}if(e.lineWidth){var w=e.points;e.points=c,this.buildLine(e,t),e.points=w}},r.prototype.quadraticBezierCurve=function(e,t,i,r,n,o,a){function s(e,t,i){return e+(t-e)*i}for(var h,c,l,u,d,f,p=a||[],m=0,v=0;v<=20;v++)m=v/20,h=s(e,i,m),c=s(t,r,m),l=s(i,n,m),u=s(r,o,m),d=s(h,l,m),f=s(c,u,m),p.push(d,f);return p},r.prototype.buildCircle=function(e,t){var i,r,o=e.shape,s=o.x,h=o.y;e.type===a.SHAPES.CIRC?(i=o.radius,r=o.radius):(i=o.width,r=o.height);var c=Math.floor(30*Math.sqrt(o.radius))||Math.floor(15*Math.sqrt(o.width+o.height)),l=2*Math.PI/c,u=0;if(e.fill){var d=n.hex2rgb(e.fillColor),f=e.fillAlpha,p=d[0]*f,m=d[1]*f,v=d[2]*f,y=t.points,g=t.indices,b=y.length/6;for(g.push(b),u=0;u<c+1;u++)y.push(s,h,p,m,v,f),y.push(s+Math.sin(l*u)*i,h+Math.cos(l*u)*r,p,m,v,f),g.push(b++,b++);g.push(b-1)}if(e.lineWidth){var x=e.points;for(e.points=[],u=0;u<c+1;u++)e.points.push(s+Math.sin(l*u)*i,h+Math.cos(l*u)*r);this.buildLine(e,t),e.points=x}},r.prototype.buildLine=function(e,t){var i=0,r=e.points;if(0!==r.length){var a=new o.Point(r[0],r[1]),s=new o.Point(r[r.length-2],r[r.length-1]);if(a.x===s.x&&a.y===s.y){r=r.slice(),r.pop(),r.pop(),s=new o.Point(r[r.length-2],r[r.length-1]);var h=s.x+.5*(a.x-s.x),c=s.y+.5*(a.y-s.y);r.unshift(h,c),r.push(h,c)}var l,u,d,f,p,m,v,y,g,b,x,w,_,T,E,S,M,C,A,D,k,I,P,R=t.points,F=t.indices,O=r.length/2,L=r.length,B=R.length/6,N=e.lineWidth/2,U=n.hex2rgb(e.lineColor),H=e.lineAlpha,j=U[0]*H,z=U[1]*H,G=U[2]*H;for(d=r[0],f=r[1],p=r[2],m=r[3],g=-(f-m),b=d-p,P=Math.sqrt(g*g+b*b),g/=P,b/=P,g*=N,b*=N,R.push(d-g,f-b,j,z,G,H),R.push(d+g,f+b,j,z,G,H),i=1;i<O-1;i++)d=r[2*(i-1)],f=r[2*(i-1)+1],p=r[2*i],m=r[2*i+1],v=r[2*(i+1)],y=r[2*(i+1)+1],g=-(f-m),b=d-p,P=Math.sqrt(g*g+b*b),g/=P,b/=P,g*=N,b*=N,x=-(m-y),w=p-v,P=Math.sqrt(x*x+w*w),x/=P,w/=P,x*=N,w*=N,E=-b+f-(-b+m),S=-g+p-(-g+d),M=(-g+d)*(-b+m)-(-g+p)*(-b+f),C=-w+y-(-w+m),A=-x+p-(-x+v),D=(-x+v)*(-w+m)-(-x+p)*(-w+y),k=E*A-C*S,Math.abs(k)<.1?(k+=10.1,R.push(p-g,m-b,j,z,G,H),R.push(p+g,m+b,j,z,G,H)):(l=(S*D-A*M)/k,u=(C*M-E*D)/k,I=(l-p)*(l-p)+(u-m)*(u-m),I>19600?(_=g-x,T=b-w,P=Math.sqrt(_*_+T*T),_/=P,T/=P,_*=N,T*=N,R.push(p-_,m-T),R.push(j,z,G,H),R.push(p+_,m+T),R.push(j,z,G,H),R.push(p-_,m-T),R.push(j,z,G,H),L++):(R.push(l,u),R.push(j,z,G,H),R.push(p-(l-p),m-(u-m)),R.push(j,z,G,H)));for(d=r[2*(O-2)],f=r[2*(O-2)+1],p=r[2*(O-1)],m=r[2*(O-1)+1],g=-(f-m),b=d-p,P=Math.sqrt(g*g+b*b),g/=P,b/=P,g*=N,b*=N,R.push(p-g,m-b),R.push(j,z,G,H),R.push(p+g,m+b),R.push(j,z,G,H),F.push(B),i=0;i<L;i++)F.push(B++);F.push(B-1)}},r.prototype.buildComplexPoly=function(e,t){var i=e.points.slice();if(!(i.length<6)){var r=t.indices;t.points=i,t.alpha=e.fillAlpha,t.color=n.hex2rgb(e.fillColor);for(var o,a,s=1/0,h=-1/0,c=1/0,l=-1/0,u=0;u<i.length;u+=2)o=i[u],a=i[u+1],s=o<s?o:s,h=o>h?o:h,c=a<c?a:c,l=a>l?a:l;i.push(s,c,h,c,h,l,s,l);var d=i.length/2;for(u=0;u<d;u++)r.push(u)}},r.prototype.buildPoly=function(e,t){var i=e.points;if(!(i.length<6)){var r=t.points,o=t.indices,a=i.length/2,s=n.hex2rgb(e.fillColor),h=e.fillAlpha,c=s[0]*h,u=s[1]*h,d=s[2]*h,f=l(i,null,2);if(!f)return!1;var p=r.length/6,m=0;for(m=0;m<f.length;m+=3)o.push(f[m]+p),o.push(f[m]+p),o.push(f[m+1]+p),o.push(f[m+2]+p),o.push(f[m+2]+p);for(m=0;m<a;m++)r.push(i[2*m],i[2*m+1],c,u,d,h);return!0}}},{"../../const":20,"../../math":30,"../../renderers/webgl/WebGLRenderer":46,"../../renderers/webgl/utils/ObjectRenderer":60,"../../utils":74,"./WebGLGraphicsData":26,earcut:2}],26:[function(e,t,i){function r(e){this.gl=e,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),this.mode=1,this.alpha=1,this.dirty=!0,this.glPoints=null,this.glIndices=null}r.prototype.constructor=r,t.exports=r,r.prototype.reset=function(){this.points.length=0,this.indices.length=0},r.prototype.upload=function(){var e=this.gl;this.glPoints=new Float32Array(this.points),e.bindBuffer(e.ARRAY_BUFFER,this.buffer),e.bufferData(e.ARRAY_BUFFER,this.glPoints,e.STATIC_DRAW),this.glIndices=new Uint16Array(this.indices),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.glIndices,e.STATIC_DRAW),this.dirty=!1},r.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.gl.deleteBuffer(this.buffer),this.gl.deleteBuffer(this.indexBuffer),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null}},{}],27:[function(e,t,i){/**
 * @file        Main export of the PIXI core library
 * @author      Mat Groves <mat@goodboydigital.com>
 * @copyright   2013-2015 GoodBoyDigital
 * @license     {@link https://github.com/pixijs/pixi.js/blob/master/LICENSE|MIT License}
 */
var r=t.exports=Object.assign(e("./const"),e("./math"),{utils:e("./utils"),ticker:e("./ticker"),DisplayObject:e("./display/DisplayObject"),Container:e("./display/Container"),Sprite:e("./sprites/Sprite"),ParticleContainer:e("./particles/ParticleContainer"),SpriteRenderer:e("./sprites/webgl/SpriteRenderer"),ParticleRenderer:e("./particles/webgl/ParticleRenderer"),Text:e("./text/Text"),Graphics:e("./graphics/Graphics"),GraphicsData:e("./graphics/GraphicsData"),GraphicsRenderer:e("./graphics/webgl/GraphicsRenderer"),Texture:e("./textures/Texture"),BaseTexture:e("./textures/BaseTexture"),RenderTexture:e("./textures/RenderTexture"),VideoBaseTexture:e("./textures/VideoBaseTexture"),TextureUvs:e("./textures/TextureUvs"),CanvasRenderer:e("./renderers/canvas/CanvasRenderer"),CanvasGraphics:e("./renderers/canvas/utils/CanvasGraphics"),CanvasBuffer:e("./renderers/canvas/utils/CanvasBuffer"),WebGLRenderer:e("./renderers/webgl/WebGLRenderer"),WebGLManager:e("./renderers/webgl/managers/WebGLManager"),ShaderManager:e("./renderers/webgl/managers/ShaderManager"),Shader:e("./renderers/webgl/shaders/Shader"),ObjectRenderer:e("./renderers/webgl/utils/ObjectRenderer"),RenderTarget:e("./renderers/webgl/utils/RenderTarget"),AbstractFilter:e("./renderers/webgl/filters/AbstractFilter"),FXAAFilter:e("./renderers/webgl/filters/FXAAFilter"),SpriteMaskFilter:e("./renderers/webgl/filters/SpriteMaskFilter"),EventEmitter:e("eventemitter3"),autoDetectRenderer:function(e,t,i,n){return e=e||800,t=t||600,!n&&r.utils.isWebGLSupported()?new r.WebGLRenderer(e,t,i):new r.CanvasRenderer(e,t,i)}})},{"./const":20,"./display/Container":21,"./display/DisplayObject":22,"./graphics/Graphics":23,"./graphics/GraphicsData":24,"./graphics/webgl/GraphicsRenderer":25,"./math":30,"./particles/ParticleContainer":36,"./particles/webgl/ParticleRenderer":38,"./renderers/canvas/CanvasRenderer":41,"./renderers/canvas/utils/CanvasBuffer":42,"./renderers/canvas/utils/CanvasGraphics":43,"./renderers/webgl/WebGLRenderer":46,"./renderers/webgl/filters/AbstractFilter":47,"./renderers/webgl/filters/FXAAFilter":48,"./renderers/webgl/filters/SpriteMaskFilter":49,"./renderers/webgl/managers/ShaderManager":53,"./renderers/webgl/managers/WebGLManager":55,"./renderers/webgl/shaders/Shader":58,"./renderers/webgl/utils/ObjectRenderer":60,"./renderers/webgl/utils/RenderTarget":62,"./sprites/Sprite":64,"./sprites/webgl/SpriteRenderer":65,"./text/Text":66,"./textures/BaseTexture":67,"./textures/RenderTexture":68,"./textures/Texture":69,"./textures/TextureUvs":70,"./textures/VideoBaseTexture":71,"./ticker":73,"./utils":74,eventemitter3:3}],28:[function(e,t,i){function r(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0}var n=e("./Point");r.prototype.constructor=r,t.exports=r,r.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},r.prototype.set=function(e,t,i,r,n,o){return this.a=e,this.b=t,this.c=i,this.d=r,this.tx=n,this.ty=o,this},r.prototype.toArray=function(e,t){this.array||(this.array=new Float32Array(9));var i=t||this.array;return e?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},r.prototype.apply=function(e,t){t=t||new n;var i=e.x,r=e.y;return t.x=this.a*i+this.c*r+this.tx,t.y=this.b*i+this.d*r+this.ty,t},r.prototype.applyInverse=function(e,t){t=t||new n;var i=1/(this.a*this.d+this.c*-this.b),r=e.x,o=e.y;return t.x=this.d*i*r+-this.c*i*o+(this.ty*this.c-this.tx*this.d)*i,t.y=this.a*i*o+-this.b*i*r+(-this.ty*this.a+this.tx*this.b)*i,t},r.prototype.translate=function(e,t){return this.tx+=e,this.ty+=t,this},r.prototype.scale=function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this},r.prototype.rotate=function(e){var t=Math.cos(e),i=Math.sin(e),r=this.a,n=this.c,o=this.tx;return this.a=r*t-this.b*i,this.b=r*i+this.b*t,this.c=n*t-this.d*i,this.d=n*i+this.d*t,this.tx=o*t-this.ty*i,this.ty=o*i+this.ty*t,this},r.prototype.append=function(e){var t=this.a,i=this.b,r=this.c,n=this.d;return this.a=e.a*t+e.b*r,this.b=e.a*i+e.b*n,this.c=e.c*t+e.d*r,this.d=e.c*i+e.d*n,this.tx=e.tx*t+e.ty*r+this.tx,this.ty=e.tx*i+e.ty*n+this.ty,this},r.prototype.setTransform=function(e,t,i,r,n,o,a,s,h){var c,l,u,d,f,p,m,v,y,g;return f=Math.sin(a),p=Math.cos(a),m=Math.cos(h),v=Math.sin(h),y=-Math.sin(s),g=Math.cos(s),c=p*n,l=f*n,u=-f*o,d=p*o,this.a=m*c+v*u,this.b=m*l+v*d,this.c=y*c+g*u,this.d=y*l+g*d,this.tx=e+(i*c+r*u),this.ty=t+(i*l+r*d),this},r.prototype.prepend=function(e){var t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){var i=this.a,r=this.c;this.a=i*e.a+this.b*e.c,this.b=i*e.b+this.b*e.d,this.c=r*e.a+this.d*e.c,this.d=r*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this},r.prototype.invert=function(){var e=this.a,t=this.b,i=this.c,r=this.d,n=this.tx,o=e*r-t*i;return this.a=r/o,this.b=-t/o,this.c=-i/o,this.d=e/o,this.tx=(i*this.ty-r*n)/o,this.ty=-(e*this.ty-t*n)/o,this},r.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},r.prototype.clone=function(){var e=new r;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},r.prototype.copy=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},r.IDENTITY=new r,r.TEMP_MATRIX=new r},{"./Point":29}],29:[function(e,t,i){function r(e,t){this.x=e||0,this.y=t||0}r.prototype.constructor=r,t.exports=r,r.prototype.clone=function(){return new r(this.x,this.y)},r.prototype.copy=function(e){this.set(e.x,e.y)},r.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},r.prototype.set=function(e,t){this.x=e||0,this.y=t||(0!==t?this.x:0)}},{}],30:[function(e,t,i){t.exports={Point:e("./Point"),Matrix:e("./Matrix"),Circle:e("./shapes/Circle"),Ellipse:e("./shapes/Ellipse"),Polygon:e("./shapes/Polygon"),Rectangle:e("./shapes/Rectangle"),RoundedRectangle:e("./shapes/RoundedRectangle")}},{"./Matrix":28,"./Point":29,"./shapes/Circle":31,"./shapes/Ellipse":32,"./shapes/Polygon":33,"./shapes/Rectangle":34,"./shapes/RoundedRectangle":35}],31:[function(e,t,i){function r(e,t,i){this.x=e||0,this.y=t||0,this.radius=i||0,this.type=o.SHAPES.CIRC}var n=e("./Rectangle"),o=e("../../const");r.prototype.constructor=r,t.exports=r,r.prototype.clone=function(){return new r(this.x,this.y,this.radius)},r.prototype.contains=function(e,t){if(this.radius<=0)return!1;var i=this.x-e,r=this.y-t,n=this.radius*this.radius;return i*=i,r*=r,i+r<=n},r.prototype.getBounds=function(){return new n(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}},{"../../const":20,"./Rectangle":34}],32:[function(e,t,i){function r(e,t,i,r){this.x=e||0,this.y=t||0,this.width=i||0,this.height=r||0,this.type=o.SHAPES.ELIP}var n=e("./Rectangle"),o=e("../../const");r.prototype.constructor=r,t.exports=r,r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;var i=(e-this.x)/this.width,r=(t-this.y)/this.height;return i*=i,r*=r,i+r<=1},r.prototype.getBounds=function(){return new n(this.x-this.width,this.y-this.height,this.width,this.height)}},{"../../const":20,"./Rectangle":34}],33:[function(e,t,i){function r(e){var t=e;if(!Array.isArray(t)){t=new Array(arguments.length);for(var i=0;i<t.length;++i)t[i]=arguments[i]}if(t[0]instanceof n){for(var r=[],a=0,s=t.length;a<s;a++)r.push(t[a].x,t[a].y);t=r}this.closed=!0,this.points=t,this.type=o.SHAPES.POLY}var n=e("../Point"),o=e("../../const");r.prototype.constructor=r,t.exports=r,r.prototype.clone=function(){return new r(this.points.slice())},r.prototype.contains=function(e,t){for(var i=!1,r=this.points.length/2,n=0,o=r-1;n<r;o=n++){var a=this.points[2*n],s=this.points[2*n+1],h=this.points[2*o],c=this.points[2*o+1];s>t!=c>t&&e<(h-a)*(t-s)/(c-s)+a&&(i=!i)}return i}},{"../../const":20,"../Point":29}],34:[function(e,t,i){function r(e,t,i,r){this.x=e||0,this.y=t||0,this.width=i||0,this.height=r||0,this.type=n.SHAPES.RECT}var n=e("../../const");r.prototype.constructor=r,t.exports=r,r.EMPTY=new r(0,0,0,0),r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.contains=function(e,t){return!(this.width<=0||this.height<=0)&&(e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height)}},{"../../const":20}],35:[function(e,t,i){function r(e,t,i,r,o){this.x=e||0,this.y=t||0,this.width=i||0,this.height=r||0,this.radius=o||20,this.type=n.SHAPES.RREC}var n=e("../../const");r.prototype.constructor=r,t.exports=r,r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height,this.radius)},r.prototype.contains=function(e,t){return!(this.width<=0||this.height<=0)&&(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height)}},{"../../const":20}],36:[function(e,t,i){function r(e,t,i){n.call(this),i=i||15e3,e=e||15e3;i>16384&&(i=16384),i>e&&(i=e),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=i,this._buffers=null,this._bufferToUpdate=0,this.interactiveChildren=!1,this.blendMode=o.BLEND_MODES.NORMAL,this.roundPixels=!0,this.setProperties(t)}var n=e("../display/Container"),o=e("../const");r.prototype=Object.create(n.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.setProperties=function(e){e&&(this._properties[0]="scale"in e?!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="alpha"in e?!!e.alpha:this._properties[4])},r.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},r.prototype.renderWebGL=function(e){this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(e.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},r.prototype.onChildrenChange=function(e){var t=Math.floor(e/this._batchSize);t<this._bufferToUpdate&&(this._bufferToUpdate=t)},r.prototype.renderCanvas=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var t=e.context,i=this.worldTransform,r=!0,n=0,o=0,a=0,s=0,h=e.blendModes[this.blendMode];h!==t.globalCompositeOperation&&(t.globalCompositeOperation=h),t.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var c=0;c<this.children.length;++c){var l=this.children[c];if(l.visible){var u=l.texture.frame;if(t.globalAlpha=this.worldAlpha*l.alpha,l.rotation%(2*Math.PI)==0)r&&(t.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty),r=!1),n=l.anchor.x*(-u.width*l.scale.x)+l.position.x+.5,o=l.anchor.y*(-u.height*l.scale.y)+l.position.y+.5,a=u.width*l.scale.x,s=u.height*l.scale.y;else{r||(r=!0),l.displayObjectUpdateTransform();var d=l.worldTransform;e.roundPixels?t.setTransform(d.a,d.b,d.c,d.d,0|d.tx,0|d.ty):t.setTransform(d.a,d.b,d.c,d.d,d.tx,d.ty),n=l.anchor.x*-u.width+.5,o=l.anchor.y*-u.height+.5,a=u.width,s=u.height}t.drawImage(l.texture.baseTexture.source,u.x,u.y,u.width,u.height,n,o,a,s)}}}},r.prototype.destroy=function(){if(n.prototype.destroy.apply(this,arguments),this._buffers)for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._properties=null,this._buffers=null}},{"../const":20,"../display/Container":21}],37:[function(e,t,i){function r(e,t,i,r){this.gl=e,this.vertSize=2,this.vertByteSize=4*this.vertSize,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var n=0;n<t.length;n++){var o=t[n];i[n]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.initBuffers()}r.prototype.constructor=r,t.exports=r,r.prototype.initBuffers=function(){var e,t,i=this.gl,r=0;for(this.dynamicStride=0,e=0;e<this.dynamicProperties.length;e++)t=this.dynamicProperties[e],t.offset=r,r+=t.size,this.dynamicStride+=t.size;this.dynamicData=new Float32Array(this.size*this.dynamicStride*4),this.dynamicBuffer=i.createBuffer(),i.bindBuffer(i.ARRAY_BUFFER,this.dynamicBuffer),i.bufferData(i.ARRAY_BUFFER,this.dynamicData,i.DYNAMIC_DRAW);var n=0;for(this.staticStride=0,e=0;e<this.staticProperties.length;e++)t=this.staticProperties[e],t.offset=n,n+=t.size,this.staticStride+=t.size;this.staticData=new Float32Array(this.size*this.staticStride*4),this.staticBuffer=i.createBuffer(),i.bindBuffer(i.ARRAY_BUFFER,this.staticBuffer),i.bufferData(i.ARRAY_BUFFER,this.staticData,i.DYNAMIC_DRAW)},r.prototype.uploadDynamic=function(e,t,i){for(var r=this.gl,n=0;n<this.dynamicProperties.length;n++){var o=this.dynamicProperties[n];o.uploadFunction(e,t,i,this.dynamicData,this.dynamicStride,o.offset)}r.bindBuffer(r.ARRAY_BUFFER,this.dynamicBuffer),r.bufferSubData(r.ARRAY_BUFFER,0,this.dynamicData)},r.prototype.uploadStatic=function(e,t,i){for(var r=this.gl,n=0;n<this.staticProperties.length;n++){var o=this.staticProperties[n];o.uploadFunction(e,t,i,this.staticData,this.staticStride,o.offset)}r.bindBuffer(r.ARRAY_BUFFER,this.staticBuffer),r.bufferSubData(r.ARRAY_BUFFER,0,this.staticData)},r.prototype.bind=function(){var e,t,i=this.gl;for(i.bindBuffer(i.ARRAY_BUFFER,this.dynamicBuffer),e=0;e<this.dynamicProperties.length;e++)t=this.dynamicProperties[e],i.vertexAttribPointer(t.attribute,t.size,i.FLOAT,!1,4*this.dynamicStride,4*t.offset);for(i.bindBuffer(i.ARRAY_BUFFER,this.staticBuffer),e=0;e<this.staticProperties.length;e++)t=this.staticProperties[e],i.vertexAttribPointer(t.attribute,t.size,i.FLOAT,!1,4*this.staticStride,4*t.offset)},r.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicData=null,this.gl.deleteBuffer(this.dynamicBuffer),this.staticProperties=null,this.staticData=null,this.gl.deleteBuffer(this.staticBuffer)}},{}],38:[function(e,t,i){function r(e){n.call(this,e);this.indices=new Uint16Array(98304);for(var t=0,i=0;t<98304;t+=6,i+=4)this.indices[t+0]=i+0,this.indices[t+1]=i+1,this.indices[t+2]=i+2,this.indices[t+3]=i+0,this.indices[t+4]=i+2,this.indices[t+5]=i+3;this.shader=null,this.indexBuffer=null,this.properties=null,this.tempMatrix=new h.Matrix}var n=e("../../renderers/webgl/utils/ObjectRenderer"),o=e("../../renderers/webgl/WebGLRenderer"),a=e("./ParticleShader"),s=e("./ParticleBuffer"),h=e("../../math");r.prototype=Object.create(n.prototype),r.prototype.constructor=r,t.exports=r,o.registerPlugin("particle",r),r.prototype.onContextChange=function(){var e=this.renderer.gl;this.shader=new a(this.renderer.shaderManager),this.indexBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,uploadFunction:this.uploadAlpha,offset:0}]},r.prototype.start=function(){var e=this.renderer.gl;e.activeTexture(e.TEXTURE0),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var t=this.shader;this.renderer.shaderManager.setShader(t)},r.prototype.render=function(e){var t=e.children,i=t.length,r=e._maxSize,n=e._batchSize;if(0!==i){i>r&&(i=r),e._buffers||(e._buffers=this.generateBuffers(e)),this.renderer.blendModeManager.setBlendMode(e.blendMode);var o=this.renderer.gl,a=e.worldTransform.copy(this.tempMatrix);a.prepend(this.renderer.currentRenderTarget.projectionMatrix),o.uniformMatrix3fv(this.shader.uniforms.projectionMatrix._location,!1,a.toArray(!0)),o.uniform1f(this.shader.uniforms.uAlpha._location,e.worldAlpha);var s=t[0]._texture.baseTexture;if(s._glTextures[o.id])o.bindTexture(o.TEXTURE_2D,s._glTextures[o.id]);else{if(!this.renderer.updateTexture(s))return;e._properties[0]&&e._properties[3]||(e._bufferToUpdate=0)}for(var h=0,c=0;h<i;h+=n,c+=1){var l=i-h;l>n&&(l=n);var u=e._buffers[c];u.uploadDynamic(t,h,l),e._bufferToUpdate===c&&(u.uploadStatic(t,h,l),e._bufferToUpdate=c+1),u.bind(this.shader),o.drawElements(o.TRIANGLES,6*l,o.UNSIGNED_SHORT,0),this.renderer.drawCount++}}},r.prototype.generateBuffers=function(e){var t,i=this.renderer.gl,r=[],n=e._maxSize,o=e._batchSize,a=e._properties;for(t=0;t<n;t+=o)r.push(new s(i,this.properties,a,o));return r},r.prototype.uploadVertices=function(e,t,i,r,n,o){for(var a,s,h,c,l,u,d,f,p,m=0;m<i;m++)a=e[t+m],s=a._texture,c=a.scale.x,l=a.scale.y,s.trim?(h=s.trim,d=h.x-a.anchor.x*h.width,u=d+s.crop.width,p=h.y-a.anchor.y*h.height,f=p+s.crop.height):(u=s._frame.width*(1-a.anchor.x),d=s._frame.width*-a.anchor.x,f=s._frame.height*(1-a.anchor.y),p=s._frame.height*-a.anchor.y),r[o]=d*c,r[o+1]=p*l,r[o+n]=u*c,r[o+n+1]=p*l,r[o+2*n]=u*c,r[o+2*n+1]=f*l,r[o+3*n]=d*c,r[o+3*n+1]=f*l,o+=4*n},r.prototype.uploadPosition=function(e,t,i,r,n,o){for(var a=0;a<i;a++){var s=e[t+a].position;r[o]=s.x,r[o+1]=s.y,r[o+n]=s.x,r[o+n+1]=s.y,r[o+2*n]=s.x,r[o+2*n+1]=s.y,r[o+3*n]=s.x,r[o+3*n+1]=s.y,o+=4*n}},r.prototype.uploadRotation=function(e,t,i,r,n,o){for(var a=0;a<i;a++){var s=e[t+a].rotation;r[o]=s,r[o+n]=s,r[o+2*n]=s,r[o+3*n]=s,o+=4*n}},r.prototype.uploadUvs=function(e,t,i,r,n,o){for(var a=0;a<i;a++){var s=e[t+a]._texture._uvs;s?(r[o]=s.x0,r[o+1]=s.y0,r[o+n]=s.x1,r[o+n+1]=s.y1,r[o+2*n]=s.x2,r[o+2*n+1]=s.y2,r[o+3*n]=s.x3,r[o+3*n+1]=s.y3,o+=4*n):(r[o]=0,r[o+1]=0,r[o+n]=0,r[o+n+1]=0,r[o+2*n]=0,r[o+2*n+1]=0,r[o+3*n]=0,r[o+3*n+1]=0,o+=4*n)}},r.prototype.uploadAlpha=function(e,t,i,r,n,o){for(var a=0;a<i;a++){var s=e[t+a].alpha;r[o]=s,r[o+n]=s,r[o+2*n]=s,r[o+3*n]=s,o+=4*n}},r.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),n.prototype.destroy.apply(this,arguments),this.shader.destroy(),this.indices=null,this.tempMatrix=null}},{"../../math":30,"../../renderers/webgl/WebGLRenderer":46,"../../renderers/webgl/utils/ObjectRenderer":60,"./ParticleBuffer":37,"./ParticleShader":39}],39:[function(e,t,i){function r(e){n.call(this,e,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute float aColor;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying float vColor;","void main(void){","   vec2 v = aVertexPosition;","   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","uniform float uAlpha;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;","  if (color.a == 0.0) discard;","  gl_FragColor = color;","}"].join("\n"),{uAlpha:{type:"1f",value:1}},{aPositionCoord:0,aRotation:0})}var n=e("../../renderers/webgl/shaders/TextureShader");r.prototype=Object.create(n.prototype),r.prototype.constructor=r,t.exports=r},{"../../renderers/webgl/shaders/TextureShader":59}],40:[function(e,t,i){function r(e,t,i,r){if(s.call(this),n.sayHello(e),r)for(var h in a.DEFAULT_RENDER_OPTIONS)void 0===r[h]&&(r[h]=a.DEFAULT_RENDER_OPTIONS[h]);else r=a.DEFAULT_RENDER_OPTIONS;this.type=a.RENDERER_TYPE.UNKNOWN,this.width=t||800,this.height=i||600,this.view=r.view||document.createElement("canvas"),this.resolution=r.resolution,this.transparent=r.transparent,this.autoResize=r.autoResize||!1,this.blendModes=null,this.preserveDrawingBuffer=r.preserveDrawingBuffer,this.clearBeforeRender=r.clearBeforeRender,this.roundPixels=r.roundPixels,this._backgroundColor=0,this._backgroundColorRgb=[0,0,0],this._backgroundColorString="#000000",this.backgroundColor=r.backgroundColor||this._backgroundColor,this._tempDisplayObjectParent={worldTransform:new o.Matrix,worldAlpha:1,children:[]},this._lastObjectRendered=this._tempDisplayObjectParent}var n=e("../utils"),o=e("../math"),a=e("../const"),s=e("eventemitter3");r.prototype=Object.create(s.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{backgroundColor:{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=n.hex2string(e),n.hex2rgb(e,this._backgroundColorRgb)}}}),r.prototype.resize=function(e,t){this.width=e*this.resolution,this.height=t*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px")},r.prototype.destroy=function(e){e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=a.RENDERER_TYPE.UNKNOWN,this.width=0,this.height=0,this.view=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgb=null,this._backgroundColorString=null}},{"../const":20,"../math":30,"../utils":74,eventemitter3:3}],41:[function(e,t,i){function r(e,t,i){i=i||{},n.call(this,"Canvas",e,t,i),this.type=h.RENDERER_TYPE.CANVAS,this.context=this.view.getContext("2d",{alpha:this.transparent}),this.refresh=!0,this.maskManager=new o,this.smoothProperty="imageSmoothingEnabled",this.context.imageSmoothingEnabled||(this.context.webkitImageSmoothingEnabled?this.smoothProperty="webkitImageSmoothingEnabled":this.context.mozImageSmoothingEnabled?this.smoothProperty="mozImageSmoothingEnabled":this.context.oImageSmoothingEnabled?this.smoothProperty="oImageSmoothingEnabled":this.context.msImageSmoothingEnabled&&(this.smoothProperty="msImageSmoothingEnabled")),this.initPlugins(),this._mapBlendModes(),this._tempDisplayObjectParent={worldTransform:new s.Matrix,worldAlpha:1},this.resize(e,t)}var n=e("../SystemRenderer"),o=e("./utils/CanvasMaskManager"),a=e("../../utils"),s=e("../../math"),h=e("../../const");r.prototype=Object.create(n.prototype),r.prototype.constructor=r,t.exports=r,a.pluginTarget.mixin(r),r.prototype.render=function(e){this.emit("prerender");var t=e.parent;this._lastObjectRendered=e,e.parent=this._tempDisplayObjectParent,e.updateTransform(),e.parent=t,this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,this.context.globalCompositeOperation=this.blendModes[h.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(this.context.fillStyle="black",this.context.clear()),this.clearBeforeRender&&(this.transparent?this.context.clearRect(0,0,this.width,this.height):(this.context.fillStyle=this._backgroundColorString,this.context.fillRect(0,0,this.width,this.height))),this.renderDisplayObject(e,this.context),this.emit("postrender")},r.prototype.destroy=function(e){this.destroyPlugins(),n.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},r.prototype.renderDisplayObject=function(e,t){var i=this.context;this.context=t,e.renderCanvas(this),this.context=i},r.prototype.resize=function(e,t){n.prototype.resize.call(this,e,t),this.smoothProperty&&(this.context[this.smoothProperty]=h.SCALE_MODES.DEFAULT===h.SCALE_MODES.LINEAR)},r.prototype._mapBlendModes=function(){this.blendModes||(this.blendModes={},a.canUseNewCanvasBlendModes()?(this.blendModes[h.BLEND_MODES.NORMAL]="source-over",this.blendModes[h.BLEND_MODES.ADD]="lighter",this.blendModes[h.BLEND_MODES.MULTIPLY]="multiply",this.blendModes[h.BLEND_MODES.SCREEN]="screen",this.blendModes[h.BLEND_MODES.OVERLAY]="overlay",this.blendModes[h.BLEND_MODES.DARKEN]="darken",this.blendModes[h.BLEND_MODES.LIGHTEN]="lighten",this.blendModes[h.BLEND_MODES.COLOR_DODGE]="color-dodge",this.blendModes[h.BLEND_MODES.COLOR_BURN]="color-burn",this.blendModes[h.BLEND_MODES.HARD_LIGHT]="hard-light",this.blendModes[h.BLEND_MODES.SOFT_LIGHT]="soft-light",this.blendModes[h.BLEND_MODES.DIFFERENCE]="difference",this.blendModes[h.BLEND_MODES.EXCLUSION]="exclusion",this.blendModes[h.BLEND_MODES.HUE]="hue",this.blendModes[h.BLEND_MODES.SATURATION]="saturate",this.blendModes[h.BLEND_MODES.COLOR]="color",this.blendModes[h.BLEND_MODES.LUMINOSITY]="luminosity"):(this.blendModes[h.BLEND_MODES.NORMAL]="source-over",this.blendModes[h.BLEND_MODES.ADD]="lighter",this.blendModes[h.BLEND_MODES.MULTIPLY]="source-over",this.blendModes[h.BLEND_MODES.SCREEN]="source-over",this.blendModes[h.BLEND_MODES.OVERLAY]="source-over",this.blendModes[h.BLEND_MODES.DARKEN]="source-over",this.blendModes[h.BLEND_MODES.LIGHTEN]="source-over",this.blendModes[h.BLEND_MODES.COLOR_DODGE]="source-over",this.blendModes[h.BLEND_MODES.COLOR_BURN]="source-over",this.blendModes[h.BLEND_MODES.HARD_LIGHT]="source-over",this.blendModes[h.BLEND_MODES.SOFT_LIGHT]="source-over",this.blendModes[h.BLEND_MODES.DIFFERENCE]="source-over",this.blendModes[h.BLEND_MODES.EXCLUSION]="source-over",this.blendModes[h.BLEND_MODES.HUE]="source-over",this.blendModes[h.BLEND_MODES.SATURATION]="source-over",this.blendModes[h.BLEND_MODES.COLOR]="source-over",this.blendModes[h.BLEND_MODES.LUMINOSITY]="source-over"))}},{"../../const":20,"../../math":30,"../../utils":74,"../SystemRenderer":40,"./utils/CanvasMaskManager":44}],42:[function(e,t,i){function r(e,t){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.canvas.width=e,this.canvas.height=t}r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{width:{get:function(){return this.canvas.width},set:function(e){this.canvas.width=e}},height:{get:function(){return this.canvas.height},set:function(e){this.canvas.height=e}}}),r.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},r.prototype.resize=function(e,t){this.canvas.width=e,this.canvas.height=t},r.prototype.destroy=function(){this.context=null,this.canvas=null}},{}],43:[function(e,t,i){var r=e("../../../const"),n={};t.exports=n,n.renderGraphics=function(e,t){var i=e.worldAlpha;e.dirty&&(this.updateGraphicsTint(e),e.dirty=!1);for(var n=0;n<e.graphicsData.length;n++){var o=e.graphicsData[n],a=o.shape,s=o._fillTint,h=o._lineTint;if(t.lineWidth=o.lineWidth,o.type===r.SHAPES.POLY){t.beginPath();var c=a.points;t.moveTo(c[0],c[1]);for(var l=1;l<c.length/2;l++)t.lineTo(c[2*l],c[2*l+1]);a.closed&&t.lineTo(c[0],c[1]),c[0]===c[c.length-2]&&c[1]===c[c.length-1]&&t.closePath(),o.fill&&(t.globalAlpha=o.fillAlpha*i,t.fillStyle="#"+("00000"+(0|s).toString(16)).substr(-6),t.fill()),o.lineWidth&&(t.globalAlpha=o.lineAlpha*i,t.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),t.stroke())}else if(o.type===r.SHAPES.RECT)(o.fillColor||0===o.fillColor)&&(t.globalAlpha=o.fillAlpha*i,t.fillStyle="#"+("00000"+(0|s).toString(16)).substr(-6),t.fillRect(a.x,a.y,a.width,a.height)),o.lineWidth&&(t.globalAlpha=o.lineAlpha*i,t.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),t.strokeRect(a.x,a.y,a.width,a.height));else if(o.type===r.SHAPES.CIRC)t.beginPath(),t.arc(a.x,a.y,a.radius,0,2*Math.PI),t.closePath(),o.fill&&(t.globalAlpha=o.fillAlpha*i,t.fillStyle="#"+("00000"+(0|s).toString(16)).substr(-6),t.fill()),o.lineWidth&&(t.globalAlpha=o.lineAlpha*i,t.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),t.stroke());else if(o.type===r.SHAPES.ELIP){var u=2*a.width,d=2*a.height,f=a.x-u/2,p=a.y-d/2;t.beginPath();var m=u/2*.5522848,v=d/2*.5522848,y=f+u,g=p+d,b=f+u/2,x=p+d/2;t.moveTo(f,x),t.bezierCurveTo(f,x-v,b-m,p,b,p),t.bezierCurveTo(b+m,p,y,x-v,y,x),t.bezierCurveTo(y,x+v,b+m,g,b,g),t.bezierCurveTo(b-m,g,f,x+v,f,x),t.closePath(),o.fill&&(t.globalAlpha=o.fillAlpha*i,t.fillStyle="#"+("00000"+(0|s).toString(16)).substr(-6),t.fill()),o.lineWidth&&(t.globalAlpha=o.lineAlpha*i,t.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),t.stroke())}else if(o.type===r.SHAPES.RREC){var w=a.x,_=a.y,T=a.width,E=a.height,S=a.radius,M=Math.min(T,E)/2|0;S=S>M?M:S,t.beginPath(),t.moveTo(w,_+S),t.lineTo(w,_+E-S),t.quadraticCurveTo(w,_+E,w+S,_+E),t.lineTo(w+T-S,_+E),t.quadraticCurveTo(w+T,_+E,w+T,_+E-S),t.lineTo(w+T,_+S),t.quadraticCurveTo(w+T,_,w+T-S,_),t.lineTo(w+S,_),t.quadraticCurveTo(w,_,w,_+S),t.closePath(),(o.fillColor||0===o.fillColor)&&(t.globalAlpha=o.fillAlpha*i,t.fillStyle="#"+("00000"+(0|s).toString(16)).substr(-6),t.fill()),o.lineWidth&&(t.globalAlpha=o.lineAlpha*i,t.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),t.stroke())}}},n.renderGraphicsMask=function(e,t){var i=e.graphicsData.length;if(0!==i){t.beginPath();for(var n=0;n<i;n++){var o=e.graphicsData[n],a=o.shape;if(o.type===r.SHAPES.POLY){var s=a.points;t.moveTo(s[0],s[1]);for(var h=1;h<s.length/2;h++)t.lineTo(s[2*h],s[2*h+1]);s[0]===s[s.length-2]&&s[1]===s[s.length-1]&&t.closePath()}else if(o.type===r.SHAPES.RECT)t.rect(a.x,a.y,a.width,a.height),t.closePath();else if(o.type===r.SHAPES.CIRC)t.arc(a.x,a.y,a.radius,0,2*Math.PI),t.closePath();else if(o.type===r.SHAPES.ELIP){var c=2*a.width,l=2*a.height,u=a.x-c/2,d=a.y-l/2,f=c/2*.5522848,p=l/2*.5522848,m=u+c,v=d+l,y=u+c/2,g=d+l/2;t.moveTo(u,g),t.bezierCurveTo(u,g-p,y-f,d,y,d),t.bezierCurveTo(y+f,d,m,g-p,m,g),t.bezierCurveTo(m,g+p,y+f,v,y,v),t.bezierCurveTo(y-f,v,u,g+p,u,g),t.closePath()}else if(o.type===r.SHAPES.RREC){var b=a.x,x=a.y,w=a.width,_=a.height,T=a.radius,E=Math.min(w,_)/2|0;T=T>E?E:T,t.moveTo(b,x+T),t.lineTo(b,x+_-T),t.quadraticCurveTo(b,x+_,b+T,x+_),t.lineTo(b+w-T,x+_),t.quadraticCurveTo(b+w,x+_,b+w,x+_-T),t.lineTo(b+w,x+T),t.quadraticCurveTo(b+w,x,b+w-T,x),t.lineTo(b+T,x),t.quadraticCurveTo(b,x,b,x+T),t.closePath()}}}},n.updateGraphicsTint=function(e){if(16777215!==e.tint||e._prevTint!==e.tint){e._prevTint=e.tint;for(var t=(e.tint>>16&255)/255,i=(e.tint>>8&255)/255,r=(255&e.tint)/255,n=0;n<e.graphicsData.length;n++){var o=e.graphicsData[n],a=0|o.fillColor,s=0|o.lineColor;o._fillTint=((a>>16&255)/255*t*255<<16)+((a>>8&255)/255*i*255<<8)+(255&a)/255*r*255,o._lineTint=((s>>16&255)/255*t*255<<16)+((s>>8&255)/255*i*255<<8)+(255&s)/255*r*255}}}},{"../../../const":20}],44:[function(e,t,i){function r(){}var n=e("./CanvasGraphics");r.prototype.constructor=r,t.exports=r,r.prototype.pushMask=function(e,t){t.context.save();var i=e.alpha,r=e.worldTransform,o=t.resolution;t.context.setTransform(r.a*o,r.b*o,r.c*o,r.d*o,r.tx*o,r.ty*o),e.texture||(n.renderGraphicsMask(e,t.context),t.context.clip()),e.worldAlpha=i},r.prototype.popMask=function(e){e.context.restore()},r.prototype.destroy=function(){}},{"./CanvasGraphics":43}],45:[function(e,t,i){var r=e("../../../utils"),n={};t.exports=n,n.getTintedTexture=function(e,t){var i=e.texture;t=n.roundColor(t);var r="#"+("00000"+(0|t).toString(16)).substr(-6);if(i.tintCache=i.tintCache||{},i.tintCache[r])return i.tintCache[r];var o=n.canvas||document.createElement("canvas");if(n.tintMethod(i,t,o),n.convertTintToImage){var a=new Image;a.src=o.toDataURL(),i.tintCache[r]=a}else i.tintCache[r]=o,n.canvas=null;return o},n.tintWithMultiply=function(e,t,i){var r=i.getContext("2d"),n=e.baseTexture.resolution,o=e.crop.clone();o.x*=n,o.y*=n,o.width*=n,o.height*=n,i.width=o.width,i.height=o.height,r.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),r.fillRect(0,0,o.width,o.height),r.globalCompositeOperation="multiply",r.drawImage(e.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),r.globalCompositeOperation="destination-atop",r.drawImage(e.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height)},n.tintWithOverlay=function(e,t,i){var r=i.getContext("2d"),n=e.baseTexture.resolution,o=e.crop.clone();o.x*=n,o.y*=n,o.width*=n,o.height*=n,i.width=o.width,i.height=o.height,r.globalCompositeOperation="copy",r.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),r.fillRect(0,0,o.width,o.height),r.globalCompositeOperation="destination-atop",r.drawImage(e.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height)},n.tintWithPerPixel=function(e,t,i){var n=i.getContext("2d"),o=e.baseTexture.resolution,a=e.crop.clone();a.x*=o,a.y*=o,a.width*=o,a.height*=o,i.width=a.width,i.height=a.height,n.globalCompositeOperation="copy",n.drawImage(e.baseTexture.source,a.x,a.y,a.width,a.height,0,0,a.width,a.height);for(var s=r.hex2rgb(t),h=s[0],c=s[1],l=s[2],u=n.getImageData(0,0,a.width,a.height),d=u.data,f=0;f<d.length;f+=4)d[f+0]*=h,d[f+1]*=c,d[f+2]*=l;n.putImageData(u,0,0)},n.roundColor=function(e){var t=n.cacheStepsPerColorChannel,i=r.hex2rgb(e);return i[0]=Math.min(255,i[0]/t*t),i[1]=Math.min(255,i[1]/t*t),i[2]=Math.min(255,i[2]/t*t),r.rgb2hex(i)},n.cacheStepsPerColorChannel=8,n.convertTintToImage=!1,n.canUseMultiply=r.canUseNewCanvasBlendModes(),n.tintMethod=n.canUseMultiply?n.tintWithMultiply:n.tintWithPerPixel},{"../../../utils":74}],46:[function(e,t,i){function r(e,t,i){i=i||{},n.call(this,"WebGL",e,t,i),this.type=p.RENDERER_TYPE.WEBGL,this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),this.view.addEventListener("webglcontextlost",this.handleContextLost,!1),this.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1),this._useFXAA=!!i.forceFXAA&&i.antialias,this._FXAAFilter=null,this._contextOptions={alpha:this.transparent,antialias:i.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:i.preserveDrawingBuffer},this.drawCount=0,this.shaderManager=new o(this),this.maskManager=new a(this),this.stencilManager=new s(this),this.filterManager=new h(this),this.blendModeManager=new c(this),this.currentRenderTarget=null,this.currentRenderer=new u(this),this.initPlugins(),this._createContext(),this._initContext(),this._mapGlModes(),this._managedTextures=[],this._renderTargetStack=[]}var n=e("../SystemRenderer"),o=e("./managers/ShaderManager"),a=e("./managers/MaskManager"),s=e("./managers/StencilManager"),h=e("./managers/FilterManager"),c=e("./managers/BlendModeManager"),l=e("./utils/RenderTarget"),u=e("./utils/ObjectRenderer"),d=e("./filters/FXAAFilter"),f=e("../../utils"),p=e("../../const");r.prototype=Object.create(n.prototype),r.prototype.constructor=r,t.exports=r,f.pluginTarget.mixin(r),r.glContextId=0,r.prototype._createContext=function(){var e=this.view.getContext("webgl",this._contextOptions)||this.view.getContext("experimental-webgl",this._contextOptions);if(this.gl=e,!e)throw new Error("This browser does not support webGL. Try using the canvas renderer");this.glContextId=r.glContextId++,e.id=this.glContextId,e.renderer=this},r.prototype._initContext=function(){var e=this.gl;e.disable(e.DEPTH_TEST),e.disable(e.CULL_FACE),e.enable(e.BLEND),this.renderTarget=new l(e,this.width,this.height,null,this.resolution,!0),this.setRenderTarget(this.renderTarget),this.emit("context",e),this.resize(this.width,this.height),this._useFXAA||(this._useFXAA=this._contextOptions.antialias&&!e.getContextAttributes().antialias),this._useFXAA&&(window.console.warn("FXAA antialiasing being used instead of native antialiasing"),this._FXAAFilter=[new d])},r.prototype.render=function(e){if(this.emit("prerender"),!this.gl.isContextLost()){this.drawCount=0,this._lastObjectRendered=e,this._useFXAA&&(this._FXAAFilter[0].uniforms.resolution.value.x=this.width,this._FXAAFilter[0].uniforms.resolution.value.y=this.height,e.filterArea=this.renderTarget.size,e.filters=this._FXAAFilter);var t=e.parent;e.parent=this._tempDisplayObjectParent,e.updateTransform(),e.parent=t;var i=this.gl;this.setRenderTarget(this.renderTarget),this.clearBeforeRender&&(this.transparent?i.clearColor(0,0,0,0):i.clearColor(this._backgroundColorRgb[0],this._backgroundColorRgb[1],this._backgroundColorRgb[2],1),i.clear(i.COLOR_BUFFER_BIT)),this.renderDisplayObject(e,this.renderTarget),this.emit("postrender")}},r.prototype.renderDisplayObject=function(e,t,i){this.setRenderTarget(t),i&&t.clear(),this.filterManager.setFilterStack(t.filterStack),e.renderWebGL(this),this.currentRenderer.flush()},r.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},r.prototype.setRenderTarget=function(e){this.currentRenderTarget!==e&&(this.currentRenderTarget=e,this.currentRenderTarget.activate(),this.stencilManager.setMaskStack(e.stencilMaskStack))},r.prototype.resize=function(e,t){n.prototype.resize.call(this,e,t),this.filterManager.resize(e,t),this.renderTarget.resize(e,t),this.currentRenderTarget===this.renderTarget&&(this.renderTarget.activate(),this.gl.viewport(0,0,this.width,this.height))},r.prototype.updateTexture=function(e){if(e=e.baseTexture||e,e.hasLoaded){var t=this.gl;return e._glTextures[t.id]||(e._glTextures[t.id]=t.createTexture(),e.on("update",this.updateTexture,this),e.on("dispose",this.destroyTexture,this),this._managedTextures.push(e)),t.bindTexture(t.TEXTURE_2D,e._glTextures[t.id]),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultipliedAlpha),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e.source),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e.scaleMode===p.SCALE_MODES.LINEAR?t.LINEAR:t.NEAREST),e.mipmap&&e.isPowerOfTwo?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e.scaleMode===p.SCALE_MODES.LINEAR?t.LINEAR_MIPMAP_LINEAR:t.NEAREST_MIPMAP_NEAREST),t.generateMipmap(t.TEXTURE_2D)):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e.scaleMode===p.SCALE_MODES.LINEAR?t.LINEAR:t.NEAREST),e.isPowerOfTwo?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),e._glTextures[t.id]}},r.prototype.destroyTexture=function(e,t){if(e=e.baseTexture||e,e.hasLoaded&&e._glTextures[this.gl.id]&&(this.gl.deleteTexture(e._glTextures[this.gl.id]),delete e._glTextures[this.gl.id],!t)){var i=this._managedTextures.indexOf(e);-1!==i&&f.removeItems(this._managedTextures,i,1)}},r.prototype.handleContextLost=function(e){e.preventDefault()},r.prototype.handleContextRestored=function(){this._initContext();for(var e=0;e<this._managedTextures.length;++e){var t=this._managedTextures[e];t._glTextures[this.gl.id]&&delete t._glTextures[this.gl.id]}},r.prototype.destroy=function(e){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored);for(var t=0;t<this._managedTextures.length;++t){var i=this._managedTextures[t];this.destroyTexture(i,!0),i.off("update",this.updateTexture,this),i.off("dispose",this.destroyTexture,this)}n.prototype.destroy.call(this,e),this.uid=0,this.shaderManager.destroy(),this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.blendModeManager.destroy(),this.shaderManager=null,this.maskManager=null,this.filterManager=null,this.blendModeManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this._managedTextures=null,this.drawCount=0,this.gl.useProgram(null),this.gl=null},r.prototype._mapGlModes=function(){var e=this.gl;this.blendModes||(this.blendModes={},this.blendModes[p.BLEND_MODES.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[p.BLEND_MODES.ADD]=[e.SRC_ALPHA,e.DST_ALPHA],this.blendModes[p.BLEND_MODES.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA],this.blendModes[p.BLEND_MODES.SCREEN]=[e.SRC_ALPHA,e.ONE],this.blendModes[p.BLEND_MODES.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[p.BLEND_MODES.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[p.BLEND_MODES.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[p.BLEND_MODES.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[p.BLEND_MODES.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[p.BLEND_MODES.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[p.BLEND_MODES.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[p.BLEND_MODES.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[p.BLEND_MODES.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[p.BLEND_MODES.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[p.BLEND_MODES.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[p.BLEND_MODES.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],this.blendModes[p.BLEND_MODES.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA]),this.drawModes||(this.drawModes={},this.drawModes[p.DRAW_MODES.POINTS]=e.POINTS,this.drawModes[p.DRAW_MODES.LINES]=e.LINES,this.drawModes[p.DRAW_MODES.LINE_LOOP]=e.LINE_LOOP,this.drawModes[p.DRAW_MODES.LINE_STRIP]=e.LINE_STRIP,this.drawModes[p.DRAW_MODES.TRIANGLES]=e.TRIANGLES,this.drawModes[p.DRAW_MODES.TRIANGLE_STRIP]=e.TRIANGLE_STRIP,this.drawModes[p.DRAW_MODES.TRIANGLE_FAN]=e.TRIANGLE_FAN)}},{"../../const":20,"../../utils":74,"../SystemRenderer":40,"./filters/FXAAFilter":48,"./managers/BlendModeManager":50,"./managers/FilterManager":51,"./managers/MaskManager":52,"./managers/ShaderManager":53,"./managers/StencilManager":54,"./utils/ObjectRenderer":60,"./utils/RenderTarget":62}],47:[function(e,t,i){function r(e,t,i){this.shaders=[],this.padding=0,this.uniforms=i||{},this.vertexSrc=e||n.defaultVertexSrc,this.fragmentSrc=t||n.defaultFragmentSrc}var n=e("../shaders/TextureShader");r.prototype.constructor=r,t.exports=r,r.prototype.getShader=function(e){var t=e.gl,i=this.shaders[t.id];return i||(i=new n(e.shaderManager,this.vertexSrc,this.fragmentSrc,this.uniforms,this.attributes),this.shaders[t.id]=i),i},r.prototype.applyFilter=function(e,t,i,r){var n=this.getShader(e);e.filterManager.applyFilter(n,t,i,r)},r.prototype.syncUniform=function(e){for(var t=0,i=this.shaders.length;t<i;++t)this.shaders[t].syncUniform(e)}},{"../shaders/TextureShader":59}],48:[function(e,t,i){function r(){n.call(this,"\nprecision mediump float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform vec2 resolution;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n            out vec2 v_rgbNW, out vec2 v_rgbNE,\n            out vec2 v_rgbSW, out vec2 v_rgbSE,\n            out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n   vResolution = resolution;\n\n   //compute the texture coords and send them to varyings\n   texcoords(aTextureCoord * resolution, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'precision lowp float;\n\n\n/**\nBasic FXAA implementation based on the code on geeks3d.com with the\nmodification that the texture2DLod stuff was removed since it\'s\nunsupported by WebGL.\n\n--\n\nFrom:\nhttps://github.com/mitsuhiko/webgl-meincraft\n\nCopyright (c) 2011 by Armin Ronacher.\n\nSome rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are\nmet:\n\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n\n    * Redistributions in binary form must reproduce the above\n      copyright notice, this list of conditions and the following\n      disclaimer in the documentation and/or other materials provided\n      with the distribution.\n\n    * The names of the contributors may not be used to endorse or\n      promote products derived from this software without specific\n      prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\nLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\nA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\nOWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\nDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n#ifndef FXAA_REDUCE_MIN\n    #define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n    #define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n    #define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n            vec2 v_rgbNW, vec2 v_rgbNE,\n            vec2 v_rgbSW, vec2 v_rgbSE,\n            vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n              dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform sampler2D uSampler;\n\n\nvoid main(void){\n\n    gl_FragColor = fxaa(uSampler, vTextureCoord * vResolution, vResolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n}\n',{resolution:{type:"v2",value:{x:1,y:1}}})}var n=e("./AbstractFilter");r.prototype=Object.create(n.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.applyFilter=function(e,t,i){var r=e.filterManager,n=this.getShader(e);r.applyFilter(n,t,i)}},{"./AbstractFilter":47}],49:[function(e,t,i){function r(e){var t=new o.Matrix;n.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    original *= (masky.r * masky.a * alpha * clip);\n    gl_FragColor = original;\n}\n",{mask:{type:"sampler2D",value:e._texture},alpha:{type:"f",value:1},otherMatrix:{type:"mat3",value:t.toArray(!0)}}),this.maskSprite=e,this.maskMatrix=t}var n=e("./AbstractFilter"),o=e("../../../math");r.prototype=Object.create(n.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.applyFilter=function(e,t,i){var r=e.filterManager;this.uniforms.mask.value=this.maskSprite._texture,r.calculateMappedMatrix(t.frame,this.maskSprite,this.maskMatrix),this.uniforms.otherMatrix.value=this.maskMatrix.toArray(!0),this.uniforms.alpha.value=this.maskSprite.worldAlpha;var n=this.getShader(e);r.applyFilter(n,t,i)},Object.defineProperties(r.prototype,{map:{get:function(){return this.uniforms.mask.value},set:function(e){this.uniforms.mask.value=e}},offset:{get:function(){return this.uniforms.offset.value},set:function(e){this.uniforms.offset.value=e}}})},{"../../../math":30,"./AbstractFilter":47}],50:[function(e,t,i){function r(e){n.call(this,e),this.currentBlendMode=99999}var n=e("./WebGLManager");r.prototype=Object.create(n.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.setBlendMode=function(e){if(this.currentBlendMode===e)return!1;this.currentBlendMode=e;var t=this.renderer.blendModes[this.currentBlendMode];return this.renderer.gl.blendFunc(t[0],t[1]),!0}},{"./WebGLManager":55}],51:[function(e,t,i){function r(e){n.call(this,e),this.filterStack=[],this.filterStack.push({renderTarget:e.currentRenderTarget,filter:[],bounds:null}),this.texturePool=[],this.textureSize=new h.Rectangle(0,0,e.width,e.height),this.currentFrame=null}var n=e("./WebGLManager"),o=e("../utils/RenderTarget"),a=e("../../../const"),s=e("../utils/Quad"),h=e("../../../math");r.prototype=Object.create(n.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.onContextChange=function(){this.texturePool.length=0;var e=this.renderer.gl;this.quad=new s(e)},r.prototype.setFilterStack=function(e){this.filterStack=e},r.prototype.pushFilter=function(e,t){var i=e.filterArea?e.filterArea.clone():e.getBounds();i.x=0|i.x,i.y=0|i.y,i.width=0|i.width,i.height=0|i.height;var r=0|t[0].padding;if(i.x-=r,i.y-=r,i.width+=2*r,i.height+=2*r,this.renderer.currentRenderTarget.transform){var n=this.renderer.currentRenderTarget.transform;i.x+=n.tx,i.y+=n.ty,this.capFilterArea(i),i.x-=n.tx,i.y-=n.ty}else this.capFilterArea(i);if(i.width>0&&i.height>0){this.currentFrame=i;var o=this.getRenderTarget();this.renderer.setRenderTarget(o),o.clear(),this.filterStack.push({renderTarget:o,filter:t})}else this.filterStack.push({renderTarget:null,filter:t})},r.prototype.popFilter=function(){var e=this.filterStack.pop(),t=this.filterStack[this.filterStack.length-1],i=e.renderTarget;if(e.renderTarget){var r=t.renderTarget,n=this.renderer.gl;this.currentFrame=i.frame,this.quad.map(this.textureSize,i.frame),n.bindBuffer(n.ARRAY_BUFFER,this.quad.vertexBuffer),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.quad.indexBuffer);var o=e.filter;if(n.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aVertexPosition,2,n.FLOAT,!1,0,0),n.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aTextureCoord,2,n.FLOAT,!1,0,32),n.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aColor,4,n.FLOAT,!1,0,64),this.renderer.blendModeManager.setBlendMode(a.BLEND_MODES.NORMAL),1===o.length)o[0].uniforms.dimensions&&(o[0].uniforms.dimensions.value[0]=this.renderer.width,o[0].uniforms.dimensions.value[1]=this.renderer.height,o[0].uniforms.dimensions.value[2]=this.quad.vertices[0],o[0].uniforms.dimensions.value[3]=this.quad.vertices[5]),o[0].applyFilter(this.renderer,i,r),this.returnRenderTarget(i);else{for(var s=i,h=this.getRenderTarget(!0),c=0;c<o.length-1;c++){var l=o[c];l.uniforms.dimensions&&(l.uniforms.dimensions.value[0]=this.renderer.width,l.uniforms.dimensions.value[1]=this.renderer.height,l.uniforms.dimensions.value[2]=this.quad.vertices[0],l.uniforms.dimensions.value[3]=this.quad.vertices[5]),l.applyFilter(this.renderer,s,h);var u=s;s=h,h=u}o[o.length-1].applyFilter(this.renderer,s,r),this.returnRenderTarget(s),this.returnRenderTarget(h)}return e.filter}},r.prototype.getRenderTarget=function(e){var t=this.texturePool.pop()||new o(this.renderer.gl,this.textureSize.width,this.textureSize.height,a.SCALE_MODES.LINEAR,this.renderer.resolution*a.FILTER_RESOLUTION);return t.frame=this.currentFrame,e&&t.clear(!0),t},r.prototype.returnRenderTarget=function(e){this.texturePool.push(e)},r.prototype.applyFilter=function(e,t,i,r){var n=this.renderer.gl;this.renderer.setRenderTarget(i),r&&i.clear(),this.renderer.shaderManager.setShader(e),e.uniforms.projectionMatrix.value=this.renderer.currentRenderTarget.projectionMatrix.toArray(!0),e.syncUniforms(),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,t.texture),n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,0),this.renderer.drawCount++},r.prototype.calculateMappedMatrix=function(e,t,i){var r=t.worldTransform.copy(h.Matrix.TEMP_MATRIX),n=t._texture.baseTexture,o=i.identity(),a=this.textureSize.height/this.textureSize.width;o.translate(e.x/this.textureSize.width,e.y/this.textureSize.height),o.scale(1,a);var s=this.textureSize.width/n.width,c=this.textureSize.height/n.height;return r.tx/=n.width*s,r.ty/=n.width*s,r.invert(),o.prepend(r),o.scale(1,1/a),o.scale(s,c),o.translate(t.anchor.x,t.anchor.y),o},r.prototype.capFilterArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0),e.x+e.width>this.textureSize.width&&(e.width=this.textureSize.width-e.x),e.y+e.height>this.textureSize.height&&(e.height=this.textureSize.height-e.y)},r.prototype.resize=function(e,t){this.textureSize.width=e,this.textureSize.height=t;for(var i=0;i<this.texturePool.length;i++)this.texturePool[i].resize(e,t)},r.prototype.destroy=function(){this.quad.destroy(),n.prototype.destroy.call(this),this.filterStack=null,this.offsetY=0;for(var e=0;e<this.texturePool.length;e++)this.texturePool[e].destroy();this.texturePool=null}},{"../../../const":20,"../../../math":30,"../utils/Quad":61,"../utils/RenderTarget":62,"./WebGLManager":55}],52:[function(e,t,i){function r(e){n.call(this,e),this.stencilStack=[],this.reverse=!0,this.count=0,this.alphaMaskPool=[]}var n=e("./WebGLManager"),o=e("../filters/SpriteMaskFilter");r.prototype=Object.create(n.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.pushMask=function(e,t){t.texture?this.pushSpriteMask(e,t):this.pushStencilMask(e,t)},r.prototype.popMask=function(e,t){t.texture?this.popSpriteMask(e,t):this.popStencilMask(e,t)},r.prototype.pushSpriteMask=function(e,t){var i=this.alphaMaskPool.pop();i||(i=[new o(t)]),i[0].maskSprite=t,this.renderer.filterManager.pushFilter(e,i)},r.prototype.popSpriteMask=function(){var e=this.renderer.filterManager.popFilter();this.alphaMaskPool.push(e)},r.prototype.pushStencilMask=function(e,t){this.renderer.stencilManager.pushMask(t)},r.prototype.popStencilMask=function(e,t){this.renderer.stencilManager.popMask(t)}},{"../filters/SpriteMaskFilter":49,"./WebGLManager":55}],53:[function(e,t,i){function r(e){n.call(this,e),this.maxAttibs=10,this.attribState=[],this.tempAttribState=[];for(var t=0;t<this.maxAttibs;t++)this.attribState[t]=!1;this.stack=[],this._currentId=-1,this.currentShader=null}var n=e("./WebGLManager"),o=e("../shaders/TextureShader"),a=e("../shaders/ComplexPrimitiveShader"),s=e("../shaders/PrimitiveShader"),h=e("../../../utils");r.prototype=Object.create(n.prototype),r.prototype.constructor=r,h.pluginTarget.mixin(r),t.exports=r,r.prototype.onContextChange=function(){this.initPlugins();var e=this.renderer.gl;this.maxAttibs=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.attribState=[];for(var t=0;t<this.maxAttibs;t++)this.attribState[t]=!1;this.defaultShader=new o(this),this.primitiveShader=new s(this),this.complexPrimitiveShader=new a(this)},r.prototype.setAttribs=function(e){var t;for(t=0;t<this.tempAttribState.length;t++)this.tempAttribState[t]=!1;for(var i in e)this.tempAttribState[e[i]]=!0;var r=this.renderer.gl;for(t=0;t<this.attribState.length;t++)this.attribState[t]!==this.tempAttribState[t]&&(this.attribState[t]=this.tempAttribState[t],this.attribState[t]?r.enableVertexAttribArray(t):r.disableVertexAttribArray(t))},r.prototype.setShader=function(e){return this._currentId!==e.uid&&(this._currentId=e.uid,this.currentShader=e,this.renderer.gl.useProgram(e.program),this.setAttribs(e.attributes),!0)},r.prototype.destroy=function(){this.primitiveShader.destroy(),this.complexPrimitiveShader.destroy(),n.prototype.destroy.call(this),this.destroyPlugins(),this.attribState=null,this.tempAttribState=null}},{"../../../utils":74,"../shaders/ComplexPrimitiveShader":56,"../shaders/PrimitiveShader":57,"../shaders/TextureShader":59,"./WebGLManager":55}],54:[function(e,t,i){function r(e){n.call(this,e),this.stencilMaskStack=null}var n=e("./WebGLManager"),o=e("../../../utils");r.prototype=Object.create(n.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.setMaskStack=function(e){this.stencilMaskStack=e;var t=this.renderer.gl;0===e.stencilStack.length?t.disable(t.STENCIL_TEST):t.enable(t.STENCIL_TEST)},r.prototype.pushStencil=function(e,t){this.renderer.currentRenderTarget.attachStencilBuffer();var i=this.renderer.gl,r=this.stencilMaskStack;this.bindGraphics(e,t),0===r.stencilStack.length&&(i.enable(i.STENCIL_TEST),i.clear(i.STENCIL_BUFFER_BIT),r.reverse=!0,r.count=0),r.stencilStack.push(t);var n=r.count;i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.ALWAYS,0,255),i.stencilOp(i.KEEP,i.KEEP,i.INVERT),1===t.mode?(i.drawElements(i.TRIANGLE_FAN,t.indices.length-4,i.UNSIGNED_SHORT,0),r.reverse?(i.stencilFunc(i.EQUAL,255-n,255),i.stencilOp(i.KEEP,i.KEEP,i.DECR)):(i.stencilFunc(i.EQUAL,n,255),i.stencilOp(i.KEEP,i.KEEP,i.INCR)),i.drawElements(i.TRIANGLE_FAN,4,i.UNSIGNED_SHORT,2*(t.indices.length-4)),r.reverse?i.stencilFunc(i.EQUAL,255-(n+1),255):i.stencilFunc(i.EQUAL,n+1,255),r.reverse=!r.reverse):(r.reverse?(i.stencilFunc(i.EQUAL,n,255),i.stencilOp(i.KEEP,i.KEEP,i.INCR)):(i.stencilFunc(i.EQUAL,255-n,255),i.stencilOp(i.KEEP,i.KEEP,i.DECR)),i.drawElements(i.TRIANGLE_STRIP,t.indices.length,i.UNSIGNED_SHORT,0),r.reverse?i.stencilFunc(i.EQUAL,n+1,255):i.stencilFunc(i.EQUAL,255-(n+1),255)),i.colorMask(!0,!0,!0,!0),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),r.count++},r.prototype.bindGraphics=function(e,t){var i,r=this.renderer.gl;1===t.mode?(i=this.renderer.shaderManager.complexPrimitiveShader,this.renderer.shaderManager.setShader(i),r.uniformMatrix3fv(i.uniforms.translationMatrix._location,!1,e.worldTransform.toArray(!0)),r.uniformMatrix3fv(i.uniforms.projectionMatrix._location,!1,this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)),r.uniform3fv(i.uniforms.tint._location,o.hex2rgb(e.tint)),r.uniform3fv(i.uniforms.color._location,t.color),r.uniform1f(i.uniforms.alpha._location,e.worldAlpha),r.bindBuffer(r.ARRAY_BUFFER,t.buffer),r.vertexAttribPointer(i.attributes.aVertexPosition,2,r.FLOAT,!1,8,0),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t.indexBuffer)):(i=this.renderer.shaderManager.primitiveShader,this.renderer.shaderManager.setShader(i),r.uniformMatrix3fv(i.uniforms.translationMatrix._location,!1,e.worldTransform.toArray(!0)),r.uniformMatrix3fv(i.uniforms.projectionMatrix._location,!1,this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)),r.uniform3fv(i.uniforms.tint._location,o.hex2rgb(e.tint)),r.uniform1f(i.uniforms.alpha._location,e.worldAlpha),r.bindBuffer(r.ARRAY_BUFFER,t.buffer),r.vertexAttribPointer(i.attributes.aVertexPosition,2,r.FLOAT,!1,24,0),r.vertexAttribPointer(i.attributes.aColor,4,r.FLOAT,!1,24,8),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t.indexBuffer))},r.prototype.popStencil=function(e,t){var i=this.renderer.gl,r=this.stencilMaskStack;if(r.stencilStack.pop(),r.count--,0===r.stencilStack.length)i.disable(i.STENCIL_TEST);else{var n=r.count;this.bindGraphics(e,t),i.colorMask(!1,!1,!1,!1),1===t.mode?(r.reverse=!r.reverse,r.reverse?(i.stencilFunc(i.EQUAL,255-(n+1),255),i.stencilOp(i.KEEP,i.KEEP,i.INCR)):(i.stencilFunc(i.EQUAL,n+1,255),i.stencilOp(i.KEEP,i.KEEP,i.DECR)),i.drawElements(i.TRIANGLE_FAN,4,i.UNSIGNED_SHORT,2*(t.indices.length-4)),i.stencilFunc(i.ALWAYS,0,255),i.stencilOp(i.KEEP,i.KEEP,i.INVERT),i.drawElements(i.TRIANGLE_FAN,t.indices.length-4,i.UNSIGNED_SHORT,0),this.renderer.drawCount+=2,r.reverse?i.stencilFunc(i.EQUAL,n,255):i.stencilFunc(i.EQUAL,255-n,255)):(r.reverse?(i.stencilFunc(i.EQUAL,n+1,255),i.stencilOp(i.KEEP,i.KEEP,i.DECR)):(i.stencilFunc(i.EQUAL,255-(n+1),255),i.stencilOp(i.KEEP,i.KEEP,i.INCR)),i.drawElements(i.TRIANGLE_STRIP,t.indices.length,i.UNSIGNED_SHORT,0),this.renderer.drawCount++,r.reverse?i.stencilFunc(i.EQUAL,n,255):i.stencilFunc(i.EQUAL,255-n,255)),i.colorMask(!0,!0,!0,!0),i.stencilOp(i.KEEP,i.KEEP,i.KEEP)}},r.prototype.destroy=function(){n.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},r.prototype.pushMask=function(e){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),e.dirty&&this.renderer.plugins.graphics.updateGraphics(e,this.renderer.gl),e._webGL[this.renderer.gl.id].data.length&&this.pushStencil(e,e._webGL[this.renderer.gl.id].data[0])},r.prototype.popMask=function(e){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.popStencil(e,e._webGL[this.renderer.gl.id].data[0])}},{"../../../utils":74,"./WebGLManager":55}],55:[function(e,t,i){function r(e){this.renderer=e,this.renderer.on("context",this.onContextChange,this)}r.prototype.constructor=r,t.exports=r,r.prototype.onContextChange=function(){},r.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null}},{}],56:[function(e,t,i){function r(e){n.call(this,e,["attribute vec2 aVertexPosition;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform vec3 tint;","uniform float alpha;","uniform vec3 color;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = vec4(color * alpha * tint, alpha);","}"].join("\n"),["precision mediump float;","varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n"),{tint:{type:"3f",value:[0,0,0]},alpha:{type:"1f",value:0},color:{type:"3f",value:[0,0,0]},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0})}var n=e("./Shader");r.prototype=Object.create(n.prototype),r.prototype.constructor=r,t.exports=r},{"./Shader":58}],57:[function(e,t,i){function r(e){n.call(this,e,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform float flipY;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["precision mediump float;","varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n"),{tint:{type:"3f",value:[0,0,0]},alpha:{type:"1f",value:0},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0,aColor:0})}var n=e("./Shader");r.prototype=Object.create(n.prototype),r.prototype.constructor=r,t.exports=r},{"./Shader":58}],58:[function(e,t,i){function r(e,t,i,r,o){if(!t||!i)throw new Error("Pixi.js Error. Shader requires vertexSrc and fragmentSrc");this.uid=n.uid(),this.gl=e.renderer.gl,this.shaderManager=e,this.program=null,this.uniforms=r||{},this.attributes=o||{},this.textureCount=1,this.vertexSrc=t,this.fragmentSrc=i,this.init()}var n=e("../../../utils");r.prototype.constructor=r,t.exports=r,r.prototype.init=function(){this.compile(),this.gl.useProgram(this.program),this.cacheUniformLocations(Object.keys(this.uniforms)),this.cacheAttributeLocations(Object.keys(this.attributes))},r.prototype.cacheUniformLocations=function(e){for(var t=0;t<e.length;++t)this.uniforms[e[t]]._location=this.gl.getUniformLocation(this.program,e[t])},r.prototype.cacheAttributeLocations=function(e){for(var t=0;t<e.length;++t)this.attributes[e[t]]=this.gl.getAttribLocation(this.program,e[t])},r.prototype.compile=function(){var e=this.gl,t=this._glCompile(e.VERTEX_SHADER,this.vertexSrc),i=this._glCompile(e.FRAGMENT_SHADER,this.fragmentSrc),r=e.createProgram();return e.attachShader(r,t),e.attachShader(r,i),e.linkProgram(r),e.getProgramParameter(r,e.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",e.getProgramParameter(r,e.VALIDATE_STATUS)),console.error("gl.getError()",e.getError()),""!==e.getProgramInfoLog(r)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(r)),e.deleteProgram(r),r=null),e.deleteShader(t),e.deleteShader(i),this.program=r},r.prototype.syncUniform=function(e){var t,i,r=e._location,o=e.value,a=this.gl;switch(e.type){case"b":case"bool":case"boolean":a.uniform1i(r,o?1:0);break;case"i":case"1i":a.uniform1i(r,o);break;case"f":case"1f":a.uniform1f(r,o);break;case"2f":a.uniform2f(r,o[0],o[1]);break;case"3f":a.uniform3f(r,o[0],o[1],o[2]);break;case"4f":a.uniform4f(r,o[0],o[1],o[2],o[3]);break;case"v2":a.uniform2f(r,o.x,o.y);break;case"v3":a.uniform3f(r,o.x,o.y,o.z);break;case"v4":a.uniform4f(r,o.x,o.y,o.z,o.w);break;case"1iv":a.uniform1iv(r,o);break;case"2iv":a.uniform2iv(r,o);break;case"3iv":a.uniform3iv(r,o);break;case"4iv":a.uniform4iv(r,o);break;case"1fv":a.uniform1fv(r,o);break;case"2fv":a.uniform2fv(r,o);break;case"3fv":a.uniform3fv(r,o);break;case"4fv":a.uniform4fv(r,o);break;case"m2":case"mat2":case"Matrix2fv":a.uniformMatrix2fv(r,e.transpose,o);break;case"m3":case"mat3":case"Matrix3fv":a.uniformMatrix3fv(r,e.transpose,o);break;case"m4":case"mat4":case"Matrix4fv":a.uniformMatrix4fv(r,e.transpose,o);break;case"c":"number"==typeof o&&(o=n.hex2rgb(o)),a.uniform3f(r,o[0],o[1],o[2]);break;case"iv1":a.uniform1iv(r,o);break;case"iv":a.uniform3iv(r,o);break;case"fv1":a.uniform1fv(r,o);break;case"fv":a.uniform3fv(r,o);break;case"v2v":for(e._array||(e._array=new Float32Array(2*o.length)),t=0,i=o.length;t<i;++t)e._array[2*t]=o[t].x,e._array[2*t+1]=o[t].y;a.uniform2fv(r,e._array);break;case"v3v":for(e._array||(e._array=new Float32Array(3*o.length)),t=0,i=o.length;t<i;++t)e._array[3*t]=o[t].x,e._array[3*t+1]=o[t].y,e._array[3*t+2]=o[t].z;a.uniform3fv(r,e._array);break;case"v4v":for(e._array||(e._array=new Float32Array(4*o.length)),t=0,i=o.length;t<i;++t)e._array[4*t]=o[t].x,e._array[4*t+1]=o[t].y,e._array[4*t+2]=o[t].z,e._array[4*t+3]=o[t].w;a.uniform4fv(r,e._array);break;case"t":case"sampler2D":if(!e.value||!e.value.baseTexture.hasLoaded)break;a.activeTexture(a["TEXTURE"+this.textureCount]);var s=e.value.baseTexture._glTextures[a.id];s||(this.initSampler2D(e),s=e.value.baseTexture._glTextures[a.id]),a.bindTexture(a.TEXTURE_2D,s),a.uniform1i(e._location,this.textureCount),this.textureCount++;break;default:console.warn("Pixi.js Shader Warning: Unknown uniform type: "+e.type)}},r.prototype.syncUniforms=function(){this.textureCount=1;for(var e in this.uniforms)this.syncUniform(this.uniforms[e])},r.prototype.initSampler2D=function(e){var t=this.gl,i=e.value.baseTexture;if(i.hasLoaded)if(e.textureData){var r=e.textureData;i._glTextures[t.id]=t.createTexture(),t.bindTexture(t.TEXTURE_2D,i._glTextures[t.id]),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultipliedAlpha),t.texImage2D(t.TEXTURE_2D,0,r.luminance?t.LUMINANCE:t.RGBA,t.RGBA,t.UNSIGNED_BYTE,i.source),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,r.magFilter?r.magFilter:t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,r.wrapS?r.wrapS:t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,r.wrapS?r.wrapS:t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,r.wrapT?r.wrapT:t.CLAMP_TO_EDGE)}else this.shaderManager.renderer.updateTexture(i)},r.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.gl=null,this.uniforms=null,this.attributes=null,this.vertexSrc=null,this.fragmentSrc=null},r.prototype._glCompile=function(e,t){var i=this.gl.createShader(e);return this.gl.shaderSource(i,t),this.gl.compileShader(i),this.gl.getShaderParameter(i,this.gl.COMPILE_STATUS)?i:(console.log(this.gl.getShaderInfoLog(i)),null)}},{"../../../utils":74}],59:[function(e,t,i){function r(e,t,i,o,a){var s={uSampler:{type:"sampler2D",value:0},projectionMatrix:{type:"mat3",value:new Float32Array([1,0,0,0,1,0,0,0,1])}};if(o)for(var h in o)s[h]=o[h];var c={aVertexPosition:0,aTextureCoord:0,aColor:0};if(a)for(var l in a)c[l]=a[l];t=t||r.defaultVertexSrc,i=i||r.defaultFragmentSrc,n.call(this,e,t,i,s,c)}var n=e("./Shader");r.prototype=Object.create(n.prototype),r.prototype.constructor=r,t.exports=r,r.defaultVertexSrc=["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"].join("\n"),r.defaultFragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"].join("\n")},{"./Shader":58}],60:[function(e,t,i){function r(e){n.call(this,e)}var n=e("../managers/WebGLManager");r.prototype=Object.create(n.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.start=function(){},r.prototype.stop=function(){this.flush()},r.prototype.flush=function(){},r.prototype.render=function(e){}},{"../managers/WebGLManager":55}],61:[function(e,t,i){function r(e){this.gl=e,this.vertices=new Float32Array([0,0,200,0,200,200,0,200]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.colors=new Float32Array([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]),this.indices=new Uint16Array([0,1,2,0,3,2]),this.vertexBuffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,128,e.DYNAMIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW),this.upload()}r.prototype.constructor=r,r.prototype.map=function(e,t){var i=0,r=0;this.uvs[0]=i,this.uvs[1]=r,this.uvs[2]=i+t.width/e.width,this.uvs[3]=r,this.uvs[4]=i+t.width/e.width,this.uvs[5]=r+t.height/e.height,this.uvs[6]=i,this.uvs[7]=r+t.height/e.height,i=t.x,r=t.y,this.vertices[0]=i,this.vertices[1]=r,this.vertices[2]=i+t.width,this.vertices[3]=r,this.vertices[4]=i+t.width,this.vertices[5]=r+t.height,this.vertices[6]=i,this.vertices[7]=r+t.height,this.upload()},r.prototype.upload=function(){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferSubData(e.ARRAY_BUFFER,0,this.vertices),e.bufferSubData(e.ARRAY_BUFFER,32,this.uvs),e.bufferSubData(e.ARRAY_BUFFER,64,this.colors)},r.prototype.destroy=function(){var e=this.gl;e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.indexBuffer)},t.exports=r},{}],62:[function(e,t,i){var r=e("../../../math"),n=e("../../../utils"),o=e("../../../const"),a=e("./StencilMaskStack"),s=function(e,t,i,s,h,c){if(this.gl=e,this.frameBuffer=null,this.texture=null,this.size=new r.Rectangle(0,0,1,1),this.resolution=h||o.RESOLUTION,this.projectionMatrix=new r.Matrix,this.transform=null,this.frame=null,this.stencilBuffer=null,this.stencilMaskStack=new a,this.filterStack=[{renderTarget:this,filter:[],bounds:this.size}],this.scaleMode=s||o.SCALE_MODES.DEFAULT,this.root=c,!this.root){this.frameBuffer=e.createFramebuffer(),this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,s===o.SCALE_MODES.LINEAR?e.LINEAR:e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,s===o.SCALE_MODES.LINEAR?e.LINEAR:e.NEAREST);n.isPowerOfTwo(t,i)?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)),e.bindFramebuffer(e.FRAMEBUFFER,this.frameBuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture,0)}this.resize(t,i)};s.prototype.constructor=s,t.exports=s,s.prototype.clear=function(e){var t=this.gl;e&&t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)},s.prototype.attachStencilBuffer=function(){if(!this.stencilBuffer&&!this.root){var e=this.gl;this.stencilBuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this.stencilBuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,this.stencilBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,this.size.width*this.resolution,this.size.height*this.resolution)}},s.prototype.activate=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this.frameBuffer);var t=this.frame||this.size;this.calculateProjection(t),this.transform&&this.projectionMatrix.append(this.transform),e.viewport(0,0,t.width*this.resolution,t.height*this.resolution)},s.prototype.calculateProjection=function(e){var t=this.projectionMatrix;t.identity(),this.root?(t.a=1/e.width*2,t.d=-1/e.height*2,t.tx=-1-e.x*t.a,t.ty=1-e.y*t.d):(t.a=1/e.width*2,t.d=1/e.height*2,t.tx=-1-e.x*t.a,t.ty=-1-e.y*t.d)},s.prototype.resize=function(e,t){if(e|=0,t|=0,this.size.width!==e||this.size.height!==t){if(this.size.width=e,this.size.height=t,!this.root){var i=this.gl;i.bindTexture(i.TEXTURE_2D,this.texture),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,e*this.resolution,t*this.resolution,0,i.RGBA,i.UNSIGNED_BYTE,null),this.stencilBuffer&&(i.bindRenderbuffer(i.RENDERBUFFER,this.stencilBuffer),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,e*this.resolution,t*this.resolution))}var r=this.frame||this.size;this.calculateProjection(r)}},s.prototype.destroy=function(){var e=this.gl;e.deleteRenderbuffer(this.stencilBuffer),e.deleteFramebuffer(this.frameBuffer),e.deleteTexture(this.texture),this.frameBuffer=null,this.texture=null}},{"../../../const":20,"../../../math":30,"../../../utils":74,"./StencilMaskStack":63}],63:[function(e,t,i){function r(){this.stencilStack=[],this.reverse=!0,this.count=0}r.prototype.constructor=r,t.exports=r},{}],64:[function(e,t,i){function r(e){a.call(this),this.anchor=new n.Point,this._texture=null,this._width=0,this._height=0,this.tint=16777215,this.blendMode=c.BLEND_MODES.NORMAL,this.shader=null,this.cachedTint=16777215,this.texture=e||o.EMPTY}var n=e("../math"),o=e("../textures/Texture"),a=e("../display/Container"),s=e("../renderers/canvas/utils/CanvasTinter"),h=e("../utils"),c=e("../const"),l=new n.Point;r.prototype=Object.create(a.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{width:{get:function(){return Math.abs(this.scale.x)*this.texture._frame.width},set:function(e){var t=h.sign(this.scale.x)||1;this.scale.x=t*e/this.texture._frame.width,this._width=e}},height:{get:function(){return Math.abs(this.scale.y)*this.texture._frame.height},set:function(e){var t=h.sign(this.scale.y)||1;this.scale.y=t*e/this.texture._frame.height,this._height=e}},texture:{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture=e,this.cachedTint=16777215,e&&(e.baseTexture.hasLoaded?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}}),r.prototype._onTextureUpdate=function(){this._width&&(this.scale.x=h.sign(this.scale.x)*this._width/this.texture.frame.width),this._height&&(this.scale.y=h.sign(this.scale.y)*this._height/this.texture.frame.height)},r.prototype._renderWebGL=function(e){e.setObjectRenderer(e.plugins.sprite),e.plugins.sprite.render(this)},r.prototype.getBounds=function(e){if(!this._currentBounds){var t,i,r,n,o=this._texture._frame.width,a=this._texture._frame.height,s=o*(1-this.anchor.x),h=o*-this.anchor.x,c=a*(1-this.anchor.y),l=a*-this.anchor.y,u=e||this.worldTransform,d=u.a,f=u.b,p=u.c,m=u.d,v=u.tx,y=u.ty,g=d*h+p*l+v,b=m*l+f*h+y,x=d*s+p*l+v,w=m*l+f*s+y,_=d*s+p*c+v,T=m*c+f*s+y,E=d*h+p*c+v,S=m*c+f*h+y;if(t=g,t=x<t?x:t,t=_<t?_:t,t=E<t?E:t,r=b,r=w<r?w:r,r=T<r?T:r,r=S<r?S:r,i=g,i=x>i?x:i,i=_>i?_:i,i=E>i?E:i,n=b,n=w>n?w:n,n=T>n?T:n,n=S>n?S:n,this.children.length){var M=this.containerGetBounds();s=M.x,h=M.x+M.width,c=M.y,l=M.y+M.height,t=t<s?t:s,r=r<c?r:c,i=i>h?i:h,n=n>l?n:l}var C=this._bounds;C.x=t,C.width=i-t,C.y=r,C.height=n-r,this._currentBounds=C}return this._currentBounds},r.prototype.getLocalBounds=function(){return this._bounds.x=-this._texture._frame.width*this.anchor.x,this._bounds.y=-this._texture._frame.height*this.anchor.y,this._bounds.width=this._texture._frame.width,this._bounds.height=this._texture._frame.height,this._bounds},r.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,l);var t,i=this._texture._frame.width,r=this._texture._frame.height,n=-i*this.anchor.x;return l.x>n&&l.x<n+i&&(t=-r*this.anchor.y,l.y>t&&l.y<t+r)},r.prototype._renderCanvas=function(e){if(!(this.texture.crop.width<=0||this.texture.crop.height<=0)){var t=e.blendModes[this.blendMode];if(t!==e.context.globalCompositeOperation&&(e.context.globalCompositeOperation=t),this.texture.valid){var i,r,n,o,a=this._texture,h=this.worldTransform;e.context.globalAlpha=this.worldAlpha;var l=a.baseTexture.scaleMode===c.SCALE_MODES.LINEAR;if(e.smoothProperty&&e.context[e.smoothProperty]!==l&&(e.context[e.smoothProperty]=l),a.rotate){n=a.crop.height,o=a.crop.width,i=a.trim?a.trim.y-this.anchor.y*a.trim.height:this.anchor.y*-a._frame.height,r=a.trim?a.trim.x-this.anchor.x*a.trim.width:this.anchor.x*-a._frame.width,i+=n,h.tx=r*h.a+i*h.c+h.tx,h.ty=r*h.b+i*h.d+h.ty;var u=h.a;h.a=-h.c,h.c=u,u=h.b,h.b=-h.d,h.d=u,i=0,r=0}else n=a.crop.width,o=a.crop.height,i=a.trim?a.trim.x-this.anchor.x*a.trim.width:this.anchor.x*-a._frame.width,r=a.trim?a.trim.y-this.anchor.y*a.trim.height:this.anchor.y*-a._frame.height;e.roundPixels?(e.context.setTransform(h.a,h.b,h.c,h.d,h.tx*e.resolution|0,h.ty*e.resolution|0),i|=0,r|=0):e.context.setTransform(h.a,h.b,h.c,h.d,h.tx*e.resolution,h.ty*e.resolution);var d=a.baseTexture.resolution;16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=s.getTintedTexture(this,this.tint)),e.context.drawImage(this.tintedTexture,0,0,n*d,o*d,i*e.resolution,r*e.resolution,n*e.resolution,o*e.resolution)):e.context.drawImage(a.baseTexture.source,a.crop.x*d,a.crop.y*d,n*d,o*d,i*e.resolution,r*e.resolution,n*e.resolution,o*e.resolution)}}},r.prototype.destroy=function(e,t){a.prototype.destroy.call(this),this.anchor=null,e&&this._texture.destroy(t),this._texture=null,this.shader=null},r.fromFrame=function(e){var t=h.TextureCache[e];if(!t)throw new Error('The frameId "'+e+'" does not exist in the texture cache');return new r(t)},r.fromImage=function(e,t,i){return new r(o.fromImage(e,t,i))}},{"../const":20,"../display/Container":21,"../math":30,"../renderers/canvas/utils/CanvasTinter":45,"../textures/Texture":69,"../utils":74}],65:[function(e,t,i){function r(e){n.call(this,e),this.vertSize=5,this.vertByteSize=4*this.vertSize,this.size=a.SPRITE_BATCH_SIZE;var t=4*this.size*this.vertByteSize,i=6*this.size;this.vertices=new ArrayBuffer(t),this.positions=new Float32Array(this.vertices),this.colors=new Uint32Array(this.vertices),this.indices=new Uint16Array(i);for(var r=0,o=0;r<i;r+=6,o+=4)this.indices[r+0]=o+0,this.indices[r+1]=o+1,this.indices[r+2]=o+2,this.indices[r+3]=o+0,this.indices[r+4]=o+2,this.indices[r+5]=o+3;this.currentBatchSize=0,this.sprites=[],this.shader=null}var n=e("../../renderers/webgl/utils/ObjectRenderer"),o=e("../../renderers/webgl/WebGLRenderer"),a=e("../../const");r.prototype=Object.create(n.prototype),r.prototype.constructor=r,t.exports=r,o.registerPlugin("sprite",r),r.prototype.onContextChange=function(){var e=this.renderer.gl;this.shader=this.renderer.shaderManager.defaultShader,this.vertexBuffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this.vertices,e.DYNAMIC_DRAW),this.currentBlendMode=99999},r.prototype.render=function(e){var t=e._texture;this.currentBatchSize>=this.size&&this.flush();var i=t._uvs;if(i){var r,n,o,a,s=e.anchor.x,h=e.anchor.y;if(t.trim&&void 0===e.tileScale){var c=t.trim;n=c.x-s*c.width,r=n+t.crop.width,a=c.y-h*c.height,o=a+t.crop.height}else r=t._frame.width*(1-s),n=t._frame.width*-s,o=t._frame.height*(1-h),a=t._frame.height*-h;var l=this.currentBatchSize*this.vertByteSize,u=e.worldTransform,d=u.a,f=u.b,p=u.c,m=u.d,v=u.tx,y=u.ty,g=this.colors,b=this.positions;if(this.renderer.roundPixels){var x=this.renderer.resolution;b[l]=((d*n+p*a+v)*x|0)/x,b[l+1]=((m*a+f*n+y)*x|0)/x,b[l+5]=((d*r+p*a+v)*x|0)/x,b[l+6]=((m*a+f*r+y)*x|0)/x,b[l+10]=((d*r+p*o+v)*x|0)/x,b[l+11]=((m*o+f*r+y)*x|0)/x,b[l+15]=((d*n+p*o+v)*x|0)/x,b[l+16]=((m*o+f*n+y)*x|0)/x}else b[l]=d*n+p*a+v,b[l+1]=m*a+f*n+y,b[l+5]=d*r+p*a+v,b[l+6]=m*a+f*r+y,b[l+10]=d*r+p*o+v,b[l+11]=m*o+f*r+y,b[l+15]=d*n+p*o+v,b[l+16]=m*o+f*n+y;b[l+2]=i.x0,b[l+3]=i.y0,b[l+7]=i.x1,b[l+8]=i.y1,b[l+12]=i.x2,b[l+13]=i.y2,b[l+17]=i.x3,b[l+18]=i.y3;var w=e.tint;g[l+4]=g[l+9]=g[l+14]=g[l+19]=(w>>16)+(65280&w)+((255&w)<<16)+(255*e.worldAlpha<<24),this.sprites[this.currentBatchSize++]=e}},r.prototype.flush=function(){if(0!==this.currentBatchSize){var e,t=this.renderer.gl;if(this.currentBatchSize>.5*this.size)t.bufferSubData(t.ARRAY_BUFFER,0,this.vertices);else{var i=this.positions.subarray(0,this.currentBatchSize*this.vertByteSize);t.bufferSubData(t.ARRAY_BUFFER,0,i)}for(var r,n,o,a,s=0,h=0,c=null,l=this.renderer.blendModeManager.currentBlendMode,u=null,d=!1,f=!1,p=0,m=this.currentBatchSize;p<m;p++)a=this.sprites[p],r=a._texture.baseTexture,n=a.blendMode,o=a.shader||this.shader,d=l!==n,f=u!==o,(c!==r||d||f)&&(this.renderBatch(c,s,h),h=p,s=0,c=r,d&&(l=n,this.renderer.blendModeManager.setBlendMode(l)),f&&(u=o,e=u.shaders?u.shaders[t.id]:u,e||(e=u.getShader(this.renderer)),this.renderer.shaderManager.setShader(e),e.uniforms.projectionMatrix.value=this.renderer.currentRenderTarget.projectionMatrix.toArray(!0),e.syncUniforms(),t.activeTexture(t.TEXTURE0))),s++;this.renderBatch(c,s,h),this.currentBatchSize=0}},r.prototype.renderBatch=function(e,t,i){if(0!==t){var r=this.renderer.gl;e._glTextures[r.id]?r.bindTexture(r.TEXTURE_2D,e._glTextures[r.id]):this.renderer.updateTexture(e),r.drawElements(r.TRIANGLES,6*t,r.UNSIGNED_SHORT,6*i*2),this.renderer.drawCount++}},r.prototype.start=function(){var e=this.renderer.gl;e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var t=this.vertByteSize;e.vertexAttribPointer(this.shader.attributes.aVertexPosition,2,e.FLOAT,!1,t,0),e.vertexAttribPointer(this.shader.attributes.aTextureCoord,2,e.FLOAT,!1,t,8),e.vertexAttribPointer(this.shader.attributes.aColor,4,e.UNSIGNED_BYTE,!0,t,16)},r.prototype.destroy=function(){this.renderer.gl.deleteBuffer(this.vertexBuffer),this.renderer.gl.deleteBuffer(this.indexBuffer),n.prototype.destroy.call(this),this.shader.destroy(),this.renderer=null,this.vertices=null,this.positions=null,this.colors=null,this.indices=null,this.vertexBuffer=null,this.indexBuffer=null,this.sprites=null,this.shader=null}},{"../../const":20,"../../renderers/webgl/WebGLRenderer":46,"../../renderers/webgl/utils/ObjectRenderer":60}],66:[function(e,t,i){function r(e,t,i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||h.RESOLUTION,this._text=null,this._style=null;var r=o.fromCanvas(this.canvas);r.trim=new a.Rectangle,n.call(this,r),this.text=e,this.style=t}var n=e("../sprites/Sprite"),o=e("../textures/Texture"),a=e("../math"),s=e("../utils"),h=e("../const");r.prototype=Object.create(n.prototype),r.prototype.constructor=r,t.exports=r,r.fontPropertiesCache={},r.fontPropertiesCanvas=document.createElement("canvas"),r.fontPropertiesContext=r.fontPropertiesCanvas.getContext("2d"),Object.defineProperties(r.prototype,{width:{get:function(){return this.dirty&&this.updateText(),this.scale.x*this._texture._frame.width},set:function(e){this.scale.x=e/this._texture._frame.width,this._width=e}},height:{get:function(){return this.dirty&&this.updateText(),this.scale.y*this._texture._frame.height},set:function(e){this.scale.y=e/this._texture._frame.height,this._height=e}},style:{get:function(){return this._style},set:function(e){e=e||{},"number"==typeof e.fill&&(e.fill=s.hex2string(e.fill)),"number"==typeof e.stroke&&(e.stroke=s.hex2string(e.stroke)),"number"==typeof e.dropShadowColor&&(e.dropShadowColor=s.hex2string(e.dropShadowColor)),e.font=e.font||"bold 20pt Arial",e.fill=e.fill||"black",e.align=e.align||"left",e.stroke=e.stroke||"black",e.strokeThickness=e.strokeThickness||0,e.wordWrap=e.wordWrap||!1,e.wordWrapWidth=e.wordWrapWidth||100,e.dropShadow=e.dropShadow||!1,e.dropShadowColor=e.dropShadowColor||"#000000",e.dropShadowAngle=e.dropShadowAngle||Math.PI/6,e.dropShadowDistance=e.dropShadowDistance||5,e.padding=e.padding||0,e.textBaseline=e.textBaseline||"alphabetic",e.lineJoin=e.lineJoin||"miter",e.miterLimit=e.miterLimit||10,this._style=e,this.dirty=!0}},text:{get:function(){return this._text},set:function(e){e=e.toString()||" ",this._text!==e&&(this._text=e,this.dirty=!0)}}}),r.prototype.updateText=function(){var e=this._style;this.context.font=e.font;for(var t=e.wordWrap?this.wordWrap(this._text,this.text_join||""):this._text,i=t.split(/(?:\r\n|\r|\n)/),r=new Array(i.length),n=0,o=this.determineFontProperties(e.font),a=0;a<i.length;a++){var s=this.context.measureText(i[a]).width;r[a]=s,n=Math.max(n,s)}!0===e.wordWrap&&(n=Math.max(n,e.wordWrapWidth));var h=n+e.strokeThickness;e.dropShadow&&(h+=e.dropShadowDistance),this.canvas.width=(h+this.context.lineWidth)*this.resolution;var c=this.style.lineHeight||o.fontSize+e.strokeThickness,l=c*i.length;e.dropShadow&&(l+=e.dropShadowDistance),this.canvas.height=(l+2*this._style.padding)*this.resolution,this.context.scale(this.resolution,this.resolution),navigator.isCocoonJS&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.font=e.font,this.context.strokeStyle=e.stroke,this.context.lineWidth=e.strokeThickness,this.context.textBaseline=e.textBaseline,this.context.lineJoin=e.lineJoin,this.context.miterLimit=e.miterLimit;var u,d;if(e.dropShadow){e.dropShadowBlur>0?(this.context.shadowColor=e.dropShadowColor,this.context.shadowBlur=e.dropShadowBlur):this.context.fillStyle=e.dropShadowColor;var f=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,p=Math.sin(e.dropShadowAngle)*e.dropShadowDistance;for(a=0;a<i.length;a++)u=e.strokeThickness/2,d=e.strokeThickness/2+a*c+o.ascent,"right"===e.align?u+=n-r[a]:"center"===e.align&&(u+=(n-r[a])/2),e.fill&&this.context.fillText(i[a],u+f,d+p+this._style.padding)}for(this.context.fillStyle=e.fill,a=0;a<i.length;a++)u=e.strokeThickness/2,d=e.strokeThickness/2+a*c+o.ascent,"right"===e.align?u+=n-r[a]:"center"===e.align&&(u+=(n-r[a])/2),e.stroke&&e.strokeThickness&&this.context.strokeText(i[a],u,d+this._style.padding),e.fill&&this.context.fillText(i[a],u,d+this._style.padding);this.updateTexture()},r.prototype.updateTexture=function(){var e=this._texture;e.baseTexture.hasLoaded=!0,e.baseTexture.resolution=this.resolution,e.baseTexture.width=this.canvas.width/this.resolution,e.baseTexture.height=this.canvas.height/this.resolution,e.crop.width=e._frame.width=this.canvas.width/this.resolution,e.crop.height=e._frame.height=this.canvas.height/this.resolution,e.trim.x=0,e.trim.y=-this._style.padding,e.trim.width=e._frame.width,e.trim.height=e._frame.height-2*this._style.padding,this._width=this.canvas.width/this.resolution,this._height=this.canvas.height/this.resolution,e.baseTexture.emit("update",e.baseTexture),this.dirty=!1},r.prototype.renderWebGL=function(e){this.dirty&&this.updateText(),n.prototype.renderWebGL.call(this,e)},r.prototype._renderCanvas=function(e){this.dirty&&this.updateText(),n.prototype._renderCanvas.call(this,e)},r.prototype.determineFontProperties=function(e){var t=r.fontPropertiesCache[e];if(!t){t={};var i=r.fontPropertiesCanvas,n=r.fontPropertiesContext;n.font=e;var o=Math.ceil(n.measureText("|Mq").width),a=Math.ceil(n.measureText("M").width),s=2*a;a=1.4*a|0,i.width=o,i.height=s,n.fillStyle="#f00",n.fillRect(0,0,o,s),n.font=e,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText("|Mq",0,a);var h,c,l=n.getImageData(0,0,o,s).data,u=l.length,d=4*o,f=0,p=!1;for(h=0;h<a;h++){for(c=0;c<d;c+=4)if(255!==l[f+c]){p=!0;break}if(p)break;f+=d}for(t.ascent=a-h,f=u-d,p=!1,h=s;h>a;h--){for(c=0;c<d;c+=4)if(255!==l[f+c]){p=!0;break}if(p)break;f-=d}t.descent=h-a,t.fontSize=t.ascent+t.descent,r.fontPropertiesCache[e]=t}return t},r.prototype.wordWrap=function(e,t){for(var i="",r=e.split("\n"),n=this._style.wordWrapWidth,o=0;o<r.length;o++){for(var a=n,s=r[o].split(""),h=0;h<s.length;h++){var c=this.context.measureText(s[h]).width,l=c+this.context.measureText(t).width;0===h||l>a?(h>0&&(i+="\n"),i+=s[h],a=n-c):(a-=l,i+=t+s[h])}o<r.length-1&&(i+="\n")}return i},r.prototype.getBounds=function(e){return this.dirty&&this.updateText(),n.prototype.getBounds.call(this,e)},r.prototype.destroy=function(e){this.context=null,this.canvas=null,this._style=null,this._texture.destroy(void 0===e||e)}},{"../const":20,"../math":30,"../sprites/Sprite":64,"../textures/Texture":69,"../utils":74}],67:[function(e,t,i){function r(e,t,i){a.call(this),this.uid=n.uid(),this.resolution=i||1,this.width=100,this.height=100,this.realWidth=100,this.realHeight=100,this.scaleMode=t||o.SCALE_MODES.DEFAULT,this.hasLoaded=!1,this.isLoading=!1,this.source=null,this.premultipliedAlpha=!0,this.imageUrl=null,this.isPowerOfTwo=!1,this.mipmap=!1,this._glTextures={},e&&this.loadSource(e)}var n=e("../utils"),o=e("../const"),a=e("eventemitter3");r.prototype=Object.create(a.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.update=function(){this.realWidth=this.source.naturalWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.height,this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=n.isPowerOfTwo(this.realWidth,this.realHeight),this.emit("update",this)},r.prototype.loadSource=function(e){var t=this.isLoading;if(this.hasLoaded=!1,this.isLoading=!1,t&&this.source&&(this.source.onload=null,this.source.onerror=null),this.source=e,(this.source.complete||this.source.getContext)&&this.source.width&&this.source.height)this._sourceLoaded();else if(!e.getContext){this.isLoading=!0;var i=this;e.onload=function(){e.onload=null,e.onerror=null,i.isLoading&&(i.isLoading=!1,i._sourceLoaded(),i.emit("loaded",i))},e.onerror=function(){e.onload=null,e.onerror=null,i.isLoading&&(i.isLoading=!1,i.emit("error",i))},e.complete&&e.src&&(this.isLoading=!1,e.onload=null,e.onerror=null,e.width&&e.height?(this._sourceLoaded(),t&&this.emit("loaded",this)):t&&this.emit("error",this))}},r.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},r.prototype.destroy=function(){this.imageUrl?(delete n.BaseTextureCache[this.imageUrl],delete n.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")):this.source&&this.source._pixiId&&delete n.BaseTextureCache[this.source._pixiId],this.source=null,this.dispose()},r.prototype.dispose=function(){this.emit("dispose",this)},r.prototype.updateSourceImage=function(e){this.source.src=e,this.loadSource(this.source)},r.fromImage=function(e,t,i){var o=n.BaseTextureCache[e];if(void 0===t&&0!==e.indexOf("data:")&&(t=!0),!o){var a=new Image;t&&(a.crossOrigin=""),o=new r(a,i),o.imageUrl=e,a.src=e,n.BaseTextureCache[e]=o,o.resolution=n.getResolutionOfUrl(e)}return o},r.fromCanvas=function(e,t){e._pixiId||(e._pixiId="canvas_"+n.uid());var i=n.BaseTextureCache[e._pixiId];return i||(i=new r(e,t),n.BaseTextureCache[e._pixiId]=i),i}},{"../const":20,"../utils":74,eventemitter3:3}],68:[function(e,t,i){function r(e,t,i,r,u){if(!e)throw new Error("Unable to create RenderTexture, you must pass a renderer into the constructor.");t=t||100,i=i||100,u=u||l.RESOLUTION;var d=new n;if(d.width=t,d.height=i,d.resolution=u,d.scaleMode=r||l.SCALE_MODES.DEFAULT,d.hasLoaded=!0,o.call(this,d,new c.Rectangle(0,0,t,i)),this.width=t,this.height=i,this.resolution=u,this.render=null,this.renderer=e,this.renderer.type===l.RENDERER_TYPE.WEBGL){var f=this.renderer.gl;this.textureBuffer=new a(f,this.width,this.height,d.scaleMode,this.resolution),this.baseTexture._glTextures[f.id]=this.textureBuffer.texture,this.filterManager=new s(this.renderer),this.filterManager.onContextChange(),this.filterManager.resize(t,i),this.render=this.renderWebGL,this.renderer.currentRenderer.start(),this.renderer.currentRenderTarget.activate()}else this.render=this.renderCanvas,this.textureBuffer=new h(this.width*this.resolution,this.height*this.resolution),this.baseTexture.source=this.textureBuffer.canvas;this.valid=!0,this._updateUvs()}var n=e("./BaseTexture"),o=e("./Texture"),a=e("../renderers/webgl/utils/RenderTarget"),s=e("../renderers/webgl/managers/FilterManager"),h=e("../renderers/canvas/utils/CanvasBuffer"),c=e("../math"),l=e("../const"),u=new c.Matrix;r.prototype=Object.create(o.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.resize=function(e,t,i){e===this.width&&t===this.height||(this.valid=e>0&&t>0,this.width=this._frame.width=this.crop.width=e,this.height=this._frame.height=this.crop.height=t,i&&(this.baseTexture.width=this.width,this.baseTexture.height=this.height),this.valid&&(this.textureBuffer.resize(this.width,this.height),this.filterManager&&this.filterManager.resize(this.width,this.height)))},r.prototype.clear=function(){this.valid&&(this.renderer.type===l.RENDERER_TYPE.WEBGL&&this.renderer.gl.bindFramebuffer(this.renderer.gl.FRAMEBUFFER,this.textureBuffer.frameBuffer),this.textureBuffer.clear())},r.prototype.renderWebGL=function(e,t,i,r){if(this.valid){if(r=void 0===r||r,//!updateTransform;
this.textureBuffer.transform=t,this.textureBuffer.activate(),e.worldAlpha=1,r){e.worldTransform.identity(),e.currentBounds=null;var n,o,a=e.children;for(n=0,o=a.length;n<o;++n)a[n].updateTransform()}var s=this.renderer.filterManager;this.renderer.filterManager=this.filterManager,this.renderer.renderDisplayObject(e,this.textureBuffer,i),this.renderer.filterManager=s}},r.prototype.renderCanvas=function(e,t,i,r){if(this.valid){r=!!r;var n=u;n.identity(),t&&n.append(t);var o=e.worldTransform;e.worldTransform=n,e.worldAlpha=1;var a,s,h=e.children;for(a=0,s=h.length;a<s;++a)h[a].updateTransform();i&&this.textureBuffer.clear();var c=this.textureBuffer.context,l=this.renderer.resolution;this.renderer.resolution=this.resolution,this.renderer.renderDisplayObject(e,c),this.renderer.resolution=l,e.worldTransform===n&&(e.worldTransform=o)}},r.prototype.destroy=function(){o.prototype.destroy.call(this,!0),this.textureBuffer.destroy(),this.filterManager&&this.filterManager.destroy(),this.renderer=null},r.prototype.getImage=function(){var e=new Image;return e.src=this.getBase64(),e},r.prototype.getBase64=function(){return this.getCanvas().toDataURL()},r.prototype.getCanvas=function(){if(this.renderer.type===l.RENDERER_TYPE.WEBGL){var e=this.renderer.gl,t=this.textureBuffer.size.width,i=this.textureBuffer.size.height,r=new Uint8Array(4*t*i);e.bindFramebuffer(e.FRAMEBUFFER,this.textureBuffer.frameBuffer),e.readPixels(0,0,t,i,e.RGBA,e.UNSIGNED_BYTE,r),e.bindFramebuffer(e.FRAMEBUFFER,null);var n=new h(t,i),o=n.context.getImageData(0,0,t,i);return o.data.set(r),n.context.putImageData(o,0,0),n.canvas}return this.textureBuffer.canvas},r.prototype.getPixels=function(){var e,t;if(this.renderer.type===l.RENDERER_TYPE.WEBGL){var i=this.renderer.gl;e=this.textureBuffer.size.width,t=this.textureBuffer.size.height;var r=new Uint8Array(4*e*t);return i.bindFramebuffer(i.FRAMEBUFFER,this.textureBuffer.frameBuffer),i.readPixels(0,0,e,t,i.RGBA,i.UNSIGNED_BYTE,r),i.bindFramebuffer(i.FRAMEBUFFER,null),r}return e=this.textureBuffer.canvas.width,t=this.textureBuffer.canvas.height,this.textureBuffer.canvas.getContext("2d").getImageData(0,0,e,t).data},r.prototype.getPixel=function(e,t){if(this.renderer.type===l.RENDERER_TYPE.WEBGL){var i=this.renderer.gl,r=new Uint8Array(4);return i.bindFramebuffer(i.FRAMEBUFFER,this.textureBuffer.frameBuffer),i.readPixels(e,t,1,1,i.RGBA,i.UNSIGNED_BYTE,r),i.bindFramebuffer(i.FRAMEBUFFER,null),r}return this.textureBuffer.canvas.getContext("2d").getImageData(e,t,1,1).data}},{"../const":20,"../math":30,"../renderers/canvas/utils/CanvasBuffer":42,"../renderers/webgl/managers/FilterManager":51,"../renderers/webgl/utils/RenderTarget":62,"./BaseTexture":67,"./Texture":69}],69:[function(e,t,i){function r(e,t,i,n,o){s.call(this),this.noFrame=!1,t||(this.noFrame=!0,t=new h.Rectangle(0,0,1,1)),e instanceof r&&(e=e.baseTexture),this.baseTexture=e,this._frame=t,this.trim=n,this.valid=!1,this.requiresUpdate=!1,this._uvs=null,this.width=0,this.height=0,this.crop=i||t,this.rotate=!!o,e.hasLoaded?(this.noFrame&&(t=new h.Rectangle(0,0,e.width,e.height),e.on("update",this.onBaseTextureUpdated,this)),this.frame=t):e.once("loaded",this.onBaseTextureLoaded,this)}var n=e("./BaseTexture"),o=e("./VideoBaseTexture"),a=e("./TextureUvs"),s=e("eventemitter3"),h=e("../math"),c=e("../utils");r.prototype=Object.create(s.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{frame:{get:function(){return this._frame},set:function(e){if(this._frame=e,this.noFrame=!1,this.width=e.width,this.height=e.height,!this.trim&&!this.rotate&&(e.x+e.width>this.baseTexture.width||e.y+e.height>this.baseTexture.height))throw new Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.valid=e&&e.width&&e.height&&this.baseTexture.hasLoaded,this.trim?(this.width=this.trim.width,this.height=this.trim.height,this._frame.width=this.trim.width,this._frame.height=this.trim.height):this.crop=e,this.valid&&this._updateUvs()}}}),r.prototype.update=function(){this.baseTexture.update()},r.prototype.onBaseTextureLoaded=function(e){this.noFrame?this.frame=new h.Rectangle(0,0,e.width,e.height):this.frame=this._frame,this.emit("update",this)},r.prototype.onBaseTextureUpdated=function(e){this._frame.width=e.width,this._frame.height=e.height,this.emit("update",this)},r.prototype.destroy=function(e){this.baseTexture&&(e&&this.baseTexture.destroy(),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.crop=null,this.valid=!1,this.off("dispose",this.dispose,this),this.off("update",this.update,this)},r.prototype.clone=function(){return new r(this.baseTexture,this.frame,this.crop,this.trim,this.rotate)},r.prototype._updateUvs=function(){this._uvs||(this._uvs=new a),this._uvs.set(this.crop,this.baseTexture,this.rotate)},r.fromImage=function(e,t,i){var o=c.TextureCache[e];return o||(o=new r(n.fromImage(e,t,i)),c.TextureCache[e]=o),o},r.fromFrame=function(e){var t=c.TextureCache[e];if(!t)throw new Error('The frameId "'+e+'" does not exist in the texture cache');return t},r.fromCanvas=function(e,t){return new r(n.fromCanvas(e,t))},r.fromVideo=function(e,t){return"string"==typeof e?r.fromVideoUrl(e,t):new r(o.fromVideo(e,t))},r.fromVideoUrl=function(e,t){return new r(o.fromUrl(e,t))},r.addTextureToCache=function(e,t){c.TextureCache[t]=e},r.removeTextureFromCache=function(e){var t=c.TextureCache[e];return delete c.TextureCache[e],delete c.BaseTextureCache[e],t},r.EMPTY=new r(new n)},{"../math":30,"../utils":74,"./BaseTexture":67,"./TextureUvs":70,"./VideoBaseTexture":71,eventemitter3:3}],70:[function(e,t,i){function r(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1}t.exports=r,r.prototype.set=function(e,t,i){var r=t.width,n=t.height;i?(this.x0=(e.x+e.height)/r,this.y0=e.y/n,this.x1=(e.x+e.height)/r,this.y1=(e.y+e.width)/n,this.x2=e.x/r,this.y2=(e.y+e.width)/n,this.x3=e.x/r,this.y3=e.y/n):(this.x0=e.x/r,this.y0=e.y/n,this.x1=(e.x+e.width)/r,this.y1=e.y/n,this.x2=(e.x+e.width)/r,this.y2=(e.y+e.height)/n,this.x3=e.x/r,this.y3=(e.y+e.height)/n)}},{}],71:[function(e,t,i){function r(e,t){if(!e)throw new Error("No video source element specified.");(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),o.call(this,e,t),this.autoUpdate=!1,this._onUpdate=this._onUpdate.bind(this),this._onCanPlay=this._onCanPlay.bind(this),e.complete||(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this))),this.__loaded=!1}function n(e,t){t||(t="video/"+e.substr(e.lastIndexOf(".")+1));var i=document.createElement("source");return i.src=e,i.type=t,i}var o=e("./BaseTexture"),a=e("../utils");r.prototype=Object.create(o.prototype),r.prototype.constructor=r,t.exports=r,r.prototype._onUpdate=function(){this.autoUpdate&&(window.requestAnimationFrame(this._onUpdate),this.update())},r.prototype._onPlayStart=function(){this.autoUpdate||(window.requestAnimationFrame(this._onUpdate),this.autoUpdate=!0)},r.prototype._onPlayStop=function(){this.autoUpdate=!1},r.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.source.play(),this.__loaded||(this.__loaded=!0,this.emit("loaded",this)))},r.prototype.destroy=function(){this.source&&this.source._pixiId&&(delete a.BaseTextureCache[this.source._pixiId],delete this.source._pixiId),o.prototype.destroy.call(this)},r.fromVideo=function(e,t){e._pixiId||(e._pixiId="video_"+a.uid());var i=a.BaseTextureCache[e._pixiId];return i||(i=new r(e,t),a.BaseTextureCache[e._pixiId]=i),i},r.fromUrl=function(e,t){var i=document.createElement("video");if(Array.isArray(e))for(var o=0;o<e.length;++o)i.appendChild(n(e[o].src||e[o],e[o].mime));else i.appendChild(n(e.src||e,e.mime));return i.crossOrigin="anonymous",i.load(),i.play(),r.fromVideo(i,t)},r.fromUrls=r.fromUrl},{"../utils":74,"./BaseTexture":67}],72:[function(e,t,i){function r(){var e=this;this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._emitter.listeners(a,!0)&&(e._requestId=requestAnimationFrame(e._tick)))},this._emitter=new o,this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/n.TARGET_FPMS,this.lastTime=0,this.speed=1,this.started=!1}var n=e("../const"),o=e("eventemitter3"),a="tick";Object.defineProperties(r.prototype,{FPS:{get:function(){return 1e3/this.elapsedMS}},minFPS:{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var t=Math.min(Math.max(0,e)/1e3,n.TARGET_FPMS);this._maxElapsedMS=1/t}}}),r.prototype._requestIfNeeded=function(){null===this._requestId&&this._emitter.listeners(a,!0)&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},r.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},r.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},r.prototype.add=function(e,t){return this._emitter.on(a,e,t),this._startIfPossible(),this},r.prototype.addOnce=function(e,t){return this._emitter.once(a,e,t),this._startIfPossible(),this},r.prototype.remove=function(e,t){return this._emitter.off(a,e,t),this._emitter.listeners(a,!0)||this._cancelIfNeeded(),this},r.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},r.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},r.prototype.update=function(e){var t;e=e||performance.now(),t=this.elapsedMS=e-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),this.deltaTime=t*n.TARGET_FPMS*this.speed,this._emitter.emit(a,this.deltaTime),this.lastTime=e},t.exports=r},{"../const":20,eventemitter3:3}],73:[function(e,t,i){var r=e("./Ticker"),n=new r;n.autoStart=!0,t.exports={shared:n,Ticker:r}},{"./Ticker":72}],74:[function(e,t,i){var r=e("../const"),n=t.exports={_uid:0,_saidHello:!1,EventEmitter:e("eventemitter3"),pluginTarget:e("./pluginTarget"),async:e("async"),uid:function(){return++n._uid},hex2rgb:function(e,t){return t=t||[],t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255,t},hex2string:function(e){return e=e.toString(16),"#"+(e="000000".substr(0,6-e.length)+e)},rgb2hex:function(e){return(255*e[0]<<16)+(255*e[1]<<8)+255*e[2]},canUseNewCanvasBlendModes:function(){if("undefined"==typeof document)return!1;var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",t="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",i=new Image;i.src=e+"AP804Oa6"+t;var r=new Image;r.src=e+"/wCKxvRF"+t;var n=document.createElement("canvas");n.width=6,n.height=1;var o=n.getContext("2d");o.globalCompositeOperation="multiply",o.drawImage(i,0,0),o.drawImage(r,2,0);var a=o.getImageData(2,0,1,1).data;return 255===a[0]&&0===a[1]&&0===a[2]},getNextPowerOfTwo:function(e){if(e>0&&0==(e&e-1))return e;for(var t=1;t<e;)t<<=1;return t},isPowerOfTwo:function(e,t){return e>0&&0==(e&e-1)&&t>0&&0==(t&t-1)},getResolutionOfUrl:function(e){var t=r.RETINA_PREFIX.exec(e);return t?parseFloat(t[1]):1},sayHello:function(e){},isWebGLSupported:function(){var e={stencil:!0};try{if(!window.WebGLRenderingContext)return!1;var t=document.createElement("canvas"),i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);return!(!i||!i.getContextAttributes().stencil)}catch(e){return!1}},sign:function(e){return e?e<0?-1:1:0},removeItems:function(e,t,i){var r=e.length;if(!(t>=r||0===i)){i=t+i>r?r-t:i;for(var n=t,o=r-i;n<o;++n)e[n]=e[n+i];e.length=o}},TextureCache:{},BaseTextureCache:{}}},{"../const":20,"./pluginTarget":75,async:1,eventemitter3:3}],75:[function(e,t,i){function r(e){e.__plugins={},e.registerPlugin=function(t,i){e.__plugins[t]=i},e.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var t in e.__plugins)this.plugins[t]=new e.__plugins[t](this)},e.prototype.destroyPlugins=function(){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;this.plugins=null}}t.exports={mixin:function(e){r(e)}}},{}],76:[function(e,t,i){var r=e("./core"),n=e("./mesh"),o=e("./extras"),a=e("./filters");r.SpriteBatch=function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")},r.AssetLoader=function(){throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.")},Object.defineProperties(r,{Stage:{get:function(){return console.warn("You do not need to use a PIXI Stage any more, you can simply render any container."),r.Container}},DisplayObjectContainer:{get:function(){return console.warn("DisplayObjectContainer has been shortened to Container, please use Container from now on."),r.Container}},Strip:{get:function(){return console.warn("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),n.Mesh}},Rope:{get:function(){return console.warn("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),n.Rope}},MovieClip:{get:function(){return console.warn("The MovieClip class has been moved to extras.MovieClip, please use extras.MovieClip from now on."),o.MovieClip}},TilingSprite:{get:function(){return console.warn("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),o.TilingSprite}},BitmapText:{get:function(){return console.warn("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),o.BitmapText}},blendModes:{get:function(){return console.warn("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),r.BLEND_MODES}},scaleModes:{get:function(){return console.warn("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),r.SCALE_MODES}},BaseTextureCache:{get:function(){return console.warn("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),r.utils.BaseTextureCache}},TextureCache:{get:function(){return console.warn("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),r.utils.TextureCache}},math:{get:function(){return console.warn("The math namespace is deprecated, please access members already accessible on PIXI."),r}}}),r.Sprite.prototype.setTexture=function(e){this.texture=e,console.warn("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},o.BitmapText.prototype.setText=function(e){this.text=e,console.warn("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")},r.Text.prototype.setText=function(e){this.text=e,console.warn("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},r.Text.prototype.setStyle=function(e){this.style=e,console.warn("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},r.Texture.prototype.setFrame=function(e){this.frame=e,console.warn("setFrame is now deprecated, please use the frame property, e.g : myTexture.frame = frame;")},Object.defineProperties(a,{AbstractFilter:{get:function(){return console.warn("filters.AbstractFilter is an undocumented alias, please use AbstractFilter from now on."),r.AbstractFilter}},FXAAFilter:{get:function(){return console.warn("filters.FXAAFilter is an undocumented alias, please use FXAAFilter from now on."),r.FXAAFilter}},SpriteMaskFilter:{get:function(){return console.warn("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),r.SpriteMaskFilter}}}),r.utils.uuid=function(){return console.warn("utils.uuid() is deprecated, please use utils.uid() from now on."),r.utils.uid()}},{"./core":27,"./extras":83,"./filters":100,"./mesh":125}],77:[function(e,t,i){function r(e,t){n.Container.call(this),t=t||{},this.textWidth=0,this.textHeight=0,this._glyphs=[],this._font={tint:void 0!==t.tint?t.tint:16777215,align:t.align||"left",name:null,size:0},this.font=t.font,this._text=e,this.maxWidth=0,this.maxLineHeight=0,this.dirty=!1,this.updateText()}var n=e("../core");r.prototype=Object.create(n.Container.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{tint:{get:function(){return this._font.tint},set:function(e){this._font.tint="number"==typeof e&&e>=0?e:16777215,this.dirty=!0}},align:{get:function(){return this._font.align},set:function(e){this._font.align=e||"left",this.dirty=!0}},font:{get:function(){return this._font},set:function(e){e&&("string"==typeof e?(e=e.split(" "),this._font.name=1===e.length?e[0]:e.slice(1).join(" "),this._font.size=e.length>=2?parseInt(e[0],10):r.fonts[this._font.name].size):(this._font.name=e.name,this._font.size="number"==typeof e.size?e.size:parseInt(e.size,10)),this.dirty=!0)}},text:{get:function(){return this._text},set:function(e){e=e.toString()||" ",this._text!==e&&(this._text=e,this.dirty=!0)}}}),r.prototype.updateText=function(){for(var e=r.fonts[this._font.name],t=new n.Point,i=null,o=[],a=0,s=0,h=[],c=0,l=this._font.size/e.size,u=-1,d=0,f=0;f<this.text.length;f++){var p=this.text.charCodeAt(f);if(u=/(\s)/.test(this.text.charAt(f))?f:u,/(?:\r\n|\r|\n)/.test(this.text.charAt(f)))h.push(a),s=Math.max(s,a),c++,t.x=0,t.y+=e.lineHeight,i=null;else if(-1!==u&&this.maxWidth>0&&t.x*l>this.maxWidth)n.utils.removeItems(o,u,f-u),f=u,u=-1,h.push(a),s=Math.max(s,a),c++,t.x=0,t.y+=e.lineHeight,i=null;else{var m=e.chars[p];m&&(i&&m.kerning[i]&&(t.x+=m.kerning[i]),o.push({texture:m.texture,line:c,charCode:p,position:new n.Point(t.x+m.xOffset,t.y+m.yOffset)}),a=t.x+(m.texture.width+m.xOffset),t.x+=m.xAdvance,d=Math.max(d,m.yOffset+m.texture.height),i=p)}}h.push(a),s=Math.max(s,a);var v=[];for(f=0;f<=c;f++){var y=0;"right"===this._font.align?y=s-h[f]:"center"===this._font.align&&(y=(s-h[f])/2),v.push(y)}var g=o.length,b=this.tint;for(f=0;f<g;f++){var x=this._glyphs[f];x?x.texture=o[f].texture:(x=new n.Sprite(o[f].texture),this._glyphs.push(x)),x.position.x=(o[f].position.x+v[o[f].line])*l,x.position.y=o[f].position.y*l,x.scale.x=x.scale.y=l,x.tint=b,x.parent||this.addChild(x)}for(f=g;f<this._glyphs.length;++f)this.removeChild(this._glyphs[f]);this.textWidth=s*l,this.textHeight=(t.y+e.lineHeight)*l,this.maxLineHeight=d*l},r.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},r.prototype.getLocalBounds=function(){return this.validate(),n.Container.prototype.getLocalBounds.call(this)},r.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},r.fonts={}},{"../core":27}],78:[function(e,t,i){function r(e){n.Sprite.call(this,e[0]instanceof n.Texture?e[0]:e[0].texture),this._textures=null,this._durations=null,this.textures=e,this.animationSpeed=1,this.loop=!0,this.onComplete=null,this._currentTime=0,this.playing=!1}var n=e("../core");r.prototype=Object.create(n.Sprite.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{totalFrames:{get:function(){return this._textures.length}},textures:{get:function(){return this._textures},set:function(e){if(e[0]instanceof n.Texture)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}}},currentFrame:{get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}}}),r.prototype.stop=function(){this.playing&&(this.playing=!1,n.ticker.shared.remove(this.update,this))},r.prototype.play=function(){this.playing||(this.playing=!0,n.ticker.shared.add(this.update,this))},r.prototype.gotoAndStop=function(e){this.stop(),this._currentTime=e,this._texture=this._textures[this.currentFrame]},r.prototype.gotoAndPlay=function(e){this._currentTime=e,this.play()},r.prototype.update=function(e){var t=this.animationSpeed*e;if(null!==this._durations){var i=this._currentTime%1*this._durations[this.currentFrame];for(i+=t/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];var r=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*r,this._currentTime+=r;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):this._texture=this._textures[this.currentFrame]},r.prototype.destroy=function(){this.stop(),n.Sprite.prototype.destroy.call(this)},r.fromFrames=function(e){for(var t=[],i=0;i<e.length;++i)t.push(new n.Texture.fromFrame(e[i]));return new r(t)},r.fromImages=function(e){for(var t=[],i=0;i<e.length;++i)t.push(new n.Texture.fromImage(e[i]));return new r(t)}},{"../core":27}],79:[function(e,t,i){function r(e,t,i){n.Sprite.call(this,e),this.tileScale=new n.Point(1,1),this.tilePosition=new n.Point(0,0),this._width=t||100,this._height=i||100,this._uvs=new n.TextureUvs,this._canvasPattern=null,this.shader=new n.AbstractFilter(["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform mat3 projectionMatrix;","uniform vec4 uFrame;","uniform vec4 uTransform;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vec2 coord = aTextureCoord;","   coord -= uTransform.xy;","   coord /= uTransform.zw;","   vTextureCoord = coord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","uniform vec4 uFrame;","uniform vec2 uPixelSize;","void main(void){","   vec2 coord = mod(vTextureCoord, uFrame.zw);","   coord = clamp(coord, uPixelSize, uFrame.zw - uPixelSize);","   coord += uFrame.xy;","   gl_FragColor =  texture2D(uSampler, coord) * vColor ;","}"].join("\n"),{uFrame:{type:"4fv",value:[0,0,1,1]},uTransform:{type:"4fv",value:[0,0,1,1]},uPixelSize:{type:"2fv",value:[1,1]}})}var n=e("../core"),o=new n.Point,a=e("../core/renderers/canvas/utils/CanvasTinter");r.prototype=Object.create(n.Sprite.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{width:{get:function(){return this._width},set:function(e){this._width=e}},height:{get:function(){return this._height},set:function(e){this._height=e}}}),r.prototype._onTextureUpdate=function(){},r.prototype._renderWebGL=function(e){var t=this._texture;if(t&&t._uvs){var i=t._uvs,r=t._frame.width,n=t._frame.height,o=t.baseTexture.width,a=t.baseTexture.height;t._uvs=this._uvs,t._frame.width=this.width,t._frame.height=this.height,this.shader.uniforms.uPixelSize.value[0]=1/o,this.shader.uniforms.uPixelSize.value[1]=1/a,this.shader.uniforms.uFrame.value[0]=i.x0,this.shader.uniforms.uFrame.value[1]=i.y0,this.shader.uniforms.uFrame.value[2]=i.x1-i.x0,this.shader.uniforms.uFrame.value[3]=i.y2-i.y0,this.shader.uniforms.uTransform.value[0]=this.tilePosition.x%(r*this.tileScale.x)/this._width,this.shader.uniforms.uTransform.value[1]=this.tilePosition.y%(n*this.tileScale.y)/this._height,this.shader.uniforms.uTransform.value[2]=o/this._width*this.tileScale.x,this.shader.uniforms.uTransform.value[3]=a/this._height*this.tileScale.y,e.setObjectRenderer(e.plugins.sprite),e.plugins.sprite.render(this),t._uvs=i,t._frame.width=r,t._frame.height=n}},r.prototype._renderCanvas=function(e){var t=this._texture;if(t.baseTexture.hasLoaded){var i=e.context,r=this.worldTransform,o=e.resolution,s=t.baseTexture,h=this.tilePosition.x/this.tileScale.x%t._frame.width,c=this.tilePosition.y/this.tileScale.y%t._frame.height;if(!this._canvasPattern){var l=new n.CanvasBuffer(t._frame.width,t._frame.height);16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=a.getTintedTexture(this,this.tint)),l.context.drawImage(this.tintedTexture,0,0)):l.context.drawImage(s.source,-t._frame.x,-t._frame.y),this._canvasPattern=l.context.createPattern(l.canvas,"repeat")}i.globalAlpha=this.worldAlpha,i.setTransform(r.a*o,r.b*o,r.c*o,r.d*o,r.tx*o,r.ty*o),i.scale(this.tileScale.x,this.tileScale.y),i.translate(h+this.anchor.x*-this._width,c+this.anchor.y*-this._height);var u=e.blendModes[this.blendMode];u!==e.context.globalCompositeOperation&&(i.globalCompositeOperation=u),i.fillStyle=this._canvasPattern,i.fillRect(-h,-c,this._width/this.tileScale.x,this._height/this.tileScale.y)}},r.prototype.getBounds=function(){var e,t,i,r,n=this._width,o=this._height,a=n*(1-this.anchor.x),s=n*-this.anchor.x,h=o*(1-this.anchor.y),c=o*-this.anchor.y,l=this.worldTransform,u=l.a,d=l.b,f=l.c,p=l.d,m=l.tx,v=l.ty,y=u*s+f*c+m,g=p*c+d*s+v,b=u*a+f*c+m,x=p*c+d*a+v,w=u*a+f*h+m,_=p*h+d*a+v,T=u*s+f*h+m,E=p*h+d*s+v;e=y,e=b<e?b:e,e=w<e?w:e,e=T<e?T:e,i=g,i=x<i?x:i,i=_<i?_:i,i=E<i?E:i,t=y,t=b>t?b:t,t=w>t?w:t,t=T>t?T:t,r=g,r=x>r?x:r,r=_>r?_:r,r=E>r?E:r;var S=this._bounds;return S.x=e,S.width=t-e,S.y=i,S.height=r-i,this._currentBounds=S,S},r.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,o);var t,i=this._width,r=this._height,n=-i*this.anchor.x;return o.x>n&&o.x<n+i&&(t=-r*this.anchor.y,o.y>t&&o.y<t+r)},r.prototype.destroy=function(){n.Sprite.prototype.destroy.call(this),this.tileScale=null,this._tileScaleOffset=null,this.tilePosition=null,this._uvs=null},r.fromFrame=function(e,t,i){var o=n.utils.TextureCache[e];if(!o)throw new Error('The frameId "'+e+'" does not exist in the texture cache '+this);return new r(o,t,i)},r.fromImage=function(e,t,i,o,a){return new r(n.Texture.fromImage(e,o,a),t,i)}},{"../core":27,"../core/renderers/canvas/utils/CanvasTinter":45}],80:[function(e,t,i){var r=e("../core"),n=r.DisplayObject,o=new r.Matrix;n.prototype._cacheAsBitmap=!1,n.prototype._originalRenderWebGL=null,n.prototype._originalRenderCanvas=null,n.prototype._originalUpdateTransform=null,n.prototype._originalHitTest=null,n.prototype._originalDestroy=null,n.prototype._cachedSprite=null,Object.defineProperties(n.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){this._cacheAsBitmap!==e&&(this._cacheAsBitmap=e,e?(this._originalRenderWebGL=this.renderWebGL,this._originalRenderCanvas=this.renderCanvas,this._originalUpdateTransform=this.updateTransform,this._originalGetBounds=this.getBounds,this._originalDestroy=this.destroy,this._originalContainsPoint=this.containsPoint,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(this._cachedSprite&&this._destroyCachedDisplayObject(),this.renderWebGL=this._originalRenderWebGL,this.renderCanvas=this._originalRenderCanvas,this.getBounds=this._originalGetBounds,this.destroy=this._originalDestroy,this.updateTransform=this._originalUpdateTransform,this.containsPoint=this._originalContainsPoint))}}}),n.prototype._renderCachedWebGL=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cachedSprite.worldAlpha=this.worldAlpha,e.setObjectRenderer(e.plugins.sprite),e.plugins.sprite.render(this._cachedSprite))},n.prototype._initCachedDisplayObject=function(e){if(!this._cachedSprite){e.currentRenderer.flush();var t=this.getLocalBounds().clone();if(this._filters){var i=this._filters[0].padding;t.x-=i,t.y-=i,t.width+=2*i,t.height+=2*i}var n=e.currentRenderTarget,a=e.filterManager.filterStack,s=new r.RenderTexture(e,0|t.width,0|t.height),h=o;h.tx=-t.x,h.ty=-t.y,this.renderWebGL=this._originalRenderWebGL,s.render(this,h,!0,!0),e.setRenderTarget(n),e.filterManager.filterStack=a,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this.getBounds=this._getCachedBounds,this._cachedSprite=new r.Sprite(s),this._cachedSprite.worldTransform=this.worldTransform,this._cachedSprite.anchor.x=-t.x/t.width,this._cachedSprite.anchor.y=-t.y/t.height,this.updateTransform(),this.containsPoint=this._cachedSprite.containsPoint.bind(this._cachedSprite)}},n.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cachedSprite.worldAlpha=this.worldAlpha,this._cachedSprite.renderCanvas(e))},n.prototype._initCachedDisplayObjectCanvas=function(e){if(!this._cachedSprite){var t=this.getLocalBounds(),i=e.context,n=new r.RenderTexture(e,0|t.width,0|t.height),a=o;a.tx=-t.x,a.ty=-t.y,this.renderCanvas=this._originalRenderCanvas,n.render(this,a,!0),e.context=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.getBounds=this._getCachedBounds,this._cachedSprite=new r.Sprite(n),this._cachedSprite.worldTransform=this.worldTransform,this._cachedSprite.anchor.x=-t.x/t.width,this._cachedSprite.anchor.y=-t.y/t.height,this.updateTransform(),this.containsPoint=this._cachedSprite.containsPoint.bind(this._cachedSprite)}},n.prototype._getCachedBounds=function(){return this._cachedSprite._currentBounds=null,this._cachedSprite.getBounds()},n.prototype._destroyCachedDisplayObject=function(){this._cachedSprite._texture.destroy(),this._cachedSprite=null},n.prototype._cacheAsBitmapDestroy=function(){this.cacheAsBitmap=!1,this._originalDestroy()}},{"../core":27}],81:[function(e,t,i){var r=e("../core");r.DisplayObject.prototype.name=null,r.Container.prototype.getChildByName=function(e){for(var t=0;t<this.children.length;t++)if(this.children[t].name===e)return this.children[t];return null}},{"../core":27}],82:[function(e,t,i){var r=e("../core");r.DisplayObject.prototype.getGlobalPosition=function(e){return e=e||new r.Point,this.parent?(this.displayObjectUpdateTransform(),e.x=this.worldTransform.tx,e.y=this.worldTransform.ty):(e.x=this.position.x,e.y=this.position.y),e}},{"../core":27}],83:[function(e,t,i){/**
 * @file        Main export of the PIXI extras library
 * @author      Mat Groves <mat@goodboydigital.com>
 * @copyright   2013-2015 GoodBoyDigital
 * @license     {@link https://github.com/pixijs/pixi.js/blob/master/LICENSE|MIT License}
 */
e("./cacheAsBitmap"),e("./getChildByName"),e("./getGlobalPosition"),t.exports={MovieClip:e("./MovieClip"),TilingSprite:e("./TilingSprite"),BitmapText:e("./BitmapText")}},{"./BitmapText":77,"./MovieClip":78,"./TilingSprite":79,"./cacheAsBitmap":80,"./getChildByName":81,"./getGlobalPosition":82}],84:[function(e,t,i){function r(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nuniform vec4 dimensions;\nuniform float pixelSize;\nuniform sampler2D uSampler;\n\nfloat character(float n, vec2 p)\n{\n    p = floor(p*vec2(4.0, -4.0) + 2.5);\n    if (clamp(p.x, 0.0, 4.0) == p.x && clamp(p.y, 0.0, 4.0) == p.y)\n    {\n        if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;\n    }\n    return 0.0;\n}\n\nvoid main()\n{\n    vec2 uv = gl_FragCoord.xy;\n\n    vec3 col = texture2D(uSampler, floor( uv / pixelSize ) * pixelSize / dimensions.xy).rgb;\n\n    float gray = (col.r + col.g + col.b) / 3.0;\n\n    float n =  65536.0;             // .\n    if (gray > 0.2) n = 65600.0;    // :\n    if (gray > 0.3) n = 332772.0;   // *\n    if (gray > 0.4) n = 15255086.0; // o\n    if (gray > 0.5) n = 23385164.0; // &\n    if (gray > 0.6) n = 15252014.0; // 8\n    if (gray > 0.7) n = 13199452.0; // @\n    if (gray > 0.8) n = 11512810.0; // #\n\n    vec2 p = mod( uv / ( pixelSize * 0.5 ), 2.0) - vec2(1.0);\n    col = col * character(n, p);\n\n    gl_FragColor = vec4(col, 1.0);\n}\n",{dimensions:{type:"4fv",value:new Float32Array([0,0,0,0])},pixelSize:{type:"1f",value:8}})}var n=e("../../core");r.prototype=Object.create(n.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{size:{get:function(){return this.uniforms.pixelSize.value},set:function(e){this.uniforms.pixelSize.value=e}}})},{"../../core":27}],85:[function(e,t,i){function r(){n.AbstractFilter.call(this),this.blurXFilter=new o,this.blurYFilter=new a,this.defaultFilter=new n.AbstractFilter}var n=e("../../core"),o=e("../blur/BlurXFilter"),a=e("../blur/BlurYFilter");r.prototype=Object.create(n.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.applyFilter=function(e,t,i){var r=e.filterManager.getRenderTarget(!0);this.defaultFilter.applyFilter(e,t,i),this.blurXFilter.applyFilter(e,t,r),e.blendModeManager.setBlendMode(n.BLEND_MODES.SCREEN),this.blurYFilter.applyFilter(e,r,i),e.blendModeManager.setBlendMode(n.BLEND_MODES.NORMAL),e.filterManager.returnRenderTarget(r)},Object.defineProperties(r.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e}},blurX:{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e}},blurY:{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e}}})},{"../../core":27,"../blur/BlurXFilter":88,"../blur/BlurYFilter":89}],86:[function(e,t,i){function r(e,t){n.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform float dirX;\nuniform float dirY;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[3];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[0] = aTextureCoord + vec2( (0.004 * strength) * dirX, (0.004 * strength) * dirY );\n    vBlurTexCoords[1] = aTextureCoord + vec2( (0.008 * strength) * dirX, (0.008 * strength) * dirY );\n    vBlurTexCoords[2] = aTextureCoord + vec2( (0.012 * strength) * dirX, (0.012 * strength) * dirY );\n\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[3];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vTextureCoord     ) * 0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0]) * 0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1]) * 0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2]) * 0.004431848411938341;\n}\n",{strength:{type:"1f",value:1},dirX:{type:"1f",value:e||0},dirY:{type:"1f",value:t||0}}),this.defaultFilter=new n.AbstractFilter,this.passes=1,this.dirX=e||0,this.dirY=t||0,this.strength=4}var n=e("../../core");r.prototype=Object.create(n.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.applyFilter=function(e,t,i,r){var n=this.getShader(e);if(this.uniforms.strength.value=this.strength/4/this.passes*(t.frame.width/t.size.width),1===this.passes)e.filterManager.applyFilter(n,t,i,r);else{var o=e.filterManager.getRenderTarget(!0);e.filterManager.applyFilter(n,t,o,r);for(var a=0;a<this.passes-2;a++)e.filterManager.applyFilter(n,o,o,r);e.filterManager.applyFilter(n,o,i,r),e.filterManager.returnRenderTarget(o)}},Object.defineProperties(r.prototype,{blur:{get:function(){return this.strength},set:function(e){this.padding=.5*e,this.strength=e}},dirX:{get:function(){return this.dirX},set:function(e){this.uniforms.dirX.value=e}},dirY:{get:function(){return this.dirY},set:function(e){this.uniforms.dirY.value=e}}})},{"../../core":27}],87:[function(e,t,i){function r(){n.AbstractFilter.call(this),this.blurXFilter=new o,this.blurYFilter=new a}var n=e("../../core"),o=e("./BlurXFilter"),a=e("./BlurYFilter");r.prototype=Object.create(n.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.applyFilter=function(e,t,i){var r=e.filterManager.getRenderTarget(!0);this.blurXFilter.applyFilter(e,t,r),this.blurYFilter.applyFilter(e,r,i),e.filterManager.returnRenderTarget(r)},Object.defineProperties(r.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(e){this.padding=.5*Math.abs(e),this.blurXFilter.blur=this.blurYFilter.blur=e}},passes:{get:function(){return this.blurXFilter.passes},set:function(e){this.blurXFilter.passes=this.blurYFilter.passes=e}},blurX:{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e}},blurY:{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e}}})},{"../../core":27,"./BlurXFilter":88,"./BlurYFilter":89}],88:[function(e,t,i){function r(){n.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(-0.012 * strength, 0.0);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(-0.008 * strength, 0.0);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(-0.004 * strength, 0.0);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2( 0.004 * strength, 0.0);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2( 0.008 * strength, 0.0);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2( 0.012 * strength, 0.0);\n\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n}\n",{strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var n=e("../../core");r.prototype=Object.create(n.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.applyFilter=function(e,t,i,r){var n=this.getShader(e);if(this.uniforms.strength.value=this.strength/4/this.passes*(t.frame.width/t.size.width),1===this.passes)e.filterManager.applyFilter(n,t,i,r);else{for(var o=e.filterManager.getRenderTarget(!0),a=t,s=o,h=0;h<this.passes-1;h++){e.filterManager.applyFilter(n,a,s,!0);var c=s;s=a,a=c}e.filterManager.applyFilter(n,a,i,r),e.filterManager.returnRenderTarget(o)}},Object.defineProperties(r.prototype,{blur:{get:function(){return this.strength},set:function(e){this.padding=.5*Math.abs(e),this.strength=e}}})},{"../../core":27}],89:[function(e,t,i){function r(){n.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(0.0, -0.012 * strength);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(0.0, -0.008 * strength);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(0.0, -0.004 * strength);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2(0.0,  0.004 * strength);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2(0.0,  0.008 * strength);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2(0.0,  0.012 * strength);\n\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n}\n",{strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var n=e("../../core");r.prototype=Object.create(n.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.applyFilter=function(e,t,i,r){var n=this.getShader(e);if(this.uniforms.strength.value=Math.abs(this.strength)/4/this.passes*(t.frame.height/t.size.height),1===this.passes)e.filterManager.applyFilter(n,t,i,r);else{for(var o=e.filterManager.getRenderTarget(!0),a=t,s=o,h=0;h<this.passes-1;h++){e.filterManager.applyFilter(n,a,s,!0);var c=s;s=a,a=c}e.filterManager.applyFilter(n,a,i,r),e.filterManager.returnRenderTarget(o)}},Object.defineProperties(r.prototype,{blur:{get:function(){return this.strength},set:function(e){this.padding=.5*Math.abs(e),this.strength=e}}})},{"../../core":27}],90:[function(e,t,i){function r(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 delta;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta * percent);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n",{delta:{type:"v2",value:{x:.1,y:0}}})}var n=e("../../core");r.prototype=Object.create(n.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r},{"../../core":27}],91:[function(e,t,i){function r(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[25];\n\nvoid main(void)\n{\n\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.r = (m[0] * c.r);\n        gl_FragColor.r += (m[1] * c.g);\n        gl_FragColor.r += (m[2] * c.b);\n        gl_FragColor.r += (m[3] * c.a);\n        gl_FragColor.r += m[4];\n\n    gl_FragColor.g = (m[5] * c.r);\n        gl_FragColor.g += (m[6] * c.g);\n        gl_FragColor.g += (m[7] * c.b);\n        gl_FragColor.g += (m[8] * c.a);\n        gl_FragColor.g += m[9];\n\n     gl_FragColor.b = (m[10] * c.r);\n        gl_FragColor.b += (m[11] * c.g);\n        gl_FragColor.b += (m[12] * c.b);\n        gl_FragColor.b += (m[13] * c.a);\n        gl_FragColor.b += m[14];\n\n     gl_FragColor.a = (m[15] * c.r);\n        gl_FragColor.a += (m[16] * c.g);\n        gl_FragColor.a += (m[17] * c.b);\n        gl_FragColor.a += (m[18] * c.a);\n        gl_FragColor.a += m[19];\n\n}\n",{m:{type:"1fv",value:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]}})}var n=e("../../core");r.prototype=Object.create(n.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,r.prototype._loadMatrix=function(e,t){t=!!t;var i=e;t&&(this._multiply(i,this.uniforms.m.value,e),i=this._colorMatrix(i)),this.uniforms.m.value=i},r.prototype._multiply=function(e,t,i){return e[0]=t[0]*i[0]+t[1]*i[5]+t[2]*i[10]+t[3]*i[15],e[1]=t[0]*i[1]+t[1]*i[6]+t[2]*i[11]+t[3]*i[16],e[2]=t[0]*i[2]+t[1]*i[7]+t[2]*i[12]+t[3]*i[17],e[3]=t[0]*i[3]+t[1]*i[8]+t[2]*i[13]+t[3]*i[18],e[4]=t[0]*i[4]+t[1]*i[9]+t[2]*i[14]+t[3]*i[19],e[5]=t[5]*i[0]+t[6]*i[5]+t[7]*i[10]+t[8]*i[15],e[6]=t[5]*i[1]+t[6]*i[6]+t[7]*i[11]+t[8]*i[16],e[7]=t[5]*i[2]+t[6]*i[7]+t[7]*i[12]+t[8]*i[17],e[8]=t[5]*i[3]+t[6]*i[8]+t[7]*i[13]+t[8]*i[18],e[9]=t[5]*i[4]+t[6]*i[9]+t[7]*i[14]+t[8]*i[19],e[10]=t[10]*i[0]+t[11]*i[5]+t[12]*i[10]+t[13]*i[15],e[11]=t[10]*i[1]+t[11]*i[6]+t[12]*i[11]+t[13]*i[16],e[12]=t[10]*i[2]+t[11]*i[7]+t[12]*i[12]+t[13]*i[17],e[13]=t[10]*i[3]+t[11]*i[8]+t[12]*i[13]+t[13]*i[18],e[14]=t[10]*i[4]+t[11]*i[9]+t[12]*i[14]+t[13]*i[19],e[15]=t[15]*i[0]+t[16]*i[5]+t[17]*i[10]+t[18]*i[15],e[16]=t[15]*i[1]+t[16]*i[6]+t[17]*i[11]+t[18]*i[16],e[17]=t[15]*i[2]+t[16]*i[7]+t[17]*i[12]+t[18]*i[17],e[18]=t[15]*i[3]+t[16]*i[8]+t[17]*i[13]+t[18]*i[18],e[19]=t[15]*i[4]+t[16]*i[9]+t[17]*i[14]+t[18]*i[19],e},r.prototype._colorMatrix=function(e){var t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t},r.prototype.brightness=function(e,t){var i=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(i,t)},r.prototype.greyscale=function(e,t){var i=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(i,t)},r.prototype.grayscale=r.prototype.greyscale,r.prototype.blackAndWhite=function(e){var t=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(t,e)},r.prototype.hue=function(e,t){e=(e||0)/180*Math.PI;var i=Math.cos(e),r=Math.sin(e),n=[.213+.787*i+-.213*r,.715+-.715*i+-.715*r,.072+-.072*i+.928*r,0,0,.213+-.213*i+.143*r,.715+i*(1-.715)+.14*r,.072+-.072*i+-.283*r,0,0,.213+-.213*i+-.787*r,.715+-.715*i+.715*r,.072+.928*i+.072*r,0,0,0,0,0,1,0];this._loadMatrix(n,t)},r.prototype.contrast=function(e,t){var i=(e||0)+1,r=-128*(i-1),n=[i,0,0,0,r,0,i,0,0,r,0,0,i,0,r,0,0,0,1,0];this._loadMatrix(n,t)},r.prototype.saturate=function(e,t){var i=2*(e||0)/3+1,r=-.5*(i-1),n=[i,r,r,0,0,r,i,r,0,0,r,r,i,0,0,0,0,0,1,0];this._loadMatrix(n,t)},r.prototype.desaturate=function(e){this.saturate(-1)},r.prototype.negative=function(e){var t=[0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0];this._loadMatrix(t,e)},r.prototype.sepia=function(e){var t=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(t,e)},r.prototype.technicolor=function(e){var t=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(t,e)},r.prototype.polaroid=function(e){var t=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(t,e)},r.prototype.toBGR=function(e){var t=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(t,e)},r.prototype.kodachrome=function(e){var t=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(t,e)},r.prototype.browni=function(e){var t=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(t,e)},r.prototype.vintage=function(e){var t=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(t,e)},r.prototype.colorTone=function(e,t,i,r,n){e=e||.2,t=t||.15,i=i||16770432,r=r||3375104;var o=(i>>16&255)/255,a=(i>>8&255)/255,s=(255&i)/255,h=(r>>16&255)/255,c=(r>>8&255)/255,l=(255&r)/255,u=[.3,.59,.11,0,0,o,a,s,e,0,h,c,l,t,0,o-h,a-c,s-l,0,0];this._loadMatrix(u,n)},r.prototype.night=function(e,t){e=e||.1;var i=[-2*e,-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(i,t)},r.prototype.predator=function(e,t){var i=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(i,t)},r.prototype.lsd=function(e){var t=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(t,e)},r.prototype.reset=function(){var e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)},Object.defineProperties(r.prototype,{matrix:{get:function(){return this.uniforms.m.value},set:function(e){this.uniforms.m.value=e}}})},{"../../core":27}],92:[function(e,t,i){function r(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float step;\n\nvoid main(void)\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    color = floor(color * step) / step;\n\n    gl_FragColor = color;\n}\n",{step:{type:"1f",value:5}})}var n=e("../../core");r.prototype=Object.create(n.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{step:{get:function(){return this.uniforms.step.value},set:function(e){this.uniforms.step.value=e}}})},{"../../core":27}],93:[function(e,t,i){function r(e,t,i){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying mediump vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 texelSize;\nuniform float matrix[9];\n\nvoid main(void)\n{\n   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left\n   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center\n   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right\n\n   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left\n   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center\n   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right\n\n   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left\n   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center\n   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right\n\n   gl_FragColor =\n       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +\n       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +\n       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];\n\n   gl_FragColor.a = c22.a;\n}\n",{matrix:{type:"1fv",value:new Float32Array(e)},texelSize:{type:"v2",value:{x:1/t,y:1/i}}})}var n=e("../../core");r.prototype=Object.create(n.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{matrix:{get:function(){return this.uniforms.matrix.value},set:function(e){this.uniforms.matrix.value=new Float32Array(e)}},width:{get:function(){return 1/this.uniforms.texelSize.value.x},set:function(e){this.uniforms.texelSize.value.x=1/e}},height:{get:function(){return 1/this.uniforms.texelSize.value.y},set:function(e){this.uniforms.texelSize.value.y=1/e}}})},{"../../core":27}],94:[function(e,t,i){function r(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);\n\n    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\n\n    if (lum < 1.00)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.75)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.50)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.3)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n}\n")}var n=e("../../core");r.prototype=Object.create(n.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r},{"../../core":27}],95:[function(e,t,i){function r(e,t){var i=new n.Matrix;e.renderable=!1,n.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMapCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vMapCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision mediump float;\n\nvarying vec2 vMapCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vMapCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y));\n}\n",{mapSampler:{type:"sampler2D",value:e.texture},otherMatrix:{type:"mat3",value:i.toArray(!0)},scale:{type:"v2",value:{x:1,y:1}}}),this.maskSprite=e,this.maskMatrix=i,null!==t&&void 0!==t||(t=20),this.scale=new n.Point(t,t)}var n=e("../../core");r.prototype=Object.create(n.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.applyFilter=function(e,t,i){var r=e.filterManager;r.calculateMappedMatrix(t.frame,this.maskSprite,this.maskMatrix),this.uniforms.otherMatrix.value=this.maskMatrix.toArray(!0),this.uniforms.scale.value.x=this.scale.x*(1/t.frame.width),this.uniforms.scale.value.y=this.scale.y*(1/t.frame.height);var n=this.getShader(e);r.applyFilter(n,t,i)},Object.defineProperties(r.prototype,{map:{get:function(){return this.uniforms.mapSampler.value},set:function(e){this.uniforms.mapSampler.value=e}}})},{"../../core":27}],96:[function(e,t,i){function r(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec4 dimensions;\nuniform sampler2D uSampler;\n\nuniform float angle;\nuniform float scale;\n\nfloat pattern()\n{\n   float s = sin(angle), c = cos(angle);\n   vec2 tex = vTextureCoord * dimensions.xy;\n   vec2 point = vec2(\n       c * tex.x - s * tex.y,\n       s * tex.x + c * tex.y\n   ) * scale;\n   return (sin(point.x) * sin(point.y)) * 4.0;\n}\n\nvoid main()\n{\n   vec4 color = texture2D(uSampler, vTextureCoord);\n   float average = (color.r + color.g + color.b) / 3.0;\n   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);\n}\n",{scale:{type:"1f",value:1},angle:{type:"1f",value:5},dimensions:{type:"4fv",value:[0,0,0,0]}})}var n=e("../../core");r.prototype=Object.create(n.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{scale:{get:function(){return this.uniforms.scale.value},set:function(e){this.uniforms.scale.value=e}},angle:{get:function(){return this.uniforms.angle.value},set:function(e){this.uniforms.angle.value=e}}})},{"../../core":27}],97:[function(e,t,i){function r(){n.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform vec2 offset;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition+offset), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(0.0, -0.012 * strength);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(0.0, -0.008 * strength);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(0.0, -0.004 * strength);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2(0.0,  0.004 * strength);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2(0.0,  0.008 * strength);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2(0.0,  0.012 * strength);\n\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform vec3 color;\nuniform float alpha;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    vec4 sum = vec4(0.0);\n\n    sum += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    sum += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    sum += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    sum += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    sum += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    sum += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    sum += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n\n    gl_FragColor = vec4( color.rgb * sum.a * alpha, sum.a * alpha );\n}\n",{blur:{type:"1f",value:1/512},color:{type:"c",value:[0,0,0]},alpha:{type:"1f",value:.7},offset:{type:"2f",value:[5,5]},strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var n=e("../../core");r.prototype=Object.create(n.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.applyFilter=function(e,t,i,r){var n=this.getShader(e);if(this.uniforms.strength.value=this.strength/4/this.passes*(t.frame.height/t.size.height),1===this.passes)e.filterManager.applyFilter(n,t,i,r);else{for(var o=e.filterManager.getRenderTarget(!0),a=t,s=o,h=0;h<this.passes-1;h++){e.filterManager.applyFilter(n,a,s,r);var c=s;s=a,a=c}e.filterManager.applyFilter(n,a,i,r),e.filterManager.returnRenderTarget(o)}},Object.defineProperties(r.prototype,{blur:{get:function(){return this.strength},set:function(e){this.padding=.5*e,this.strength=e}}})},{"../../core":27}],98:[function(e,t,i){function r(){n.AbstractFilter.call(this),this.blurXFilter=new o,this.blurYTintFilter=new a,this.defaultFilter=new n.AbstractFilter,this.padding=30,this._dirtyPosition=!0,this._angle=45*Math.PI/180,this._distance=10,this.alpha=.75,this.hideObject=!1,this.blendMode=n.BLEND_MODES.MULTIPLY}var n=e("../../core"),o=e("../blur/BlurXFilter"),a=e("./BlurYTintFilter");r.prototype=Object.create(n.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.applyFilter=function(e,t,i){var r=e.filterManager.getRenderTarget(!0);this._dirtyPosition&&(this._dirtyPosition=!1,this.blurYTintFilter.uniforms.offset.value[0]=Math.sin(this._angle)*this._distance,this.blurYTintFilter.uniforms.offset.value[1]=Math.cos(this._angle)*this._distance),this.blurXFilter.applyFilter(e,t,r),e.blendModeManager.setBlendMode(this.blendMode),this.blurYTintFilter.applyFilter(e,r,i),e.blendModeManager.setBlendMode(n.BLEND_MODES.NORMAL),this.hideObject||this.defaultFilter.applyFilter(e,t,i),e.filterManager.returnRenderTarget(r)},Object.defineProperties(r.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYTintFilter.blur=e}},blurX:{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e}},blurY:{get:function(){return this.blurYTintFilter.blur},set:function(e){this.blurYTintFilter.blur=e}},color:{get:function(){return n.utils.rgb2hex(this.blurYTintFilter.uniforms.color.value)},set:function(e){this.blurYTintFilter.uniforms.color.value=n.utils.hex2rgb(e)}},alpha:{get:function(){return this.blurYTintFilter.uniforms.alpha.value},set:function(e){this.blurYTintFilter.uniforms.alpha.value=e}},distance:{get:function(){return this._distance},set:function(e){this._dirtyPosition=!0,this._distance=e}},angle:{get:function(){return this._angle},set:function(e){this._dirtyPosition=!0,this._angle=e}}})},{"../../core":27,"../blur/BlurXFilter":88,"./BlurYTintFilter":97}],99:[function(e,t,i){function r(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float gray;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor.rgb = mix(gl_FragColor.rgb, vec3(0.2126*gl_FragColor.r + 0.7152*gl_FragColor.g + 0.0722*gl_FragColor.b), gray);\n}\n",{gray:{type:"1f",value:1}})}var n=e("../../core");r.prototype=Object.create(n.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{gray:{get:function(){return this.uniforms.gray.value},set:function(e){this.uniforms.gray.value=e}}})},{"../../core":27}],100:[function(e,t,i){/**
 * @file        Main export of the PIXI filters library
 * @author      Mat Groves <mat@goodboydigital.com>
 * @copyright   2013-2015 GoodBoyDigital
 * @license     {@link https://github.com/pixijs/pixi.js/blob/master/LICENSE|MIT License}
 */
t.exports={AsciiFilter:e("./ascii/AsciiFilter"),BloomFilter:e("./bloom/BloomFilter"),BlurFilter:e("./blur/BlurFilter"),BlurXFilter:e("./blur/BlurXFilter"),BlurYFilter:e("./blur/BlurYFilter"),BlurDirFilter:e("./blur/BlurDirFilter"),ColorMatrixFilter:e("./color/ColorMatrixFilter"),ColorStepFilter:e("./color/ColorStepFilter"),ConvolutionFilter:e("./convolution/ConvolutionFilter"),CrossHatchFilter:e("./crosshatch/CrossHatchFilter"),DisplacementFilter:e("./displacement/DisplacementFilter"),DotScreenFilter:e("./dot/DotScreenFilter"),GrayFilter:e("./gray/GrayFilter"),DropShadowFilter:e("./dropshadow/DropShadowFilter"),InvertFilter:e("./invert/InvertFilter"),NoiseFilter:e("./noise/NoiseFilter"),PixelateFilter:e("./pixelate/PixelateFilter"),RGBSplitFilter:e("./rgb/RGBSplitFilter"),ShockwaveFilter:e("./shockwave/ShockwaveFilter"),SepiaFilter:e("./sepia/SepiaFilter"),SmartBlurFilter:e("./blur/SmartBlurFilter"),TiltShiftFilter:e("./tiltshift/TiltShiftFilter"),TiltShiftXFilter:e("./tiltshift/TiltShiftXFilter"),TiltShiftYFilter:e("./tiltshift/TiltShiftYFilter"),TwistFilter:e("./twist/TwistFilter")}},{"./ascii/AsciiFilter":84,"./bloom/BloomFilter":85,"./blur/BlurDirFilter":86,"./blur/BlurFilter":87,"./blur/BlurXFilter":88,"./blur/BlurYFilter":89,"./blur/SmartBlurFilter":90,"./color/ColorMatrixFilter":91,"./color/ColorStepFilter":92,"./convolution/ConvolutionFilter":93,"./crosshatch/CrossHatchFilter":94,"./displacement/DisplacementFilter":95,"./dot/DotScreenFilter":96,"./dropshadow/DropShadowFilter":98,"./gray/GrayFilter":99,"./invert/InvertFilter":101,"./noise/NoiseFilter":102,"./pixelate/PixelateFilter":103,"./rgb/RGBSplitFilter":104,"./sepia/SepiaFilter":105,"./shockwave/ShockwaveFilter":106,"./tiltshift/TiltShiftFilter":108,"./tiltshift/TiltShiftXFilter":109,"./tiltshift/TiltShiftYFilter":110,"./twist/TwistFilter":111}],101:[function(e,t,i){function r(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform float invert;\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.rgb = mix( (vec3(1)-gl_FragColor.rgb) * gl_FragColor.a, gl_FragColor.rgb, 1.0 - invert);\n}\n",{invert:{type:"1f",value:1}})}var n=e("../../core");r.prototype=Object.create(n.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{invert:{get:function(){return this.uniforms.invert.value},set:function(e){this.uniforms.invert.value=e}}})},{"../../core":27}],102:[function(e,t,i){function r(){n.AbstractFilter.call(this,null,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float noise;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    float diff = (rand(vTextureCoord) - 0.5) * noise;\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    gl_FragColor = color;\n}\n",{noise:{type:"1f",value:.5}})}var n=e("../../core");r.prototype=Object.create(n.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{noise:{get:function(){return this.uniforms.noise.value},set:function(e){this.uniforms.noise.value=e}}})},{"../../core":27}],103:[function(e,t,i){function r(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 dimensions;\nuniform vec2 pixelSize;\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord;\n\n    vec2 size = dimensions.xy / pixelSize;\n\n    vec2 color = floor( ( vTextureCoord * size ) ) / size + pixelSize/dimensions.xy * 0.5;\n\n    gl_FragColor = texture2D(uSampler, color);\n}\n",{dimensions:{type:"4fv",value:new Float32Array([0,0,0,0])},pixelSize:{type:"v2",value:{x:10,y:10}}})}var n=e("../../core");r.prototype=Object.create(n.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{size:{get:function(){return this.uniforms.pixelSize.value},set:function(e){this.uniforms.pixelSize.value=e}}})},{"../../core":27}],104:[function(e,t,i){function r(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 dimensions;\nuniform vec2 red;\nuniform vec2 green;\nuniform vec2 blue;\n\nvoid main(void)\n{\n   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/dimensions.xy).r;\n   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/dimensions.xy).g;\n   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/dimensions.xy).b;\n   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;\n}\n",{red:{type:"v2",value:{x:20,y:20}},green:{type:"v2",value:{x:-20,y:20}},blue:{type:"v2",value:{x:20,y:-20}},dimensions:{type:"4fv",value:[0,0,0,0]}})}var n=e("../../core");r.prototype=Object.create(n.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{red:{get:function(){return this.uniforms.red.value},set:function(e){this.uniforms.red.value=e}},green:{get:function(){return this.uniforms.green.value},set:function(e){this.uniforms.green.value=e}},blue:{get:function(){return this.uniforms.blue.value},set:function(e){this.uniforms.blue.value=e}}})},{"../../core":27}],105:[function(e,t,i){function r(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float sepia;\n\nconst mat3 sepiaMatrix = mat3(0.3588, 0.7044, 0.1368, 0.2990, 0.5870, 0.1140, 0.2392, 0.4696, 0.0912);\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb * sepiaMatrix, sepia);\n}\n",{sepia:{type:"1f",value:1}})}var n=e("../../core");r.prototype=Object.create(n.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{sepia:{get:function(){return this.uniforms.sepia.value},set:function(e){this.uniforms.sepia.value=e}}})},{"../../core":27}],106:[function(e,t,i){function r(){n.AbstractFilter.call(this,null,"precision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nuniform vec2 center;\nuniform vec3 params; // 10.0, 0.8, 0.1\nuniform float time;\n\nvoid main()\n{\n    vec2 uv = vTextureCoord;\n    vec2 texCoord = uv;\n\n    float dist = distance(uv, center);\n\n    if ( (dist <= (time + params.z)) && (dist >= (time - params.z)) )\n    {\n        float diff = (dist - time);\n        float powDiff = 1.0 - pow(abs(diff*params.x), params.y);\n\n        float diffTime = diff  * powDiff;\n        vec2 diffUV = normalize(uv - center);\n        texCoord = uv + (diffUV * diffTime);\n    }\n\n    gl_FragColor = texture2D(uSampler, texCoord);\n}\n",{center:{type:"v2",value:{x:.5,y:.5}},params:{type:"v3",value:{x:10,y:.8,z:.1}},time:{type:"1f",value:0}})}var n=e("../../core");r.prototype=Object.create(n.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{center:{get:function(){return this.uniforms.center.value},set:function(e){this.uniforms.center.value=e}},params:{get:function(){return this.uniforms.params.value},set:function(e){this.uniforms.params.value=e}},time:{get:function(){return this.uniforms.time.value},set:function(e){this.uniforms.time.value=e}}})},{"../../core":27}],107:[function(e,t,i){function r(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float blur;\nuniform float gradientBlur;\nuniform vec2 start;\nuniform vec2 end;\nuniform vec2 delta;\nuniform vec2 texSize;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));\n    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n",{blur:{type:"1f",value:100},gradientBlur:{type:"1f",value:600},start:{type:"v2",value:{x:0,y:window.innerHeight/2}},end:{type:"v2",value:{x:600,y:window.innerHeight/2}},delta:{type:"v2",value:{x:30,y:30}},texSize:{type:"v2",value:{x:window.innerWidth,y:window.innerHeight}}}),this.updateDelta()}var n=e("../../core");r.prototype=Object.create(n.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.updateDelta=function(){this.uniforms.delta.value.x=0,this.uniforms.delta.value.y=0},Object.defineProperties(r.prototype,{blur:{get:function(){return this.uniforms.blur.value},set:function(e){this.uniforms.blur.value=e}},gradientBlur:{get:function(){return this.uniforms.gradientBlur.value},set:function(e){this.uniforms.gradientBlur.value=e}},start:{get:function(){return this.uniforms.start.value},set:function(e){this.uniforms.start.value=e,this.updateDelta()}},end:{get:function(){return this.uniforms.end.value},set:function(e){this.uniforms.end.value=e,this.updateDelta()}}})},{"../../core":27}],108:[function(e,t,i){function r(){n.AbstractFilter.call(this),this.tiltShiftXFilter=new o,this.tiltShiftYFilter=new a}var n=e("../../core"),o=e("./TiltShiftXFilter"),a=e("./TiltShiftYFilter");r.prototype=Object.create(n.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.applyFilter=function(e,t,i){var r=e.filterManager.getRenderTarget(!0);this.tiltShiftXFilter.applyFilter(e,t,r),this.tiltShiftYFilter.applyFilter(e,r,i),e.filterManager.returnRenderTarget(r)},Object.defineProperties(r.prototype,{blur:{get:function(){return this.tiltShiftXFilter.blur},set:function(e){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=e}},gradientBlur:{get:function(){return this.tiltShiftXFilter.gradientBlur},set:function(e){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=e}},start:{get:function(){return this.tiltShiftXFilter.start},set:function(e){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=e}},end:{get:function(){return this.tiltShiftXFilter.end},set:function(e){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=e}}})},{"../../core":27,"./TiltShiftXFilter":109,"./TiltShiftYFilter":110}],109:[function(e,t,i){function r(){n.call(this)}var n=e("./TiltShiftAxisFilter");r.prototype=Object.create(n.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.updateDelta=function(){var e=this.uniforms.end.value.x-this.uniforms.start.value.x,t=this.uniforms.end.value.y-this.uniforms.start.value.y,i=Math.sqrt(e*e+t*t);this.uniforms.delta.value.x=e/i,this.uniforms.delta.value.y=t/i}},{"./TiltShiftAxisFilter":107}],110:[function(e,t,i){function r(){n.call(this)}var n=e("./TiltShiftAxisFilter");r.prototype=Object.create(n.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.updateDelta=function(){var e=this.uniforms.end.value.x-this.uniforms.start.value.x,t=this.uniforms.end.value.y-this.uniforms.start.value.y,i=Math.sqrt(e*e+t*t);this.uniforms.delta.value.x=-t/i,this.uniforms.delta.value.y=e/i}},{"./TiltShiftAxisFilter":107}],111:[function(e,t,i){function r(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\n\nvoid main(void)\n{\n   vec2 coord = vTextureCoord - offset;\n   float dist = length(coord);\n\n   if (dist < radius)\n   {\n       float ratio = (radius - dist) / radius;\n       float angleMod = ratio * ratio * angle;\n       float s = sin(angleMod);\n       float c = cos(angleMod);\n       coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);\n   }\n\n   gl_FragColor = texture2D(uSampler, coord+offset);\n}\n",{radius:{type:"1f",value:.5},angle:{type:"1f",value:5},offset:{type:"v2",value:{x:.5,y:.5}}})}var n=e("../../core");r.prototype=Object.create(n.AbstractFilter.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{offset:{get:function(){return this.uniforms.offset.value},set:function(e){this.uniforms.offset.value=e}},radius:{get:function(){return this.uniforms.radius.value},set:function(e){this.uniforms.radius.value=e}},angle:{get:function(){return this.uniforms.angle.value},set:function(e){this.uniforms.angle.value=e}}})},{"../../core":27}],112:[function(e,i,r){(function(t){e("./polyfill");var r=i.exports=e("./core");r.extras=e("./extras"),r.filters=e("./filters"),r.interaction=e("./interaction"),r.loaders=e("./loaders"),r.mesh=e("./mesh"),r.accessibility=e("./accessibility"),r.loader=new r.loaders.Loader,Object.assign(r,e("./deprecation")),t.PIXI=r}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./accessibility":19,"./core":27,"./deprecation":76,"./extras":83,"./filters":100,"./interaction":115,"./loaders":118,"./mesh":125,"./polyfill":130}],113:[function(e,t,i){function r(){this.global=new n.Point,this.target=null,this.originalEvent=null}var n=e("../core");r.prototype.constructor=r,t.exports=r,r.prototype.getLocalPosition=function(e,t,i){return e.worldTransform.applyInverse(i||this.global,t)}},{"../core":27}],114:[function(e,t,i){function r(e,t){t=t||{},this.renderer=e,this.autoPreventDefault=void 0===t.autoPreventDefault||t.autoPreventDefault,this.interactionFrequency=t.interactionFrequency||10,this.mouse=new o,Object.defineProperty(this.mouse,"isPropagationStopped",{get:function(){return this.originalEvent._isPropagationStopped||!1},set:function(e){this.originalEvent._isPropagationStopped=e}}),this.eventData={stopped:!1,target:null,type:null,data:this.mouse,stopPropagation:function(){this.stopped=!0}},this.interactiveDataPool=[],this.interactionDOMElement=null,this.eventsAdded=!1,this.onMouseUp=this.onMouseUp.bind(this),this.processMouseUp=this.processMouseUp.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.processMouseDown=this.processMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.processMouseMove=this.processMouseMove.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.processMouseOverOut=this.processMouseOverOut.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.processTouchStart=this.processTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.processTouchEnd=this.processTouchEnd.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.processTouchMove=this.processTouchMove.bind(this),this.last=0,this.currentCursorStyle="inherit",this._tempPoint=new n.Point,this.resolution=1,this.setTargetElement(this.renderer.view,this.renderer.resolution)}var n=e("../core"),o=e("./InteractionData");Object.assign(n.DisplayObject.prototype,e("./interactiveTarget")),r.prototype.constructor=r,t.exports=r,r.prototype.setTargetElement=function(e,t){this.removeEvents(),this.interactionDOMElement=e,this.resolution=t||1,this.addEvents()},r.prototype.addEvents=function(){this.interactionDOMElement&&(n.ticker.shared.add(this.update,this),window.navigator.msPointerEnabled&&(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"),window.document.addEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.addEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.addEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.addEventListener("touchmove",this.onTouchMove,!0),window.addEventListener("mouseup",this.onMouseUp,!0),this.eventsAdded=!0)},r.prototype.removeEvents=function(){this.interactionDOMElement&&(n.ticker.shared.remove(this.update),window.navigator.msPointerEnabled&&(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""),window.document.removeEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.removeEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.removeEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onTouchMove,!0),this.interactionDOMElement=null,window.removeEventListener("mouseup",this.onMouseUp,!0),this.eventsAdded=!1)},r.prototype.update=function(e){if(this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement)){if(this.didMove)return void(this.didMove=!1);this.cursor="inherit",this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)}},r.prototype.dispatchEvent=function(e,t,i){i.stopped||(i.target=e,i.type=t,e.emit(t,i),e[t]&&e[t](i))},r.prototype.mapPositionToPoint=function(e,t,i){if(this.interactionDOMElement==window.document)e.x=t,e.y=i;else{var r=this.interactionDOMElement.getBoundingClientRect();e.x=(t-r.left)*(this.interactionDOMElement.width/r.width)/this.resolution,e.y=(i-r.top)*(this.interactionDOMElement.height/r.height)/this.resolution}},r.prototype.processInteractive=function(e,t,i,r,n){if(!t||!t.visible)return!1;var o=!1,a=n=t.interactive||n;if(t.hitArea&&(a=!1),t.interactiveChildren)for(var s=t.children,h=s.length-1;h>=0;h--)if(this.processInteractive(e,s[h],i,r,a)){if(o=!0,a=!1,!s[h]||!s[h].interactive)break;r=!1}return n&&(r&&!o&&(t.hitArea?(t.worldTransform.applyInverse(e,this._tempPoint),o=t.hitArea.contains(this._tempPoint.x,this._tempPoint.y)):t.containsPoint&&(o=t.containsPoint(e))),t.interactive&&i(t,o)),o},r.prototype.onMouseDown=function(e){this.mouse.originalEvent=e,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,e.clientX,e.clientY),this.autoPreventDefault&&this.mouse.originalEvent.preventDefault(),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseDown,!0)},r.prototype.processMouseDown=function(e,t){var i=this.mouse.originalEvent,r=2===i.button||3===i.which;t&&(e[r?"_isRightDown":"_isLeftDown"]=!0,this.dispatchEvent(e,r?"rightdown":"mousedown",this.eventData))},r.prototype.onMouseUp=function(e){this.mouse.originalEvent=e,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,e.clientX,e.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseUp,!0)},r.prototype.processMouseUp=function(e,t){var i=this.mouse.originalEvent,r=2===i.button||3===i.which,n=r?"_isRightDown":"_isLeftDown";t?(this.dispatchEvent(e,r?"rightup":"mouseup",this.eventData),e[n]&&(e[n]=!1,this.dispatchEvent(e,r?"rightclick":"click",this.eventData))):e[n]&&(e[n]=!1,this.dispatchEvent(e,r?"rightupoutside":"mouseupoutside",this.eventData))},r.prototype.onMouseMove=function(e){this.mouse.originalEvent=e,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,e.clientX,e.clientY),this.didMove=!0,this.cursor="inherit",this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseMove,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)},r.prototype.processMouseMove=function(e,t){this.eventData.hit=t,this.dispatchEvent(e,"mousemove",this.eventData),this.processMouseOverOut(e,t)},r.prototype.onMouseOut=function(e){this.mouse.originalEvent=e,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,e.clientX,e.clientY),this.interactionDOMElement.style.cursor="inherit",this.mapPositionToPoint(this.mouse.global,e.clientX,e.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!1)},r.prototype.processMouseOverOut=function(e,t){t?(e._over||(e._over=!0,this.dispatchEvent(e,"mouseover",this.eventData)),e.buttonMode&&(this.cursor=e.defaultCursor)):e._over&&(e._over=!1,this.dispatchEvent(e,"mouseout",this.eventData))},r.prototype.onTouchStart=function(e){this.autoPreventDefault&&e.preventDefault();for(var t=e.changedTouches,i=t.length,r=0;r<i;r++){var n=t[r],o=this.getTouchData(n);o.originalEvent=e,this.eventData.data=o,this.eventData.stopped=!1,this.processInteractive(o.global,this.renderer._lastObjectRendered,this.processTouchStart,!0),this.returnTouchData(o)}},r.prototype.processTouchStart=function(e,t){t&&(e._touchDown=!0,this.dispatchEvent(e,"touchstart",this.eventData))},r.prototype.onTouchEnd=function(e){this.autoPreventDefault&&e.preventDefault();for(var t=e.changedTouches,i=t.length,r=0;r<i;r++){var n=t[r],o=this.getTouchData(n);o.originalEvent=e,this.eventData.data=o,this.eventData.stopped=!1,this.processInteractive(o.global,this.renderer._lastObjectRendered,this.processTouchEnd,!0),this.returnTouchData(o)}},r.prototype.processTouchEnd=function(e,t){t?(this.dispatchEvent(e,"touchend",this.eventData),e._touchDown&&(e._touchDown=!1,this.dispatchEvent(e,"tap",this.eventData))):e._touchDown&&(e._touchDown=!1,this.dispatchEvent(e,"touchendoutside",this.eventData))},r.prototype.onTouchMove=function(e){this.autoPreventDefault&&e.preventDefault();for(var t=e.changedTouches,i=t.length,r=0;r<i;r++){var n=t[r],o=this.getTouchData(n);o.originalEvent=e,this.eventData.data=o,this.eventData.stopped=!1,this.processInteractive(o.global,this.renderer._lastObjectRendered,this.processTouchMove,!0),this.returnTouchData(o)}},r.prototype.processTouchMove=function(e,t){this.eventData.hit=t,this.dispatchEvent(e,"touchmove",this.eventData)},r.prototype.getTouchData=function(e){var t=this.interactiveDataPool.pop();return t||(t=new o),t.isPropagationStopped=!1,t.identifier=e.identifier,this.mapPositionToPoint(t.global,e.clientX,e.clientY),navigator.isCocoonJS&&(t.global.x=t.global.x/this.resolution,t.global.y=t.global.y/this.resolution),e.globalX=t.global.x,e.globalY=t.global.y,t},r.prototype.returnTouchData=function(e){this.interactiveDataPool.push(e)},r.prototype.destroy=function(){this.removeEvents(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactiveDataPool=null,this.interactionDOMElement=null,this.onMouseUp=null,this.processMouseUp=null,this.onMouseDown=null,this.processMouseDown=null,this.onMouseMove=null,this.processMouseMove=null,this.onMouseOut=null,this.processMouseOverOut=null,this.onTouchStart=null,this.processTouchStart=null,this.onTouchEnd=null,this.processTouchEnd=null,this.onTouchMove=null,this.processTouchMove=null,this._tempPoint=null},n.WebGLRenderer.registerPlugin("interaction",r),n.CanvasRenderer.registerPlugin("interaction",r)},{"../core":27,"./InteractionData":113,"./interactiveTarget":116}],115:[function(e,t,i){/**
 * @file        Main export of the PIXI interactions library
 * @author      Mat Groves <mat@goodboydigital.com>
 * @copyright   2013-2015 GoodBoyDigital
 * @license     {@link https://github.com/pixijs/pixi.js/blob/master/LICENSE|MIT License}
 */
t.exports={InteractionData:e("./InteractionData"),InteractionManager:e("./InteractionManager"),interactiveTarget:e("./interactiveTarget")}},{"./InteractionData":113,"./InteractionManager":114,"./interactiveTarget":116}],116:[function(e,t,i){var r={interactive:!1,buttonMode:!1,interactiveChildren:!0,defaultCursor:"pointer",_over:!1,_touchDown:!1};t.exports=r},{}],117:[function(e,t,i){function r(e,t){var i={},r=e.data.getElementsByTagName("info")[0],n=e.data.getElementsByTagName("common")[0];i.font=r.getAttribute("face"),i.size=parseInt(r.getAttribute("size"),10),i.lineHeight=parseInt(n.getAttribute("lineHeight"),10),i.chars={};for(var s=e.data.getElementsByTagName("char"),h=0;h<s.length;h++){var c=parseInt(s[h].getAttribute("id"),10),l=new o.Rectangle(parseInt(s[h].getAttribute("x"),10)+t.frame.x,parseInt(s[h].getAttribute("y"),10)+t.frame.y,parseInt(s[h].getAttribute("width"),10),parseInt(s[h].getAttribute("height"),10));i.chars[c]={xOffset:parseInt(s[h].getAttribute("xoffset"),10),yOffset:parseInt(s[h].getAttribute("yoffset"),10),xAdvance:parseInt(s[h].getAttribute("xadvance"),10),kerning:{},texture:new o.Texture(t.baseTexture,l)}}var u=e.data.getElementsByTagName("kerning");for(h=0;h<u.length;h++){var d=parseInt(u[h].getAttribute("first"),10),f=parseInt(u[h].getAttribute("second"),10),p=parseInt(u[h].getAttribute("amount"),10);i.chars[f].kerning[d]=p}e.bitmapFont=i,a.BitmapText.fonts[i.font]=i}var n=e("resource-loader").Resource,o=e("../core"),a=e("../extras"),s=e("path");t.exports=function(){return function(e,t){if(!e.data||!e.isXml)return t();if(0===e.data.getElementsByTagName("page").length||0===e.data.getElementsByTagName("info").length||null===e.data.getElementsByTagName("info")[0].getAttribute("face"))return t();var i=s.dirname(e.url);"."===i&&(i=""),this.baseUrl&&i&&("/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(i+="/"),i=i.replace(this.baseUrl,"")),i&&"/"!==i.charAt(i.length-1)&&(i+="/");var a=i+e.data.getElementsByTagName("page")[0].getAttribute("file");if(o.utils.TextureCache[a])r(e,o.utils.TextureCache[a]),t();else{var h={crossOrigin:e.crossOrigin,loadType:n.LOAD_TYPE.IMAGE,metadata:e.metadata.imageMetadata};this.add(e.name+"_image",a,h,function(i){r(e,i.texture),t()})}}}},{"../core":27,"../extras":83,path:6,"resource-loader":13}],118:[function(e,t,i){/**
 * @file        Main export of the PIXI loaders library
 * @author      Mat Groves <mat@goodboydigital.com>
 * @copyright   2013-2015 GoodBoyDigital
 * @license     {@link https://github.com/pixijs/pixi.js/blob/master/LICENSE|MIT License}
 */
t.exports={Loader:e("./loader"),bitmapFontParser:e("./bitmapFontParser"),spritesheetParser:e("./spritesheetParser"),textureParser:e("./textureParser"),Resource:e("resource-loader").Resource}},{"./bitmapFontParser":117,"./loader":119,"./spritesheetParser":120,"./textureParser":121,"resource-loader":13}],119:[function(e,t,i){function r(e,t){n.call(this,e,t);for(var i=0;i<r._pixiMiddleware.length;++i)this.use(r._pixiMiddleware[i]())}var n=e("resource-loader"),o=e("./textureParser"),a=e("./spritesheetParser"),s=e("./bitmapFontParser");r.prototype=Object.create(n.prototype),r.prototype.constructor=r,t.exports=r,r._pixiMiddleware=[n.middleware.parsing.blob,o,a,s],r.addPixiMiddleware=function(e){r._pixiMiddleware.push(e)};var h=n.Resource;h.setExtensionXhrType("fnt",h.XHR_RESPONSE_TYPE.DOCUMENT)},{"./bitmapFontParser":117,"./spritesheetParser":120,"./textureParser":121,"resource-loader":13}],120:[function(e,t,i){var r=e("resource-loader").Resource,n=e("path"),o=e("../core");t.exports=function(){return function(e,t){if(!e.data||!e.isJson||!e.data.frames)return t();var i={crossOrigin:e.crossOrigin,loadType:r.LOAD_TYPE.IMAGE,metadata:e.metadata.imageMetadata},a=n.dirname(e.url.replace(this.baseUrl,"")),s=o.utils.getResolutionOfUrl(e.url);this.add(e.name+"_image",a+"/"+e.data.meta.image,i,function(i){e.textures={};var r=e.data.frames;for(var n in r){var a=r[n].frame;if(a){var h=null,c=null;if(h=r[n].rotated?new o.Rectangle(a.x,a.y,a.h,a.w):new o.Rectangle(a.x,a.y,a.w,a.h),r[n].trimmed&&(c=new o.Rectangle(r[n].spriteSourceSize.x/s,r[n].spriteSourceSize.y/s,r[n].sourceSize.w/s,r[n].sourceSize.h/s)),r[n].rotated){var l=h.width;h.width=h.height,h.height=l}h.x/=s,h.y/=s,h.width/=s,h.height/=s,e.textures[n]=new o.Texture(i.texture.baseTexture,h,h.clone(),c,r[n].rotated),o.utils.TextureCache[n]=e.textures[n]}}t()})}}},{"../core":27,path:6,"resource-loader":13}],121:[function(e,t,i){var r=e("../core");t.exports=function(){return function(e,t){if(e.data&&e.isImage){var i=new r.BaseTexture(e.data,null,r.utils.getResolutionOfUrl(e.url));i.imageUrl=e.url,e.texture=new r.Texture(i),r.utils.BaseTextureCache[e.url]=i,r.utils.TextureCache[e.url]=e.texture}t()}}},{"../core":27}],122:[function(e,t,i){function r(e,t,i,o,a){n.Container.call(this),this._texture=null,this.uvs=i||new Float32Array([0,0,1,0,1,1,0,1]),this.vertices=t||new Float32Array([0,0,100,0,100,100,0,100]),this.indices=o||new Uint16Array([0,1,3,2]),this.dirty=!0,this.blendMode=n.BLEND_MODES.NORMAL,this.canvasPadding=0,this.drawMode=a||r.DRAW_MODES.TRIANGLE_MESH,this.texture=e,this.shader=null}var n=e("../core"),o=new n.Point,a=new n.Polygon;r.prototype=Object.create(n.Container.prototype),r.prototype.constructor=r,t.exports=r,Object.defineProperties(r.prototype,{texture:{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture=e,e&&(e.baseTexture.hasLoaded?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}}),r.prototype._renderWebGL=function(e){e.setObjectRenderer(e.plugins.mesh),e.plugins.mesh.render(this)},r.prototype._renderCanvas=function(e){var t=e.context,i=this.worldTransform;e.roundPixels?t.setTransform(i.a,i.b,i.c,i.d,0|i.tx,0|i.ty):t.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty),this.drawMode===r.DRAW_MODES.TRIANGLE_MESH?this._renderCanvasTriangleMesh(t):this._renderCanvasTriangles(t)},r.prototype._renderCanvasTriangleMesh=function(e){for(var t=this.vertices,i=this.uvs,r=t.length/2,n=0;n<r-2;n++){var o=2*n;this._renderCanvasDrawTriangle(e,t,i,o,o+2,o+4)}},r.prototype._renderCanvasTriangles=function(e){for(var t=this.vertices,i=this.uvs,r=this.indices,n=r.length,o=0;o<n;o+=3){var a=2*r[o],s=2*r[o+1],h=2*r[o+2];this._renderCanvasDrawTriangle(e,t,i,a,s,h)}},r.prototype._renderCanvasDrawTriangle=function(e,t,i,r,n,o){var a=this._texture.baseTexture.source,s=this._texture.baseTexture.width,h=this._texture.baseTexture.height,c=t[r],l=t[n],u=t[o],d=t[r+1],f=t[n+1],p=t[o+1],m=i[r]*s,v=i[n]*s,y=i[o]*s,g=i[r+1]*h,b=i[n+1]*h,x=i[o+1]*h;if(this.canvasPadding>0){var w=this.canvasPadding/this.worldTransform.a,_=this.canvasPadding/this.worldTransform.d,T=(c+l+u)/3,E=(d+f+p)/3,S=c-T,M=d-E,C=Math.sqrt(S*S+M*M);c=T+S/C*(C+w),d=E+M/C*(C+_),S=l-T,M=f-E,C=Math.sqrt(S*S+M*M),l=T+S/C*(C+w),f=E+M/C*(C+_),S=u-T,M=p-E,C=Math.sqrt(S*S+M*M),u=T+S/C*(C+w),p=E+M/C*(C+_)}e.save(),e.beginPath(),e.moveTo(c,d),e.lineTo(l,f),e.lineTo(u,p),e.closePath(),e.clip();var A=m*b+g*y+v*x-b*y-g*v-m*x,D=c*b+g*u+l*x-b*u-g*l-c*x,k=m*l+c*y+v*u-l*y-c*v-m*u,I=m*b*u+g*l*y+c*v*x-c*b*y-g*v*u-m*l*x,P=d*b+g*p+f*x-b*p-g*f-d*x,R=m*f+d*y+v*p-f*y-d*v-m*p,F=m*b*p+g*f*y+d*v*x-d*b*y-g*v*p-m*f*x;e.transform(D/A,P/A,k/A,R/A,I/A,F/A),e.drawImage(a,0,0),e.restore()},r.prototype.renderMeshFlat=function(e){var t=this.context,i=e.vertices,r=i.length/2;t.beginPath();for(var n=1;n<r-2;n++){var o=2*n,a=i[o],s=i[o+2],h=i[o+4],c=i[o+1],l=i[o+3],u=i[o+5];t.moveTo(a,c),t.lineTo(s,l),t.lineTo(h,u)}t.fillStyle="#FF0000",t.fill(),t.closePath()},r.prototype._onTextureUpdate=function(){this.updateFrame=!0},r.prototype.getBounds=function(e){if(!this._currentBounds){for(var t=e||this.worldTransform,i=t.a,r=t.b,o=t.c,a=t.d,s=t.tx,h=t.ty,c=-1/0,l=-1/0,u=1/0,d=1/0,f=this.vertices,p=0,m=f.length;p<m;p+=2){var v=f[p],y=f[p+1],g=i*v+o*y+s,b=a*y+r*v+h;u=g<u?g:u,d=b<d?b:d,c=g>c?g:c,l=b>l?b:l}if(u===-1/0||l===1/0)return n.Rectangle.EMPTY;var x=this._bounds;x.x=u,x.width=c-u,x.y=d,x.height=l-d,this._currentBounds=x}return this._currentBounds},r.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,o);var t,i,n=this.vertices,s=a.points;if(this.drawMode===r.DRAW_MODES.TRIANGLES){var h=this.indices;for(i=this.indices.length,t=0;t<i;t+=3){var c=2*h[t],l=2*h[t+1],u=2*h[t+2];if(s[0]=n[c],s[1]=n[c+1],s[2]=n[l],s[3]=n[l+1],s[4]=n[u],s[5]=n[u+1],a.contains(o.x,o.y))return!0}}else for(i=n.length,t=0;t<i;t+=6)if(s[0]=n[t],s[1]=n[t+1],s[2]=n[t+2],s[3]=n[t+3],s[4]=n[t+4],s[5]=n[t+5],a.contains(o.x,o.y))return!0;return!1},r.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},{"../core":27}],123:[function(e,t,i){function r(e,t,i){n.call(this,e),this._ready=!0,this.segmentsX=t||10,this.segmentsY=i||10,this.drawMode=n.DRAW_MODES.TRIANGLES,this.refresh()}var n=e("./Mesh");r.prototype=Object.create(n.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.refresh=function(){var e=this.segmentsX*this.segmentsY,t=[],i=[],r=[],n=[],o=this.texture,a=this.segmentsX-1,s=this.segmentsY-1,h=0,c=o.width/a,l=o.height/s;for(h=0;h<e;h++){var u=h%this.segmentsX,d=h/this.segmentsX|0;t.push(u*c,d*l),r.push(u/(this.segmentsX-1),d/(this.segmentsY-1))}var f=a*s;for(h=0;h<f;h++){var p=h%a,m=h/a|0,v=m*this.segmentsX+p,y=m*this.segmentsX+p+1,g=(m+1)*this.segmentsX+p,b=(m+1)*this.segmentsX+p+1;n.push(v,y,g),n.push(y,b,g)}this.vertices=new Float32Array(t),this.uvs=new Float32Array(r),this.colors=new Float32Array(i),this.indices=new Uint16Array(n)},r.prototype._onTextureUpdate=function(){n.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()}},{"./Mesh":122}],124:[function(e,t,i){function r(e,t){n.call(this,e),this.points=t,this.vertices=new Float32Array(4*t.length),this.uvs=new Float32Array(4*t.length),this.colors=new Float32Array(2*t.length),this.indices=new Uint16Array(2*t.length),this._ready=!0,this.refresh()}var n=e("./Mesh"),o=e("../core");r.prototype=Object.create(n.prototype),r.prototype.constructor=r,t.exports=r,r.prototype.refresh=function(){var e=this.points;if(!(e.length<1)&&this._texture._uvs){var t=this.uvs,i=this.indices,r=this.colors,n=this._texture._uvs,a=new o.Point(n.x0,n.y0),s=new o.Point(n.x2-n.x0,n.y2-n.y0);t[0]=0+a.x,t[1]=0+a.y,t[2]=0+a.x,t[3]=1*s.y+a.y,r[0]=1,r[1]=1,i[0]=0,i[1]=1;for(var h,c,l=e.length,u=1;u<l;u++)e[u],h=4*u,c=u/(l-1),t[h]=c*s.x+a.x,t[h+1]=0+a.y,t[h+2]=c*s.x+a.x,t[h+3]=1*s.y+a.y,h=2*u,r[h]=1,r[h+1]=1,h=2*u,i[h]=h,i[h+1]=h+1;this.dirty=!0}},r.prototype._onTextureUpdate=function(){n.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},r.prototype.updateTransform=function(){var e=this.points;if(!(e.length<1)){for(var t,i,r,n,o,a,s=e[0],h=0,c=0,l=this.vertices,u=e.length,d=0;d<u;d++)i=e[d],r=4*d,t=d<e.length-1?e[d+1]:i,c=-(t.x-s.x),h=t.y-s.y,n=10*(1-d/(u-1)),n>1&&(n=1),o=Math.sqrt(h*h+c*c),a=this._texture.height/2,h/=o,c/=o,h*=a,c*=a,l[r]=i.x+h,l[r+1]=i.y+c,l[r+2]=i.x-h,l[r+3]=i.y-c,s=i;this.containerUpdateTransform()}}},{"../core":27,"./Mesh":122}],125:[function(e,t,i){/**
 * @file        Main export of the PIXI extras library
 * @author      Mat Groves <mat@goodboydigital.com>
 * @copyright   2013-2015 GoodBoyDigital
 * @license     {@link https://github.com/pixijs/pixi.js/blob/master/LICENSE|MIT License}
 */
t.exports={Mesh:e("./Mesh"),Plane:e("./Plane"),Rope:e("./Rope"),MeshRenderer:e("./webgl/MeshRenderer"),MeshShader:e("./webgl/MeshShader")}},{"./Mesh":122,"./Plane":123,"./Rope":124,"./webgl/MeshRenderer":126,"./webgl/MeshShader":127}],126:[function(e,t,i){function r(e){n.ObjectRenderer.call(this,e),this.indices=new Uint16Array(15e3);for(var t=0,i=0;t<15e3;t+=6,i+=4)this.indices[t+0]=i+0,this.indices[t+1]=i+1,this.indices[t+2]=i+2,this.indices[t+3]=i+0,this.indices[t+4]=i+2,this.indices[t+5]=i+3;this.currentShader=null}var n=e("../../core"),o=e("../Mesh");r.prototype=Object.create(n.ObjectRenderer.prototype),r.prototype.constructor=r,t.exports=r,n.WebGLRenderer.registerPlugin("mesh",r),r.prototype.onContextChange=function(){},r.prototype.render=function(e){e._vertexBuffer||this._initWebGL(e);var t=this.renderer,i=t.gl,r=e._texture.baseTexture,n=e.shader,a=e.drawMode===o.DRAW_MODES.TRIANGLE_MESH?i.TRIANGLE_STRIP:i.TRIANGLES;t.blendModeManager.setBlendMode(e.blendMode),n=n?n.shaders[i.id]||n.getShader(t):t.shaderManager.plugins.meshShader,this.renderer.shaderManager.setShader(n),n.uniforms.translationMatrix.value=e.worldTransform.toArray(!0),n.uniforms.projectionMatrix.value=t.currentRenderTarget.projectionMatrix.toArray(!0),n.uniforms.alpha.value=e.worldAlpha,n.syncUniforms(),e.dirty?(e.dirty=!1,i.bindBuffer(i.ARRAY_BUFFER,e._vertexBuffer),i.bufferData(i.ARRAY_BUFFER,e.vertices,i.STATIC_DRAW),i.vertexAttribPointer(n.attributes.aVertexPosition,2,i.FLOAT,!1,0,0),i.bindBuffer(i.ARRAY_BUFFER,e._uvBuffer),i.bufferData(i.ARRAY_BUFFER,e.uvs,i.STATIC_DRAW),i.vertexAttribPointer(n.attributes.aTextureCoord,2,i.FLOAT,!1,0,0),i.activeTexture(i.TEXTURE0),r._glTextures[i.id]?i.bindTexture(i.TEXTURE_2D,r._glTextures[i.id]):this.renderer.updateTexture(r),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e._indexBuffer),i.bufferData(i.ELEMENT_ARRAY_BUFFER,e.indices,i.STATIC_DRAW)):(i.bindBuffer(i.ARRAY_BUFFER,e._vertexBuffer),i.bufferSubData(i.ARRAY_BUFFER,0,e.vertices),i.vertexAttribPointer(n.attributes.aVertexPosition,2,i.FLOAT,!1,0,0),i.bindBuffer(i.ARRAY_BUFFER,e._uvBuffer),i.vertexAttribPointer(n.attributes.aTextureCoord,2,i.FLOAT,!1,0,0),i.activeTexture(i.TEXTURE0),r._glTextures[i.id]?i.bindTexture(i.TEXTURE_2D,r._glTextures[i.id]):this.renderer.updateTexture(r),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e._indexBuffer),i.bufferSubData(i.ELEMENT_ARRAY_BUFFER,0,e.indices)),i.drawElements(a,e.indices.length,i.UNSIGNED_SHORT,0)},r.prototype._initWebGL=function(e){var t=this.renderer.gl;e._vertexBuffer=t.createBuffer(),e._indexBuffer=t.createBuffer(),e._uvBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,e._vertexBuffer),t.bufferData(t.ARRAY_BUFFER,e.vertices,t.DYNAMIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,e._uvBuffer),t.bufferData(t.ARRAY_BUFFER,e.uvs,t.STATIC_DRAW),e.colors&&(e._colorBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,e._colorBuffer),t.bufferData(t.ARRAY_BUFFER,e.colors,t.STATIC_DRAW)),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e._indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,e.indices,t.STATIC_DRAW)},r.prototype.flush=function(){},r.prototype.start=function(){this.currentShader=null},r.prototype.destroy=function(){n.ObjectRenderer.prototype.destroy.call(this)}},{"../../core":27,"../Mesh":122}],127:[function(e,t,i){function r(e){n.Shader.call(this,e,["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","uniform float alpha;","uniform sampler2D uSampler;","void main(void){","   gl_FragColor = texture2D(uSampler, vTextureCoord) * alpha ;","}"].join("\n"),{alpha:{type:"1f",value:0},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0,aTextureCoord:0})}var n=e("../../core");r.prototype=Object.create(n.Shader.prototype),r.prototype.constructor=r,t.exports=r,n.ShaderManager.registerPlugin("meshShader",r)},{"../../core":27}],128:[function(e,t,i){Math.sign||(Math.sign=function(e){return e=+e,0===e||isNaN(e)?e:e>0?1:-1})},{}],129:[function(e,t,i){Object.assign||(Object.assign=e("object-assign"))},{"object-assign":4}],130:[function(e,t,i){e("./Object.assign"),e("./requestAnimationFrame"),e("./Math.sign")},{"./Math.sign":128,"./Object.assign":129,"./requestAnimationFrame":131}],131:[function(e,i,r){(function(e){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!e.performance||!e.performance.now){var t=Date.now();e.performance||(e.performance={}),e.performance.now=function(){return Date.now()-t}}for(var i=Date.now(),r=["ms","moz","webkit","o"],n=0;n<r.length&&!e.requestAnimationFrame;++n)e.requestAnimationFrame=e[r[n]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[r[n]+"CancelAnimationFrame"]||e[r[n]+"CancelRequestAnimationFrame"];e.requestAnimationFrame||(e.requestAnimationFrame=function(e){if("function"!=typeof e)throw new TypeError(e+"is not a function");var t=Date.now(),r=16+i-t;return r<0&&(r=0),i=t,setTimeout(function(){i=Date.now(),e(performance.now())},r)}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(e){clearTimeout(e)})}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[112])(112)})}).call(t,i(1),i(40).setImmediate)},function(e,t,i){(function(i){var r,n,o=void 0!==e&&e.exports&&void 0!==i?i:this||window;(o._gsQueue||(o._gsQueue=[])).push(function(){"use strict";o._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,i){var r=function(e){var t,i=[],r=e.length;for(t=0;t!==r;i.push(e[t++]));return i},n=function(e,t,r){i.call(this,e,t,r),this._cycle=0,this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=n.prototype.render},o=1e-10,a=i._internals,s=a.isSelector,h=a.isArray,c=n.prototype=i.to({},.1,{}),l=[];n.version="1.17.0",c.constructor=n,c.kill()._gc=!1,n.killTweensOf=n.killDelayedCallsTo=i.killTweensOf,n.getTweensOf=i.getTweensOf,n.lagSmoothing=i.lagSmoothing,n.ticker=i.ticker,n.render=i.render,c.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),i.prototype.invalidate.call(this)},c.updateTo=function(e,t){var r,n=this.ratio,o=this.vars.immediateRender||e.immediateRender;t&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(r in e)this.vars[r]=e[r];if(this._initted||o)if(t)this._initted=!1,o&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&i._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var a=this._time;this.render(0,!0,!1),this._initted=!1,this.render(a,!0,!1)}else if(this._time>0||o){this._initted=!1,this._init();for(var s,h=1/(1-n),c=this._firstPT;c;)s=c.s+c.c,c.c*=h,c.s=s-c.c,c=c._next}return this},c.render=function(e,t,i){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var r,n,s,h,c,l,u,d,f=this._dirty?this.totalDuration():this._totalDuration,p=this._time,m=this._totalTime,v=this._cycle,y=this._duration,g=this._rawPrevTime;if(e>=f?(this._totalTime=f,this._cycle=this._repeat,this._yoyo&&0!=(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=y,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(r=!0,n="onComplete",i=i||this._timeline.autoRemoveChildren),0===y&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(e=0),(0===e||0>g||g===o)&&g!==e&&(i=!0,g>o&&(n="onReverseComplete")),this._rawPrevTime=d=!t||e||g===e?e:o)):1e-7>e?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==m||0===y&&g>0)&&(n="onReverseComplete",r=this._reversed),0>e&&(this._active=!1,0===y&&(this._initted||!this.vars.lazy||i)&&(g>=0&&(i=!0),this._rawPrevTime=d=!t||e||g===e?e:o)),this._initted||(i=!0)):(this._totalTime=this._time=e,0!==this._repeat&&(h=y+this._repeatDelay,this._cycle=this._totalTime/h>>0,0!==this._cycle&&this._cycle===this._totalTime/h&&this._cycle--,this._time=this._totalTime-this._cycle*h,this._yoyo&&0!=(1&this._cycle)&&(this._time=y-this._time),this._time>y?this._time=y:0>this._time&&(this._time=0)),this._easeType?(c=this._time/y,l=this._easeType,u=this._easePower,(1===l||3===l&&c>=.5)&&(c=1-c),3===l&&(c*=2),1===u?c*=c:2===u?c*=c*c:3===u?c*=c*c*c:4===u&&(c*=c*c*c*c),this.ratio=1===l?1-c:2===l?c:.5>this._time/y?c/2:1-c/2):this.ratio=this._ease.getRatio(this._time/y)),p===this._time&&!i&&v===this._cycle)return void(m!==this._totalTime&&this._onUpdate&&(t||this._callback("onUpdate")));if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=p,this._totalTime=m,this._rawPrevTime=g,this._cycle=v,a.lazyTweens.push(this),void(this._lazy=[e,t]);this._time&&!r?this.ratio=this._ease.getRatio(this._time/y):r&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==p&&e>=0&&(this._active=!0),0===m&&(2===this._initted&&e>0&&this._init(),this._startAt&&(e>=0?this._startAt.render(e,t,i):n||(n="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===y)&&(t||this._callback("onStart"))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(0>e&&this._startAt&&this._startTime&&this._startAt.render(e,t,i),t||(this._totalTime!==m||r)&&this._callback("onUpdate")),this._cycle!==v&&(t||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),n&&(!this._gc||i)&&(0>e&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(e,t,i),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[n]&&this._callback(n),0===y&&this._rawPrevTime===o&&d!==o&&(this._rawPrevTime=0))},n.to=function(e,t,i){return new n(e,t,i)},n.from=function(e,t,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new n(e,t,i)},n.fromTo=function(e,t,i,r){return r.startAt=i,r.immediateRender=0!=r.immediateRender&&0!=i.immediateRender,new n(e,t,r)},n.staggerTo=n.allTo=function(e,t,o,a,c,u,d){a=a||0;var f,p,m,v,y=o.delay||0,g=[],b=function(){o.onComplete&&o.onComplete.apply(o.onCompleteScope||this,arguments),c.apply(d||o.callbackScope||this,u||l)};for(h(e)||("string"==typeof e&&(e=i.selector(e)||e),s(e)&&(e=r(e))),e=e||[],0>a&&(e=r(e),e.reverse(),a*=-1),f=e.length-1,m=0;f>=m;m++){p={};for(v in o)p[v]=o[v];p.delay=y,m===f&&c&&(p.onComplete=b),g[m]=new n(e[m],t,p),y+=a}return g},n.staggerFrom=n.allFrom=function(e,t,i,r,o,a,s){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,n.staggerTo(e,t,i,r,o,a,s)},n.staggerFromTo=n.allFromTo=function(e,t,i,r,o,a,s,h){return r.startAt=i,r.immediateRender=0!=r.immediateRender&&0!=i.immediateRender,n.staggerTo(e,t,r,o,a,s,h)},n.delayedCall=function(e,t,i,r,o){return new n(t,0,{delay:e,onComplete:t,onCompleteParams:i,callbackScope:r,onReverseComplete:t,onReverseCompleteParams:i,immediateRender:!1,useFrames:o,overwrite:0})},n.set=function(e,t){return new n(e,0,t)},n.isTweening=function(e){return i.getTweensOf(e,!0).length>0};var u=function(e,t){for(var r=[],n=0,o=e._first;o;)o instanceof i?r[n++]=o:(t&&(r[n++]=o),r=r.concat(u(o,t)),n=r.length),o=o._next;return r},d=n.getAllTweens=function(t){return u(e._rootTimeline,t).concat(u(e._rootFramesTimeline,t))};n.killAll=function(e,i,r,n){null==i&&(i=!0),null==r&&(r=!0);var o,a,s,h=d(0!=n),c=h.length,l=i&&r&&n;for(s=0;c>s;s++)a=h[s],(l||a instanceof t||(o=a.target===a.vars.onComplete)&&r||i&&!o)&&(e?a.totalTime(a._reversed?0:a.totalDuration()):a._enabled(!1,!1))},n.killChildTweensOf=function(e,t){if(null!=e){var o,c,l,u,d,f=a.tweenLookup;if("string"==typeof e&&(e=i.selector(e)||e),s(e)&&(e=r(e)),h(e))for(u=e.length;--u>-1;)n.killChildTweensOf(e[u],t);else{o=[];for(l in f)for(c=f[l].target.parentNode;c;)c===e&&(o=o.concat(f[l].tweens)),c=c.parentNode;for(d=o.length,u=0;d>u;u++)t&&o[u].totalTime(o[u].totalDuration()),o[u]._enabled(!1,!1)}}};var f=function(e,i,r,n){i=!1!==i,r=!1!==r,n=!1!==n;for(var o,a,s=d(n),h=i&&r&&n,c=s.length;--c>-1;)a=s[c],(h||a instanceof t||(o=a.target===a.vars.onComplete)&&r||i&&!o)&&a.paused(e)};return n.pauseAll=function(e,t,i){f(!0,e,t,i)},n.resumeAll=function(e,t,i){f(!1,e,t,i)},n.globalTimeScale=function(t){var r=e._rootTimeline,n=i.ticker.time;return arguments.length?(t=t||o,r._startTime=n-(n-r._startTime)*r._timeScale/t,r=e._rootFramesTimeline,n=i.ticker.frame,r._startTime=n-(n-r._startTime)*r._timeScale/t,r._timeScale=e._rootTimeline._timeScale=t,t):r._timeScale},c.progress=function(e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-e:e)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},c.totalProgress=function(e){return arguments.length?this.totalTime(this.totalDuration()*e,!1):this._totalTime/this.totalDuration()},c.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&0!=(1&this._cycle)?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},c.duration=function(t){return arguments.length?e.prototype.duration.call(this,t):this._duration},c.totalDuration=function(e){return arguments.length?-1===this._repeat?this:this.duration((e-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},c.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},c.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},c.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},n},!0),o._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,i){var r=function(e){t.call(this,e),this._labels={},this.autoRemoveChildren=!0===this.vars.autoRemoveChildren,this.smoothChildTiming=!0===this.vars.smoothChildTiming,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,r,n=this.vars;for(r in n)i=n[r],c(i)&&-1!==i.join("").indexOf("{self}")&&(n[r]=this._swapSelfInParams(i));c(n.tweens)&&this.add(n.tweens,0,n.align,n.stagger)},n=1e-10,a=i._internals,s=r._internals={},h=a.isSelector,c=a.isArray,l=a.lazyTweens,u=a.lazyRender,d=[],f=o._gsDefine.globals,p=function(e){var t,i={};for(t in e)i[t]=e[t];return i},m=s.pauseCallback=function(e,t,i,r){var o,a=e._timeline,s=a._totalTime,h=e._startTime,c=0>e._rawPrevTime||0===e._rawPrevTime&&a._reversed,l=c?0:n,u=c?n:0;if(t||!this._forcingPlayhead){for(a.pause(h),o=e._prev;o&&o._startTime===h;)o._rawPrevTime=u,o=o._prev;for(o=e._next;o&&o._startTime===h;)o._rawPrevTime=l,o=o._next;t&&t.apply(r||a.vars.callbackScope||a,i||d),(this._forcingPlayhead||!a._paused)&&a.seek(s)}},v=function(e){var t,i=[],r=e.length;for(t=0;t!==r;i.push(e[t++]));return i},y=r.prototype=new t;return r.version="1.17.0",y.constructor=r,y.kill()._gc=y._forcingPlayhead=!1,y.to=function(e,t,r,n){var o=r.repeat&&f.TweenMax||i;return t?this.add(new o(e,t,r),n):this.set(e,r,n)},y.from=function(e,t,r,n){return this.add((r.repeat&&f.TweenMax||i).from(e,t,r),n)},y.fromTo=function(e,t,r,n,o){var a=n.repeat&&f.TweenMax||i;return t?this.add(a.fromTo(e,t,r,n),o):this.set(e,n,o)},y.staggerTo=function(e,t,n,o,a,s,c,l){var u,d=new r({onComplete:s,onCompleteParams:c,callbackScope:l,smoothChildTiming:this.smoothChildTiming});for("string"==typeof e&&(e=i.selector(e)||e),e=e||[],h(e)&&(e=v(e)),o=o||0,0>o&&(e=v(e),e.reverse(),o*=-1),u=0;e.length>u;u++)n.startAt&&(n.startAt=p(n.startAt)),d.to(e[u],t,p(n),u*o);return this.add(d,a)},y.staggerFrom=function(e,t,i,r,n,o,a,s){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(e,t,i,r,n,o,a,s)},y.staggerFromTo=function(e,t,i,r,n,o,a,s,h){return r.startAt=i,r.immediateRender=0!=r.immediateRender&&0!=i.immediateRender,this.staggerTo(e,t,r,n,o,a,s,h)},y.call=function(e,t,r,n){return this.add(i.delayedCall(0,e,t,r),n)},y.set=function(e,t,r){return r=this._parseTimeOrLabel(r,0,!0),null==t.immediateRender&&(t.immediateRender=r===this._time&&!this._paused),this.add(new i(e,0,t),r)},r.exportRoot=function(e,t){e=e||{},null==e.smoothChildTiming&&(e.smoothChildTiming=!0);var n,o,a=new r(e),s=a._timeline;for(null==t&&(t=!0),s._remove(a,!0),a._startTime=0,a._rawPrevTime=a._time=a._totalTime=s._time,n=s._first;n;)o=n._next,t&&n instanceof i&&n.target===n.vars.onComplete||a.add(n,n._startTime-n._delay),n=o;return s.add(a,0),a},y.add=function(n,o,a,s){var h,l,u,d,f,p;if("number"!=typeof o&&(o=this._parseTimeOrLabel(o,0,!0,n)),!(n instanceof e)){if(n instanceof Array||n&&n.push&&c(n)){for(a=a||"normal",s=s||0,h=o,l=n.length,u=0;l>u;u++)c(d=n[u])&&(d=new r({tweens:d})),this.add(d,h),"string"!=typeof d&&"function"!=typeof d&&("sequence"===a?h=d._startTime+d.totalDuration()/d._timeScale:"start"===a&&(d._startTime-=d.delay())),h+=s;return this._uncache(!0)}if("string"==typeof n)return this.addLabel(n,o);if("function"!=typeof n)throw"Cannot add "+n+" into the timeline; it is not a tween, timeline, function, or string.";n=i.delayedCall(0,n)}if(t.prototype.add.call(this,n,o),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(f=this,p=f.rawTime()>n._startTime;f._timeline;)p&&f._timeline.smoothChildTiming?f.totalTime(f._totalTime,!0):f._gc&&f._enabled(!0,!1),f=f._timeline;return this},y.remove=function(t){if(t instanceof e)return this._remove(t,!1);if(t instanceof Array||t&&t.push&&c(t)){for(var i=t.length;--i>-1;)this.remove(t[i]);return this}return"string"==typeof t?this.removeLabel(t):this.kill(null,t)},y._remove=function(e,i){t.prototype._remove.call(this,e,i);var r=this._last;return r?this._time>r._startTime+r._totalDuration/r._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},y.append=function(e,t){return this.add(e,this._parseTimeOrLabel(null,t,!0,e))},y.insert=y.insertMultiple=function(e,t,i,r){return this.add(e,t||0,i,r)},y.appendMultiple=function(e,t,i,r){return this.add(e,this._parseTimeOrLabel(null,t,!0,e),i,r)},y.addLabel=function(e,t){return this._labels[e]=this._parseTimeOrLabel(t),this},y.addPause=function(e,t,r,n){var o=i.delayedCall(0,m,["{self}",t,r,n],this);return o.data="isPause",this.add(o,e)},y.removeLabel=function(e){return delete this._labels[e],this},y.getLabelTime=function(e){return null!=this._labels[e]?this._labels[e]:-1},y._parseTimeOrLabel=function(t,i,r,n){var o;if(n instanceof e&&n.timeline===this)this.remove(n);else if(n&&(n instanceof Array||n.push&&c(n)))for(o=n.length;--o>-1;)n[o]instanceof e&&n[o].timeline===this&&this.remove(n[o]);if("string"==typeof i)return this._parseTimeOrLabel(i,r&&"number"==typeof t&&null==this._labels[i]?t-this.duration():0,r);if(i=i||0,"string"!=typeof t||!isNaN(t)&&null==this._labels[t])null==t&&(t=this.duration());else{if(-1===(o=t.indexOf("=")))return null==this._labels[t]?r?this._labels[t]=this.duration()+i:i:this._labels[t]+i;i=parseInt(t.charAt(o-1)+"1",10)*Number(t.substr(o+1)),t=o>1?this._parseTimeOrLabel(t.substr(0,o-1),0,r):this.duration()}return Number(t)+i},y.seek=function(e,t){return this.totalTime("number"==typeof e?e:this._parseTimeOrLabel(e),!1!==t)},y.stop=function(){return this.paused(!0)},y.gotoAndPlay=function(e,t){return this.play(e,t)},y.gotoAndStop=function(e,t){return this.pause(e,t)},y.render=function(e,t,i){this._gc&&this._enabled(!0,!1);var r,o,a,s,h,c=this._dirty?this.totalDuration():this._totalDuration,d=this._time,f=this._startTime,p=this._timeScale,m=this._paused;if(e>=c)this._totalTime=this._time=c,this._reversed||this._hasPausedChild()||(o=!0,s="onComplete",h=!!this._timeline.autoRemoveChildren,0===this._duration&&(0===e||0>this._rawPrevTime||this._rawPrevTime===n)&&this._rawPrevTime!==e&&this._first&&(h=!0,this._rawPrevTime>n&&(s="onReverseComplete"))),this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:n,e=c+1e-4;else if(1e-7>e)if(this._totalTime=this._time=0,(0!==d||0===this._duration&&this._rawPrevTime!==n&&(this._rawPrevTime>0||0>e&&this._rawPrevTime>=0))&&(s="onReverseComplete",o=this._reversed),0>e)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(h=o=!0,s="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(h=!0),this._rawPrevTime=e;else{if(this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:n,0===e&&o)for(r=this._first;r&&0===r._startTime;)r._duration||(o=!1),r=r._next;e=0,this._initted||(h=!0)}else this._totalTime=this._time=this._rawPrevTime=e;if(this._time!==d&&this._first||i||h){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==d&&e>0&&(this._active=!0),0===d&&this.vars.onStart&&0!==this._time&&(t||this._callback("onStart")),this._time>=d)for(r=this._first;r&&(a=r._next,!this._paused||m);)(r._active||r._startTime<=this._time&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,i):r.render((e-r._startTime)*r._timeScale,t,i)),r=a;else for(r=this._last;r&&(a=r._prev,!this._paused||m);)(r._active||d>=r._startTime&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,i):r.render((e-r._startTime)*r._timeScale,t,i)),r=a;this._onUpdate&&(t||(l.length&&u(),this._callback("onUpdate"))),s&&(this._gc||(f===this._startTime||p!==this._timeScale)&&(0===this._time||c>=this.totalDuration())&&(o&&(l.length&&u(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[s]&&this._callback(s)))}},y._hasPausedChild=function(){for(var e=this._first;e;){if(e._paused||e instanceof r&&e._hasPausedChild())return!0;e=e._next}return!1},y.getChildren=function(e,t,r,n){n=n||-9999999999;for(var o=[],a=this._first,s=0;a;)n>a._startTime||(a instanceof i?!1!==t&&(o[s++]=a):(!1!==r&&(o[s++]=a),!1!==e&&(o=o.concat(a.getChildren(!0,t,r)),s=o.length))),a=a._next;return o},y.getTweensOf=function(e,t){var r,n,o=this._gc,a=[],s=0;for(o&&this._enabled(!0,!0),r=i.getTweensOf(e),n=r.length;--n>-1;)(r[n].timeline===this||t&&this._contains(r[n]))&&(a[s++]=r[n]);return o&&this._enabled(!1,!0),a},y.recent=function(){return this._recent},y._contains=function(e){for(var t=e.timeline;t;){if(t===this)return!0;t=t.timeline}return!1},y.shiftChildren=function(e,t,i){i=i||0;for(var r,n=this._first,o=this._labels;n;)n._startTime>=i&&(n._startTime+=e),n=n._next;if(t)for(r in o)o[r]>=i&&(o[r]+=e);return this._uncache(!0)},y._kill=function(e,t){if(!e&&!t)return this._enabled(!1,!1);for(var i=t?this.getTweensOf(t):this.getChildren(!0,!0,!1),r=i.length,n=!1;--r>-1;)i[r]._kill(e,t)&&(n=!0);return n},y.clear=function(e){var t=this.getChildren(!1,!0,!0),i=t.length;for(this._time=this._totalTime=0;--i>-1;)t[i]._enabled(!1,!1);return!1!==e&&(this._labels={}),this._uncache(!0)},y.invalidate=function(){for(var t=this._first;t;)t.invalidate(),t=t._next;return e.prototype.invalidate.call(this)},y._enabled=function(e,i){if(e===this._gc)for(var r=this._first;r;)r._enabled(e,!0),r=r._next;return t.prototype._enabled.call(this,e,i)},y.totalTime=function(){this._forcingPlayhead=!0;var t=e.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,t},y.duration=function(e){return arguments.length?(0!==this.duration()&&0!==e&&this.timeScale(this._duration/e),this):(this._dirty&&this.totalDuration(),this._duration)},y.totalDuration=function(e){if(!arguments.length){if(this._dirty){for(var t,i,r=0,n=this._last,o=999999999999;n;)t=n._prev,n._dirty&&n.totalDuration(),n._startTime>o&&this._sortChildren&&!n._paused?this.add(n,n._startTime-n._delay):o=n._startTime,0>n._startTime&&!n._paused&&(r-=n._startTime,this._timeline.smoothChildTiming&&(this._startTime+=n._startTime/this._timeScale),this.shiftChildren(-n._startTime,!1,-9999999999),o=0),i=n._startTime+n._totalDuration/n._timeScale,i>r&&(r=i),n=t;this._duration=this._totalDuration=r,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==e&&this.timeScale(this._totalDuration/e),this},y.paused=function(t){if(!t)for(var i=this._first,r=this._time;i;)i._startTime===r&&"isPause"===i.data&&(i._rawPrevTime=0),i=i._next;return e.prototype.paused.apply(this,arguments)},y.usesFrames=function(){for(var t=this._timeline;t._timeline;)t=t._timeline;return t===e._rootFramesTimeline},y.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},r},!0),o._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(e,t,i){var r=function(t){e.call(this,t),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=!0===this.vars.yoyo,this._dirty=!0},n=1e-10,o=t._internals,a=o.lazyTweens,s=o.lazyRender,h=new i(null,null,1,0),c=r.prototype=new e;return c.constructor=r,c.kill()._gc=!1,r.version="1.17.0",c.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),e.prototype.invalidate.call(this)},c.addCallback=function(e,i,r,n){return this.add(t.delayedCall(0,e,r,n),i)},c.removeCallback=function(e,t){if(e)if(null==t)this._kill(null,e);else for(var i=this.getTweensOf(e,!1),r=i.length,n=this._parseTimeOrLabel(t);--r>-1;)i[r]._startTime===n&&i[r]._enabled(!1,!1);return this},c.removePause=function(t){return this.removeCallback(e._internals.pauseCallback,t)},c.tweenTo=function(e,i){i=i||{};var r,n,o,a={ease:h,useFrames:this.usesFrames(),immediateRender:!1};for(n in i)a[n]=i[n];return a.time=this._parseTimeOrLabel(e),r=Math.abs(Number(a.time)-this._time)/this._timeScale||.001,o=new t(this,r,a),a.onStart=function(){o.target.paused(!0),o.vars.time!==o.target.time()&&r===o.duration()&&o.duration(Math.abs(o.vars.time-o.target.time())/o.target._timeScale),i.onStart&&o._callback("onStart")},o},c.tweenFromTo=function(e,t,i){i=i||{},e=this._parseTimeOrLabel(e),i.startAt={onComplete:this.seek,onCompleteParams:[e],callbackScope:this},i.immediateRender=!1!==i.immediateRender;var r=this.tweenTo(t,i);return r.duration(Math.abs(r.vars.time-e)/this._timeScale||.001)},c.render=function(e,t,i){this._gc&&this._enabled(!0,!1);var r,o,h,c,l,u,d=this._dirty?this.totalDuration():this._totalDuration,f=this._duration,p=this._time,m=this._totalTime,v=this._startTime,y=this._timeScale,g=this._rawPrevTime,b=this._paused,x=this._cycle;if(e>=d)this._locked||(this._totalTime=d,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(o=!0,c="onComplete",l=!!this._timeline.autoRemoveChildren,0===this._duration&&(0===e||0>g||g===n)&&g!==e&&this._first&&(l=!0,g>n&&(c="onReverseComplete"))),this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:n,this._yoyo&&0!=(1&this._cycle)?this._time=e=0:(this._time=f,e=f+1e-4);else if(1e-7>e)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==p||0===f&&g!==n&&(g>0||0>e&&g>=0)&&!this._locked)&&(c="onReverseComplete",o=this._reversed),0>e)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(l=o=!0,c="onReverseComplete"):g>=0&&this._first&&(l=!0),this._rawPrevTime=e;else{if(this._rawPrevTime=f||!t||e||this._rawPrevTime===e?e:n,0===e&&o)for(r=this._first;r&&0===r._startTime;)r._duration||(o=!1),r=r._next;e=0,this._initted||(l=!0)}else 0===f&&0>g&&(l=!0),this._time=this._rawPrevTime=e,this._locked||(this._totalTime=e,0!==this._repeat&&(u=f+this._repeatDelay,this._cycle=this._totalTime/u>>0,0!==this._cycle&&this._cycle===this._totalTime/u&&this._cycle--,this._time=this._totalTime-this._cycle*u,this._yoyo&&0!=(1&this._cycle)&&(this._time=f-this._time),this._time>f?(this._time=f,e=f+1e-4):0>this._time?this._time=e=0:e=this._time));if(this._cycle!==x&&!this._locked){var w=this._yoyo&&0!=(1&x),_=w===(this._yoyo&&0!=(1&this._cycle)),T=this._totalTime,E=this._cycle,S=this._rawPrevTime,M=this._time;if(this._totalTime=x*f,x>this._cycle?w=!w:this._totalTime+=f,this._time=p,this._rawPrevTime=0===f?g-1e-4:g,this._cycle=x,this._locked=!0,p=w?0:f,this.render(p,t,0===f),t||this._gc||this.vars.onRepeat&&this._callback("onRepeat"),_&&(p=w?f+1e-4:-1e-4,this.render(p,!0,!1)),this._locked=!1,this._paused&&!b)return;this._time=M,this._totalTime=T,this._cycle=E,this._rawPrevTime=S}if(!(this._time!==p&&this._first||i||l))return void(m!==this._totalTime&&this._onUpdate&&(t||this._callback("onUpdate")));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==m&&e>0&&(this._active=!0),0===m&&this.vars.onStart&&0!==this._totalTime&&(t||this._callback("onStart")),this._time>=p)for(r=this._first;r&&(h=r._next,!this._paused||b);)(r._active||r._startTime<=this._time&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,i):r.render((e-r._startTime)*r._timeScale,t,i)),r=h;else for(r=this._last;r&&(h=r._prev,!this._paused||b);)(r._active||p>=r._startTime&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,i):r.render((e-r._startTime)*r._timeScale,t,i)),r=h;this._onUpdate&&(t||(a.length&&s(),this._callback("onUpdate"))),c&&(this._locked||this._gc||(v===this._startTime||y!==this._timeScale)&&(0===this._time||d>=this.totalDuration())&&(o&&(a.length&&s(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[c]&&this._callback(c)))},c.getActive=function(e,t,i){null==e&&(e=!0),null==t&&(t=!0),null==i&&(i=!1);var r,n,o=[],a=this.getChildren(e,t,i),s=0,h=a.length;for(r=0;h>r;r++)n=a[r],n.isActive()&&(o[s++]=n);return o},c.getLabelAfter=function(e){e||0!==e&&(e=this._time);var t,i=this.getLabelsArray(),r=i.length;for(t=0;r>t;t++)if(i[t].time>e)return i[t].name;return null},c.getLabelBefore=function(e){null==e&&(e=this._time);for(var t=this.getLabelsArray(),i=t.length;--i>-1;)if(e>t[i].time)return t[i].name;return null},c.getLabelsArray=function(){var e,t=[],i=0;for(e in this._labels)t[i++]={time:this._labels[e],name:e};return t.sort(function(e,t){return e.time-t.time}),t},c.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-e:e)+this._cycle*(this._duration+this._repeatDelay),t):this._time/this.duration()},c.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this._totalTime/this.totalDuration()},c.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(e.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},c.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&0!=(1&this._cycle)?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},c.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},c.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},c.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},c.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.getLabelBefore(this._time+1e-8)},r},!0),function(){var e=180/Math.PI,t=[],i=[],r=[],n={},a=o._gsDefine.globals,s=function(e,t,i,r){this.a=e,this.b=t,this.c=i,this.d=r,this.da=r-e,this.ca=i-e,this.ba=t-e},h=function(e,t,i,r){var n={a:e},o={},a={},s={c:r},h=(e+t)/2,c=(t+i)/2,l=(i+r)/2,u=(h+c)/2,d=(c+l)/2,f=(d-u)/8;return n.b=h+(e-h)/4,o.b=u+f,n.c=o.a=(n.b+o.b)/2,o.c=a.a=(u+d)/2,a.b=d-f,s.b=l+(r-l)/4,a.c=s.a=(a.b+s.b)/2,[n,o,a,s]},c=function(e,n,o,a,s){var c,l,u,d,f,p,m,v,y,g,b,x,w,_=e.length-1,T=0,E=e[0].a;for(c=0;_>c;c++)f=e[T],l=f.a,u=f.d,d=e[T+1].d,s?(b=t[c],x=i[c],w=.25*(x+b)*n/(a?.5:r[c]||.5),p=u-(u-l)*(a?.5*n:0!==b?w/b:0),m=u+(d-u)*(a?.5*n:0!==x?w/x:0),v=u-(p+((m-p)*(3*b/(b+x)+.5)/4||0))):(p=u-.5*(u-l)*n,m=u+.5*(d-u)*n,v=u-(p+m)/2),p+=v,m+=v,f.c=y=p,f.b=0!==c?E:E=f.a+.6*(f.c-f.a),f.da=u-l,f.ca=y-l,f.ba=E-l,o?(g=h(l,E,y,u),e.splice(T,1,g[0],g[1],g[2],g[3]),T+=4):T++,E=m;f=e[T],f.b=E,f.c=E+.4*(f.d-E),f.da=f.d-f.a,f.ca=f.c-f.a,f.ba=E-f.a,o&&(g=h(f.a,E,f.c,f.d),e.splice(T,1,g[0],g[1],g[2],g[3]))},l=function(e,r,n,o){var a,h,c,l,u,d,f=[];if(o)for(e=[o].concat(e),h=e.length;--h>-1;)"string"==typeof(d=e[h][r])&&"="===d.charAt(1)&&(e[h][r]=o[r]+Number(d.charAt(0)+d.substr(2)));if(0>(a=e.length-2))return f[0]=new s(e[0][r],0,0,e[-1>a?0:1][r]),f;for(h=0;a>h;h++)c=e[h][r],l=e[h+1][r],f[h]=new s(c,0,0,l),n&&(u=e[h+2][r],t[h]=(t[h]||0)+(l-c)*(l-c),i[h]=(i[h]||0)+(u-l)*(u-l));return f[h]=new s(e[h][r],0,0,e[h+1][r]),f},u=function(e,o,a,s,h,u){var d,f,p,m,v,y,g,b,x={},w=[],_=u||e[0];h="string"==typeof h?","+h+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",null==o&&(o=1);for(f in e[0])w.push(f);if(e.length>1){for(b=e[e.length-1],g=!0,d=w.length;--d>-1;)if(f=w[d],Math.abs(_[f]-b[f])>.05){g=!1;break}g&&(e=e.concat(),u&&e.unshift(u),e.push(e[1]),u=e[e.length-3])}for(t.length=i.length=r.length=0,d=w.length;--d>-1;)f=w[d],n[f]=-1!==h.indexOf(","+f+","),x[f]=l(e,f,n[f],u);for(d=t.length;--d>-1;)t[d]=Math.sqrt(t[d]),i[d]=Math.sqrt(i[d]);if(!s){for(d=w.length;--d>-1;)if(n[f])for(p=x[w[d]],y=p.length-1,m=0;y>m;m++)v=p[m+1].da/i[m]+p[m].da/t[m],r[m]=(r[m]||0)+v*v;for(d=r.length;--d>-1;)r[d]=Math.sqrt(r[d])}for(d=w.length,m=a?4:1;--d>-1;)f=w[d],p=x[f],c(p,o,a,s,n[f]),g&&(p.splice(0,m),p.splice(p.length-m,m));return x},d=function(e,t,i){t=t||"soft";var r,n,o,a,h,c,l,u,d,f,p,m={},v="cubic"===t?3:2,y="soft"===t,g=[];if(y&&i&&(e=[i].concat(e)),null==e||v+1>e.length)throw"invalid Bezier data";for(d in e[0])g.push(d);for(c=g.length;--c>-1;){for(d=g[c],m[d]=h=[],f=0,u=e.length,l=0;u>l;l++)r=null==i?e[l][d]:"string"==typeof(p=e[l][d])&&"="===p.charAt(1)?i[d]+Number(p.charAt(0)+p.substr(2)):Number(p),y&&l>1&&u-1>l&&(h[f++]=(r+h[f-2])/2),h[f++]=r;for(u=f-v+1,f=0,l=0;u>l;l+=v)r=h[l],n=h[l+1],o=h[l+2],a=2===v?0:h[l+3],h[f++]=p=3===v?new s(r,n,o,a):new s(r,(2*n+r)/3,(2*n+o)/3,o);h.length=f}return m},f=function(e,t,i){for(var r,n,o,a,s,h,c,l,u,d,f,p=1/i,m=e.length;--m>-1;)for(d=e[m],o=d.a,a=d.d-o,s=d.c-o,h=d.b-o,r=n=0,l=1;i>=l;l++)c=p*l,u=1-c,r=n-(n=(c*c*a+3*u*(c*s+u*h))*c),f=m*i+l-1,t[f]=(t[f]||0)+r*r},p=function(e,t){t=t>>0||6;var i,r,n,o,a=[],s=[],h=0,c=0,l=t-1,u=[],d=[];for(i in e)f(e[i],a,t);for(n=a.length,r=0;n>r;r++)h+=Math.sqrt(a[r]),o=r%t,d[o]=h,o===l&&(c+=h,o=r/t>>0,u[o]=d,s[o]=c,h=0,d=[]);return{length:c,lengths:s,segments:u}},m=o._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.4",API:2,global:!0,init:function(e,t,i){this._target=e,t instanceof Array&&(t={values:t}),this._func={},this._round={},this._props=[],this._timeRes=null==t.timeResolution?6:parseInt(t.timeResolution,10);var r,n,o,a,s,h=t.values||[],c={},l=h[0],f=t.autoRotate||i.vars.orientToBezier;this._autoRotate=f?f instanceof Array?f:[["x","y","rotation",!0===f?0:Number(f)||0]]:null;for(r in l)this._props.push(r);for(o=this._props.length;--o>-1;)r=this._props[o],this._overwriteProps.push(r),n=this._func[r]="function"==typeof e[r],c[r]=n?e[r.indexOf("set")||"function"!=typeof e["get"+r.substr(3)]?r:"get"+r.substr(3)]():parseFloat(e[r]),s||c[r]!==h[0][r]&&(s=c);if(this._beziers="cubic"!==t.type&&"quadratic"!==t.type&&"soft"!==t.type?u(h,isNaN(t.curviness)?1:t.curviness,!1,"thruBasic"===t.type,t.correlate,s):d(h,t.type,c),this._segCount=this._beziers[r].length,this._timeRes){var m=p(this._beziers,this._timeRes);this._length=m.length,this._lengths=m.lengths,this._segments=m.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(f=this._autoRotate)for(this._initialRotations=[],f[0]instanceof Array||(this._autoRotate=f=[f]),o=f.length;--o>-1;){for(a=0;3>a;a++)r=f[o][a],this._func[r]="function"==typeof e[r]&&e[r.indexOf("set")||"function"!=typeof e["get"+r.substr(3)]?r:"get"+r.substr(3)];r=f[o][2],this._initialRotations[o]=this._func[r]?this._func[r].call(this._target):this._target[r]}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(t){var i,r,n,o,a,s,h,c,l,u,d=this._segCount,f=this._func,p=this._target,m=t!==this._startRatio;if(this._timeRes){if(l=this._lengths,u=this._curSeg,t*=this._length,n=this._li,t>this._l2&&d-1>n){for(c=d-1;c>n&&t>=(this._l2=l[++n]););this._l1=l[n-1],this._li=n,this._curSeg=u=this._segments[n],this._s2=u[this._s1=this._si=0]}else if(this._l1>t&&n>0){for(;n>0&&(this._l1=l[--n])>=t;);0===n&&this._l1>t?this._l1=0:n++,this._l2=l[n],this._li=n,this._curSeg=u=this._segments[n],this._s1=u[(this._si=u.length-1)-1]||0,this._s2=u[this._si]}if(i=n,t-=this._l1,n=this._si,t>this._s2&&u.length-1>n){for(c=u.length-1;c>n&&t>=(this._s2=u[++n]););this._s1=u[n-1],this._si=n}else if(this._s1>t&&n>0){for(;n>0&&(this._s1=u[--n])>=t;);0===n&&this._s1>t?this._s1=0:n++,this._s2=u[n],this._si=n}s=(n+(t-this._s1)/(this._s2-this._s1))*this._prec}else i=0>t?0:t>=1?d-1:d*t>>0,s=(t-i*(1/d))*d;for(r=1-s,n=this._props.length;--n>-1;)o=this._props[n],a=this._beziers[o][i],h=(s*s*a.da+3*r*(s*a.ca+r*a.ba))*s+a.a,this._round[o]&&(h=Math.round(h)),f[o]?p[o](h):p[o]=h;if(this._autoRotate){var v,y,g,b,x,w,_,T=this._autoRotate;for(n=T.length;--n>-1;)o=T[n][2],w=T[n][3]||0,_=!0===T[n][4]?1:e,a=this._beziers[T[n][0]],v=this._beziers[T[n][1]],a&&v&&(a=a[i],v=v[i],y=a.a+(a.b-a.a)*s,b=a.b+(a.c-a.b)*s,y+=(b-y)*s,b+=(a.c+(a.d-a.c)*s-b)*s,g=v.a+(v.b-v.a)*s,x=v.b+(v.c-v.b)*s,g+=(x-g)*s,x+=(v.c+(v.d-v.c)*s-x)*s,h=m?Math.atan2(x-g,b-y)*_+w:this._initialRotations[n],f[o]?p[o](h):p[o]=h)}}}),v=m.prototype;m.bezierThrough=u,m.cubicToQuadratic=h,m._autoCSS=!0,m.quadraticToCubic=function(e,t,i){return new s(e,(2*t+e)/3,(2*t+i)/3,i)},m._cssRegister=function(){var e=a.CSSPlugin;if(e){var t=e._internals,i=t._parseToProxy,r=t._setPluginRatio,n=t.CSSPropTween;t._registerComplexSpecialProp("bezier",{parser:function(e,t,o,a,s,h){t instanceof Array&&(t={values:t}),h=new m;var c,l,u,d=t.values,f=d.length-1,p=[],v={};if(0>f)return s;for(c=0;f>=c;c++)u=i(e,d[c],a,s,h,f!==c),p[c]=u.end;for(l in t)v[l]=t[l];return v.values=p,s=new n(e,"bezier",0,0,u.pt,2),s.data=u,s.plugin=h,s.setRatio=r,0===v.autoRotate&&(v.autoRotate=!0),!v.autoRotate||v.autoRotate instanceof Array||(c=!0===v.autoRotate?0:Number(v.autoRotate),v.autoRotate=null!=u.end.left?[["left","top","rotation",c,!1]]:null!=u.end.x&&[["x","y","rotation",c,!1]]),v.autoRotate&&(a._transform||a._enableTransforms(!1),u.autoRotate=a._target._gsTransform),h._onInitTween(u.proxy,v,a._tween),s}})}},v._roundProps=function(e,t){for(var i=this._overwriteProps,r=i.length;--r>-1;)(e[i[r]]||e.bezier||e.bezierThrough)&&(this._round[i[r]]=t)},v._kill=function(e){var t,i,r=this._props;for(t in this._beziers)if(t in e)for(delete this._beziers[t],delete this._func[t],i=r.length;--i>-1;)r[i]===t&&r.splice(i,1);return this._super._kill.call(this,e)}}(),o._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(e,t){var i,r,n,a,s=function(){e.call(this,"css"),this._overwriteProps.length=0,this.setRatio=s.prototype.setRatio},h=o._gsDefine.globals,c={},l=s.prototype=new e("css");l.constructor=s,s.version="1.17.0",s.API=2,s.defaultTransformPerspective=0,s.defaultSkewType="compensated",s.defaultSmoothOrigin=!0,l="px",s.suffixMap={top:l,right:l,bottom:l,left:l,width:l,height:l,fontSize:l,padding:l,margin:l,perspective:l,lineHeight:""};var u,d,f,p,m,v,y=/(?:\d|\-\d|\.\d|\-\.\d)+/g,g=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,b=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,x=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,w=/(?:\d|\-|\+|=|#|\.)*/g,_=/opacity *= *([^)]*)/i,T=/opacity:([^;]*)/i,E=/alpha\(opacity *=.+?\)/i,S=/^(rgb|hsl)/,M=/([A-Z])/g,C=/-([a-z])/gi,A=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,D=function(e,t){return t.toUpperCase()},k=/(?:Left|Right|Width)/i,I=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,P=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,R=/,(?=[^\)]*(?:\(|$))/gi,F=Math.PI/180,O=180/Math.PI,L={},B=document,N=function(e){return B.createElementNS?B.createElementNS("http://www.w3.org/1999/xhtml",e):B.createElement(e)},U=N("div"),H=N("img"),j=s._internals={_specialProps:c},z=navigator.userAgent,G=function(){var e=z.indexOf("Android"),t=N("a");return f=-1!==z.indexOf("Safari")&&-1===z.indexOf("Chrome")&&(-1===e||Number(z.substr(e+8,1))>3),m=f&&6>Number(z.substr(z.indexOf("Version/")+8,1)),p=-1!==z.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(z)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(z))&&(v=parseFloat(RegExp.$1)),!!t&&(t.style.cssText="top:1px;opacity:.55;",/^0.55/.test(t.style.opacity))}(),V=function(e){return _.test("string"==typeof e?e:(e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100:1},X=function(e){window.console&&console.log(e)},Y="",W="",q=function(e,t){t=t||U;var i,r,n=t.style;if(void 0!==n[e])return e;for(e=e.charAt(0).toUpperCase()+e.substr(1),i=["O","Moz","ms","Ms","Webkit"],r=5;--r>-1&&void 0===n[i[r]+e];);return r>=0?(W=3===r?"ms":i[r],Y="-"+W.toLowerCase()+"-",W+e):null},$=B.defaultView?B.defaultView.getComputedStyle:function(){},K=s.getStyle=function(e,t,i,r,n){var o;return G||"opacity"!==t?(!r&&e.style[t]?o=e.style[t]:(i=i||$(e))?o=i[t]||i.getPropertyValue(t)||i.getPropertyValue(t.replace(M,"-$1").toLowerCase()):e.currentStyle&&(o=e.currentStyle[t]),null==n||o&&"none"!==o&&"auto"!==o&&"auto auto"!==o?o:n):V(e)},Z=j.convertToPixels=function(e,i,r,n,o){if("px"===n||!n)return r;if("auto"===n||!r)return 0;var a,h,c,l=k.test(i),u=e,d=U.style,f=0>r;if(f&&(r=-r),"%"===n&&-1!==i.indexOf("border"))a=r/100*(l?e.clientWidth:e.clientHeight);else{if(d.cssText="border:0 solid red;position:"+K(e,"position")+";line-height:0;","%"!==n&&u.appendChild)d[l?"borderLeftWidth":"borderTopWidth"]=r+n;else{if(u=e.parentNode||B.body,h=u._gsCache,c=t.ticker.frame,h&&l&&h.time===c)return h.width*r/100;d[l?"width":"height"]=r+n}u.appendChild(U),a=parseFloat(U[l?"offsetWidth":"offsetHeight"]),u.removeChild(U),l&&"%"===n&&!1!==s.cacheWidths&&(h=u._gsCache=u._gsCache||{},h.time=c,h.width=a/r*100),0!==a||o||(a=Z(e,i,r,n,!0))}return f?-a:a},J=j.calculateOffset=function(e,t,i){if("absolute"!==K(e,"position",i))return 0;var r="left"===t?"Left":"Top",n=K(e,"margin"+r,i);return e["offset"+r]-(Z(e,t,parseFloat(n),n.replace(w,""))||0)},Q=function(e,t){var i,r,n,o={};if(t=t||$(e,null))if(i=t.length)for(;--i>-1;)n=t[i],(-1===n.indexOf("-transform")||Ee===n)&&(o[n.replace(C,D)]=t.getPropertyValue(n));else for(i in t)(-1===i.indexOf("Transform")||Te===i)&&(o[i]=t[i]);else if(t=e.currentStyle||e.style)for(i in t)"string"==typeof i&&void 0===o[i]&&(o[i.replace(C,D)]=t[i]);return G||(o.opacity=V(e)),r=Le(e,t,!1),o.rotation=r.rotation,o.skewX=r.skewX,o.scaleX=r.scaleX,o.scaleY=r.scaleY,o.x=r.x,o.y=r.y,Me&&(o.z=r.z,o.rotationX=r.rotationX,o.rotationY=r.rotationY,o.scaleZ=r.scaleZ),o.filters&&delete o.filters,o},ee=function(e,t,i,r,n){var o,a,s,h={},c=e.style;for(a in i)"cssText"!==a&&"length"!==a&&isNaN(a)&&(t[a]!==(o=i[a])||n&&n[a])&&-1===a.indexOf("Origin")&&("number"==typeof o||"string"==typeof o)&&(h[a]="auto"!==o||"left"!==a&&"top"!==a?""!==o&&"auto"!==o&&"none"!==o||"string"!=typeof t[a]||""===t[a].replace(x,"")?o:0:J(e,a),void 0!==c[a]&&(s=new pe(c,a,c[a],s)));if(r)for(a in r)"className"!==a&&(h[a]=r[a]);return{difs:h,firstMPT:s}},te={width:["Left","Right"],height:["Top","Bottom"]},ie=["marginLeft","marginRight","marginTop","marginBottom"],re=function(e,t,i){var r=parseFloat("width"===t?e.offsetWidth:e.offsetHeight),n=te[t],o=n.length;for(i=i||$(e,null);--o>-1;)r-=parseFloat(K(e,"padding"+n[o],i,!0))||0,r-=parseFloat(K(e,"border"+n[o]+"Width",i,!0))||0;return r},ne=function(e,t){(null==e||""===e||"auto"===e||"auto auto"===e)&&(e="0 0");var i=e.split(" "),r=-1!==e.indexOf("left")?"0%":-1!==e.indexOf("right")?"100%":i[0],n=-1!==e.indexOf("top")?"0%":-1!==e.indexOf("bottom")?"100%":i[1];return null==n?n="center"===r?"50%":"0":"center"===n&&(n="50%"),("center"===r||isNaN(parseFloat(r))&&-1===(r+"").indexOf("="))&&(r="50%"),e=r+" "+n+(i.length>2?" "+i[2]:""),t&&(t.oxp=-1!==r.indexOf("%"),t.oyp=-1!==n.indexOf("%"),t.oxr="="===r.charAt(1),t.oyr="="===n.charAt(1),t.ox=parseFloat(r.replace(x,"")),t.oy=parseFloat(n.replace(x,"")),t.v=e),t||e},oe=function(e,t){return"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(t)},ae=function(e,t){return null==e?t:"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2))+t:parseFloat(e)},se=function(e,t,i,r){var n,o,a,s,h;return null==e?s=t:"number"==typeof e?s=e:(n=360,o=e.split("_"),h="="===e.charAt(1),a=(h?parseInt(e.charAt(0)+"1",10)*parseFloat(o[0].substr(2)):parseFloat(o[0]))*(-1===e.indexOf("rad")?1:O)-(h?0:t),o.length&&(r&&(r[i]=t+a),-1!==e.indexOf("short")&&(a%=n)!==a%(n/2)&&(a=0>a?a+n:a-n),-1!==e.indexOf("_cw")&&0>a?a=(a+9999999999*n)%n-(0|a/n)*n:-1!==e.indexOf("ccw")&&a>0&&(a=(a-9999999999*n)%n-(0|a/n)*n)),s=t+a),1e-6>s&&s>-1e-6&&(s=0),s},he={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ce=function(e,t,i){return e=0>e?e+1:e>1?e-1:e,0|255*(1>6*e?t+6*(i-t)*e:.5>e?i:2>3*e?t+6*(i-t)*(2/3-e):t)+.5},le=s.parseColor=function(e){var t,i,r,n,o,a;return e&&""!==e?"number"==typeof e?[e>>16,255&e>>8,255&e]:(","===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),he[e]?he[e]:"#"===e.charAt(0)?(4===e.length&&(t=e.charAt(1),i=e.charAt(2),r=e.charAt(3),e="#"+t+t+i+i+r+r),e=parseInt(e.substr(1),16),[e>>16,255&e>>8,255&e]):"hsl"===e.substr(0,3)?(e=e.match(y),n=Number(e[0])%360/360,o=Number(e[1])/100,a=Number(e[2])/100,i=.5>=a?a*(o+1):a+o-a*o,t=2*a-i,e.length>3&&(e[3]=Number(e[3])),e[0]=ce(n+1/3,t,i),e[1]=ce(n,t,i),e[2]=ce(n-1/3,t,i),e):(e=e.match(y)||he.transparent,e[0]=Number(e[0]),e[1]=Number(e[1]),e[2]=Number(e[2]),e.length>3&&(e[3]=Number(e[3])),e)):he.black},ue="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(l in he)ue+="|"+l+"\\b";ue=RegExp(ue+")","gi");var de=function(e,t,i,r){if(null==e)return function(e){return e};var n,o=t?(e.match(ue)||[""])[0]:"",a=e.split(o).join("").match(b)||[],s=e.substr(0,e.indexOf(a[0])),h=")"===e.charAt(e.length-1)?")":"",c=-1!==e.indexOf(" ")?" ":",",l=a.length,u=l>0?a[0].replace(y,""):"";return l?n=t?function(e){var t,d,f,p;if("number"==typeof e)e+=u;else if(r&&R.test(e)){for(p=e.replace(R,"|").split("|"),f=0;p.length>f;f++)p[f]=n(p[f]);return p.join(",")}if(t=(e.match(ue)||[o])[0],d=e.split(t).join("").match(b)||[],f=d.length,l>f--)for(;l>++f;)d[f]=i?d[0|(f-1)/2]:a[f];return s+d.join(c)+c+t+h+(-1!==e.indexOf("inset")?" inset":"")}:function(e){var t,o,d;if("number"==typeof e)e+=u;else if(r&&R.test(e)){for(o=e.replace(R,"|").split("|"),d=0;o.length>d;d++)o[d]=n(o[d]);return o.join(",")}if(t=e.match(b)||[],d=t.length,l>d--)for(;l>++d;)t[d]=i?t[0|(d-1)/2]:a[d];return s+t.join(c)+h}:function(e){return e}},fe=function(e){return e=e.split(","),function(t,i,r,n,o,a,s){var h,c=(i+"").split(" ");for(s={},h=0;4>h;h++)s[e[h]]=c[h]=c[h]||c[(h-1)/2>>0];return n.parse(t,s,o,a)}},pe=(j._setPluginRatio=function(e){this.plugin.setRatio(e);for(var t,i,r,n,o=this.data,a=o.proxy,s=o.firstMPT;s;)t=a[s.v],s.r?t=Math.round(t):1e-6>t&&t>-1e-6&&(t=0),s.t[s.p]=t,s=s._next;if(o.autoRotate&&(o.autoRotate.rotation=a.rotation),1===e)for(s=o.firstMPT;s;){if(i=s.t,i.type){if(1===i.type){for(n=i.xs0+i.s+i.xs1,r=1;i.l>r;r++)n+=i["xn"+r]+i["xs"+(r+1)];i.e=n}}else i.e=i.s+i.xs0;s=s._next}},function(e,t,i,r,n){this.t=e,this.p=t,this.v=i,this.r=n,r&&(r._prev=this,this._next=r)}),me=(j._parseToProxy=function(e,t,i,r,n,o){var a,s,h,c,l,u=r,d={},f={},p=i._transform,m=L;for(i._transform=null,L=t,r=l=i.parse(e,t,r,n),L=m,o&&(i._transform=p,u&&(u._prev=null,u._prev&&(u._prev._next=null)));r&&r!==u;){if(1>=r.type&&(s=r.p,f[s]=r.s+r.c,d[s]=r.s,o||(c=new pe(r,"s",s,c,r.r),r.c=0),1===r.type))for(a=r.l;--a>0;)h="xn"+a,s=r.p+"_"+h,f[s]=r.data[h],d[s]=r[h],o||(c=new pe(r,h,s,c,r.rxp[h]));r=r._next}return{proxy:d,end:f,firstMPT:c,pt:l}},j.CSSPropTween=function(e,t,r,n,o,s,h,c,l,u,d){this.t=e,this.p=t,this.s=r,this.c=n,this.n=h||t,e instanceof me||a.push(this.n),this.r=c,this.type=s||0,l&&(this.pr=l,i=!0),this.b=void 0===u?r:u,this.e=void 0===d?r+n:d,o&&(this._next=o,o._prev=this)}),ve=function(e,t,i,r,n,o){var a=new me(e,t,i,r-i,n,-1,o);return a.b=i,a.e=a.xs0=r,a},ye=s.parseComplex=function(e,t,i,r,n,o,a,s,h,c){i=i||o||"",a=new me(e,t,0,0,a,c?2:1,null,!1,s,i,r),r+="";var l,d,f,p,m,v,b,x,w,_,T,E,M=i.split(", ").join(",").split(" "),C=r.split(", ").join(",").split(" "),A=M.length,D=!1!==u;for((-1!==r.indexOf(",")||-1!==i.indexOf(","))&&(M=M.join(" ").replace(R,", ").split(" "),C=C.join(" ").replace(R,", ").split(" "),A=M.length),A!==C.length&&(M=(o||"").split(" "),A=M.length),a.plugin=h,a.setRatio=c,l=0;A>l;l++)if(p=M[l],m=C[l],(x=parseFloat(p))||0===x)a.appendXtra("",x,oe(m,x),m.replace(g,""),D&&-1!==m.indexOf("px"),!0);else if(n&&("#"===p.charAt(0)||he[p]||S.test(p)))E=","===m.charAt(m.length-1)?"),":")",p=le(p),m=le(m),w=p.length+m.length>6,w&&!G&&0===m[3]?(a["xs"+a.l]+=a.l?" transparent":"transparent",a.e=a.e.split(C[l]).join("transparent")):(G||(w=!1),a.appendXtra(w?"rgba(":"rgb(",p[0],m[0]-p[0],",",!0,!0).appendXtra("",p[1],m[1]-p[1],",",!0).appendXtra("",p[2],m[2]-p[2],w?",":E,!0),w&&(p=4>p.length?1:p[3],a.appendXtra("",p,(4>m.length?1:m[3])-p,E,!1)));else if(v=p.match(y)){if(!(b=m.match(g))||b.length!==v.length)return a;for(f=0,d=0;v.length>d;d++)T=v[d],_=p.indexOf(T,f),a.appendXtra(p.substr(f,_-f),Number(T),oe(b[d],T),"",D&&"px"===p.substr(_+T.length,2),0===d),f=_+T.length;a["xs"+a.l]+=p.substr(f)}else a["xs"+a.l]+=a.l?" "+p:p;if(-1!==r.indexOf("=")&&a.data){for(E=a.xs0+a.data.s,l=1;a.l>l;l++)E+=a["xs"+l]+a.data["xn"+l];a.e=E+a["xs"+l]}return a.l||(a.type=-1,a.xs0=a.e),a.xfirst||a},ge=9;for(l=me.prototype,l.l=l.pr=0;--ge>0;)l["xn"+ge]=0,l["xs"+ge]="";l.xs0="",l._next=l._prev=l.xfirst=l.data=l.plugin=l.setRatio=l.rxp=null,l.appendXtra=function(e,t,i,r,n,o){var a=this,s=a.l;return a["xs"+s]+=o&&s?" "+e:e||"",i||0===s||a.plugin?(a.l++,a.type=a.setRatio?2:1,a["xs"+a.l]=r||"",s>0?(a.data["xn"+s]=t+i,a.rxp["xn"+s]=n,a["xn"+s]=t,a.plugin||(a.xfirst=new me(a,"xn"+s,t,i,a.xfirst||a,0,a.n,n,a.pr),a.xfirst.xs0=0),a):(a.data={s:t+i},a.rxp={},a.s=t,a.c=i,a.r=n,a)):(a["xs"+s]+=t+(r||""),a)};var be=function(e,t){t=t||{},this.p=t.prefix?q(e)||e:e,c[e]=c[this.p]=this,this.format=t.formatter||de(t.defaultValue,t.color,t.collapsible,t.multi),t.parser&&(this.parse=t.parser),this.clrs=t.color,this.multi=t.multi,this.keyword=t.keyword,this.dflt=t.defaultValue,this.pr=t.priority||0},xe=j._registerComplexSpecialProp=function(e,t,i){"object"!=typeof t&&(t={parser:i});var r,n=e.split(","),o=t.defaultValue;for(i=i||[o],r=0;n.length>r;r++)t.prefix=0===r&&t.prefix,t.defaultValue=i[r]||o,new be(n[r],t)};l=be.prototype,l.parseComplex=function(e,t,i,r,n,o){var a,s,h,c,l,u,d=this.keyword;if(this.multi&&(R.test(i)||R.test(t)?(s=t.replace(R,"|").split("|"),h=i.replace(R,"|").split("|")):d&&(s=[t],h=[i])),h){for(c=h.length>s.length?h.length:s.length,a=0;c>a;a++)t=s[a]=s[a]||this.dflt,i=h[a]=h[a]||this.dflt,d&&(l=t.indexOf(d),u=i.indexOf(d),l!==u&&(-1===u?s[a]=s[a].split(d).join(""):-1===l&&(s[a]+=" "+d)));t=s.join(", "),i=h.join(", ")}return ye(e,this.p,t,i,this.clrs,this.dflt,r,this.pr,n,o)},l.parse=function(e,t,i,r,o,a){return this.parseComplex(e.style,this.format(K(e,this.p,n,!1,this.dflt)),this.format(t),o,a)},s.registerSpecialProp=function(e,t,i){xe(e,{parser:function(e,r,n,o,a,s){var h=new me(e,n,0,0,a,2,n,!1,i);return h.plugin=s,h.setRatio=t(e,r,o._tween,n),h},priority:i})},s.useSVGTransformAttr=f||p;var we,_e="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Te=q("transform"),Ee=Y+"transform",Se=q("transformOrigin"),Me=null!==q("perspective"),Ce=j.Transform=function(){this.perspective=parseFloat(s.defaultTransformPerspective)||0,this.force3D=!(!1===s.defaultForce3D||!Me)&&(s.defaultForce3D||"auto")},Ae=window.SVGElement,De=function(e,t,i){var r,n=B.createElementNS("http://www.w3.org/2000/svg",e),o=/([a-z])([A-Z])/g;for(r in i)n.setAttributeNS(null,r.replace(o,"$1-$2").toLowerCase(),i[r]);return t.appendChild(n),n},ke=B.documentElement,Ie=function(){var e,t,i,r=v||/Android/i.test(z)&&!window.chrome;return B.createElementNS&&!r&&(e=De("svg",ke),t=De("rect",e,{width:100,height:50,x:100}),i=t.getBoundingClientRect().width,t.style[Se]="50% 50%",t.style[Te]="scaleX(0.5)",r=i===t.getBoundingClientRect().width&&!(p&&Me),ke.removeChild(e)),r}(),Pe=function(e,t,i,r,n){var o,a,h,c,l,u,d,f,p,m,v,y,g,b,x=e._gsTransform,w=Oe(e,!0);x&&(g=x.xOrigin,b=x.yOrigin),(!r||2>(o=r.split(" ")).length)&&(d=e.getBBox(),t=ne(t).split(" "),o=[(-1!==t[0].indexOf("%")?parseFloat(t[0])/100*d.width:parseFloat(t[0]))+d.x,(-1!==t[1].indexOf("%")?parseFloat(t[1])/100*d.height:parseFloat(t[1]))+d.y]),i.xOrigin=c=parseFloat(o[0]),i.yOrigin=l=parseFloat(o[1]),r&&w!==Fe&&(u=w[0],d=w[1],f=w[2],p=w[3],m=w[4],v=w[5],y=u*p-d*f,a=c*(p/y)+l*(-f/y)+(f*v-p*m)/y,h=c*(-d/y)+l*(u/y)-(u*v-d*m)/y,c=i.xOrigin=o[0]=a,l=i.yOrigin=o[1]=h),x&&(n||!1!==n&&!1!==s.defaultSmoothOrigin?(a=c-g,h=l-b,x.xOffset+=a*w[0]+h*w[2]-a,x.yOffset+=a*w[1]+h*w[3]-h):x.xOffset=x.yOffset=0),e.setAttribute("data-svg-origin",o.join(" "))},Re=function(e){return!!(Ae&&"function"==typeof e.getBBox&&e.getCTM&&(!e.parentNode||e.parentNode.getBBox&&e.parentNode.getCTM))},Fe=[1,0,0,1,0,0],Oe=function(e,t){var i,r,n,o,a,s=e._gsTransform||new Ce;if(Te?r=K(e,Ee,null,!0):e.currentStyle&&(r=e.currentStyle.filter.match(I),r=r&&4===r.length?[r[0].substr(4),Number(r[2].substr(4)),Number(r[1].substr(4)),r[3].substr(4),s.x||0,s.y||0].join(","):""),i=!r||"none"===r||"matrix(1, 0, 0, 1, 0, 0)"===r,(s.svg||e.getBBox&&Re(e))&&(i&&-1!==(e.style[Te]+"").indexOf("matrix")&&(r=e.style[Te],i=0),n=e.getAttribute("transform"),i&&n&&(-1!==n.indexOf("matrix")?(r=n,i=0):-1!==n.indexOf("translate")&&(r="matrix(1,0,0,1,"+n.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",i=0))),i)return Fe;for(n=(r||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],ge=n.length;--ge>-1;)o=Number(n[ge]),n[ge]=(a=o-(o|=0))?(0|1e5*a+(0>a?-.5:.5))/1e5+o:o;return t&&n.length>6?[n[0],n[1],n[4],n[5],n[12],n[13]]:n},Le=j.getTransform=function(e,i,r,o){if(e._gsTransform&&r&&!o)return e._gsTransform;var a,h,c,l,u,d,f=r?e._gsTransform||new Ce:new Ce,p=0>f.scaleX,m=1e5,v=Me?parseFloat(K(e,Se,i,!1,"0 0 0").split(" ")[2])||f.zOrigin||0:0,y=parseFloat(s.defaultTransformPerspective)||0;if(f.svg=!(!e.getBBox||!Re(e)),f.svg&&(Pe(e,K(e,Se,n,!1,"50% 50%")+"",f,e.getAttribute("data-svg-origin")),we=s.useSVGTransformAttr||Ie),(a=Oe(e))!==Fe){if(16===a.length){var g,b,x,w,_,T=a[0],E=a[1],S=a[2],M=a[3],C=a[4],A=a[5],D=a[6],k=a[7],I=a[8],P=a[9],R=a[10],F=a[12],L=a[13],B=a[14],N=a[11],U=Math.atan2(D,R);f.zOrigin&&(B=-f.zOrigin,F=I*B-a[12],L=P*B-a[13],B=R*B+f.zOrigin-a[14]),f.rotationX=U*O,U&&(w=Math.cos(-U),_=Math.sin(-U),g=C*w+I*_,b=A*w+P*_,x=D*w+R*_,I=C*-_+I*w,P=A*-_+P*w,R=D*-_+R*w,N=k*-_+N*w,C=g,A=b,D=x),U=Math.atan2(I,R),f.rotationY=U*O,U&&(w=Math.cos(-U),_=Math.sin(-U),g=T*w-I*_,b=E*w-P*_,x=S*w-R*_,P=E*_+P*w,R=S*_+R*w,N=M*_+N*w,T=g,E=b,S=x),U=Math.atan2(E,T),f.rotation=U*O,U&&(w=Math.cos(-U),_=Math.sin(-U),T=T*w+C*_,b=E*w+A*_,A=E*-_+A*w,D=S*-_+D*w,E=b),f.rotationX&&Math.abs(f.rotationX)+Math.abs(f.rotation)>359.9&&(f.rotationX=f.rotation=0,f.rotationY+=180),f.scaleX=(0|Math.sqrt(T*T+E*E)*m+.5)/m,f.scaleY=(0|Math.sqrt(A*A+P*P)*m+.5)/m,f.scaleZ=(0|Math.sqrt(D*D+R*R)*m+.5)/m,f.skewX=0,f.perspective=N?1/(0>N?-N:N):0,f.x=F,f.y=L,f.z=B,f.svg&&(f.x-=f.xOrigin-(f.xOrigin*T-f.yOrigin*C),f.y-=f.yOrigin-(f.yOrigin*E-f.xOrigin*A))}else if(!(Me&&!o&&a.length&&f.x===a[4]&&f.y===a[5]&&(f.rotationX||f.rotationY)||void 0!==f.x&&"none"===K(e,"display",i))){var H=a.length>=6,j=H?a[0]:1,z=a[1]||0,G=a[2]||0,V=H?a[3]:1;f.x=a[4]||0,f.y=a[5]||0,c=Math.sqrt(j*j+z*z),l=Math.sqrt(V*V+G*G),u=j||z?Math.atan2(z,j)*O:f.rotation||0,d=G||V?Math.atan2(G,V)*O+u:f.skewX||0,Math.abs(d)>90&&270>Math.abs(d)&&(p?(c*=-1,d+=0>=u?180:-180,u+=0>=u?180:-180):(l*=-1,d+=0>=d?180:-180)),f.scaleX=c,f.scaleY=l,f.rotation=u,f.skewX=d,Me&&(f.rotationX=f.rotationY=f.z=0,f.perspective=y,f.scaleZ=1),f.svg&&(f.x-=f.xOrigin-(f.xOrigin*j+f.yOrigin*G),f.y-=f.yOrigin-(f.xOrigin*z+f.yOrigin*V))}f.zOrigin=v;for(h in f)2e-5>f[h]&&f[h]>-2e-5&&(f[h]=0)}return r&&(e._gsTransform=f,f.svg&&(we&&e.style[Te]?t.delayedCall(.001,function(){He(e.style,Te)}):!we&&e.getAttribute("transform")&&t.delayedCall(.001,function(){e.removeAttribute("transform")}))),f},Be=function(e){var t,i,r=this.data,n=-r.rotation*F,o=n+r.skewX*F,a=1e5,s=(0|Math.cos(n)*r.scaleX*a)/a,h=(0|Math.sin(n)*r.scaleX*a)/a,c=(0|Math.sin(o)*-r.scaleY*a)/a,l=(0|Math.cos(o)*r.scaleY*a)/a,u=this.t.style,d=this.t.currentStyle;if(d){i=h,h=-c,c=-i,t=d.filter,u.filter="";var f,p,m=this.t.offsetWidth,y=this.t.offsetHeight,g="absolute"!==d.position,b="progid:DXImageTransform.Microsoft.Matrix(M11="+s+", M12="+h+", M21="+c+", M22="+l,x=r.x+m*r.xPercent/100,T=r.y+y*r.yPercent/100;if(null!=r.ox&&(f=(r.oxp?.01*m*r.ox:r.ox)-m/2,p=(r.oyp?.01*y*r.oy:r.oy)-y/2,x+=f-(f*s+p*h),T+=p-(f*c+p*l)),g?(f=m/2,p=y/2,b+=", Dx="+(f-(f*s+p*h)+x)+", Dy="+(p-(f*c+p*l)+T)+")"):b+=", sizingMethod='auto expand')",u.filter=-1!==t.indexOf("DXImageTransform.Microsoft.Matrix(")?t.replace(P,b):b+" "+t,(0===e||1===e)&&1===s&&0===h&&0===c&&1===l&&(g&&-1===b.indexOf("Dx=0, Dy=0")||_.test(t)&&100!==parseFloat(RegExp.$1)||-1===t.indexOf(t.indexOf("Alpha"))&&u.removeAttribute("filter")),!g){var E,S,M,C=8>v?1:-1;for(f=r.ieOffsetX||0,p=r.ieOffsetY||0,r.ieOffsetX=Math.round((m-((0>s?-s:s)*m+(0>h?-h:h)*y))/2+x),r.ieOffsetY=Math.round((y-((0>l?-l:l)*y+(0>c?-c:c)*m))/2+T),ge=0;4>ge;ge++)S=ie[ge],E=d[S],i=-1!==E.indexOf("px")?parseFloat(E):Z(this.t,S,parseFloat(E),E.replace(w,""))||0,M=i!==r[S]?2>ge?-r.ieOffsetX:-r.ieOffsetY:2>ge?f-r.ieOffsetX:p-r.ieOffsetY,u[S]=(r[S]=Math.round(i-M*(0===ge||2===ge?1:C)))+"px"}}},Ne=j.set3DTransformRatio=j.setTransformRatio=function(e){var t,i,r,n,o,a,s,h,c,l,u,d,f,m,v,y,g,b,x,w,_,T,E,S=this.data,M=this.t.style,C=S.rotation,A=S.rotationX,D=S.rotationY,k=S.scaleX,I=S.scaleY,P=S.scaleZ,R=S.x,O=S.y,L=S.z,B=S.svg,N=S.perspective,U=S.force3D;if(!((1!==e&&0!==e||"auto"!==U||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&U||L||N||D||A)||we&&B||!Me)return void(C||S.skewX||B?(C*=F,T=S.skewX*F,E=1e5,t=Math.cos(C)*k,n=Math.sin(C)*k,i=Math.sin(C-T)*-I,o=Math.cos(C-T)*I,T&&"simple"===S.skewType&&(g=Math.tan(T),g=Math.sqrt(1+g*g),i*=g,o*=g,S.skewY&&(t*=g,n*=g)),B&&(R+=S.xOrigin-(S.xOrigin*t+S.yOrigin*i)+S.xOffset,O+=S.yOrigin-(S.xOrigin*n+S.yOrigin*o)+S.yOffset,we&&(S.xPercent||S.yPercent)&&(m=this.t.getBBox(),R+=.01*S.xPercent*m.width,O+=.01*S.yPercent*m.height),m=1e-6,m>R&&R>-m&&(R=0),m>O&&O>-m&&(O=0)),x=(0|t*E)/E+","+(0|n*E)/E+","+(0|i*E)/E+","+(0|o*E)/E+","+R+","+O+")",B&&we?this.t.setAttribute("transform","matrix("+x):M[Te]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix(":"matrix(")+x):M[Te]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix(":"matrix(")+k+",0,0,"+I+","+R+","+O+")");if(p&&(m=1e-4,m>k&&k>-m&&(k=P=2e-5),m>I&&I>-m&&(I=P=2e-5),!N||S.z||S.rotationX||S.rotationY||(N=0)),C||S.skewX)C*=F,v=t=Math.cos(C),y=n=Math.sin(C),S.skewX&&(C-=S.skewX*F,v=Math.cos(C),y=Math.sin(C),"simple"===S.skewType&&(g=Math.tan(S.skewX*F),g=Math.sqrt(1+g*g),v*=g,y*=g,S.skewY&&(t*=g,n*=g))),i=-y,o=v;else{if(!(D||A||1!==P||N||B))return void(M[Te]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) translate3d(":"translate3d(")+R+"px,"+O+"px,"+L+"px)"+(1!==k||1!==I?" scale("+k+","+I+")":""));t=o=1,i=n=0}c=1,r=a=s=h=l=u=0,d=N?-1/N:0,f=S.zOrigin,m=1e-6,w=",",_="0",C=D*F,C&&(v=Math.cos(C),y=Math.sin(C),s=-y,l=d*-y,r=t*y,a=n*y,c=v,d*=v,t*=v,n*=v),C=A*F,C&&(v=Math.cos(C),y=Math.sin(C),g=i*v+r*y,b=o*v+a*y,h=c*y,u=d*y,r=i*-y+r*v,a=o*-y+a*v,c*=v,d*=v,i=g,o=b),1!==P&&(r*=P,a*=P,c*=P,d*=P),1!==I&&(i*=I,o*=I,h*=I,u*=I),1!==k&&(t*=k,n*=k,s*=k,l*=k),(f||B)&&(f&&(R+=r*-f,O+=a*-f,L+=c*-f+f),B&&(R+=S.xOrigin-(S.xOrigin*t+S.yOrigin*i)+S.xOffset,O+=S.yOrigin-(S.xOrigin*n+S.yOrigin*o)+S.yOffset),m>R&&R>-m&&(R=_),m>O&&O>-m&&(O=_),m>L&&L>-m&&(L=0)),x=S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix3d(":"matrix3d(",x+=(m>t&&t>-m?_:t)+w+(m>n&&n>-m?_:n)+w+(m>s&&s>-m?_:s),x+=w+(m>l&&l>-m?_:l)+w+(m>i&&i>-m?_:i)+w+(m>o&&o>-m?_:o),A||D?(x+=w+(m>h&&h>-m?_:h)+w+(m>u&&u>-m?_:u)+w+(m>r&&r>-m?_:r),x+=w+(m>a&&a>-m?_:a)+w+(m>c&&c>-m?_:c)+w+(m>d&&d>-m?_:d)+w):x+=",0,0,0,0,1,0,",x+=R+w+O+w+L+w+(N?1+-L/N:1)+")",M[Te]=x};l=Ce.prototype,l.x=l.y=l.z=l.skewX=l.skewY=l.rotation=l.rotationX=l.rotationY=l.zOrigin=l.xPercent=l.yPercent=l.xOffset=l.yOffset=0,l.scaleX=l.scaleY=l.scaleZ=1,xe("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(e,t,i,r,o,a,h){if(r._lastParsedTransform===h)return o;r._lastParsedTransform=h;var c,l,u,d,f,p,m,v,y,g=e._gsTransform,b=r._transform=Le(e,n,!0,h.parseTransform),x=e.style,w=_e.length,_=h,T={},E="transformOrigin";if("string"==typeof _.transform&&Te)u=U.style,u[Te]=_.transform,u.display="block",u.position="absolute",B.body.appendChild(U),c=Le(U,null,!1),B.body.removeChild(U),null!=_.xPercent&&(c.xPercent=ae(_.xPercent,b.xPercent)),null!=_.yPercent&&(c.yPercent=ae(_.yPercent,b.yPercent));else if("object"==typeof _){if(c={scaleX:ae(null!=_.scaleX?_.scaleX:_.scale,b.scaleX),scaleY:ae(null!=_.scaleY?_.scaleY:_.scale,b.scaleY),scaleZ:ae(_.scaleZ,b.scaleZ),x:ae(_.x,b.x),y:ae(_.y,b.y),z:ae(_.z,b.z),xPercent:ae(_.xPercent,b.xPercent),yPercent:ae(_.yPercent,b.yPercent),perspective:ae(_.transformPerspective,b.perspective)},null!=(m=_.directionalRotation))if("object"==typeof m)for(u in m)_[u]=m[u];else _.rotation=m;"string"==typeof _.x&&-1!==_.x.indexOf("%")&&(c.x=0,c.xPercent=ae(_.x,b.xPercent)),"string"==typeof _.y&&-1!==_.y.indexOf("%")&&(c.y=0,c.yPercent=ae(_.y,b.yPercent)),c.rotation=se("rotation"in _?_.rotation:"shortRotation"in _?_.shortRotation+"_short":"rotationZ"in _?_.rotationZ:b.rotation,b.rotation,"rotation",T),Me&&(c.rotationX=se("rotationX"in _?_.rotationX:"shortRotationX"in _?_.shortRotationX+"_short":b.rotationX||0,b.rotationX,"rotationX",T),c.rotationY=se("rotationY"in _?_.rotationY:"shortRotationY"in _?_.shortRotationY+"_short":b.rotationY||0,b.rotationY,"rotationY",T)),c.skewX=null==_.skewX?b.skewX:se(_.skewX,b.skewX),c.skewY=null==_.skewY?b.skewY:se(_.skewY,b.skewY),(l=c.skewY-b.skewY)&&(c.skewX+=l,c.rotation+=l)}for(Me&&null!=_.force3D&&(b.force3D=_.force3D,p=!0),b.skewType=_.skewType||b.skewType||s.defaultSkewType,(f=b.force3D||b.z||b.rotationX||b.rotationY||c.z||c.rotationX||c.rotationY||c.perspective)||null==_.scale||(c.scaleZ=1);--w>-1;)i=_e[w],((d=c[i]-b[i])>1e-6||-1e-6>d||null!=_[i]||null!=L[i])&&(p=!0,o=new me(b,i,b[i],d,o),i in T&&(o.e=T[i]),o.xs0=0,o.plugin=a,r._overwriteProps.push(o.n));return d=_.transformOrigin,b.svg&&(d||_.svgOrigin)&&(v=b.xOffset,y=b.yOffset,Pe(e,ne(d),c,_.svgOrigin,_.smoothOrigin),o=ve(b,"xOrigin",(g?b:c).xOrigin,c.xOrigin,o,E),o=ve(b,"yOrigin",(g?b:c).yOrigin,c.yOrigin,o,E),(v!==b.xOffset||y!==b.yOffset)&&(o=ve(b,"xOffset",g?v:b.xOffset,b.xOffset,o,E),o=ve(b,"yOffset",g?y:b.yOffset,b.yOffset,o,E)),d=we?null:"0px 0px"),(d||Me&&f&&b.zOrigin)&&(Te?(p=!0,i=Se,d=(d||K(e,i,n,!1,"50% 50%"))+"",o=new me(x,i,0,0,o,-1,E),o.b=x[i],o.plugin=a,Me?(u=b.zOrigin,d=d.split(" "),b.zOrigin=(d.length>2&&(0===u||"0px"!==d[2])?parseFloat(d[2]):u)||0,o.xs0=o.e=d[0]+" "+(d[1]||"50%")+" 0px",o=new me(b,"zOrigin",0,0,o,-1,o.n),o.b=u,o.xs0=o.e=b.zOrigin):o.xs0=o.e=d):ne(d+"",b)),p&&(r._transformType=b.svg&&we||!f&&3!==this._transformType?2:3),o},prefix:!0}),xe("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),xe("borderRadius",{defaultValue:"0px",parser:function(e,t,i,o,a){t=this.format(t);var s,h,c,l,u,d,f,p,m,v,y,g,b,x,w,_,T=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],E=e.style;for(m=parseFloat(e.offsetWidth),v=parseFloat(e.offsetHeight),s=t.split(" "),h=0;T.length>h;h++)this.p.indexOf("border")&&(T[h]=q(T[h])),u=l=K(e,T[h],n,!1,"0px"),-1!==u.indexOf(" ")&&(l=u.split(" "),u=l[0],l=l[1]),d=c=s[h],f=parseFloat(u),g=u.substr((f+"").length),b="="===d.charAt(1),b?(p=parseInt(d.charAt(0)+"1",10),d=d.substr(2),p*=parseFloat(d),y=d.substr((p+"").length-(0>p?1:0))||""):(p=parseFloat(d),y=d.substr((p+"").length)),""===y&&(y=r[i]||g),y!==g&&(x=Z(e,"borderLeft",f,g),w=Z(e,"borderTop",f,g),"%"===y?(u=x/m*100+"%",l=w/v*100+"%"):"em"===y?(_=Z(e,"borderLeft",1,"em"),u=x/_+"em",l=w/_+"em"):(u=x+"px",l=w+"px"),b&&(d=parseFloat(u)+p+y,c=parseFloat(l)+p+y)),a=ye(E,T[h],u+" "+l,d+" "+c,!1,"0px",a);return a},prefix:!0,formatter:de("0px 0px 0px 0px",!1,!0)}),xe("backgroundPosition",{defaultValue:"0 0",parser:function(e,t,i,r,o,a){var s,h,c,l,u,d,f="background-position",p=n||$(e,null),m=this.format((p?v?p.getPropertyValue(f+"-x")+" "+p.getPropertyValue(f+"-y"):p.getPropertyValue(f):e.currentStyle.backgroundPositionX+" "+e.currentStyle.backgroundPositionY)||"0 0"),y=this.format(t);if(-1!==m.indexOf("%")!=(-1!==y.indexOf("%"))&&(d=K(e,"backgroundImage").replace(A,""))&&"none"!==d){for(s=m.split(" "),h=y.split(" "),H.setAttribute("src",d),c=2;--c>-1;)m=s[c],(l=-1!==m.indexOf("%"))!==(-1!==h[c].indexOf("%"))&&(u=0===c?e.offsetWidth-H.width:e.offsetHeight-H.height,s[c]=l?parseFloat(m)/100*u+"px":parseFloat(m)/u*100+"%");m=s.join(" ")}return this.parseComplex(e.style,m,y,o,a)},formatter:ne}),xe("backgroundSize",{defaultValue:"0 0",formatter:ne}),xe("perspective",{defaultValue:"0px",prefix:!0}),xe("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),xe("transformStyle",{prefix:!0}),xe("backfaceVisibility",{prefix:!0}),xe("userSelect",{prefix:!0}),xe("margin",{parser:fe("marginTop,marginRight,marginBottom,marginLeft")}),xe("padding",{parser:fe("paddingTop,paddingRight,paddingBottom,paddingLeft")}),xe("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(e,t,i,r,o,a){var s,h,c;return 9>v?(h=e.currentStyle,c=8>v?" ":",",s="rect("+h.clipTop+c+h.clipRight+c+h.clipBottom+c+h.clipLeft+")",t=this.format(t).split(",").join(c)):(s=this.format(K(e,this.p,n,!1,this.dflt)),t=this.format(t)),this.parseComplex(e.style,s,t,o,a)}}),xe("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),xe("autoRound,strictUnits",{parser:function(e,t,i,r,n){return n}}),xe("border",{defaultValue:"0px solid #000",parser:function(e,t,i,r,o,a){return this.parseComplex(e.style,this.format(K(e,"borderTopWidth",n,!1,"0px")+" "+K(e,"borderTopStyle",n,!1,"solid")+" "+K(e,"borderTopColor",n,!1,"#000")),this.format(t),o,a)},color:!0,formatter:function(e){var t=e.split(" ");return t[0]+" "+(t[1]||"solid")+" "+(e.match(ue)||["#000"])[0]}}),xe("borderWidth",{parser:fe("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),xe("float,cssFloat,styleFloat",{parser:function(e,t,i,r,n){var o=e.style,a="cssFloat"in o?"cssFloat":"styleFloat";return new me(o,a,0,0,n,-1,i,!1,0,o[a],t)}});var Ue=function(e){var t,i=this.t,r=i.filter||K(this.data,"filter")||"",n=0|this.s+this.c*e;100===n&&(-1===r.indexOf("atrix(")&&-1===r.indexOf("radient(")&&-1===r.indexOf("oader(")?(i.removeAttribute("filter"),t=!K(this.data,"filter")):(i.filter=r.replace(E,""),t=!0)),t||(this.xn1&&(i.filter=r=r||"alpha(opacity="+n+")"),-1===r.indexOf("pacity")?0===n&&this.xn1||(i.filter=r+" alpha(opacity="+n+")"):i.filter=r.replace(_,"opacity="+n))};xe("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(e,t,i,r,o,a){var s=parseFloat(K(e,"opacity",n,!1,"1")),h=e.style,c="autoAlpha"===i;return"string"==typeof t&&"="===t.charAt(1)&&(t=("-"===t.charAt(0)?-1:1)*parseFloat(t.substr(2))+s),c&&1===s&&"hidden"===K(e,"visibility",n)&&0!==t&&(s=0),G?o=new me(h,"opacity",s,t-s,o):(o=new me(h,"opacity",100*s,100*(t-s),o),o.xn1=c?1:0,h.zoom=1,o.type=2,o.b="alpha(opacity="+o.s+")",o.e="alpha(opacity="+(o.s+o.c)+")",o.data=e,o.plugin=a,o.setRatio=Ue),c&&(o=new me(h,"visibility",0,0,o,-1,null,!1,0,0!==s?"inherit":"hidden",0===t?"hidden":"inherit"),o.xs0="inherit",r._overwriteProps.push(o.n),r._overwriteProps.push(i)),o}});var He=function(e,t){t&&(e.removeProperty?(("ms"===t.substr(0,2)||"webkit"===t.substr(0,6))&&(t="-"+t),e.removeProperty(t.replace(M,"-$1").toLowerCase())):e.removeAttribute(t))},je=function(e){if(this.t._gsClassPT=this,1===e||0===e){this.t.setAttribute("class",0===e?this.b:this.e);for(var t=this.data,i=this.t.style;t;)t.v?i[t.p]=t.v:He(i,t.p),t=t._next;1===e&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};xe("className",{parser:function(e,t,r,o,a,s,h){var c,l,u,d,f,p=e.getAttribute("class")||"",m=e.style.cssText;if(a=o._classNamePT=new me(e,r,0,0,a,2),a.setRatio=je,a.pr=-11,i=!0,a.b=p,l=Q(e,n),u=e._gsClassPT){for(d={},f=u.data;f;)d[f.p]=1,f=f._next;u.setRatio(1)}return e._gsClassPT=a,a.e="="!==t.charAt(1)?t:p.replace(RegExp("\\s*\\b"+t.substr(2)+"\\b"),"")+("+"===t.charAt(0)?" "+t.substr(2):""),e.setAttribute("class",a.e),c=ee(e,l,Q(e),h,d),e.setAttribute("class",p),a.data=c.firstMPT,e.style.cssText=m,a=a.xfirst=o.parse(e,c.difs,a,s)}});var ze=function(e){if((1===e||0===e)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var t,i,r,n,o,a=this.t.style,s=c.transform.parse;if("all"===this.e)a.cssText="",n=!0;else for(t=this.e.split(" ").join("").split(","),r=t.length;--r>-1;)i=t[r],c[i]&&(c[i].parse===s?n=!0:i="transformOrigin"===i?Se:c[i].p),He(a,i);n&&(He(a,Te),(o=this.t._gsTransform)&&(o.svg&&this.t.removeAttribute("data-svg-origin"),delete this.t._gsTransform))}};for(xe("clearProps",{parser:function(e,t,r,n,o){return o=new me(e,r,0,0,o,2),o.setRatio=ze,o.e=t,o.pr=-10,o.data=n._tween,i=!0,o}}),l="bezier,throwProps,physicsProps,physics2D".split(","),ge=l.length;ge--;)!function(e){if(!c[e]){var t=e.charAt(0).toUpperCase()+e.substr(1)+"Plugin";xe(e,{parser:function(e,i,r,n,o,a,s){var l=h.com.greensock.plugins[t];return l?(l._cssRegister(),c[r].parse(e,i,r,n,o,a,s)):(X("Error: "+t+" js file not loaded."),o)}})}}(l[ge]);l=s.prototype,l._firstPT=l._lastParsedTransform=l._transform=null,l._onInitTween=function(e,t,o){if(!e.nodeType)return!1;this._target=e,this._tween=o,this._vars=t,u=t.autoRound,i=!1,r=t.suffixMap||s.suffixMap,n=$(e,""),a=this._overwriteProps;var h,l,p,v,y,g,b,x,w,_=e.style;if(d&&""===_.zIndex&&("auto"===(h=K(e,"zIndex",n))||""===h)&&this._addLazySet(_,"zIndex",0),"string"==typeof t&&(v=_.cssText,h=Q(e,n),_.cssText=v+";"+t,h=ee(e,h,Q(e)).difs,!G&&T.test(t)&&(h.opacity=parseFloat(RegExp.$1)),t=h,_.cssText=v),this._firstPT=l=t.className?c.className.parse(e,t.className,"className",this,null,null,t):this.parse(e,t,null),this._transformType){for(w=3===this._transformType,Te?f&&(d=!0,""===_.zIndex&&("auto"===(b=K(e,"zIndex",n))||""===b)&&this._addLazySet(_,"zIndex",0),m&&this._addLazySet(_,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(w?"visible":"hidden"))):_.zoom=1,p=l;p&&p._next;)p=p._next;x=new me(e,"transform",0,0,null,2),this._linkCSSP(x,null,p),x.setRatio=Te?Ne:Be,x.data=this._transform||Le(e,n,!0),x.tween=o,x.pr=-1,a.pop()}if(i){for(;l;){for(g=l._next,p=v;p&&p.pr>l.pr;)p=p._next;(l._prev=p?p._prev:y)?l._prev._next=l:v=l,(l._next=p)?p._prev=l:y=l,l=g}this._firstPT=v}return!0},l.parse=function(e,t,i,o){var a,s,h,l,d,f,p,m,v,y,g=e.style;for(a in t)f=t[a],s=c[a],s?i=s.parse(e,f,a,this,i,o,t):(d=K(e,a,n)+"",v="string"==typeof f,"color"===a||"fill"===a||"stroke"===a||-1!==a.indexOf("Color")||v&&S.test(f)?(v||(f=le(f),f=(f.length>3?"rgba(":"rgb(")+f.join(",")+")"),i=ye(g,a,d,f,!0,"transparent",i,0,o)):!v||-1===f.indexOf(" ")&&-1===f.indexOf(",")?(h=parseFloat(d),p=h||0===h?d.substr((h+"").length):"",(""===d||"auto"===d)&&("width"===a||"height"===a?(h=re(e,a,n),p="px"):"left"===a||"top"===a?(h=J(e,a,n),p="px"):(h="opacity"!==a?0:1,p="")),y=v&&"="===f.charAt(1),y?(l=parseInt(f.charAt(0)+"1",10),f=f.substr(2),l*=parseFloat(f),m=f.replace(w,"")):(l=parseFloat(f),m=v?f.replace(w,""):""),""===m&&(m=a in r?r[a]:p),f=l||0===l?(y?l+h:l)+m:t[a],p!==m&&""!==m&&(l||0===l)&&h&&(h=Z(e,a,h,p),"%"===m?(h/=Z(e,a,100,"%")/100,!0!==t.strictUnits&&(d=h+"%")):"em"===m?h/=Z(e,a,1,"em"):"px"!==m&&(l=Z(e,a,l,m),m="px"),y&&(l||0===l)&&(f=l+h+m)),y&&(l+=h),!h&&0!==h||!l&&0!==l?void 0!==g[a]&&(f||"NaN"!=f+""&&null!=f)?(i=new me(g,a,l||h||0,0,i,-1,a,!1,0,d,f),i.xs0="none"!==f||"display"!==a&&-1===a.indexOf("Style")?f:d):X("invalid "+a+" tween value: "+t[a]):(i=new me(g,a,h,l-h,i,0,a,!1!==u&&("px"===m||"zIndex"===a),0,d,f),i.xs0=m)):i=ye(g,a,d,f,!0,null,i,0,o)),o&&i&&!i.plugin&&(i.plugin=o);return i},l.setRatio=function(e){var t,i,r,n=this._firstPT;if(1!==e||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(e||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;n;){if(t=n.c*e+n.s,n.r?t=Math.round(t):1e-6>t&&t>-1e-6&&(t=0),n.type)if(1===n.type)if(2===(r=n.l))n.t[n.p]=n.xs0+t+n.xs1+n.xn1+n.xs2;else if(3===r)n.t[n.p]=n.xs0+t+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3;else if(4===r)n.t[n.p]=n.xs0+t+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3+n.xn3+n.xs4;else if(5===r)n.t[n.p]=n.xs0+t+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3+n.xn3+n.xs4+n.xn4+n.xs5;else{for(i=n.xs0+t+n.xs1,r=1;n.l>r;r++)i+=n["xn"+r]+n["xs"+(r+1)];n.t[n.p]=i}else-1===n.type?n.t[n.p]=n.xs0:n.setRatio&&n.setRatio(e);else n.t[n.p]=t+n.xs0;n=n._next}else for(;n;)2!==n.type?n.t[n.p]=n.b:n.setRatio(e),n=n._next;else for(;n;){if(2!==n.type)if(n.r&&-1!==n.type)if(t=Math.round(n.s+n.c),n.type){if(1===n.type){for(r=n.l,i=n.xs0+t+n.xs1,r=1;n.l>r;r++)i+=n["xn"+r]+n["xs"+(r+1)];n.t[n.p]=i}}else n.t[n.p]=t+n.xs0;else n.t[n.p]=n.e;else n.setRatio(e);n=n._next}},l._enableTransforms=function(e){this._transform=this._transform||Le(this._target,n,!0),this._transformType=this._transform.svg&&we||!e&&3!==this._transformType?2:3};var Ge=function(){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};l._addLazySet=function(e,t,i){var r=this._firstPT=new me(e,t,0,0,this._firstPT,2);r.e=i,r.setRatio=Ge,r.data=this},l._linkCSSP=function(e,t,i,r){return e&&(t&&(t._prev=e),e._next&&(e._next._prev=e._prev),e._prev?e._prev._next=e._next:this._firstPT===e&&(this._firstPT=e._next,r=!0),i?i._next=e:r||null!==this._firstPT||(this._firstPT=e),e._next=t,e._prev=i),e},l._kill=function(t){var i,r,n,o=t;if(t.autoAlpha||t.alpha){o={};for(r in t)o[r]=t[r];o.opacity=1,o.autoAlpha&&(o.visibility=1)}return t.className&&(i=this._classNamePT)&&(n=i.xfirst,n&&n._prev?this._linkCSSP(n._prev,i._next,n._prev._prev):n===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,n._prev),this._classNamePT=null),e.prototype._kill.call(this,o)};var Ve=function(e,t,i){var r,n,o,a;if(e.slice)for(n=e.length;--n>-1;)Ve(e[n],t,i);else for(r=e.childNodes,n=r.length;--n>-1;)o=r[n],a=o.type,o.style&&(t.push(Q(o)),i&&i.push(o)),1!==a&&9!==a&&11!==a||!o.childNodes.length||Ve(o,t,i)};return s.cascadeTo=function(e,i,r){var n,o,a,s,h=t.to(e,i,r),c=[h],l=[],u=[],d=[],f=t._internals.reservedProps;for(e=h._targets||h.target,Ve(e,l,d),h.render(i,!0,!0),Ve(e,u),h.render(0,!0,!0),h._enabled(!0),n=d.length;--n>-1;)if(o=ee(d[n],l[n],u[n]),o.firstMPT){o=o.difs;for(a in r)f[a]&&(o[a]=r[a]);s={};for(a in o)s[a]=l[n][a];c.push(t.fromTo(d[n],i,s,o))}return c},e.activate([s]),s},!0),function(){var e=o._gsDefine.plugin({propName:"roundProps",priority:-1,API:2,init:function(e,t,i){return this._tween=i,!0}}),t=e.prototype;t._onInitAllProps=function(){for(var e,t,i,r=this._tween,n=r.vars.roundProps instanceof Array?r.vars.roundProps:r.vars.roundProps.split(","),o=n.length,a={},s=r._propLookup.roundProps;--o>-1;)a[n[o]]=1;for(o=n.length;--o>-1;)for(e=n[o],t=r._firstPT;t;)i=t._next,t.pg?t.t._roundProps(a,!0):t.n===e&&(this._add(t.t,e,t.s,t.c),i&&(i._prev=t._prev),t._prev?t._prev._next=i:r._firstPT===t&&(r._firstPT=i),t._next=t._prev=null,r._propLookup[e]=s),t=i;return!1},t._add=function(e,t,i,r){this._addTween(e,t,i,i+r,t,!0),this._overwriteProps.push(t)}}(),function(){var e=/(?:\d|\-|\+|=|#|\.)*/g,t=/[A-Za-z%]/g;o._gsDefine.plugin({propName:"attr",API:2,version:"0.4.0",init:function(i,r){var n,o,a,s,h;if("function"!=typeof i.setAttribute)return!1;this._target=i,this._proxy={},this._start={},this._end={},this._suffix={};for(n in r)this._start[n]=this._proxy[n]=o=i.getAttribute(n)+"",this._end[n]=a=r[n]+"",this._suffix[n]=s=t.test(a)?a.replace(e,""):t.test(o)?o.replace(e,""):"",s&&-1!==(h=a.indexOf(s))&&(a=a.substr(0,h)),this._addTween(this._proxy,n,parseFloat(o),a,n)||(this._suffix[n]=""),"="===a.charAt(1)&&(this._end[n]=this._firstPT.s+this._firstPT.c+s),this._overwriteProps.push(n);return!0},set:function(e){this._super.setRatio.call(this,e);for(var t,i=this._overwriteProps,r=i.length,n=1===e?this._end:e?this._proxy:this._start,o=n===this._proxy;--r>-1;)t=i[r],this._target.setAttribute(t,n[t]+(o?this._suffix[t]:""))}})}(),o._gsDefine.plugin({propName:"directionalRotation",version:"0.2.1",API:2,init:function(e,t){"object"!=typeof t&&(t={rotation:t}),this.finals={};var i,r,n,o,a,s,h=!0===t.useRadians?2*Math.PI:360;for(i in t)"useRadians"!==i&&(s=(t[i]+"").split("_"),r=s[0],n=parseFloat("function"!=typeof e[i]?e[i]:e[i.indexOf("set")||"function"!=typeof e["get"+i.substr(3)]?i:"get"+i.substr(3)]()),o=this.finals[i]="string"==typeof r&&"="===r.charAt(1)?n+parseInt(r.charAt(0)+"1",10)*Number(r.substr(2)):Number(r)||0,a=o-n,s.length&&(r=s.join("_"),-1!==r.indexOf("short")&&(a%=h)!==a%(h/2)&&(a=0>a?a+h:a-h),-1!==r.indexOf("_cw")&&0>a?a=(a+9999999999*h)%h-(0|a/h)*h:-1!==r.indexOf("ccw")&&a>0&&(a=(a-9999999999*h)%h-(0|a/h)*h)),(a>1e-6||-1e-6>a)&&(this._addTween(e,i,n,n+a,i),this._overwriteProps.push(i)));return!0},set:function(e){var t;if(1!==e)this._super.setRatio.call(this,e);else for(t=this._firstPT;t;)t.f?t.t[t.p](this.finals[t.p]):t.t[t.p]=this.finals[t.p],t=t._next}})._autoCSS=!0,o._gsDefine("easing.Back",["easing.Ease"],function(e){var t,i,r,n=o.GreenSockGlobals||o,a=n.com.greensock,s=2*Math.PI,h=Math.PI/2,c=a._class,l=function(t,i){var r=c("easing."+t,function(){},!0),n=r.prototype=new e;return n.constructor=r,n.getRatio=i,r},u=e.register||function(){},d=function(e,t,i,r){var n=c("easing."+e,{easeOut:new t,easeIn:new i,easeInOut:new r},!0);return u(n,e),n},f=function(e,t,i){this.t=e,this.v=t,i&&(this.next=i,i.prev=this,this.c=i.v-t,this.gap=i.t-e)},p=function(t,i){var r=c("easing."+t,function(e){this._p1=e||0===e?e:1.70158,this._p2=1.525*this._p1},!0),n=r.prototype=new e;return n.constructor=r,n.getRatio=i,n.config=function(e){return new r(e)},r},m=d("Back",p("BackOut",function(e){return(e-=1)*e*((this._p1+1)*e+this._p1)+1}),p("BackIn",function(e){return e*e*((this._p1+1)*e-this._p1)}),p("BackInOut",function(e){return 1>(e*=2)?.5*e*e*((this._p2+1)*e-this._p2):.5*((e-=2)*e*((this._p2+1)*e+this._p2)+2)})),v=c("easing.SlowMo",function(e,t,i){t=t||0===t?t:.7,null==e?e=.7:e>1&&(e=1),this._p=1!==e?t:0,this._p1=(1-e)/2,this._p2=e,this._p3=this._p1+this._p2,this._calcEnd=!0===i},!0),y=v.prototype=new e;return y.constructor=v,y.getRatio=function(e){var t=e+(.5-e)*this._p;return this._p1>e?this._calcEnd?1-(e=1-e/this._p1)*e:t-(e=1-e/this._p1)*e*e*e*t:e>this._p3?this._calcEnd?1-(e=(e-this._p3)/this._p1)*e:t+(e-t)*(e=(e-this._p3)/this._p1)*e*e*e:this._calcEnd?1:t},v.ease=new v(.7,.7),y.config=v.config=function(e,t,i){return new v(e,t,i)},t=c("easing.SteppedEase",function(e){e=e||1,this._p1=1/e,this._p2=e+1},!0),y=t.prototype=new e,y.constructor=t,y.getRatio=function(e){return 0>e?e=0:e>=1&&(e=.999999999),(this._p2*e>>0)*this._p1},y.config=t.config=function(e){return new t(e)},i=c("easing.RoughEase",function(t){t=t||{};for(var i,r,n,o,a,s,h=t.taper||"none",c=[],l=0,u=0|(t.points||20),d=u,p=!1!==t.randomize,m=!0===t.clamp,v=t.template instanceof e?t.template:null,y="number"==typeof t.strength?.4*t.strength:.4;--d>-1;)i=p?Math.random():1/u*d,r=v?v.getRatio(i):i,"none"===h?n=y:"out"===h?(o=1-i,n=o*o*y):"in"===h?n=i*i*y:.5>i?(o=2*i,n=.5*o*o*y):(o=2*(1-i),n=.5*o*o*y),p?r+=Math.random()*n-.5*n:d%2?r+=.5*n:r-=.5*n,m&&(r>1?r=1:0>r&&(r=0)),c[l++]={x:i,y:r};for(c.sort(function(e,t){return e.x-t.x}),s=new f(1,1,null),d=u;--d>-1;)a=c[d],s=new f(a.x,a.y,s);this._prev=new f(0,0,0!==s.t?s:s.next)},!0),y=i.prototype=new e,y.constructor=i,y.getRatio=function(e){var t=this._prev;if(e>t.t){for(;t.next&&e>=t.t;)t=t.next;t=t.prev}else for(;t.prev&&t.t>=e;)t=t.prev;return this._prev=t,t.v+(e-t.t)/t.gap*t.c},y.config=function(e){return new i(e)},i.ease=new i,d("Bounce",l("BounceOut",function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}),l("BounceIn",function(e){return 1/2.75>(e=1-e)?1-7.5625*e*e:2/2.75>e?1-(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)}),l("BounceInOut",function(e){var t=.5>e;return e=t?1-2*e:2*e-1,e=1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,t?.5*(1-e):.5*e+.5})),d("Circ",l("CircOut",function(e){return Math.sqrt(1-(e-=1)*e)}),l("CircIn",function(e){return-(Math.sqrt(1-e*e)-1)}),l("CircInOut",function(e){return 1>(e*=2)?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)})),r=function(t,i,r){var n=c("easing."+t,function(e,t){this._p1=e>=1?e:1,this._p2=(t||r)/(1>e?e:1),this._p3=this._p2/s*(Math.asin(1/this._p1)||0),this._p2=s/this._p2},!0),o=n.prototype=new e;return o.constructor=n,o.getRatio=i,o.config=function(e,t){return new n(e,t)},n},d("Elastic",r("ElasticOut",function(e){return this._p1*Math.pow(2,-10*e)*Math.sin((e-this._p3)*this._p2)+1},.3),r("ElasticIn",function(e){return-this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2)},.3),r("ElasticInOut",function(e){return 1>(e*=2)?-.5*this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2):.5*this._p1*Math.pow(2,-10*(e-=1))*Math.sin((e-this._p3)*this._p2)+1},.45)),d("Expo",l("ExpoOut",function(e){return 1-Math.pow(2,-10*e)}),l("ExpoIn",function(e){return Math.pow(2,10*(e-1))-.001}),l("ExpoInOut",function(e){return 1>(e*=2)?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))})),d("Sine",l("SineOut",function(e){return Math.sin(e*h)}),l("SineIn",function(e){return 1-Math.cos(e*h)}),l("SineInOut",function(e){return-.5*(Math.cos(Math.PI*e)-1)})),c("easing.EaseLookup",{find:function(t){return e.map[t]}},!0),u(n.SlowMo,"SlowMo","ease,"),u(i,"RoughEase","ease,"),u(t,"SteppedEase","ease,"),m},!0)}),o._gsDefine&&o._gsQueue.pop()(),function(i,o){"use strict";var a=i.GreenSockGlobals=i.GreenSockGlobals||i;if(!a.TweenLite){var s,h,c,l,u,d=function(e){var t,i=e.split("."),r=a;for(t=0;i.length>t;t++)r[i[t]]=r=r[i[t]]||{};return r},f=d("com.greensock"),p=1e-10,m=function(e){var t,i=[],r=e.length;for(t=0;t!==r;i.push(e[t++]));return i},v=function(){},y=function(){var e=Object.prototype.toString,t=e.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&e.call(i)===t)}}(),g={},b=function(i,o,s,h){this.sc=g[i]?g[i].sc:[],g[i]=this,this.gsClass=null,this.func=s;var c=[];this.check=function(l){for(var u,f,p,m,v=o.length,y=v;--v>-1;)(u=g[o[v]]||new b(o[v],[])).gsClass?(c[v]=u.gsClass,y--):l&&u.sc.push(this);if(0===y&&s)for(f=("com.greensock."+i).split("."),p=f.pop(),m=d(f.join("."))[p]=this.gsClass=s.apply(s,c),h&&(a[p]=m,r=[],void 0!==(n=function(){return m}.apply(t,r))&&(e.exports=n)),v=0;this.sc.length>v;v++)this.sc[v].check()},this.check(!0)},x=i._gsDefine=function(e,t,i,r){return new b(e,t,i,r)},w=f._class=function(e,t,i){return t=t||function(){},x(e,[],function(){return t},i),t};x.globals=a;var _=[0,0,1,1],T=[],E=w("easing.Ease",function(e,t,i,r){this._func=e,this._type=i||0,this._power=r||0,this._params=t?_.concat(t):_},!0),S=E.map={},M=E.register=function(e,t,i,r){for(var n,o,a,s,h=t.split(","),c=h.length,l=(i||"easeIn,easeOut,easeInOut").split(",");--c>-1;)for(o=h[c],n=r?w("easing."+o,null,!0):f.easing[o]||{},a=l.length;--a>-1;)s=l[a],S[o+"."+s]=S[s+o]=n[s]=e.getRatio?e:e[s]||new e};for(c=E.prototype,c._calcEnd=!1,c.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,i=this._power,r=1===t?1-e:2===t?e:.5>e?2*e:2*(1-e);return 1===i?r*=r:2===i?r*=r*r:3===i?r*=r*r*r:4===i&&(r*=r*r*r*r),1===t?1-r:2===t?r:.5>e?r/2:1-r/2},s=["Linear","Quad","Cubic","Quart","Quint,Strong"],h=s.length;--h>-1;)c=s[h]+",Power"+h,M(new E(null,null,1,h),c,"easeOut",!0),M(new E(null,null,2,h),c,"easeIn"+(0===h?",easeNone":"")),M(new E(null,null,3,h),c,"easeInOut");S.linear=f.easing.Linear.easeIn,S.swing=f.easing.Quad.easeInOut;var C=w("events.EventDispatcher",function(e){this._listeners={},this._eventTarget=e||this});c=C.prototype,c.addEventListener=function(e,t,i,r,n){n=n||0;var o,a,s=this._listeners[e],h=0;for(null==s&&(this._listeners[e]=s=[]),a=s.length;--a>-1;)o=s[a],o.c===t&&o.s===i?s.splice(a,1):0===h&&n>o.pr&&(h=a+1);s.splice(h,0,{c:t,s:i,up:r,pr:n}),this!==l||u||l.wake()},c.removeEventListener=function(e,t){var i,r=this._listeners[e];if(r)for(i=r.length;--i>-1;)if(r[i].c===t)return void r.splice(i,1)},c.dispatchEvent=function(e){var t,i,r,n=this._listeners[e];if(n)for(t=n.length,i=this._eventTarget;--t>-1;)(r=n[t])&&(r.up?r.c.call(r.s||i,{type:e,target:i}):r.c.call(r.s||i))};var A=i.requestAnimationFrame,D=i.cancelAnimationFrame,k=Date.now||function(){return(new Date).getTime()},I=k();for(s=["ms","moz","webkit","o"],h=s.length;--h>-1&&!A;)A=i[s[h]+"RequestAnimationFrame"],D=i[s[h]+"CancelAnimationFrame"]||i[s[h]+"CancelRequestAnimationFrame"];w("Ticker",function(e,t){var i,r,n,o,a,s=this,h=k(),c=!1!==t&&A,d=500,f=33,m=function(e){var t,c,l=k()-I;l>d&&(h+=l-f),I+=l,s.time=(I-h)/1e3,t=s.time-a,(!i||t>0||!0===e)&&(s.frame++,a+=t+(t>=o?.004:o-t),c=!0),!0!==e&&(n=r(m)),c&&s.dispatchEvent("tick")};C.call(s),s.time=s.frame=0,s.tick=function(){m(!0)},s.lagSmoothing=function(e,t){d=e||1/p,f=Math.min(t,d,0)},s.sleep=function(){null!=n&&(c&&D?D(n):clearTimeout(n),r=v,n=null,s===l&&(u=!1))},s.wake=function(){null!==n?s.sleep():s.frame>10&&(I=k()-d+5),r=0===i?v:c&&A?A:function(e){return setTimeout(e,0|1e3*(a-s.time)+1)},s===l&&(u=!0),m(2)},s.fps=function(e){return arguments.length?(i=e,o=1/(i||60),a=this.time+o,void s.wake()):i},s.useRAF=function(e){return arguments.length?(s.sleep(),c=e,void s.fps(i)):c},s.fps(e),setTimeout(function(){c&&5>s.frame&&s.useRAF(!1)},1500)}),c=f.Ticker.prototype=new f.events.EventDispatcher,c.constructor=f.Ticker;var P=w("core.Animation",function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=!0===t.immediateRender,this.data=t.data,this._reversed=!0===t.reversed,W){u||l.wake();var i=this.vars.useFrames?Y:W;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});l=P.ticker=new f.Ticker,c=P.prototype,c._dirty=c._gc=c._initted=c._paused=!1,c._totalTime=c._time=0,c._rawPrevTime=-1,c._next=c._last=c._onUpdate=c._timeline=c.timeline=null,c._paused=!1;var R=function(){u&&k()-I>2e3&&l.wake(),setTimeout(R,2e3)};R(),c.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},c.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},c.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},c.seek=function(e,t){return this.totalTime(Number(e),!1!==t)},c.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,!1!==t,!0)},c.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},c.render=function(){},c.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},c.isActive=function(){var e,t=this._timeline,i=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime())>=i&&i+this.totalDuration()/this._timeScale>e},c._enabled=function(e,t){return u||l.wake(),this._gc=!e,this._active=this.isActive(),!0!==t&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},c._kill=function(){return this._enabled(!1,!1)},c.kill=function(e,t){return this._kill(e,t),this},c._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},c._swapSelfInParams=function(e){for(var t=e.length,i=e.concat();--t>-1;)"{self}"===e[t]&&(i[t]=this);return i},c._callback=function(e){var t=this.vars;t[e].apply(t[e+"Scope"]||t.callbackScope||this,t[e+"Params"]||T)},c.eventCallback=function(e,t,i,r){if("on"===(e||"").substr(0,2)){var n=this.vars;if(1===arguments.length)return n[e];null==t?delete n[e]:(n[e]=t,n[e+"Params"]=y(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,n[e+"Scope"]=r),"onUpdate"===e&&(this._onUpdate=t)}return this},c.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},c.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},c.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},c.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},c.totalTime=function(e,t,i){if(u||l.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>e&&!i&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var r=this._totalDuration,n=this._timeline;if(e>r&&!i&&(e=r),this._startTime=(this._paused?this._pauseTime:n._time)-(this._reversed?r-e:e)/this._timeScale,n._dirty||this._uncache(!1),n._timeline)for(;n._timeline;)n._timeline._time!==(n._startTime+n._totalTime)/n._timeScale&&n.totalTime(n._totalTime,!0),n=n._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==e||0===this._duration)&&(this.render(e,t,!1),N.length&&$())}return this},c.progress=c.totalProgress=function(e,t){return arguments.length?this.totalTime(this.duration()*e,t):this._time/this.duration()},c.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},c.endTime=function(e){return this._startTime+(0!=e?this.totalDuration():this.duration())/this._timeScale},c.timeScale=function(e){if(!arguments.length)return this._timeScale;if(e=e||p,this._timeline&&this._timeline.smoothChildTiming){var t=this._pauseTime,i=t||0===t?t:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/e}return this._timeScale=e,this._uncache(!1)},c.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},c.paused=function(e){if(!arguments.length)return this._paused;var t,i,r=this._timeline;return e!=this._paused&&r&&(u||e||l.wake(),t=r.rawTime(),i=t-this._pauseTime,!e&&r.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=e?t:null,this._paused=e,this._active=this.isActive(),!e&&0!==i&&this._initted&&this.duration()&&this.render(r.smoothChildTiming?this._totalTime:(t-this._startTime)/this._timeScale,!0,!0)),this._gc&&!e&&this._enabled(!0,!1),this};var F=w("core.SimpleTimeline",function(e){P.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0});c=F.prototype=new P,c.constructor=F,c.kill()._gc=!1,c._first=c._last=c._recent=null,c._sortChildren=!1,c.add=c.insert=function(e,t){var i,r;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=e._startTime+(this.rawTime()-e._startTime)/e._timeScale),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),i=this._last,this._sortChildren)for(r=e._startTime;i&&i._startTime>r;)i=i._prev;return i?(e._next=i._next,i._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=i,this._recent=e,this._timeline&&this._uncache(!0),this},c._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),e._next=e._prev=e.timeline=null,e===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},c.render=function(e,t,i){var r,n=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;n;)r=n._next,(n._active||e>=n._startTime&&!n._paused)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(e-n._startTime)*n._timeScale,t,i):n.render((e-n._startTime)*n._timeScale,t,i)),n=r},c.rawTime=function(){return u||l.wake(),this._totalTime};var O=w("TweenLite",function(e,t,r){if(P.call(this,t,r),this.render=O.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:O.selector(e)||e;var n,o,a,s=e.jquery||e.length&&e!==i&&e[0]&&(e[0]===i||e[0].nodeType&&e[0].style&&!e.nodeType),h=this.vars.overwrite;if(this._overwrite=h=null==h?X[O.defaultOverwrite]:"number"==typeof h?h>>0:X[h],(s||e instanceof Array||e.push&&y(e))&&"number"!=typeof e[0])for(this._targets=a=m(e),this._propLookup=[],this._siblings=[],n=0;a.length>n;n++)o=a[n],o?"string"!=typeof o?o.length&&o!==i&&o[0]&&(o[0]===i||o[0].nodeType&&o[0].style&&!o.nodeType)?(a.splice(n--,1),this._targets=a=a.concat(m(o))):(this._siblings[n]=K(o,this,!1),1===h&&this._siblings[n].length>1&&J(o,this,null,1,this._siblings[n])):"string"==typeof(o=a[n--]=O.selector(o))&&a.splice(n+1,1):a.splice(n--,1);else this._propLookup={},this._siblings=K(e,this,!1),1===h&&this._siblings.length>1&&J(e,this,null,1,this._siblings);(this.vars.immediateRender||0===t&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-p,this.render(-this._delay))},!0),L=function(e){return e&&e.length&&e!==i&&e[0]&&(e[0]===i||e[0].nodeType&&e[0].style&&!e.nodeType)},B=function(e,t){var i,r={};for(i in e)V[i]||i in t&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!j[i]||j[i]&&j[i]._autoCSS)||(r[i]=e[i],delete e[i]);e.css=r};c=O.prototype=new P,c.constructor=O,c.kill()._gc=!1,c.ratio=0,c._firstPT=c._targets=c._overwrittenProps=c._startAt=null,c._notifyPluginsOfEnabled=c._lazy=!1,O.version="1.17.0",O.defaultEase=c._ease=new E(null,null,1,1),O.defaultOverwrite="auto",O.ticker=l,O.autoSleep=120,O.lagSmoothing=function(e,t){l.lagSmoothing(e,t)},O.selector=i.$||i.jQuery||function(e){var t=i.$||i.jQuery;return t?(O.selector=t,t(e)):"undefined"==typeof document?e:document.querySelectorAll?document.querySelectorAll(e):document.getElementById("#"===e.charAt(0)?e.substr(1):e)};var N=[],U={},H=O._internals={isArray:y,isSelector:L,lazyTweens:N},j=O._plugins={},z=H.tweenLookup={},G=0,V=H.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1},X={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},Y=P._rootFramesTimeline=new F,W=P._rootTimeline=new F,q=30,$=H.lazyRender=function(){var e,t=N.length;for(U={};--t>-1;)(e=N[t])&&!1!==e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0),e._lazy=!1);N.length=0};W._startTime=l.time,Y._startTime=l.frame,W._active=Y._active=!0,setTimeout($,1),P._updateRoot=O.render=function(){var e,t,i;if(N.length&&$(),W.render((l.time-W._startTime)*W._timeScale,!1,!1),Y.render((l.frame-Y._startTime)*Y._timeScale,!1,!1),N.length&&$(),l.frame>=q){q=l.frame+(parseInt(O.autoSleep,10)||120);for(i in z){for(t=z[i].tweens,e=t.length;--e>-1;)t[e]._gc&&t.splice(e,1);0===t.length&&delete z[i]}if((!(i=W._first)||i._paused)&&O.autoSleep&&!Y._first&&1===l._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||l.sleep()}}},l.addEventListener("tick",P._updateRoot);var K=function(e,t,i){var r,n,o=e._gsTweenID;if(z[o||(e._gsTweenID=o="t"+G++)]||(z[o]={target:e,tweens:[]}),t&&(r=z[o].tweens,r[n=r.length]=t,i))for(;--n>-1;)r[n]===t&&r.splice(n,1);return z[o].tweens},Z=function(e,t,i,r){var n,o,a=e.vars.onOverwrite;return a&&(n=a(e,t,i,r)),a=O.onOverwrite,a&&(o=a(e,t,i,r)),!1!==n&&!1!==o},J=function(e,t,i,r,n){var o,a,s,h;if(1===r||r>=4){for(h=n.length,o=0;h>o;o++)if((s=n[o])!==t)s._gc||s._kill(null,e,t)&&(a=!0);else if(5===r)break;return a}var c,l=t._startTime+p,u=[],d=0,f=0===t._duration;for(o=n.length;--o>-1;)(s=n[o])===t||s._gc||s._paused||(s._timeline!==t._timeline?(c=c||Q(t,0,f),0===Q(s,c,f)&&(u[d++]=s)):l>=s._startTime&&s._startTime+s.totalDuration()/s._timeScale>l&&((f||!s._initted)&&2e-10>=l-s._startTime||(u[d++]=s)));for(o=d;--o>-1;)if(s=u[o],2===r&&s._kill(i,e,t)&&(a=!0),2!==r||!s._firstPT&&s._initted){if(2!==r&&!Z(s,t))continue;s._enabled(!1,!1)&&(a=!0)}return a},Q=function(e,t,i){for(var r=e._timeline,n=r._timeScale,o=e._startTime;r._timeline;){if(o+=r._startTime,n*=r._timeScale,r._paused)return-100;r=r._timeline}return o/=n,o>t?o-t:i&&o===t||!e._initted&&2*p>o-t?p:(o+=e.totalDuration()/e._timeScale/n)>t+p?0:o-t-p};c._init=function(){var e,t,i,r,n,o=this.vars,a=this._overwrittenProps,s=this._duration,h=!!o.immediateRender,c=o.ease;if(o.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),n={};for(r in o.startAt)n[r]=o.startAt[r];if(n.overwrite=!1,n.immediateRender=!0,n.lazy=h&&!1!==o.lazy,n.startAt=n.delay=null,this._startAt=O.to(this.target,0,n),h)if(this._time>0)this._startAt=null;else if(0!==s)return}else if(o.runBackwards&&0!==s)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(h=!1),i={};for(r in o)V[r]&&"autoCSS"!==r||(i[r]=o[r]);if(i.overwrite=0,i.data="isFromStart",i.lazy=h&&!1!==o.lazy,i.immediateRender=h,this._startAt=O.to(this.target,0,i),h){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=c=c?c instanceof E?c:"function"==typeof c?new E(c,o.easeParams):S[c]||O.defaultEase:O.defaultEase,o.easeParams instanceof Array&&c.config&&(this._ease=c.config.apply(c,o.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(e=this._targets.length;--e>-1;)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],a?a[e]:null)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,a);if(t&&O._onPluginEvent("_onInitAllProps",this),a&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),o.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=o.onUpdate,this._initted=!0},c._initProps=function(e,t,r,n){var o,a,s,h,c,l;if(null==e)return!1;U[e._gsTweenID]&&$(),this.vars.css||e.style&&e!==i&&e.nodeType&&j.css&&!1!==this.vars.autoCSS&&B(this.vars,e);for(o in this.vars){if(l=this.vars[o],V[o])l&&(l instanceof Array||l.push&&y(l))&&-1!==l.join("").indexOf("{self}")&&(this.vars[o]=l=this._swapSelfInParams(l,this));else if(j[o]&&(h=new j[o])._onInitTween(e,this.vars[o],this)){for(this._firstPT=c={_next:this._firstPT,t:h,p:"setRatio",s:0,c:1,f:!0,n:o,pg:!0,pr:h._priority},a=h._overwriteProps.length;--a>-1;)t[h._overwriteProps[a]]=this._firstPT;(h._priority||h._onInitAllProps)&&(s=!0),(h._onDisable||h._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=t[o]=c={_next:this._firstPT,t:e,p:o,f:"function"==typeof e[o],n:o,pg:!1,pr:0},c.s=c.f?e[o.indexOf("set")||"function"!=typeof e["get"+o.substr(3)]?o:"get"+o.substr(3)]():parseFloat(e[o]),c.c="string"==typeof l&&"="===l.charAt(1)?parseInt(l.charAt(0)+"1",10)*Number(l.substr(2)):Number(l)-c.s||0;c&&c._next&&(c._next._prev=c)}return n&&this._kill(n,e)?this._initProps(e,t,r,n):this._overwrite>1&&this._firstPT&&r.length>1&&J(e,this,t,this._overwrite,r)?(this._kill(t,e),this._initProps(e,t,r,n)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(U[e._gsTweenID]=!0),s)},c.render=function(e,t,i){var r,n,o,a,s=this._time,h=this._duration,c=this._rawPrevTime;if(e>=h)this._totalTime=this._time=h,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(r=!0,n="onComplete",i=i||this._timeline.autoRemoveChildren),0===h&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(e=0),(0===e||0>c||c===p&&"isPause"!==this.data)&&c!==e&&(i=!0,c>p&&(n="onReverseComplete")),this._rawPrevTime=a=!t||e||c===e?e:p);else if(1e-7>e)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==s||0===h&&c>0)&&(n="onReverseComplete",r=this._reversed),0>e&&(this._active=!1,0===h&&(this._initted||!this.vars.lazy||i)&&(c>=0&&(c!==p||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=a=!t||e||c===e?e:p)),this._initted||(i=!0);else if(this._totalTime=this._time=e,this._easeType){var l=e/h,u=this._easeType,d=this._easePower;(1===u||3===u&&l>=.5)&&(l=1-l),3===u&&(l*=2),1===d?l*=l:2===d?l*=l*l:3===d?l*=l*l*l:4===d&&(l*=l*l*l*l),this.ratio=1===u?1-l:2===u?l:.5>e/h?l/2:1-l/2}else this.ratio=this._ease.getRatio(e/h);if(this._time!==s||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=s,this._rawPrevTime=c,N.push(this),void(this._lazy=[e,t]);this._time&&!r?this.ratio=this._ease.getRatio(this._time/h):r&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==s&&e>=0&&(this._active=!0),0===s&&(this._startAt&&(e>=0?this._startAt.render(e,t,i):n||(n="_dummyGS")),this.vars.onStart&&(0!==this._time||0===h)&&(t||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(0>e&&this._startAt&&-1e-4!==e&&this._startAt.render(e,t,i),t||(this._time!==s||r)&&this._callback("onUpdate")),n&&(!this._gc||i)&&(0>e&&this._startAt&&!this._onUpdate&&-1e-4!==e&&this._startAt.render(e,t,i),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[n]&&this._callback(n),0===h&&this._rawPrevTime===p&&a!==p&&(this._rawPrevTime=0))}},c._kill=function(e,t,i){if("all"===e&&(e=null),null==e&&(null==t||t===this.target))return this._lazy=!1,this._enabled(!1,!1);t="string"!=typeof t?t||this._targets||this.target:O.selector(t)||t;var r,n,o,a,s,h,c,l,u,d=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline;if((y(t)||L(t))&&"number"!=typeof t[0])for(r=t.length;--r>-1;)this._kill(e,t[r],i)&&(h=!0);else{if(this._targets){for(r=this._targets.length;--r>-1;)if(t===this._targets[r]){s=this._propLookup[r]||{},this._overwrittenProps=this._overwrittenProps||[],n=this._overwrittenProps[r]=e?this._overwrittenProps[r]||{}:"all";break}}else{if(t!==this.target)return!1;s=this._propLookup,n=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(s){if(c=e||s,l=e!==n&&"all"!==n&&e!==s&&("object"!=typeof e||!e._tempKill),i&&(O.onOverwrite||this.vars.onOverwrite)){for(o in c)s[o]&&(u||(u=[]),u.push(o));if((u||!e)&&!Z(this,i,t,u))return!1}for(o in c)(a=s[o])&&(d&&(a.f?a.t[a.p](a.s):a.t[a.p]=a.s,h=!0),a.pg&&a.t._kill(c)&&(h=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete s[o]),l&&(n[o]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return h},c.invalidate=function(){return this._notifyPluginsOfEnabled&&O._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],P.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-p,this.render(-this._delay)),this},c._enabled=function(e,t){if(u||l.wake(),e&&this._gc){var i,r=this._targets;if(r)for(i=r.length;--i>-1;)this._siblings[i]=K(r[i],this,!0);else this._siblings=K(this.target,this,!0)}return P.prototype._enabled.call(this,e,t),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&O._onPluginEvent(e?"_onEnable":"_onDisable",this)},O.to=function(e,t,i){return new O(e,t,i)},O.from=function(e,t,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new O(e,t,i)},O.fromTo=function(e,t,i,r){return r.startAt=i,r.immediateRender=0!=r.immediateRender&&0!=i.immediateRender,new O(e,t,r)},O.delayedCall=function(e,t,i,r,n){return new O(t,0,{delay:e,onComplete:t,onCompleteParams:i,callbackScope:r,onReverseComplete:t,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:n,overwrite:0})},O.set=function(e,t){return new O(e,0,t)},O.getTweensOf=function(e,t){if(null==e)return[];e="string"!=typeof e?e:O.selector(e)||e;var i,r,n,o;if((y(e)||L(e))&&"number"!=typeof e[0]){for(i=e.length,r=[];--i>-1;)r=r.concat(O.getTweensOf(e[i],t));for(i=r.length;--i>-1;)for(o=r[i],n=i;--n>-1;)o===r[n]&&r.splice(i,1)}else for(r=K(e).concat(),i=r.length;--i>-1;)(r[i]._gc||t&&!r[i].isActive())&&r.splice(i,1);return r},O.killTweensOf=O.killDelayedCallsTo=function(e,t,i){"object"==typeof t&&(i=t,t=!1);for(var r=O.getTweensOf(e,t),n=r.length;--n>-1;)r[n]._kill(i,e)};var ee=w("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=ee.prototype},!0);if(c=ee.prototype,ee.version="1.10.1",ee.API=2,c._firstPT=null,c._addTween=function(e,t,i,r,n,o){var a,s;return null!=r&&(a="number"==typeof r||"="!==r.charAt(1)?Number(r)-Number(i):parseInt(r.charAt(0)+"1",10)*Number(r.substr(2)))?(this._firstPT=s={_next:this._firstPT,t:e,p:t,s:i,c:a,f:"function"==typeof e[t],n:n||t,r:o},s._next&&(s._next._prev=s),s):void 0},c.setRatio=function(e){for(var t,i=this._firstPT;i;)t=i.c*e+i.s,i.r?t=Math.round(t):1e-6>t&&t>-1e-6&&(t=0),i.f?i.t[i.p](t):i.t[i.p]=t,i=i._next},c._kill=function(e){var t,i=this._overwriteProps,r=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=i.length;--t>-1;)null!=e[i[t]]&&i.splice(t,1);for(;r;)null!=e[r.n]&&(r._next&&(r._next._prev=r._prev),r._prev?(r._prev._next=r._next,r._prev=null):this._firstPT===r&&(this._firstPT=r._next)),r=r._next;return!1},c._roundProps=function(e,t){for(var i=this._firstPT;i;)(e[this._propName]||null!=i.n&&e[i.n.split(this._propName+"_").join("")])&&(i.r=t),i=i._next},O._onPluginEvent=function(e,t){var i,r,n,o,a,s=t._firstPT;if("_onInitAllProps"===e){for(;s;){for(a=s._next,r=n;r&&r.pr>s.pr;)r=r._next;(s._prev=r?r._prev:o)?s._prev._next=s:n=s,(s._next=r)?r._prev=s:o=s,s=a}s=t._firstPT=n}for(;s;)s.pg&&"function"==typeof s.t[e]&&s.t[e]()&&(i=!0),s=s._next;return i},ee.activate=function(e){for(var t=e.length;--t>-1;)e[t].API===ee.API&&(j[(new e[t])._propName]=e[t]);return!0},x.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,i=e.propName,r=e.priority||0,n=e.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},a=w("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){ee.call(this,i,r),this._overwriteProps=n||[]},!0===e.global),s=a.prototype=new ee(i);s.constructor=a,a.API=e.API;for(t in o)"function"==typeof e[t]&&(s[o[t]]=e[t]);return a.version=e.version,ee.activate([a]),a},s=i._gsQueue){for(h=0;s.length>h;h++)s[h]();for(c in g)g[c].func||i.console.log("GSAP encountered missing dependency: com.greensock."+c)}u=!1}}(void 0!==e&&e.exports&&void 0!==i?i:this||window)}).call(t,i(1))},function(e,t,i){"use strict";(function(t){var r=window.nb;void 0===r&&(r={},window.nb=r),r.table=i(173),i(198),window.THREE=i(199),i(200),window.GlobalEffect=i(245),r.timelineSprite=i(246),r.ToolsMenu=i(247),r.MovieClip=i(248),r.iconList=i(249),r.clock=i(250),r.matches=i(251),r.box2dSwitchComponent=i(252),r.drawPicture=i(253),r.judgebox=i(254),r.longRuler=i(255),r.whiteScene=i(256),r.injector=i(257),r.thermometer=i(258),r.nbTimeline=i(259),r.magGlass=i(260),r.VernierCaliper=i(261),r.SetSquaresAndRuler=i(262),r.setDefaultAsHide=i(263),r.balance=i(264),r.DrawUtil=i(265),r.SlideSwitch=i(266),r.colorSelector=i(267),r.pictureView=i(268),r.pictureView2=i(269),r.picTransform=i(270),r.wallOfPic=i(271),r.wallOfVideo=i(272),r.slidesList=i(273),r.mapViewer=i(274),r.vr=i(275),r.curette=i(277),window.textControl=i(278);var n={STEMMain:i(39),display:i(279),plguin:i(280),utils:{NBGesture:i(77),NBPoint:i(81),MeshUtil:i(305),NBHitTest:i(306),ThreeUtil:i(307),NBMath:i(83),ParticleUtil:i(308),SomeUtil:i(309),Fitting:i(310),NBTrimImage:i(311)},NBTable:i(173),frames:{discuss:i(312),purpose:i(313)},collada:{Animation:i(314),AnimationHandler:i(315),KeyFrameAniamtion:i(316),ColladaLoader:i(317)}};r.eq=i(318),r.geom=i(320),r.BaseFrame=i(321),t.extendsClass=i(171),t.SoundManager=i(322),t.FrameManager=i(323),t.NBDrag=i(172),t.nb.GraphicsUtils=i(174),window.NbFile=i(324),window.BioController=i(185),t.StemMain=n.STEMMain,e.exports=t.nb.stem=n}).call(t,i(1))},function(e,t,i){"use strict";nb.SolidMedicine=function(){this.addCover=function(){var e=this;return new Promise(function(){console.log(e)})},this.removeCover=function(){}},e.exports=nb.SolidMedicine},function(e,t,i){var r,n,o={REVISION:"73"};r=o,void 0!==(n="function"==typeof r?r.call(t,i,t,e):r)&&(e.exports=n),void 0!==self.requestAnimationFrame&&void 0!==self.cancelAnimationFrame||function(){for(var e=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!self.requestAnimationFrame;++i)self.requestAnimationFrame=self[t[i]+"RequestAnimationFrame"],self.cancelAnimationFrame=self[t[i]+"CancelAnimationFrame"]||self[t[i]+"CancelRequestAnimationFrame"];void 0===self.requestAnimationFrame&&void 0!==self.setTimeout&&(self.requestAnimationFrame=function(t){var i=Date.now(),r=Math.max(0,16-(i-e)),n=self.setTimeout(function(){t(i+r)},r);return e=i+r,n}),void 0===self.cancelAnimationFrame&&void 0!==self.clearTimeout&&(self.cancelAnimationFrame=function(e){self.clearTimeout(e)})}(),void 0===self.performance&&(self.performance={}),void 0===self.performance.now&&function(){var e=Date.now();self.performance.now=function(){return Date.now()-e}}(),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),void 0===Function.prototype.name&&void 0!==Object.defineProperty&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]}}),o.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},o.CullFaceNone=0,o.CullFaceBack=1,o.CullFaceFront=2,o.CullFaceFrontBack=3,o.FrontFaceDirectionCW=0,o.FrontFaceDirectionCCW=1,o.BasicShadowMap=0,o.PCFShadowMap=1,o.PCFSoftShadowMap=2,o.FrontSide=0,o.BackSide=1,o.DoubleSide=2,o.FlatShading=1,o.SmoothShading=2,o.NoColors=0,o.FaceColors=1,o.VertexColors=2,o.NoBlending=0,o.NormalBlending=1,o.AdditiveBlending=2,o.SubtractiveBlending=3,o.MultiplyBlending=4,o.CustomBlending=5,o.AddEquation=100,o.SubtractEquation=101,o.ReverseSubtractEquation=102,o.MinEquation=103,o.MaxEquation=104,o.ZeroFactor=200,o.OneFactor=201,o.SrcColorFactor=202,o.OneMinusSrcColorFactor=203,o.SrcAlphaFactor=204,o.OneMinusSrcAlphaFactor=205,o.DstAlphaFactor=206,o.OneMinusDstAlphaFactor=207,o.DstColorFactor=208,o.OneMinusDstColorFactor=209,o.SrcAlphaSaturateFactor=210,o.NeverDepth=0,o.AlwaysDepth=1,o.LessDepth=2,o.LessEqualDepth=3,o.EqualDepth=4,o.GreaterEqualDepth=5,o.GreaterDepth=6,o.NotEqualDepth=7,o.MultiplyOperation=0,o.MixOperation=1,o.AddOperation=2,o.UVMapping=300,o.CubeReflectionMapping=301,o.CubeRefractionMapping=302,o.EquirectangularReflectionMapping=303,o.EquirectangularRefractionMapping=304,o.SphericalReflectionMapping=305,o.RepeatWrapping=1e3,o.ClampToEdgeWrapping=1001,o.MirroredRepeatWrapping=1002,o.NearestFilter=1003,o.NearestMipMapNearestFilter=1004,o.NearestMipMapLinearFilter=1005,o.LinearFilter=1006,o.LinearMipMapNearestFilter=1007,o.LinearMipMapLinearFilter=1008,o.UnsignedByteType=1009,o.ByteType=1010,o.ShortType=1011,o.UnsignedShortType=1012,o.IntType=1013,o.UnsignedIntType=1014,o.FloatType=1015,o.HalfFloatType=1025,o.UnsignedShort4444Type=1016,o.UnsignedShort5551Type=1017,o.UnsignedShort565Type=1018,o.AlphaFormat=1019,o.RGBFormat=1020,o.RGBAFormat=1021,o.LuminanceFormat=1022,o.LuminanceAlphaFormat=1023,o.RGBEFormat=o.RGBAFormat,o.RGB_S3TC_DXT1_Format=2001,o.RGBA_S3TC_DXT1_Format=2002,o.RGBA_S3TC_DXT3_Format=2003,o.RGBA_S3TC_DXT5_Format=2004,o.RGB_PVRTC_4BPPV1_Format=2100,o.RGB_PVRTC_2BPPV1_Format=2101,o.RGBA_PVRTC_4BPPV1_Format=2102,o.RGBA_PVRTC_2BPPV1_Format=2103,o.LoopOnce=2200,o.LoopRepeat=2201,o.LoopPingPong=2202,o.Projector=function(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(e,t){console.warn("THREE.Projector: .projectVector() is now vector.project()."),e.project(t)},this.unprojectVector=function(e,t){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),e.unproject(t)},this.pickingRay=function(e,t){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}},o.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElement("canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}},o.Color=function(e){return 3===arguments.length?this.fromArray(arguments):this.set(e)},o.Color.prototype={constructor:o.Color,r:1,g:1,b:1,set:function(e){return e instanceof o.Color?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,i){return this.r=e,this.g=t,this.b=i,this},setHSL:function(){function e(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+6*(t-e)*(2/3-i):e}return function(t,i,r){if(t=o.Math.euclideanModulo(t,1),i=o.Math.clamp(i,0,1),r=o.Math.clamp(r,0,1),0===i)this.r=this.g=this.b=r;else{var n=r<=.5?r*(1+i):r+i-r*i,a=2*r-n;this.r=e(a,n,t+1/3),this.g=e(a,n,t),this.b=e(a,n,t-1/3)}return this}}(),setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var i;if(i=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r,n=i[1],a=i[2];switch(n){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var s=parseFloat(r[1])/360,h=parseInt(r[2],10)/100,c=parseInt(r[3],10)/100;return t(r[5]),this.setHSL(s,h,c)}}}else if(i=/^\#([A-Fa-f0-9]+)$/.exec(e)){var l=i[1],u=l.length;if(3===u)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===u)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}if(e&&e.length>0){var l=o.ColorKeywords[e];void 0!==l?this.setHex(l):console.warn("THREE.Color: Unknown color "+e)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var i=t>0?1/t:1;return this.r=Math.pow(e.r,i),this.g=Math.pow(e.g,i),this.b=Math.pow(e.b,i),this},convertGammaToLinear:function(){var e=this.r,t=this.g,i=this.b;return this.r=e*e,this.g=t*t,this.b=i*i,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){var t,i,r=e||{h:0,s:0,l:0},n=this.r,o=this.g,a=this.b,s=Math.max(n,o,a),h=Math.min(n,o,a),c=(h+s)/2;if(h===s)t=0,i=0;else{var l=s-h;switch(i=c<=.5?l/(s+h):l/(2-s-h),s){case n:t=(o-a)/l+(o<a?6:0);break;case o:t=(a-n)/l+2;break;case a:t=(n-o)/l+4}t/=6}return r.h=t,r.s=i,r.l=c,r},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,i){var r=this.getHSL();return r.h+=e,r.s+=t,r.l+=i,this.setHSL(r.h,r.s,r.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},o.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},o.Quaternion=function(e,t,i,r){this._x=e||0,this._y=t||0,this._z=i||0,this._w=void 0!==r?r:1},o.Quaternion.prototype={constructor:o.Quaternion,get x(){return this._x},set x(e){this._x=e,this.onChangeCallback()},get y(){return this._y},set y(e){this._y=e,this.onChangeCallback()},get z(){return this._z},set z(e){this._z=e,this.onChangeCallback()},get w(){return this._w},set w(e){this._w=e,this.onChangeCallback()},set:function(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(e instanceof o.Euler==!1)throw new Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var i=Math.cos(e._x/2),r=Math.cos(e._y/2),n=Math.cos(e._z/2),a=Math.sin(e._x/2),s=Math.sin(e._y/2),h=Math.sin(e._z/2),c=e.order;return"XYZ"===c?(this._x=a*r*n+i*s*h,this._y=i*s*n-a*r*h,this._z=i*r*h+a*s*n,this._w=i*r*n-a*s*h):"YXZ"===c?(this._x=a*r*n+i*s*h,this._y=i*s*n-a*r*h,this._z=i*r*h-a*s*n,this._w=i*r*n+a*s*h):"ZXY"===c?(this._x=a*r*n-i*s*h,this._y=i*s*n+a*r*h,this._z=i*r*h+a*s*n,this._w=i*r*n-a*s*h):"ZYX"===c?(this._x=a*r*n-i*s*h,this._y=i*s*n+a*r*h,this._z=i*r*h-a*s*n,this._w=i*r*n+a*s*h):"YZX"===c?(this._x=a*r*n+i*s*h,this._y=i*s*n+a*r*h,this._z=i*r*h-a*s*n,this._w=i*r*n-a*s*h):"XZY"===c&&(this._x=a*r*n-i*s*h,this._y=i*s*n-a*r*h,this._z=i*r*h+a*s*n,this._w=i*r*n+a*s*h),!1!==t&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t,i=e.elements,r=i[0],n=i[4],o=i[8],a=i[1],s=i[5],h=i[9],c=i[2],l=i[6],u=i[10],d=r+s+u;return d>0?(t=.5/Math.sqrt(d+1),this._w=.25/t,this._x=(l-h)*t,this._y=(o-c)*t,this._z=(a-n)*t):r>s&&r>u?(t=2*Math.sqrt(1+r-s-u),this._w=(l-h)/t,this._x=.25*t,this._y=(n+a)/t,this._z=(o+c)/t):s>u?(t=2*Math.sqrt(1+s-r-u),this._w=(o-c)/t,this._x=(n+a)/t,this._y=.25*t,this._z=(h+l)/t):(t=2*Math.sqrt(1+u-r-s),this._w=(a-n)/t,this._x=(o+c)/t,this._y=(h+l)/t,this._z=.25*t),this.onChangeCallback(),this},setFromUnitVectors:function(){var e,t;return function(i,r){return void 0===e&&(e=new o.Vector3),t=i.dot(r)+1,t<1e-6?(t=0,Math.abs(i.x)>Math.abs(i.z)?e.set(-i.y,i.x,0):e.set(0,-i.z,i.y)):e.crossVectors(i,r),this._x=e.x,this._y=e.y,this._z=e.z,this._w=t,this.normalize(),this}}(),inverse:function(){return this.conjugate().normalize(),this},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this.onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},multiplyQuaternions:function(e,t){var i=e._x,r=e._y,n=e._z,o=e._w,a=t._x,s=t._y,h=t._z,c=t._w;return this._x=i*c+o*a+r*h-n*s,this._y=r*c+o*s+n*a-i*h,this._z=n*c+o*h+i*s-r*a,this._w=o*c-i*a-r*s-n*h,this.onChangeCallback(),this},multiplyVector3:function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var i=this._x,r=this._y,n=this._z,o=this._w,a=o*e._w+i*e._x+r*e._y+n*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=n,this;var s=Math.acos(a),h=Math.sqrt(1-a*a);if(Math.abs(h)<.001)return this._w=.5*(o+this._w),this._x=.5*(i+this._x),this._y=.5*(r+this._y),this._z=.5*(n+this._z),this;var c=Math.sin((1-t)*s)/h,l=Math.sin(t*s)/h;return this._w=o*c+this._w*l,this._x=i*c+this._x*l,this._y=r*c+this._y*l,this._z=n*c+this._z*l,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}},o.Quaternion.slerp=function(e,t,i,r){return i.copy(e).slerp(t,r)},o.Vector2=function(e,t){this.x=e||0,this.y=t||0},o.Vector2.prototype={constructor:o.Vector2,get width(){return this.x},set width(e){this.x=e},get height(){return this.y},set height(e){this.y=e},set:function(e,t){return this.x=e,this.y=t,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return isFinite(e)?(this.x*=e,this.y*=e):(this.x=0,this.y=0),this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(){var e,t;return function(i,r){return void 0===e&&(e=new o.Vector2,t=new o.Vector2),e.set(i,i),t.set(r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var i=this.length();return this.multiplyScalar(Math.max(e,Math.min(t,i))/i),this},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,i=this.y-e.y;return t*t+i*i},setLength:function(e){return this.multiplyScalar(e/this.length())},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,i){return this.subVectors(t,e).multiplyScalar(i).add(e),this},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromAttribute:function(e,t,i){return void 0===i&&(i=0),t=t*e.itemSize+i,this.x=e.array[t],this.y=e.array[t+1],this},rotateAround:function(e,t){var i=Math.cos(t),r=Math.sin(t),n=this.x-e.x,o=this.y-e.y;return this.x=n*i-o*r+e.x,this.y=n*r+o*i+e.y,this}},o.Vector3=function(e,t,i){this.x=e||0,this.y=t||0,this.z=i||0},o.Vector3.prototype={constructor:o.Vector3,set:function(e,t,i){return this.x=e,this.y=t,this.z=i,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return isFinite(e)?(this.x*=e,this.y*=e,this.z*=e):(this.x=0,this.y=0,this.z=0),this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(){var e;return function(t){return t instanceof o.Euler==!1&&console.error("THREE.Vector3: .applyEuler() now expects a Euler rotation rather than a Vector3 and order."),void 0===e&&(e=new o.Quaternion),this.applyQuaternion(e.setFromEuler(t)),this}}(),applyAxisAngle:function(){var e;return function(t,i){return void 0===e&&(e=new o.Quaternion),this.applyQuaternion(e.setFromAxisAngle(t,i)),this}}(),applyMatrix3:function(e){var t=this.x,i=this.y,r=this.z,n=e.elements;return this.x=n[0]*t+n[3]*i+n[6]*r,this.y=n[1]*t+n[4]*i+n[7]*r,this.z=n[2]*t+n[5]*i+n[8]*r,this},applyMatrix4:function(e){var t=this.x,i=this.y,r=this.z,n=e.elements;return this.x=n[0]*t+n[4]*i+n[8]*r+n[12],this.y=n[1]*t+n[5]*i+n[9]*r+n[13],this.z=n[2]*t+n[6]*i+n[10]*r+n[14],this},applyProjection:function(e){var t=this.x,i=this.y,r=this.z,n=e.elements,o=1/(n[3]*t+n[7]*i+n[11]*r+n[15]);return this.x=(n[0]*t+n[4]*i+n[8]*r+n[12])*o,this.y=(n[1]*t+n[5]*i+n[9]*r+n[13])*o,this.z=(n[2]*t+n[6]*i+n[10]*r+n[14])*o,this},applyQuaternion:function(e){var t=this.x,i=this.y,r=this.z,n=e.x,o=e.y,a=e.z,s=e.w,h=s*t+o*r-a*i,c=s*i+a*t-n*r,l=s*r+n*i-o*t,u=-n*t-o*i-a*r;return this.x=h*s+u*-n+c*-a-l*-o,this.y=c*s+u*-o+l*-n-h*-a,this.z=l*s+u*-a+h*-o-c*-n,this},project:function(){var e;return function(t){return void 0===e&&(e=new o.Matrix4),e.multiplyMatrices(t.projectionMatrix,e.getInverse(t.matrixWorld)),this.applyProjection(e)}}(),unproject:function(){var e;return function(t){return void 0===e&&(e=new o.Matrix4),e.multiplyMatrices(t.matrixWorld,e.getInverse(t.projectionMatrix)),this.applyProjection(e)}}(),transformDirection:function(e){var t=this.x,i=this.y,r=this.z,n=e.elements;return this.x=n[0]*t+n[4]*i+n[8]*r,this.y=n[1]*t+n[5]*i+n[9]*r,this.z=n[2]*t+n[6]*i+n[10]*r,this.normalize(),this},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(){var e,t;return function(i,r){return void 0===e&&(e=new o.Vector3,t=new o.Vector3),e.set(i,i,i),t.set(r,r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var i=this.length();return this.multiplyScalar(Math.max(e,Math.min(t,i))/i),this},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){return this.multiplyScalar(e/this.length())},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,i){return this.subVectors(t,e).multiplyScalar(i).add(e),this},cross:function(e,t){if(void 0!==t)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t);var i=this.x,r=this.y,n=this.z;return this.x=r*e.z-n*e.y,this.y=n*e.x-i*e.z,this.z=i*e.y-r*e.x,this},crossVectors:function(e,t){var i=e.x,r=e.y,n=e.z,o=t.x,a=t.y,s=t.z;return this.x=r*s-n*a,this.y=n*o-i*s,this.z=i*a-r*o,this},projectOnVector:function(){var e,t;return function(i){return void 0===e&&(e=new o.Vector3),e.copy(i).normalize(),t=this.dot(e),this.copy(e).multiplyScalar(t)}}(),projectOnPlane:function(){var e;return function(t){return void 0===e&&(e=new o.Vector3),e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e;return function(t){return void 0===e&&(e=new o.Vector3),this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){var t=this.dot(e)/(this.length()*e.length());return Math.acos(o.Math.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r},setEulerFromRotationMatrix:function(e,t){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(e,t){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},setFromMatrixPosition:function(e){return this.x=e.elements[12],this.y=e.elements[13],this.z=e.elements[14],this},setFromMatrixScale:function(e){var t=this.set(e.elements[0],e.elements[1],e.elements[2]).length(),i=this.set(e.elements[4],e.elements[5],e.elements[6]).length(),r=this.set(e.elements[8],e.elements[9],e.elements[10]).length();return this.x=t,this.y=i,this.z=r,this},setFromMatrixColumn:function(e,t){var i=4*e,r=t.elements;return this.x=r[i],this.y=r[i+1],this.z=r[i+2],this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromAttribute:function(e,t,i){return void 0===i&&(i=0),t=t*e.itemSize+i,this.x=e.array[t],this.y=e.array[t+1],this.z=e.array[t+2],this}},o.Vector4=function(e,t,i,r){this.x=e||0,this.y=t||0,this.z=i||0,this.w=void 0!==r?r:1},o.Vector4.prototype={constructor:o.Vector4,set:function(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return isFinite(e)?(this.x*=e,this.y*=e,this.z*=e,this.w*=e):(this.x=0,this.y=0,this.z=0,this.w=0),this},applyMatrix4:function(e){var t=this.x,i=this.y,r=this.z,n=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*n,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*n,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*n,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*n,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,i,r,n,o=e.elements,a=o[0],s=o[4],h=o[8],c=o[1],l=o[5],u=o[9],d=o[2],f=o[6],p=o[10];if(Math.abs(s-c)<.01&&Math.abs(h-d)<.01&&Math.abs(u-f)<.01){if(Math.abs(s+c)<.1&&Math.abs(h+d)<.1&&Math.abs(u+f)<.1&&Math.abs(a+l+p-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var m=(a+1)/2,v=(l+1)/2,y=(p+1)/2,g=(s+c)/4,b=(h+d)/4,x=(u+f)/4;return m>v&&m>y?m<.01?(i=0,r=.707106781,n=.707106781):(i=Math.sqrt(m),r=g/i,n=b/i):v>y?v<.01?(i=.707106781,r=0,n=.707106781):(r=Math.sqrt(v),i=g/r,n=x/r):y<.01?(i=.707106781,r=.707106781,n=0):(n=Math.sqrt(y),i=b/n,r=x/n),this.set(i,r,n,t),this}var w=Math.sqrt((f-u)*(f-u)+(h-d)*(h-d)+(c-s)*(c-s));return Math.abs(w)<.001&&(w=1),this.x=(f-u)/w,this.y=(h-d)/w,this.z=(c-s)/w,this.w=Math.acos((a+l+p-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(){var e,t;return function(i,r){return void 0===e&&(e=new o.Vector4,t=new o.Vector4),e.set(i,i,i,i),t.set(r,r,r,r),this.clamp(e,t)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){return this.multiplyScalar(e/this.length())},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,i){return this.subVectors(t,e).multiplyScalar(i).add(e),this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromAttribute:function(e,t,i){return void 0===i&&(i=0),t=t*e.itemSize+i,this.x=e.array[t],this.y=e.array[t+1],this.z=e.array[t+2],this.w=e.array[t+3],this}},o.Euler=function(e,t,i,r){this._x=e||0,this._y=t||0,this._z=i||0,this._order=r||o.Euler.DefaultOrder},o.Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],o.Euler.DefaultOrder="XYZ",o.Euler.prototype={constructor:o.Euler,get x(){return this._x},set x(e){this._x=e,this.onChangeCallback()},get y(){return this._y},set y(e){this._y=e,this.onChangeCallback()},get z(){return this._z},set z(e){this._z=e,this.onChangeCallback()},get order(){return this._order},set order(e){this._order=e,this.onChangeCallback()},set:function(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,i){var r=o.Math.clamp,n=e.elements,a=n[0],s=n[4],h=n[8],c=n[1],l=n[5],u=n[9],d=n[2],f=n[6],p=n[10];return t=t||this._order,"XYZ"===t?(this._y=Math.asin(r(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(f,l),this._z=0)):"YXZ"===t?(this._x=Math.asin(-r(u,-1,1)),Math.abs(u)<.99999?(this._y=Math.atan2(h,p),this._z=Math.atan2(c,l)):(this._y=Math.atan2(-d,a),this._z=0)):"ZXY"===t?(this._x=Math.asin(r(f,-1,1)),Math.abs(f)<.99999?(this._y=Math.atan2(-d,p),this._z=Math.atan2(-s,l)):(this._y=0,this._z=Math.atan2(c,a))):"ZYX"===t?(this._y=Math.asin(-r(d,-1,1)),Math.abs(d)<.99999?(this._x=Math.atan2(f,p),this._z=Math.atan2(c,a)):(this._x=0,this._z=Math.atan2(-s,l))):"YZX"===t?(this._z=Math.asin(r(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-d,a)):(this._x=0,this._y=Math.atan2(h,p))):"XZY"===t?(this._z=Math.asin(-r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(f,l),this._y=Math.atan2(h,a)):(this._x=Math.atan2(-u,p),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==i&&this.onChangeCallback(),this},setFromQuaternion:function(){var e;return function(t,i,r){return void 0===e&&(e=new o.Matrix4),e.makeRotationFromQuaternion(t),this.setFromRotationMatrix(e,i,r),this}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(){var e=new o.Quaternion;return function(t){e.setFromEuler(this),this.setFromQuaternion(e,t)}}(),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new o.Vector3(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}},o.Line3=function(e,t){this.start=void 0!==e?e:new o.Vector3,this.end=void 0!==t?t:new o.Vector3},o.Line3.prototype={constructor:o.Line3,set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},center:function(e){return(e||new o.Vector3).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return(e||new o.Vector3).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){var i=t||new o.Vector3;return this.delta(i).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var e=new o.Vector3,t=new o.Vector3;return function(i,r){e.subVectors(i,this.start),t.subVectors(this.end,this.start);var n=t.dot(t),a=t.dot(e),s=a/n;return r&&(s=o.Math.clamp(s,0,1)),s}}(),closestPointToPoint:function(e,t,i){var r=this.closestPointToPointParameter(e,t),n=i||new o.Vector3;return this.delta(n).multiplyScalar(r).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}},o.Box2=function(e,t){this.min=void 0!==e?e:new o.Vector2(1/0,1/0),this.max=void 0!==t?t:new o.Vector2(-1/0,-1/0)},o.Box2.prototype={constructor:o.Box2,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new o.Vector2;return function(t,i){var r=e.copy(i).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(e){return(e||new o.Vector2).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(e){return(e||new o.Vector2).subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return(t||new o.Vector2).set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},isIntersectionBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return(t||new o.Vector2).copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new o.Vector2;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},o.Box3=function(e,t){this.min=void 0!==e?e:new o.Vector3(1/0,1/0,1/0),this.max=void 0!==t?t:new o.Vector3(-1/0,-1/0,-1/0)},o.Box3.prototype={constructor:o.Box3,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new o.Vector3;return function(t,i){var r=e.copy(i).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),setFromObject:function(){var e=new o.Vector3;return function(t){var i=this;return t.updateMatrixWorld(!0),this.makeEmpty(),t.traverse(function(t){var r=t.geometry;if(void 0!==r)if(r instanceof o.Geometry)for(var n=r.vertices,a=0,s=n.length;a<s;a++)e.copy(n[a]),e.applyMatrix4(t.matrixWorld),i.expandByPoint(e);else if(r instanceof o.BufferGeometry&&void 0!==r.attributes.position)for(var h=r.attributes.position.array,a=0,s=h.length;a<s;a+=3)e.set(h[a],h[a+1],h[a+2]),e.applyMatrix4(t.matrixWorld),i.expandByPoint(e)}),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(e){return(e||new o.Vector3).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(e){return(e||new o.Vector3).subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return(t||new o.Vector3).set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},isIntersectionBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},clampPoint:function(e,t){return(t||new o.Vector3).copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new o.Vector3;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),getBoundingSphere:function(){var e=new o.Vector3;return function(t){var i=t||new o.Sphere;return i.center=this.center(),i.radius=.5*this.size(e).length(),i}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(){var e=[new o.Vector3,new o.Vector3,new o.Vector3,new o.Vector3,new o.Vector3,new o.Vector3,new o.Vector3,new o.Vector3];return function(t){return e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.makeEmpty(),this.setFromPoints(e),this}}(),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},o.Matrix3=function(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")},o.Matrix3.prototype={constructor:o.Matrix3,set:function(e,t,i,r,n,o,a,s,h){var c=this.elements;return c[0]=e,c[3]=t,c[6]=i,c[1]=r,c[4]=n,c[7]=o,c[2]=a,c[5]=s,c[8]=h,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],t[1],t[4],t[7],t[2],t[5],t[8]),this},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(e){return console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(e)},applyToVector3Array:function(){var e;return function(t,i,r){void 0===e&&(e=new o.Vector3),void 0===i&&(i=0),void 0===r&&(r=t.length);for(var n=0,a=i;n<r;n+=3,a+=3)e.fromArray(t,a),e.applyMatrix3(this),e.toArray(t,a);return t}}(),applyToBuffer:function(){var e;return function(t,i,r){void 0===e&&(e=new o.Vector3),void 0===i&&(i=0),void 0===r&&(r=t.length/t.itemSize);for(var n=0,a=i;n<r;n++,a++)e.x=t.getX(a),e.y=t.getY(a),e.z=t.getZ(a),e.applyMatrix3(this),t.setXYZ(e.x,e.y,e.z);return t}}(),multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],i=e[1],r=e[2],n=e[3],o=e[4],a=e[5],s=e[6],h=e[7],c=e[8];return t*o*c-t*a*h-i*n*c+i*a*s+r*n*h-r*o*s},getInverse:function(e,t){var i=e.elements,r=this.elements;r[0]=i[10]*i[5]-i[6]*i[9],r[1]=-i[10]*i[1]+i[2]*i[9],r[2]=i[6]*i[1]-i[2]*i[5],r[3]=-i[10]*i[4]+i[6]*i[8],r[4]=i[10]*i[0]-i[2]*i[8],r[5]=-i[6]*i[0]+i[2]*i[4],r[6]=i[9]*i[4]-i[5]*i[8],r[7]=-i[9]*i[0]+i[1]*i[8],r[8]=i[5]*i[0]-i[1]*i[4];var n=i[0]*r[0]+i[1]*r[3]+i[2]*r[6];if(0===n){var o="Matrix3.getInverse(): can't invert matrix, determinant is 0";if(t)throw new Error(o);return console.warn(o),this.identity(),this}return this.multiplyScalar(1/n),this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},flattenToArrayOffset:function(e,t){var i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e},getNormalMatrix:function(e){return this.getInverse(e).transpose(),this},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},fromArray:function(e){return this.elements.set(e),this},toArray:function(){var e=this.elements;return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]}},o.Matrix4=function(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")},o.Matrix4.prototype={constructor:o.Matrix4,set:function(e,t,i,r,n,o,a,s,h,c,l,u,d,f,p,m){var v=this.elements;return v[0]=e,v[4]=t,v[8]=i,v[12]=r,v[1]=n,v[5]=o,v[9]=a,v[13]=s,v[2]=h,v[6]=c,v[10]=l,v[14]=u,v[3]=d,v[7]=f,v[11]=p,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new o.Matrix4).fromArray(this.elements)},copy:function(e){return this.elements.set(e.elements),this},extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},copyPosition:function(e){var t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this},extractBasis:function(e,t,i){var r=this.elements;return e.set(r[0],r[1],r[2]),t.set(r[4],r[5],r[6]),i.set(r[8],r[9],r[10]),this},makeBasis:function(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this},extractRotation:function(){var e;return function(t){void 0===e&&(e=new o.Vector3);var i=this.elements,r=t.elements,n=1/e.set(r[0],r[1],r[2]).length(),a=1/e.set(r[4],r[5],r[6]).length(),s=1/e.set(r[8],r[9],r[10]).length();return i[0]=r[0]*n,i[1]=r[1]*n,i[2]=r[2]*n,i[4]=r[4]*a,i[5]=r[5]*a,i[6]=r[6]*a,i[8]=r[8]*s,i[9]=r[9]*s,i[10]=r[10]*s,this}}(),makeRotationFromEuler:function(e){e instanceof o.Euler==!1&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,i=e.x,r=e.y,n=e.z,a=Math.cos(i),s=Math.sin(i),h=Math.cos(r),c=Math.sin(r),l=Math.cos(n),u=Math.sin(n);if("XYZ"===e.order){var d=a*l,f=a*u,p=s*l,m=s*u;t[0]=h*l,t[4]=-h*u,t[8]=c,t[1]=f+p*c,t[5]=d-m*c,t[9]=-s*h,t[2]=m-d*c,t[6]=p+f*c,t[10]=a*h}else if("YXZ"===e.order){var v=h*l,y=h*u,g=c*l,b=c*u;t[0]=v+b*s,t[4]=g*s-y,t[8]=a*c,t[1]=a*u,t[5]=a*l,t[9]=-s,t[2]=y*s-g,t[6]=b+v*s,t[10]=a*h}else if("ZXY"===e.order){var v=h*l,y=h*u,g=c*l,b=c*u;t[0]=v-b*s,t[4]=-a*u,t[8]=g+y*s,t[1]=y+g*s,t[5]=a*l,t[9]=b-v*s,t[2]=-a*c,t[6]=s,t[10]=a*h}else if("ZYX"===e.order){var d=a*l,f=a*u,p=s*l,m=s*u;t[0]=h*l,t[4]=p*c-f,t[8]=d*c+m,t[1]=h*u,t[5]=m*c+d,t[9]=f*c-p,t[2]=-c,t[6]=s*h,t[10]=a*h}else if("YZX"===e.order){var x=a*h,w=a*c,_=s*h,T=s*c;t[0]=h*l,t[4]=T-x*u,t[8]=_*u+w,t[1]=u,t[5]=a*l,t[9]=-s*l,t[2]=-c*l,t[6]=w*u+_,t[10]=x-T*u}else if("XZY"===e.order){var x=a*h,w=a*c,_=s*h,T=s*c;t[0]=h*l,t[4]=-u,t[8]=c*l,t[1]=x*u+T,t[5]=a*l,t[9]=w*u-_,t[2]=_*u-w,t[6]=s*l,t[10]=T*u+x}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},makeRotationFromQuaternion:function(e){var t=this.elements,i=e.x,r=e.y,n=e.z,o=e.w,a=i+i,s=r+r,h=n+n,c=i*a,l=i*s,u=i*h,d=r*s,f=r*h,p=n*h,m=o*a,v=o*s,y=o*h;return t[0]=1-(d+p),t[4]=l-y,t[8]=u+v,t[1]=l+y,t[5]=1-(c+p),t[9]=f-m,t[2]=u-v,t[6]=f+m,t[10]=1-(c+d),t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},lookAt:function(){var e,t,i;return function(r,n,a){void 0===e&&(e=new o.Vector3),void 0===t&&(t=new o.Vector3),void 0===i&&(i=new o.Vector3);var s=this.elements;return i.subVectors(r,n).normalize(),0===i.lengthSq()&&(i.z=1),e.crossVectors(a,i).normalize(),0===e.lengthSq()&&(i.x+=1e-4,e.crossVectors(a,i).normalize()),t.crossVectors(i,e),s[0]=e.x,s[4]=t.x,s[8]=i.x,s[1]=e.y,s[5]=t.y,s[9]=i.y,s[2]=e.z,s[6]=t.z,s[10]=i.z,this}}(),multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},multiplyMatrices:function(e,t){var i=e.elements,r=t.elements,n=this.elements,o=i[0],a=i[4],s=i[8],h=i[12],c=i[1],l=i[5],u=i[9],d=i[13],f=i[2],p=i[6],m=i[10],v=i[14],y=i[3],g=i[7],b=i[11],x=i[15],w=r[0],_=r[4],T=r[8],E=r[12],S=r[1],M=r[5],C=r[9],A=r[13],D=r[2],k=r[6],I=r[10],P=r[14],R=r[3],F=r[7],O=r[11],L=r[15];return n[0]=o*w+a*S+s*D+h*R,n[4]=o*_+a*M+s*k+h*F,n[8]=o*T+a*C+s*I+h*O,n[12]=o*E+a*A+s*P+h*L,n[1]=c*w+l*S+u*D+d*R,n[5]=c*_+l*M+u*k+d*F,n[9]=c*T+l*C+u*I+d*O,n[13]=c*E+l*A+u*P+d*L,n[2]=f*w+p*S+m*D+v*R,n[6]=f*_+p*M+m*k+v*F,n[10]=f*T+p*C+m*I+v*O,n[14]=f*E+p*A+m*P+v*L,n[3]=y*w+g*S+b*D+x*R,n[7]=y*_+g*M+b*k+x*F,n[11]=y*T+g*C+b*I+x*O,n[15]=y*E+g*A+b*P+x*L,this},multiplyToArray:function(e,t,i){var r=this.elements;return this.multiplyMatrices(e,t),i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i[4]=r[4],i[5]=r[5],i[6]=r[6],i[7]=r[7],i[8]=r[8],i[9]=r[9],i[10]=r[10],i[11]=r[11],i[12]=r[12],i[13]=r[13],i[14]=r[14],i[15]=r[15],this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead."),e.applyProjection(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(e){return console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(e)},applyToVector3Array:function(){var e;return function(t,i,r){void 0===e&&(e=new o.Vector3),void 0===i&&(i=0),void 0===r&&(r=t.length);for(var n=0,a=i;n<r;n+=3,a+=3)e.fromArray(t,a),e.applyMatrix4(this),e.toArray(t,a);return t}}(),applyToBuffer:function(){var e;return function(t,i,r){void 0===e&&(e=new o.Vector3),void 0===i&&(i=0),void 0===r&&(r=t.length/t.itemSize);for(var n=0,a=i;n<r;n++,a++)e.x=t.getX(a),e.y=t.getY(a),e.z=t.getZ(a),e.applyMatrix4(this),t.setXYZ(e.x,e.y,e.z);return t}}(),rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},determinant:function(){var e=this.elements,t=e[0],i=e[4],r=e[8],n=e[12],o=e[1],a=e[5],s=e[9],h=e[13],c=e[2],l=e[6],u=e[10],d=e[14];return e[3]*(+n*s*l-r*h*l-n*a*u+i*h*u+r*a*d-i*s*d)+e[7]*(+t*s*d-t*h*u+n*o*u-r*o*d+r*h*c-n*s*c)+e[11]*(+t*h*l-t*a*d-n*o*l+i*o*d+n*a*c-i*h*c)+e[15]*(-r*a*c-t*s*l+t*a*u+r*o*l-i*o*u+i*s*c)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},flattenToArrayOffset:function(e,t){var i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e},getPosition:function(){var e;return function(){void 0===e&&(e=new o.Vector3),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");var t=this.elements;return e.set(t[12],t[13],t[14])}}(),setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var i=this.elements,r=e.elements,n=r[0],o=r[4],a=r[8],s=r[12],h=r[1],c=r[5],l=r[9],u=r[13],d=r[2],f=r[6],p=r[10],m=r[14],v=r[3],y=r[7],g=r[11],b=r[15];i[0]=l*m*y-u*p*y+u*f*g-c*m*g-l*f*b+c*p*b,i[4]=s*p*y-a*m*y-s*f*g+o*m*g+a*f*b-o*p*b,i[8]=a*u*y-s*l*y+s*c*g-o*u*g-a*c*b+o*l*b,i[12]=s*l*f-a*u*f-s*c*p+o*u*p+a*c*m-o*l*m,i[1]=u*p*v-l*m*v-u*d*g+h*m*g+l*d*b-h*p*b,i[5]=a*m*v-s*p*v+s*d*g-n*m*g-a*d*b+n*p*b,i[9]=s*l*v-a*u*v-s*h*g+n*u*g+a*h*b-n*l*b,i[13]=a*u*d-s*l*d+s*h*p-n*u*p-a*h*m+n*l*m,i[2]=c*m*v-u*f*v+u*d*y-h*m*y-c*d*b+h*f*b,i[6]=s*f*v-o*m*v-s*d*y+n*m*y+o*d*b-n*f*b,i[10]=o*u*v-s*c*v+s*h*y-n*u*y-o*h*b+n*c*b,i[14]=s*c*d-o*u*d-s*h*f+n*u*f+o*h*m-n*c*m,i[3]=l*f*v-c*p*v-l*d*y+h*p*y+c*d*g-h*f*g,i[7]=o*p*v-a*f*v+a*d*y-n*p*y-o*d*g+n*f*g,i[11]=a*c*v-o*l*v-a*h*y+n*l*y+o*h*g-n*c*g,i[15]=o*l*d-a*c*d+a*h*f-n*l*f-o*h*p+n*c*p;var x=n*i[0]+h*i[4]+d*i[8]+v*i[12];if(0===x){var w="THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0";if(t)throw new Error(w);return console.warn(w),this.identity(),this}return this.multiplyScalar(1/x),this},translate:function(e){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(e){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(e){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(e){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(e,t){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},scale:function(e){var t=this.elements,i=e.x,r=e.y,n=e.z;return t[0]*=i,t[4]*=r,t[8]*=n,t[1]*=i,t[5]*=r,t[9]*=n,t[2]*=i,t[6]*=r,t[10]*=n,t[3]*=i,t[7]*=r,t[11]*=n,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))},makeTranslation:function(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var i=Math.cos(t),r=Math.sin(t),n=1-i,o=e.x,a=e.y,s=e.z,h=n*o,c=n*a;return this.set(h*o+i,h*a-r*s,h*s+r*a,0,h*a+r*s,c*a+i,c*s-r*o,0,h*s-r*a,c*s+r*o,n*s*s+i,0,0,0,0,1),this},makeScale:function(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this},compose:function(e,t,i){return this.makeRotationFromQuaternion(t),this.scale(i),this.setPosition(e),this},decompose:function(){var e,t;return function(i,r,n){void 0===e&&(e=new o.Vector3),void 0===t&&(t=new o.Matrix4);var a=this.elements,s=e.set(a[0],a[1],a[2]).length(),h=e.set(a[4],a[5],a[6]).length(),c=e.set(a[8],a[9],a[10]).length();this.determinant()<0&&(s=-s),i.x=a[12],i.y=a[13],i.z=a[14],t.elements.set(this.elements);var l=1/s,u=1/h,d=1/c;return t.elements[0]*=l,t.elements[1]*=l,t.elements[2]*=l,t.elements[4]*=u,t.elements[5]*=u,t.elements[6]*=u,t.elements[8]*=d,t.elements[9]*=d,t.elements[10]*=d,r.setFromRotationMatrix(t),n.x=s,n.y=h,n.z=c,this}}(),makeFrustum:function(e,t,i,r,n,o){var a=this.elements,s=2*n/(t-e),h=2*n/(r-i),c=(t+e)/(t-e),l=(r+i)/(r-i),u=-(o+n)/(o-n),d=-2*o*n/(o-n);return a[0]=s,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=h,a[9]=l,a[13]=0,a[2]=0,a[6]=0,a[10]=u,a[14]=d,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makePerspective:function(e,t,i,r){var n=i*Math.tan(o.Math.degToRad(.5*e)),a=-n,s=a*t,h=n*t;return this.makeFrustum(s,h,a,n,i,r)},makeOrthographic:function(e,t,i,r,n,o){var a=this.elements,s=t-e,h=i-r,c=o-n,l=(t+e)/s,u=(i+r)/h,d=(o+n)/c;return a[0]=2/s,a[4]=0,a[8]=0,a[12]=-l,a[1]=0,a[5]=2/h,a[9]=0,a[13]=-u,a[2]=0,a[6]=0,a[10]=-2/c,a[14]=-d,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(e){for(var t=this.elements,i=e.elements,r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0},fromArray:function(e){return this.elements.set(e),this},toArray:function(){var e=this.elements;return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]}},o.Ray=function(e,t){this.origin=void 0!==e?e:new o.Vector3,this.direction=void 0!==t?t:new o.Vector3},o.Ray.prototype={constructor:o.Ray,set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return(t||new o.Vector3).copy(this.direction).multiplyScalar(e).add(this.origin)},recast:function(){var e=new o.Vector3;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){var i=t||new o.Vector3;i.subVectors(e,this.origin);var r=i.dot(this.direction);return r<0?i.copy(this.origin):i.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var e=new o.Vector3;return function(t){var i=e.subVectors(t,this.origin).dot(this.direction);return i<0?this.origin.distanceToSquared(t):(e.copy(this.direction).multiplyScalar(i).add(this.origin),e.distanceToSquared(t))}}(),distanceSqToSegment:function(){var e=new o.Vector3,t=new o.Vector3,i=new o.Vector3;return function(r,n,o,a){e.copy(r).add(n).multiplyScalar(.5),t.copy(n).sub(r).normalize(),i.copy(this.origin).sub(e);var s,h,c,l,u=.5*r.distanceTo(n),d=-this.direction.dot(t),f=i.dot(this.direction),p=-i.dot(t),m=i.lengthSq(),v=Math.abs(1-d*d);if(v>0)if(s=d*p-f,h=d*f-p,l=u*v,s>=0)if(h>=-l)if(h<=l){var y=1/v;s*=y,h*=y,c=s*(s+d*h+2*f)+h*(d*s+h+2*p)+m}else h=u,s=Math.max(0,-(d*h+f)),c=-s*s+h*(h+2*p)+m;else h=-u,s=Math.max(0,-(d*h+f)),c=-s*s+h*(h+2*p)+m;else h<=-l?(s=Math.max(0,-(-d*u+f)),h=s>0?-u:Math.min(Math.max(-u,-p),u),c=-s*s+h*(h+2*p)+m):h<=l?(s=0,h=Math.min(Math.max(-u,-p),u),c=h*(h+2*p)+m):(s=Math.max(0,-(d*u+f)),h=s>0?u:Math.min(Math.max(-u,-p),u),c=-s*s+h*(h+2*p)+m);else h=d>0?-u:u,s=Math.max(0,-(d*h+f)),c=-s*s+h*(h+2*p)+m;return o&&o.copy(this.direction).multiplyScalar(s).add(this.origin),a&&a.copy(t).multiplyScalar(h).add(e),c}}(),isIntersectionSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},intersectSphere:function(){var e=new o.Vector3;return function(t,i){e.subVectors(t.center,this.origin);var r=e.dot(this.direction),n=e.dot(e)-r*r,o=t.radius*t.radius;if(n>o)return null;var a=Math.sqrt(o-n),s=r-a,h=r+a;return s<0&&h<0?null:s<0?this.at(h,i):this.at(s,i)}}(),isIntersectionPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null},intersectPlane:function(e,t){var i=this.distanceToPlane(e);return null===i?null:this.at(i,t)},isIntersectionBox:function(){var e=new o.Vector3;return function(t){return null!==this.intersectBox(t,e)}}(),intersectBox:function(e,t){var i,r,n,o,a,s,h=1/this.direction.x,c=1/this.direction.y,l=1/this.direction.z,u=this.origin;return h>=0?(i=(e.min.x-u.x)*h,r=(e.max.x-u.x)*h):(i=(e.max.x-u.x)*h,r=(e.min.x-u.x)*h),c>=0?(n=(e.min.y-u.y)*c,o=(e.max.y-u.y)*c):(n=(e.max.y-u.y)*c,o=(e.min.y-u.y)*c),i>o||n>r?null:((n>i||i!==i)&&(i=n),(o<r||r!==r)&&(r=o),l>=0?(a=(e.min.z-u.z)*l,s=(e.max.z-u.z)*l):(a=(e.max.z-u.z)*l,s=(e.min.z-u.z)*l),i>s||a>r?null:((a>i||i!==i)&&(i=a),(s<r||r!==r)&&(r=s),r<0?null:this.at(i>=0?i:r,t)))},intersectTriangle:function(){var e=new o.Vector3,t=new o.Vector3,i=new o.Vector3,r=new o.Vector3;return function(n,o,a,s,h){t.subVectors(o,n),i.subVectors(a,n),r.crossVectors(t,i);var c,l=this.direction.dot(r);if(l>0){if(s)return null;c=1}else{if(!(l<0))return null;c=-1,l=-l}e.subVectors(this.origin,n);var u=c*this.direction.dot(i.crossVectors(e,i));if(u<0)return null;var d=c*this.direction.dot(t.cross(e));if(d<0)return null;if(u+d>l)return null;var f=-c*e.dot(r);return f<0?null:this.at(f/l,h)}}(),applyMatrix4:function(e){return this.direction.add(this.origin).applyMatrix4(e),this.origin.applyMatrix4(e),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},o.Sphere=function(e,t){this.center=void 0!==e?e:new o.Vector3,this.radius=void 0!==t?t:0},o.Sphere.prototype={constructor:o.Sphere,set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(){var e=new o.Box3;return function(t,i){var r=this.center;void 0!==i?r.copy(i):e.setFromPoints(t).center(r);for(var n=0,o=0,a=t.length;o<a;o++)n=Math.max(n,r.distanceToSquared(t[o]));return this.radius=Math.sqrt(n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},clampPoint:function(e,t){var i=this.center.distanceToSquared(e),r=t||new o.Vector3;return r.copy(e),i>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r},getBoundingBox:function(e){var t=e||new o.Box3;return t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},o.Frustum=function(e,t,i,r,n,a){this.planes=[void 0!==e?e:new o.Plane,void 0!==t?t:new o.Plane,void 0!==i?i:new o.Plane,void 0!==r?r:new o.Plane,void 0!==n?n:new o.Plane,void 0!==a?a:new o.Plane]},o.Frustum.prototype={constructor:o.Frustum,set:function(e,t,i,r,n,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(n),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,i=0;i<6;i++)t[i].copy(e.planes[i]);return this},setFromMatrix:function(e){var t=this.planes,i=e.elements,r=i[0],n=i[1],o=i[2],a=i[3],s=i[4],h=i[5],c=i[6],l=i[7],u=i[8],d=i[9],f=i[10],p=i[11],m=i[12],v=i[13],y=i[14],g=i[15];return t[0].setComponents(a-r,l-s,p-u,g-m).normalize(),t[1].setComponents(a+r,l+s,p+u,g+m).normalize(),t[2].setComponents(a+n,l+h,p+d,g+v).normalize(),t[3].setComponents(a-n,l-h,p-d,g-v).normalize(),t[4].setComponents(a-o,l-c,p-f,g-y).normalize(),t[5].setComponents(a+o,l+c,p+f,g+y).normalize(),this},intersectsObject:function(){var e=new o.Sphere;return function(t){var i=t.geometry;return null===i.boundingSphere&&i.computeBoundingSphere(),e.copy(i.boundingSphere),e.applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){for(var t=this.planes,i=e.center,r=-e.radius,n=0;n<6;n++){if(t[n].distanceToPoint(i)<r)return!1}return!0},intersectsBox:function(){var e=new o.Vector3,t=new o.Vector3;return function(i){for(var r=this.planes,n=0;n<6;n++){var o=r[n];e.x=o.normal.x>0?i.min.x:i.max.x,t.x=o.normal.x>0?i.max.x:i.min.x,e.y=o.normal.y>0?i.min.y:i.max.y,t.y=o.normal.y>0?i.max.y:i.min.y,e.z=o.normal.z>0?i.min.z:i.max.z,t.z=o.normal.z>0?i.max.z:i.min.z;var a=o.distanceToPoint(e),s=o.distanceToPoint(t);if(a<0&&s<0)return!1}return!0}}(),containsPoint:function(e){for(var t=this.planes,i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}},o.Plane=function(e,t){this.normal=void 0!==e?e:new o.Vector3(1,0,0),this.constant=void 0!==t?t:0},o.Plane.prototype={constructor:o.Plane,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new o.Vector3,t=new o.Vector3;return function(i,r,n){var o=e.subVectors(n,r).cross(t.subVectors(i,r)).normalize();return this.setFromNormalAndCoplanarPoint(o,i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return this.orthoPoint(e,t).sub(e).negate()},orthoPoint:function(e,t){var i=this.distanceToPoint(e);return(t||new o.Vector3).copy(this.normal).multiplyScalar(i)},isIntersectionLine:function(e){var t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0},intersectLine:function(){var e=new o.Vector3;return function(t,i){var r=i||new o.Vector3,n=t.delta(e),a=this.normal.dot(n);if(0!==a){var s=-(t.start.dot(this.normal)+this.constant)/a;if(!(s<0||s>1))return r.copy(n).multiplyScalar(s).add(t.start)}else if(0===this.distanceToPoint(t.start))return r.copy(t.start)}}(),coplanarPoint:function(e){return(e||new o.Vector3).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new o.Vector3,t=new o.Vector3,i=new o.Matrix3;return function(r,n){var o=n||i.getNormalMatrix(r),a=e.copy(this.normal).applyMatrix3(o),s=this.coplanarPoint(t);return s.applyMatrix4(r),this.setFromNormalAndCoplanarPoint(a,s),this}}(),translate:function(e){return this.constant=this.constant-e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},o.Math={generateUUID:function(){var e,t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),i=new Array(36),r=0;return function(){for(var n=0;n<36;n++)8===n||13===n||18===n||23===n?i[n]="-":14===n?i[n]="4":(r<=2&&(r=33554432+16777216*Math.random()|0),e=15&r,r>>=4,i[n]=t[19===n?3&e|8:e]);return i.join("")}}(),clamp:function(e,t,i){return Math.max(t,Math.min(i,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,i,r,n){return r+(e-t)*(n-r)/(i-t)},smoothstep:function(e,t,i){return e<=t?0:e>=i?1:(e=(e-t)/(i-t))*e*(3-2*e)},smootherstep:function(e,t,i){return e<=t?0:e>=i?1:(e=(e-t)/(i-t))*e*e*(e*(6*e-15)+10)},random16:function(){return(65280*Math.random()+255*Math.random())/65535},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(){var e=Math.PI/180;return function(t){return t*e}}(),radToDeg:function(){var e=180/Math.PI;return function(t){return t*e}}(),isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},nearestPowerOfTwo:function(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))},nextPowerOfTwo:function(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}},o.Spline=function(e){function t(e,t,i,r,n,o,a){var s=.5*(i-e),h=.5*(r-t);return(2*(t-i)+s+h)*a+(-3*(t-i)-2*s-h)*o+s*n+t}this.points=e;var i,r,n,a,s,h,c,l,u,d=[],f={x:0,y:0,z:0};this.initFromArray=function(e){this.points=[];for(var t=0;t<e.length;t++)this.points[t]={x:e[t][0],y:e[t][1],z:e[t][2]}},this.getPoint=function(e){return i=(this.points.length-1)*e,r=Math.floor(i),n=i-r,d[0]=0===r?r:r-1,d[1]=r,d[2]=r>this.points.length-2?this.points.length-1:r+1,d[3]=r>this.points.length-3?this.points.length-1:r+2,h=this.points[d[0]],c=this.points[d[1]],l=this.points[d[2]],u=this.points[d[3]],a=n*n,s=n*a,f.x=t(h.x,c.x,l.x,u.x,n,a,s),f.y=t(h.y,c.y,l.y,u.y,n,a,s),f.z=t(h.z,c.z,l.z,u.z,n,a,s),f},this.getControlPointsArray=function(){var e,t,i=this.points.length,r=[];for(e=0;e<i;e++)t=this.points[e],r[e]=[t.x,t.y,t.z];return r},this.getLength=function(e){var t,i,r,n,a=0,s=0,h=0,c=new o.Vector3,l=new o.Vector3,u=[],d=0;for(u[0]=0,e||(e=100),r=this.points.length*e,c.copy(this.points[0]),t=1;t<r;t++)i=t/r,n=this.getPoint(i),l.copy(n),d+=l.distanceTo(c),c.copy(n),a=(this.points.length-1)*i,(s=Math.floor(a))!==h&&(u[s]=d,h=s);return u[u.length]=d,{chunks:u,total:d}},this.reparametrizeByArcLength=function(e){var t,i,r,n,a,s,h,c,l=[],u=new o.Vector3,d=this.getLength();for(l.push(u.copy(this.points[0]).clone()),t=1;t<this.points.length;t++){for(s=d.chunks[t]-d.chunks[t-1],h=Math.ceil(e*s/d.total),n=(t-1)/(this.points.length-1),a=t/(this.points.length-1),i=1;i<h-1;i++)r=n+i*(1/h)*(a-n),c=this.getPoint(r),l.push(u.copy(c).clone());l.push(u.copy(this.points[t]).clone())}this.points=l}},o.Triangle=function(e,t,i){this.a=void 0!==e?e:new o.Vector3,this.b=void 0!==t?t:new o.Vector3,this.c=void 0!==i?i:new o.Vector3},o.Triangle.normal=function(){var e=new o.Vector3;return function(t,i,r,n){var a=n||new o.Vector3;a.subVectors(r,i),e.subVectors(t,i),a.cross(e);var s=a.lengthSq();return s>0?a.multiplyScalar(1/Math.sqrt(s)):a.set(0,0,0)}}(),o.Triangle.barycoordFromPoint=function(){var e=new o.Vector3,t=new o.Vector3,i=new o.Vector3;return function(r,n,a,s,h){e.subVectors(s,n),t.subVectors(a,n),i.subVectors(r,n);var c=e.dot(e),l=e.dot(t),u=e.dot(i),d=t.dot(t),f=t.dot(i),p=c*d-l*l,m=h||new o.Vector3;if(0===p)return m.set(-2,-1,-1);var v=1/p,y=(d*u-l*f)*v,g=(c*f-l*u)*v;return m.set(1-y-g,g,y)}}(),o.Triangle.containsPoint=function(){var e=new o.Vector3;return function(t,i,r,n){var a=o.Triangle.barycoordFromPoint(t,i,r,n,e);return a.x>=0&&a.y>=0&&a.x+a.y<=1}}(),o.Triangle.prototype={constructor:o.Triangle,set:function(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this},setFromPointsAndIndices:function(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},area:function(){var e=new o.Vector3,t=new o.Vector3;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*e.cross(t).length()}}(),midpoint:function(e){return(e||new o.Vector3).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(e){return o.Triangle.normal(this.a,this.b,this.c,e)},plane:function(e){return(e||new o.Plane).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(e,t){return o.Triangle.barycoordFromPoint(e,this.a,this.b,this.c,t)},containsPoint:function(e){return o.Triangle.containsPoint(e,this.a,this.b,this.c)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}},o.Channels=function(){this.mask=1},o.Channels.prototype={constructor:o.Channels,set:function(e){this.mask=1<<e},enable:function(e){this.mask|=1<<e},toggle:function(e){this.mask^=1<<e},disable:function(e){this.mask&=~(1<<e)}},o.Clock=function(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1},o.Clock.prototype={constructor:o.Clock,start:function(){this.startTime=self.performance.now(),this.oldTime=this.startTime,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running&&this.start(),this.running){var t=self.performance.now();e=.001*(t-this.oldTime),this.oldTime=t,this.elapsedTime+=e}return e}},o.EventDispatcher=function(){},o.EventDispatcher.prototype={constructor:o.EventDispatcher,apply:function(e){e.addEventListener=o.EventDispatcher.prototype.addEventListener,e.hasEventListener=o.EventDispatcher.prototype.hasEventListener,e.removeEventListener=o.EventDispatcher.prototype.removeEventListener,e.dispatchEvent=o.EventDispatcher.prototype.dispatchEvent},addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var i=this._listeners;void 0===i[e]&&(i[e]=[]),-1===i[e].indexOf(t)&&i[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var i=this._listeners;return void 0!==i[e]&&-1!==i[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var i=this._listeners,r=i[e];if(void 0!==r){var n=r.indexOf(t);-1!==n&&r.splice(n,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners,i=t[e.type];if(void 0!==i){e.target=this;for(var r=[],n=i.length,o=0;o<n;o++)r[o]=i[o];for(var o=0;o<n;o++)r[o].call(this,e)}}}},function(e){function t(e,t){return e.distance-t.distance}function i(e,t,r,n){if(!1!==e.visible&&(e.raycast(t,r),!0===n))for(var o=e.children,a=0,s=o.length;a<s;a++)i(o[a],t,r,!0)}e.Raycaster=function(t,i,r,n){this.ray=new e.Ray(t,i),this.near=r||0,this.far=n||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})},e.Raycaster.prototype={constructor:e.Raycaster,linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(t,i){i instanceof e.PerspectiveCamera?(this.ray.origin.setFromMatrixPosition(i.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(i).sub(this.ray.origin).normalize()):i instanceof e.OrthographicCamera?(this.ray.origin.set(t.x,t.y,-1).unproject(i),this.ray.direction.set(0,0,-1).transformDirection(i.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,r){var n=[];return i(e,this,n,r),n.sort(t),n},intersectObjects:function(e,r){var n=[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var o=0,a=e.length;o<a;o++)i(e[o],this,n,r);return n.sort(t),n}}}(o),o.Object3D=function(){function e(){n.setFromEuler(r,!1)}function t(){r.setFromQuaternion(n,void 0,!1)}Object.defineProperty(this,"id",{value:o.Object3DIdCount++}),this.uuid=o.Math.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.channels=new o.Channels,this.children=[],this.up=o.Object3D.DefaultUp.clone();var i=new o.Vector3,r=new o.Euler,n=new o.Quaternion,a=new o.Vector3(1,1,1);r.onChange(e),n.onChange(t),Object.defineProperties(this,{position:{enumerable:!0,value:i},rotation:{enumerable:!0,value:r},quaternion:{enumerable:!0,value:n},scale:{enumerable:!0,value:a},modelViewMatrix:{value:new o.Matrix4},normalMatrix:{value:new o.Matrix3}}),this.rotationAutoUpdate=!0,this.matrix=new o.Matrix4,this.matrixWorld=new o.Matrix4,this.matrixAutoUpdate=o.Object3D.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}},o.Object3D.DefaultUp=new o.Vector3(0,1,0),o.Object3D.DefaultMatrixAutoUpdate=!0,o.Object3D.prototype={constructor:o.Object3D,get eulerOrder(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set eulerOrder(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e},get useQuaternion(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set useQuaternion(e){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set renderDepth(e){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(){var e=new o.Quaternion;return function(t,i){return e.setFromAxisAngle(t,i),this.quaternion.multiply(e),this}}(),rotateX:function(){var e=new o.Vector3(1,0,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateY:function(){var e=new o.Vector3(0,1,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateZ:function(){var e=new o.Vector3(0,0,1);return function(t){return this.rotateOnAxis(e,t)}}(),translateOnAxis:function(){var e=new o.Vector3;return function(t,i){return e.copy(t).applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(i)),this}}(),translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},translateX:function(){var e=new o.Vector3(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new o.Vector3(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new o.Vector3(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var e=new o.Matrix4;return function(t){return t.applyMatrix4(e.getInverse(this.matrixWorld))}}(),lookAt:function(){var e=new o.Matrix4;return function(t){e.lookAt(t,this.position,this.up),this.quaternion.setFromRotationMatrix(e)}}(),add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e instanceof o.Object3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1)for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);var i=this.children.indexOf(e);-1!==i&&(e.parent=null,e.dispatchEvent({type:"removed"}),this.children.splice(i,1))},getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var i=0,r=this.children.length;i<r;i++){var n=this.children[i],o=n.getObjectByProperty(e,t);if(void 0!==o)return o}},getWorldPosition:function(e){var t=e||new o.Vector3;return this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var e=new o.Vector3,t=new o.Vector3;return function(i){var r=i||new o.Quaternion;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,r,t),r}}(),getWorldRotation:function(){var e=new o.Quaternion;return function(t){var i=t||new o.Euler;return this.getWorldQuaternion(e),i.setFromQuaternion(e,this.rotation.order,!1)}}(),getWorldScale:function(){var e=new o.Vector3,t=new o.Quaternion;return function(i){var r=i||new o.Vector3;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,t,r),r}}(),getWorldDirection:function(){var e=new o.Quaternion;return function(t){var i=t||new o.Vector3;return this.getWorldQuaternion(e),i.set(0,0,1).applyQuaternion(e)}}(),raycast:function(){},traverse:function(e){e(this);for(var t=this.children,i=0,r=t.length;i<r;i++)t[i].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){!0===this.matrixAutoUpdate&&this.updateMatrix(),!0!==this.matrixWorldNeedsUpdate&&!0!==e||(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=0,i=this.children.length;t<i;t++)this.children[t].updateMatrixWorld(e)},toJSON:function(e){function t(e){var t=[];for(var i in e){var r=e[i];delete r.metadata,t.push(r)}return t}var i=void 0===e,r={};i&&(e={geometries:{},materials:{},textures:{},images:{}},r.metadata={version:4.4,type:"Object",generator:"Object3D.toJSON"});var n={};if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),!0===this.castShadow&&(n.castShadow=!0),!0===this.receiveShadow&&(n.receiveShadow=!0),!1===this.visible&&(n.visible=!1),n.matrix=this.matrix.toArray(),void 0!==this.geometry&&(void 0===e.geometries[this.geometry.uuid]&&(e.geometries[this.geometry.uuid]=this.geometry.toJSON(e)),n.geometry=this.geometry.uuid),void 0!==this.material&&(void 0===e.materials[this.material.uuid]&&(e.materials[this.material.uuid]=this.material.toJSON(e)),n.material=this.material.uuid),this.children.length>0){n.children=[];for(var o=0;o<this.children.length;o++)n.children.push(this.children[o].toJSON(e).object)}if(i){var a=t(e.geometries),s=t(e.materials),h=t(e.textures),c=t(e.images);a.length>0&&(r.geometries=a),s.length>0&&(r.materials=s),h.length>0&&(r.textures=h),c.length>0&&(r.images=c)}return r.object=n,r},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.rotationAutoUpdate=e.rotationAutoUpdate,this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var i=0;i<e.children.length;i++){var r=e.children[i];this.add(r.clone())}return this}},o.EventDispatcher.prototype.apply(o.Object3D.prototype),o.Object3DIdCount=0,o.Face3=function(e,t,i,r,n,a){this.a=e,this.b=t,this.c=i,this.normal=r instanceof o.Vector3?r:new o.Vector3,this.vertexNormals=Array.isArray(r)?r:[],this.color=n instanceof o.Color?n:new o.Color,this.vertexColors=Array.isArray(n)?n:[],this.materialIndex=void 0!==a?a:0},o.Face3.prototype={constructor:o.Face3,clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,i=e.vertexNormals.length;t<i;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(var t=0,i=e.vertexColors.length;t<i;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}},o.Face4=function(e,t,i,r,n,a,s){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new o.Face3(e,t,i,n,a,s)},o.BufferAttribute=function(e,t){this.uuid=o.Math.generateUUID(),this.array=e,this.itemSize=t,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0},o.BufferAttribute.prototype={constructor:o.BufferAttribute,get length(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count."),this.array.length},get count(){return this.array.length/this.itemSize},set needsUpdate(e){!0===e&&this.version++},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.dynamic=e.dynamic,this},copyAt:function(e,t,i){e*=this.itemSize,i*=t.itemSize;for(var r=0,n=this.itemSize;r<n;r++)this.array[e+r]=t.array[i+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,i=0,r=0,n=e.length;r<n;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),a=new o.Color),t[i++]=a.r,t[i++]=a.g,t[i++]=a.b}return this},copyIndicesArray:function(e){for(var t=this.array,i=0,r=0,n=e.length;r<n;r++){var o=e[r];t[i++]=o.a,t[i++]=o.b,t[i++]=o.c}return this},copyVector2sArray:function(e){for(var t=this.array,i=0,r=0,n=e.length;r<n;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),a=new o.Vector2),t[i++]=a.x,t[i++]=a.y}return this},copyVector3sArray:function(e){for(var t=this.array,i=0,r=0,n=e.length;r<n;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),a=new o.Vector3),t[i++]=a.x,t[i++]=a.y,t[i++]=a.z}return this},copyVector4sArray:function(e){for(var t=this.array,i=0,r=0,n=e.length;r<n;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),a=new o.Vector4),t[i++]=a.x,t[i++]=a.y,t[i++]=a.z,t[i++]=a.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this},setXYZ:function(e,t,i,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this},setXYZW:function(e,t,i,r,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=n,this},clone:function(){return(new this.constructor).copy(this)}},o.Int8Attribute=function(e,t){return new o.BufferAttribute(new Int8Array(e),t)},o.Uint8Attribute=function(e,t){return new o.BufferAttribute(new Uint8Array(e),t)},o.Uint8ClampedAttribute=function(e,t){return new o.BufferAttribute(new Uint8ClampedArray(e),t)},o.Int16Attribute=function(e,t){return new o.BufferAttribute(new Int16Array(e),t)},o.Uint16Attribute=function(e,t){return new o.BufferAttribute(new Uint16Array(e),t)},o.Int32Attribute=function(e,t){return new o.BufferAttribute(new Int32Array(e),t)},o.Uint32Attribute=function(e,t){return new o.BufferAttribute(new Uint32Array(e),t)},o.Float32Attribute=function(e,t){return new o.BufferAttribute(new Float32Array(e),t)},o.Float64Attribute=function(e,t){return new o.BufferAttribute(new Float64Array(e),t)},o.DynamicBufferAttribute=function(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new o.BufferAttribute(e,t).setDynamic(!0)},o.InstancedBufferAttribute=function(e,t,i){o.BufferAttribute.call(this,e,t),this.meshPerAttribute=i||1},o.InstancedBufferAttribute.prototype=Object.create(o.BufferAttribute.prototype),o.InstancedBufferAttribute.prototype.constructor=o.InstancedBufferAttribute,o.InstancedBufferAttribute.prototype.copy=function(e){return o.BufferAttribute.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},o.InterleavedBuffer=function(e,t){this.uuid=o.Math.generateUUID(),this.array=e,this.stride=t,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0},o.InterleavedBuffer.prototype={constructor:o.InterleavedBuffer,get length(){return this.array.length},get count(){return this.array.length/this.stride},set needsUpdate(e){!0===e&&this.version++},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){this.array=new e.array.constructor(e.array),this.stride=e.stride,this.dynamic=e.dynamic},copyAt:function(e,t,i){e*=this.stride,i*=t.stride;for(var r=0,n=this.stride;r<n;r++)this.array[e+r]=t.array[i+r];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)}},o.InstancedInterleavedBuffer=function(e,t,i){o.InterleavedBuffer.call(this,e,t),this.meshPerAttribute=i||1},o.InstancedInterleavedBuffer.prototype=Object.create(o.InterleavedBuffer.prototype),o.InstancedInterleavedBuffer.prototype.constructor=o.InstancedInterleavedBuffer,o.InstancedInterleavedBuffer.prototype.copy=function(e){return o.InterleavedBuffer.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},o.InterleavedBufferAttribute=function(e,t,i){this.uuid=o.Math.generateUUID(),this.data=e,this.itemSize=t,this.offset=i},o.InterleavedBufferAttribute.prototype={constructor:o.InterleavedBufferAttribute,get length(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count."),this.array.length},get count(){return this.data.array.length/this.data.stride},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this},setXYZ:function(e,t,i,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this},setXYZW:function(e,t,i,r,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=n,this}},o.Geometry=function(){Object.defineProperty(this,"id",{value:o.GeometryIdCount++}),this.uuid=o.Math.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.elementsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1},o.Geometry.prototype={constructor:o.Geometry,applyMatrix:function(e){for(var t=(new o.Matrix3).getNormalMatrix(e),i=0,r=this.vertices.length;i<r;i++){this.vertices[i].applyMatrix4(e)}for(var i=0,r=this.faces.length;i<r;i++){var n=this.faces[i];n.normal.applyMatrix3(t).normalize();for(var a=0,s=n.vertexNormals.length;a<s;a++)n.vertexNormals[a].applyMatrix3(t).normalize()}null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0},rotateX:function(){var e;return function(t){return void 0===e&&(e=new o.Matrix4),e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e;return function(t){return void 0===e&&(e=new o.Matrix4),e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e;return function(t){return void 0===e&&(e=new o.Matrix4),e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e;return function(t,i,r){return void 0===e&&(e=new o.Matrix4),e.makeTranslation(t,i,r),this.applyMatrix(e),this}}(),scale:function(){var e;return function(t,i,r){return void 0===e&&(e=new o.Matrix4),e.makeScale(t,i,r),this.applyMatrix(e),this}}(),lookAt:function(){var e;return function(t){void 0===e&&(e=new o.Object3D),e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),fromBufferGeometry:function(e){function t(e,t,r){var n=void 0!==s?[u[e].clone(),u[t].clone(),u[r].clone()]:[],a=void 0!==h?[i.colors[e].clone(),i.colors[t].clone(),i.colors[r].clone()]:[],p=new o.Face3(e,t,r,n,a);i.faces.push(p),void 0!==c&&i.faceVertexUvs[0].push([d[e].clone(),d[t].clone(),d[r].clone()]),void 0!==l&&i.faceVertexUvs[1].push([f[e].clone(),f[t].clone(),f[r].clone()])}var i=this,r=null!==e.index?e.index.array:void 0,n=e.attributes,a=n.position.array,s=void 0!==n.normal?n.normal.array:void 0,h=void 0!==n.color?n.color.array:void 0,c=void 0!==n.uv?n.uv.array:void 0,l=void 0!==n.uv2?n.uv2.array:void 0;void 0!==l&&(this.faceVertexUvs[1]=[]);for(var u=[],d=[],f=[],p=0,m=0,v=0;p<a.length;p+=3,m+=2,v+=4)i.vertices.push(new o.Vector3(a[p],a[p+1],a[p+2])),void 0!==s&&u.push(new o.Vector3(s[p],s[p+1],s[p+2])),void 0!==h&&i.colors.push(new o.Color(h[p],h[p+1],h[p+2])),void 0!==c&&d.push(new o.Vector2(c[m],c[m+1])),void 0!==l&&f.push(new o.Vector2(l[m],l[m+1]));if(void 0!==r){var y=e.groups;if(y.length>0)for(var p=0;p<y.length;p++)for(var g=y[p],b=g.start,x=g.count,m=b,w=b+x;m<w;m+=3)t(r[m],r[m+1],r[m+2]);else for(var p=0;p<r.length;p+=3)t(r[p],r[p+1],r[p+2])}else for(var p=0;p<a.length/3;p+=3)t(p,p+1,p+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var e=this.boundingBox.center().negate();return this.translate(e.x,e.y,e.z),e},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,i=0===t?1:1/t,r=new o.Matrix4;return r.set(i,0,0,-i*e.x,0,i,0,-i*e.y,0,0,i,-i*e.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var e=new o.Vector3,t=new o.Vector3,i=0,r=this.faces.length;i<r;i++){var n=this.faces[i],a=this.vertices[n.a],s=this.vertices[n.b],h=this.vertices[n.c];e.subVectors(h,s),t.subVectors(a,s),e.cross(t),e.normalize(),n.normal.copy(e)}},computeVertexNormals:function(e){var t,i,r,n,a,s;for(s=new Array(this.vertices.length),t=0,i=this.vertices.length;t<i;t++)s[t]=new o.Vector3;if(e){var h,c,l,u=new o.Vector3,d=new o.Vector3;for(r=0,n=this.faces.length;r<n;r++)a=this.faces[r],h=this.vertices[a.a],c=this.vertices[a.b],l=this.vertices[a.c],u.subVectors(l,c),d.subVectors(h,c),u.cross(d),s[a.a].add(u),s[a.b].add(u),s[a.c].add(u)}else for(r=0,n=this.faces.length;r<n;r++)a=this.faces[r],s[a.a].add(a.normal),s[a.b].add(a.normal),s[a.c].add(a.normal);for(t=0,i=this.vertices.length;t<i;t++)s[t].normalize();for(r=0,n=this.faces.length;r<n;r++){a=this.faces[r];var f=a.vertexNormals;3===f.length?(f[0].copy(s[a.a]),f[1].copy(s[a.b]),f[2].copy(s[a.c])):(f[0]=s[a.a].clone(),f[1]=s[a.b].clone(),f[2]=s[a.c].clone())}},computeMorphNormals:function(){var e,t,i,r,n;for(i=0,r=this.faces.length;i<r;i++)for(n=this.faces[i],n.__originalFaceNormal?n.__originalFaceNormal.copy(n.normal):n.__originalFaceNormal=n.normal.clone(),n.__originalVertexNormals||(n.__originalVertexNormals=[]),e=0,t=n.vertexNormals.length;e<t;e++)n.__originalVertexNormals[e]?n.__originalVertexNormals[e].copy(n.vertexNormals[e]):n.__originalVertexNormals[e]=n.vertexNormals[e].clone();var a=new o.Geometry;for(a.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var s,h,c=this.morphNormals[e].faceNormals,l=this.morphNormals[e].vertexNormals;for(i=0,r=this.faces.length;i<r;i++)s=new o.Vector3,h={a:new o.Vector3,b:new o.Vector3,c:new o.Vector3},c.push(s),l.push(h)}var u=this.morphNormals[e];a.vertices=this.morphTargets[e].vertices,a.computeFaceNormals(),a.computeVertexNormals();var s,h;for(i=0,r=this.faces.length;i<r;i++)n=this.faces[i],s=u.faceNormals[i],h=u.vertexNormals[i],s.copy(n.normal),h.a.copy(n.vertexNormals[0]),h.b.copy(n.vertexNormals[1]),h.c.copy(n.vertexNormals[2])}for(i=0,r=this.faces.length;i<r;i++)n=this.faces[i],n.normal=n.__originalFaceNormal,n.vertexNormals=n.__originalVertexNormals},computeTangents:function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){for(var e=0,t=this.vertices,i=0,r=t.length;i<r;i++)i>0&&(e+=t[i].distanceTo(t[i-1])),this.lineDistances[i]=e},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new o.Box3),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new o.Sphere),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,i){if(e instanceof o.Geometry==!1)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);var r,n=this.vertices.length,a=this.vertices,s=e.vertices,h=this.faces,c=e.faces,l=this.faceVertexUvs[0],u=e.faceVertexUvs[0];void 0===i&&(i=0),void 0!==t&&(r=(new o.Matrix3).getNormalMatrix(t));for(var d=0,f=s.length;d<f;d++){var p=s[d],m=p.clone();void 0!==t&&m.applyMatrix4(t),a.push(m)}for(d=0,f=c.length;d<f;d++){var v,y,g,b=c[d],x=b.vertexNormals,w=b.vertexColors;v=new o.Face3(b.a+n,b.b+n,b.c+n),v.normal.copy(b.normal),void 0!==r&&v.normal.applyMatrix3(r).normalize();for(var _=0,T=x.length;_<T;_++)y=x[_].clone(),void 0!==r&&y.applyMatrix3(r).normalize(),v.vertexNormals.push(y);v.color.copy(b.color);for(var _=0,T=w.length;_<T;_++)g=w[_],v.vertexColors.push(g.clone());v.materialIndex=b.materialIndex+i,h.push(v)}for(d=0,f=u.length;d<f;d++){var E=u[d],S=[];if(void 0!==E){for(var _=0,T=E.length;_<T;_++)S.push(E[_].clone());l.push(S)}}},mergeMesh:function(e){if(e instanceof o.Mesh==!1)return void console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e);e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)},mergeVertices:function(){var e,t,i,r,n,o,a,s,h={},c=[],l=[],u=Math.pow(10,4);for(i=0,r=this.vertices.length;i<r;i++)e=this.vertices[i],t=Math.round(e.x*u)+"_"+Math.round(e.y*u)+"_"+Math.round(e.z*u),void 0===h[t]?(h[t]=i,c.push(this.vertices[i]),l[i]=c.length-1):l[i]=l[h[t]];var d=[];for(i=0,r=this.faces.length;i<r;i++){n=this.faces[i],n.a=l[n.a],n.b=l[n.b],n.c=l[n.c],o=[n.a,n.b,n.c];for(var f=0;f<3;f++)if(o[f]===o[(f+1)%3]){f,d.push(i);break}}for(i=d.length-1;i>=0;i--){var p=d[i];for(this.faces.splice(p,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(p,1)}var m=this.vertices.length-c.length;return this.vertices=c,m},sortFacesByMaterialIndex:function(){function e(e,t){return e.materialIndex-t.materialIndex}for(var t=this.faces,i=t.length,r=0;r<i;r++)t[r]._id=r;t.sort(e);var n,o,a=this.faceVertexUvs[0],s=this.faceVertexUvs[1];a&&a.length===i&&(n=[]),s&&s.length===i&&(o=[]);for(var r=0;r<i;r++){var h=t[r]._id;n&&n.push(a[h]),o&&o.push(s[h])}n&&(this.faceVertexUvs[0]=n),o&&(this.faceVertexUvs[1]=o)},toJSON:function(){function e(e,t,i){return i?e|1<<t:e&~(1<<t)}function t(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==d[t]?d[t]:(d[t]=u.length/3,u.push(e.x,e.y,e.z),d[t])}function i(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==p[t]?p[t]:(p[t]=f.length,f.push(e.getHex()),p[t])}function r(e){var t=e.x.toString()+e.y.toString();return void 0!==v[t]?v[t]:(v[t]=m.length/2,m.push(e.x,e.y),v[t])}var n={metadata:{version:4.4,type:"Geometry",generator:"Geometry.toJSON"}};if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),void 0!==this.parameters){var o=this.parameters;for(var a in o)void 0!==o[a]&&(n[a]=o[a]);return n}for(var s=[],h=0;h<this.vertices.length;h++){var c=this.vertices[h];s.push(c.x,c.y,c.z)}for(var l=[],u=[],d={},f=[],p={},m=[],v={},h=0;h<this.faces.length;h++){var y=this.faces[h],g=void 0!==this.faceVertexUvs[0][h],b=y.normal.length()>0,x=y.vertexNormals.length>0,w=1!==y.color.r||1!==y.color.g||1!==y.color.b,_=y.vertexColors.length>0,T=0;if(T=e(T,0,0),T=e(T,1,!1),T=e(T,2,!1),T=e(T,3,g),T=e(T,4,b),T=e(T,5,x),T=e(T,6,w),T=e(T,7,_),l.push(T),l.push(y.a,y.b,y.c),g){var E=this.faceVertexUvs[0][h];l.push(r(E[0]),r(E[1]),r(E[2]))}if(b&&l.push(t(y.normal)),x){var S=y.vertexNormals;l.push(t(S[0]),t(S[1]),t(S[2]))}if(w&&l.push(i(y.color)),_){var M=y.vertexColors;l.push(i(M[0]),i(M[1]),i(M[2]))}}return n.data={},n.data.vertices=s,n.data.normals=u,f.length>0&&(n.data.colors=f),m.length>0&&(n.data.uvs=[m]),n.data.faces=l,n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.vertices=[],this.faces=[],this.faceVertexUvs=[[]];for(var t=e.vertices,i=0,r=t.length;i<r;i++)this.vertices.push(t[i].clone());for(var n=e.faces,i=0,r=n.length;i<r;i++)this.faces.push(n[i].clone());for(var i=0,r=e.faceVertexUvs.length;i<r;i++){var o=e.faceVertexUvs[i];void 0===this.faceVertexUvs[i]&&(this.faceVertexUvs[i]=[]);for(var a=0,s=o.length;a<s;a++){for(var h=o[a],c=[],l=0,u=h.length;l<u;l++){var d=h[l];c.push(d.clone())}this.faceVertexUvs[i].push(c)}}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}},o.EventDispatcher.prototype.apply(o.Geometry.prototype),o.GeometryIdCount=0,o.DirectGeometry=function(){Object.defineProperty(this,"id",{value:o.GeometryIdCount++}),this.uuid=o.Math.generateUUID(),this.name="",this.type="DirectGeometry",this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1},o.DirectGeometry.prototype={constructor:o.DirectGeometry,computeBoundingBox:o.Geometry.prototype.computeBoundingBox,computeBoundingSphere:o.Geometry.prototype.computeBoundingSphere,computeFaceNormals:function(){console.warn("THREE.DirectGeometry: computeFaceNormals() is not a method of this type of geometry.")},computeVertexNormals:function(){console.warn("THREE.DirectGeometry: computeVertexNormals() is not a method of this type of geometry.")},computeGroups:function(e){for(var t,i,r=[],n=e.faces,o=0;o<n.length;o++){var a=n[o];a.materialIndex!==i&&(i=a.materialIndex,void 0!==t&&(t.count=3*o-t.start,r.push(t)),t={start:3*o,materialIndex:i})}void 0!==t&&(t.count=3*o-t.start,r.push(t)),this.groups=r},fromGeometry:function(e){var t=e.faces,i=e.vertices,r=e.faceVertexUvs,n=r[0]&&r[0].length>0,a=r[1]&&r[1].length>0,s=e.morphTargets,h=s.length;if(h>0){for(var c=[],l=0;l<h;l++)c[l]=[];this.morphTargets.position=c}var u=e.morphNormals,d=u.length;if(d>0){for(var f=[],l=0;l<d;l++)f[l]=[];this.morphTargets.normal=f}for(var p=e.skinIndices,m=e.skinWeights,v=p.length===i.length,y=m.length===i.length,l=0;l<t.length;l++){var g=t[l];this.vertices.push(i[g.a],i[g.b],i[g.c]);var b=g.vertexNormals;if(3===b.length)this.normals.push(b[0],b[1],b[2]);else{var x=g.normal;this.normals.push(x,x,x)}var w=g.vertexColors;if(3===w.length)this.colors.push(w[0],w[1],w[2]);else{var _=g.color;this.colors.push(_,_,_)}if(!0===n){var T=r[0][l];void 0!==T?this.uvs.push(T[0],T[1],T[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",l),this.uvs.push(new o.Vector2,new o.Vector2,new o.Vector2))}if(!0===a){var T=r[1][l];void 0!==T?this.uvs2.push(T[0],T[1],T[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",l),this.uvs2.push(new o.Vector2,new o.Vector2,new o.Vector2))}for(var E=0;E<h;E++){var S=s[E].vertices;c[E].push(S[g.a],S[g.b],S[g.c])}for(var E=0;E<d;E++){var M=u[E].vertexNormals[l];f[E].push(M.a,M.b,M.c)}v&&this.skinIndices.push(p[g.a],p[g.b],p[g.c]),y&&this.skinWeights.push(m[g.a],m[g.b],m[g.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}},o.EventDispatcher.prototype.apply(o.DirectGeometry.prototype),o.BufferGeometry=function(){Object.defineProperty(this,"id",{value:o.GeometryIdCount++}),this.uuid=o.Math.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}},o.BufferGeometry.prototype={constructor:o.BufferGeometry,addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},getIndex:function(){return this.index},setIndex:function(e){this.index=e},addAttribute:function(e,t){return t instanceof o.BufferAttribute==!1&&t instanceof o.InterleavedBufferAttribute==!1?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void this.addAttribute(e,new o.BufferAttribute(arguments[1],arguments[2]))):"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),void this.setIndex(t)):void(this.attributes[e]=t)},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){delete this.attributes[e]},get drawcalls(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups},get offsets(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups},addDrawCall:function(e,t,i){void 0!==i&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},addGroup:function(e,t,i){this.groups.push({start:e,count:t,materialIndex:void 0!==i?i:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToVector3Array(t.array),t.needsUpdate=!0);var i=this.attributes.normal;if(void 0!==i){(new o.Matrix3).getNormalMatrix(e).applyToVector3Array(i.array),i.needsUpdate=!0}null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere()},rotateX:function(){var e;return function(t){return void 0===e&&(e=new o.Matrix4),e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e;return function(t){return void 0===e&&(e=new o.Matrix4),e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e;return function(t){return void 0===e&&(e=new o.Matrix4),e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e;return function(t,i,r){return void 0===e&&(e=new o.Matrix4),e.makeTranslation(t,i,r),this.applyMatrix(e),this}}(),scale:function(){var e;return function(t,i,r){return void 0===e&&(e=new o.Matrix4),e.makeScale(t,i,r),this.applyMatrix(e),this}}(),lookAt:function(){var e;return function(t){void 0===e&&(e=new o.Object3D),e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),center:function(){this.computeBoundingBox();var e=this.boundingBox.center().negate();return this.translate(e.x,e.y,e.z),e},setFromObject:function(e){var t=e.geometry;if(e instanceof o.Points||e instanceof o.Line){var i=new o.Float32Attribute(3*t.vertices.length,3),r=new o.Float32Attribute(3*t.colors.length,3);if(this.addAttribute("position",i.copyVector3sArray(t.vertices)),this.addAttribute("color",r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var n=new o.Float32Attribute(t.lineDistances.length,1);this.addAttribute("lineDistance",n.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e instanceof o.Mesh&&t instanceof o.Geometry&&this.fromGeometry(t);return this},updateFromObject:function(e){var t=e.geometry;if(e instanceof o.Mesh){var i=t.__directGeometry;if(void 0===i)return this.fromGeometry(t);i.verticesNeedUpdate=t.verticesNeedUpdate,i.normalsNeedUpdate=t.normalsNeedUpdate,i.colorsNeedUpdate=t.colorsNeedUpdate,i.uvsNeedUpdate=t.uvsNeedUpdate,i.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=i}if(!0===t.verticesNeedUpdate){var r=this.attributes.position;void 0!==r&&(r.copyVector3sArray(t.vertices),r.needsUpdate=!0),t.verticesNeedUpdate=!1}if(!0===t.normalsNeedUpdate){var r=this.attributes.normal;void 0!==r&&(r.copyVector3sArray(t.normals),r.needsUpdate=!0),t.normalsNeedUpdate=!1}if(!0===t.colorsNeedUpdate){var r=this.attributes.color;void 0!==r&&(r.copyColorsArray(t.colors),r.needsUpdate=!0),t.colorsNeedUpdate=!1}if(t.uvsNeedUpdate){var r=this.attributes.uv;void 0!==r&&(r.copyVector2sArray(t.uvs),r.needsUpdate=!0),t.uvsNeedUpdate=!1}if(t.lineDistancesNeedUpdate){var r=this.attributes.lineDistance;void 0!==r&&(r.copyArray(t.lineDistances),r.needsUpdate=!0),t.lineDistancesNeedUpdate=!1}return t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new o.DirectGeometry).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.addAttribute("position",new o.BufferAttribute(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var i=new Float32Array(3*e.normals.length);this.addAttribute("normal",new o.BufferAttribute(i,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var r=new Float32Array(3*e.colors.length);this.addAttribute("color",new o.BufferAttribute(r,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var n=new Float32Array(2*e.uvs.length);this.addAttribute("uv",new o.BufferAttribute(n,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var a=new Float32Array(2*e.uvs2.length);this.addAttribute("uv2",new o.BufferAttribute(a,2).copyVector2sArray(e.uvs2))}if(e.indices.length>0){var s=e.vertices.length>65535?Uint32Array:Uint16Array,h=new s(3*e.indices.length);this.setIndex(new o.BufferAttribute(h,1).copyIndicesArray(e.indices))}this.groups=e.groups;for(var c in e.morphTargets){for(var l=[],u=e.morphTargets[c],d=0,f=u.length;d<f;d++){var p=u[d],m=new o.Float32Attribute(3*p.length,3);l.push(m.copyVector3sArray(p))}this.morphAttributes[c]=l}if(e.skinIndices.length>0){var v=new o.Float32Attribute(4*e.skinIndices.length,4);this.addAttribute("skinIndex",v.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var y=new o.Float32Attribute(4*e.skinWeights.length,4);this.addAttribute("skinWeight",y.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){var e=new o.Vector3;return function(){null===this.boundingBox&&(this.boundingBox=new o.Box3);var t=this.attributes.position.array;if(t){var i=this.boundingBox;i.makeEmpty();for(var r=0,n=t.length;r<n;r+=3)e.fromArray(t,r),i.expandByPoint(e)}void 0!==t&&0!==t.length||(this.boundingBox.min.set(0,0,0),this.boundingBox.max.set(0,0,0)),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}}(),computeBoundingSphere:function(){var e=new o.Box3,t=new o.Vector3;return function(){null===this.boundingSphere&&(this.boundingSphere=new o.Sphere);var i=this.attributes.position.array;if(i){e.makeEmpty();for(var r=this.boundingSphere.center,n=0,a=i.length;n<a;n+=3)t.fromArray(i,n),e.expandByPoint(t);e.center(r);for(var s=0,n=0,a=i.length;n<a;n+=3)t.fromArray(i,n),s=Math.max(s,r.distanceToSquared(t));this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes,i=this.groups;if(t.position){var r=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new o.BufferAttribute(new Float32Array(r.length),3));else for(var n=t.normal.array,a=0,s=n.length;a<s;a++)n[a]=0;var h,c,l,n=t.normal.array,u=new o.Vector3,d=new o.Vector3,f=new o.Vector3,p=new o.Vector3,m=new o.Vector3;if(e){var v=e.array;0===i.length&&this.addGroup(0,v.length);for(var y=0,g=i.length;y<g;++y)for(var b=i[y],x=b.start,w=b.count,a=x,s=x+w;a<s;a+=3)h=3*v[a+0],c=3*v[a+1],l=3*v[a+2],u.fromArray(r,h),d.fromArray(r,c),f.fromArray(r,l),p.subVectors(f,d),m.subVectors(u,d),p.cross(m),n[h]+=p.x,n[h+1]+=p.y,n[h+2]+=p.z,n[c]+=p.x,n[c+1]+=p.y,n[c+2]+=p.z,n[l]+=p.x,n[l+1]+=p.y,n[l+2]+=p.z}else for(var a=0,s=r.length;a<s;a+=9)u.fromArray(r,a),d.fromArray(r,a+3),f.fromArray(r,a+6),p.subVectors(f,d),m.subVectors(u,d),p.cross(m),n[a]=p.x,n[a+1]=p.y,n[a+2]=p.z,n[a+3]=p.x,n[a+4]=p.y,n[a+5]=p.z,n[a+6]=p.x,n[a+7]=p.y,n[a+8]=p.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(e){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},merge:function(e,t){if(e instanceof o.BufferGeometry==!1)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);void 0===t&&(t=0);var i=this.attributes;for(var r in i)if(void 0!==e.attributes[r])for(var n=i[r],a=n.array,s=e.attributes[r],h=s.array,c=s.itemSize,l=0,u=c*t;l<h.length;l++,u++)a[u]=h[l];return this},normalizeNormals:function(){for(var e,t,i,r,n=this.attributes.normal.array,o=0,a=n.length;o<a;o+=3)e=n[o],t=n[o+1],i=n[o+2],r=1/Math.sqrt(e*e+t*t+i*i),n[o]*=r,n[o+1]*=r,n[o+2]*=r},toJSON:function(){var e={metadata:{version:4.4,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var i in t)void 0!==t[i]&&(e[i]=t[i]);return e}e.data={attributes:{}};var r=this.index;if(null!==r){var n=Array.prototype.slice.call(r.array);e.data.index={type:r.array.constructor.name,array:n}}var o=this.attributes;for(var i in o){var a=o[i],n=Array.prototype.slice.call(a.array);e.data.attributes[i]={itemSize:a.itemSize,type:a.array.constructor.name,array:n}}var s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));var h=this.boundingSphere;return null!==h&&(e.data.boundingSphere={center:h.center.toArray(),radius:h.radius}),e},clone:function(){return(new this.constructor).copy(this)},copy:function(e){var t=e.index;null!==t&&this.setIndex(t.clone());var i=e.attributes;for(var r in i){var n=i[r];this.addAttribute(r,n.clone())}for(var o=e.groups,a=0,s=o.length;a<s;a++){var h=o[a];this.addGroup(h.start,h.count)}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}},o.EventDispatcher.prototype.apply(o.BufferGeometry.prototype),o.BufferGeometry.MaxIndex=65535,o.InstancedBufferGeometry=function(){o.BufferGeometry.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0},o.InstancedBufferGeometry.prototype=Object.create(o.BufferGeometry.prototype),o.InstancedBufferGeometry.prototype.constructor=o.InstancedBufferGeometry,o.InstancedBufferGeometry.prototype.addGroup=function(e,t,i){this.groups.push({start:e,count:t,instances:i})},o.InstancedBufferGeometry.prototype.copy=function(e){var t=e.index;null!==t&&this.setIndex(t.clone());var i=e.attributes;for(var r in i){var n=i[r];this.addAttribute(r,n.clone())}for(var o=e.groups,a=0,s=o.length;a<s;a++){var h=o[a];this.addGroup(h.start,h.count,h.instances)}return this},o.EventDispatcher.prototype.apply(o.InstancedBufferGeometry.prototype),o.AnimationAction=function(e,t,i,r,n){if(void 0===e)throw new Error("clip is null");this.clip=e,this.localRoot=null,this.startTime=t||0,this.timeScale=i||1,this.weight=r||1,this.loop=n||o.LoopRepeat,this.loopCount=0,this.enabled=!0,this.actionTime=-this.startTime,this.clipTime=0,this.propertyBindings=[]},o.AnimationAction.prototype={constructor:o.AnimationAction,setLocalRoot:function(e){return this.localRoot=e,this},updateTime:function(e){var t=this.clipTime,i=this.loopCount,r=(this.actionTime,this.clip.duration);if(this.actionTime=this.actionTime+e,this.loop===o.LoopOnce)return this.loopCount=0,this.clipTime=Math.min(Math.max(this.actionTime,0),r),this.clipTime!==t&&(this.clipTime===r?this.mixer.dispatchEvent({type:"finished",action:this,direction:1}):0===this.clipTime&&this.mixer.dispatchEvent({type:"finished",action:this,direction:-1})),this.clipTime;this.loopCount=Math.floor(this.actionTime/r);var n=this.actionTime-this.loopCount*r;return n%=r,this.loop==o.LoopPingPong&&1===Math.abs(this.loopCount%2)&&(n=r-n),this.clipTime=n,this.loopCount!==i&&this.mixer.dispatchEvent({type:"loop",action:this,loopDelta:this.loopCount-this.loopCount}),this.clipTime},syncWith:function(e){return this.actionTime=e.actionTime,this.timeScale=e.timeScale,this},warpToDuration:function(e){return this.timeScale=this.clip.duration/e,this},init:function(e){return this.clipTime=e-this.startTime,this},update:function(e){return this.updateTime(e),this.clip.getAt(this.clipTime)},getTimeScaleAt:function(e){return this.timeScale.getAt?this.timeScale.getAt(e):this.timeScale},getWeightAt:function(e){return this.weight.getAt?this.weight.getAt(e):this.weight}},o.AnimationClip=function(e,t,i){if(this.name=e,this.tracks=i,this.duration=void 0!==t?t:-1,this.duration<0)for(var r=0;r<this.tracks.length;r++){var n=this.tracks[r];this.duration=Math.max(this.duration,n.keys[n.keys.length-1].time)}this.trim(),this.optimize(),this.results=[]},o.AnimationClip.prototype={constructor:o.AnimationClip,getAt:function(e){e=Math.max(0,Math.min(e,this.duration));for(var t=0;t<this.tracks.length;t++){var i=this.tracks[t];this.results[t]=i.getAt(e)}return this.results},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},o.AnimationClip.CreateFromMorphTargetSequence=function(e,t,i){for(var r=t.length,n=[],a=0;a<r;a++){var s=[];s.push({time:(a+r-1)%r,value:0}),s.push({time:a,value:1}),s.push({time:(a+1)%r,value:0}),s.sort(o.KeyframeTrack.keyComparer),0===s[0].time&&s.push({time:r,value:s[0].value}),n.push(new o.NumberKeyframeTrack(".morphTargetInfluences["+t[a].name+"]",s).scale(1/i))}return new o.AnimationClip(e,-1,n)},o.AnimationClip.findByName=function(e,t){for(var i=0;i<e.length;i++)if(e[i].name===t)return e[i];return null},o.AnimationClip.CreateClipsFromMorphTargetSequences=function(e,t){for(var i={},r=/^([\w-]*?)([\d]+)$/,n=0,a=e.length;n<a;n++){var s=e[n],h=s.name.match(r);if(h&&h.length>1){var c=h[1],l=i[c];l||(i[c]=l=[]),l.push(s)}}var u=[];for(var c in i)u.push(o.AnimationClip.CreateFromMorphTargetSequence(c,i[c],t));return u},o.AnimationClip.parse=function(e){for(var t=[],i=0;i<e.tracks.length;i++)t.push(o.KeyframeTrack.parse(e.tracks[i]).scale(1/e.fps));return new o.AnimationClip(e.name,e.duration,t)},o.AnimationClip.parseAnimation=function(e,t,i){if(!e)return console.error("  no animation in JSONLoader data"),null;for(var r=function(e,t,i,r,n){for(var o=[],a=0;a<t.length;a++){var s=t[a];void 0!==s[i]&&o.push({time:s.time,value:n(s)})}return o.length>0?new r(e,o):null},n=[],a=e.name||"default",s=e.length||-1,h=e.fps||30,c=e.hierarchy||[],l=0;l<c.length;l++){var u=c[l].keys;if(u&&0!=u.length)if(u[0].morphTargets){for(var d={},f=0;f<u.length;f++)if(u[f].morphTargets)for(var p=0;p<u[f].morphTargets.length;p++)d[u[f].morphTargets[p]]=-1;for(var m in d){for(var v=[],p=0;p<u[f].morphTargets.length;p++){var y=u[f];v.push({time:y.time,value:y.morphTarget===m?1:0})}n.push(new o.NumberKeyframeTrack(i+".morphTargetInfluence["+m+"]",v))}s=d.length*(h||1)}else{var g=i+".bones["+t[l].name+"]",b=r(g+".position",u,"pos",o.VectorKeyframeTrack,function(e){return(new o.Vector3).fromArray(e.pos)});b&&n.push(b);var x=r(g+".quaternion",u,"rot",o.QuaternionKeyframeTrack,function(e){return e.rot.slerp?e.rot.clone():(new o.Quaternion).fromArray(e.rot)});x&&n.push(x);var w=r(g+".scale",u,"scl",o.VectorKeyframeTrack,function(e){return(new o.Vector3).fromArray(e.scl)});w&&n.push(w)}}return 0===n.length?null:new o.AnimationClip(a,s,n)},o.AnimationMixer=function(e){this.root=e,this.time=0,this.timeScale=1,this.actions=[],this.propertyBindingMap={}},o.AnimationMixer.prototype={constructor:o.AnimationMixer,addAction:function(e){this.actions.push(e),e.init(this.time),e.mixer=this;for(var t=e.clip.tracks,i=e.localRoot||this.root,r=0;r<t.length;r++){var n=t[r],a=i.uuid+"-"+n.name,s=this.propertyBindingMap[a];void 0===s&&(s=new o.PropertyBinding(i,n.name),this.propertyBindingMap[a]=s),e.propertyBindings.push(s),s.referenceCount+=1}},removeAllActions:function(){for(var e=0;e<this.actions.length;e++)this.actions[e].mixer=null;for(var t in this.propertyBindingMap)this.propertyBindingMap[t].unbind();return this.actions=[],this.propertyBindingMap={},this},removeAction:function(e){var t=this.actions.indexOf(e);-1!==t&&(this.actions.splice(t,1),e.mixer=null);for(var i=e.localRoot||this.root,r=e.clip.tracks,n=0;n<r.length;n++){var o=r[n],a=i.uuid+"-"+o.name,s=this.propertyBindingMap[a];s.referenceCount-=1,s.referenceCount<=0&&(s.unbind(),delete this.propertyBindingMap[a])}return this},findActionByName:function(e){for(var t=0;t<this.actions.length;t++)if(this.actions[t].name===e)return this.actions[t];return null},play:function(e,t){return e.startTime=this.time,this.addAction(e),this},fadeOut:function(e,t){var i=[];return i.push({time:this.time,value:1}),i.push({time:this.time+t,value:0}),e.weight=new o.NumberKeyframeTrack("weight",i),this},fadeIn:function(e,t){var i=[];return i.push({time:this.time,value:0}),i.push({time:this.time+t,value:1}),e.weight=new o.NumberKeyframeTrack("weight",i),this},warp:function(e,t,i,r){var n=[];return n.push({time:this.time,value:t}),n.push({time:this.time+r,value:i}),e.timeScale=new o.NumberKeyframeTrack("timeScale",n),this},crossFade:function(e,t,i,r){if(this.fadeOut(e,i),this.fadeIn(t,i),r){var n=e.clip.duration/t.clip.duration,o=1/n;this.warp(e,1,n,i),this.warp(t,o,1,i)}return this},update:function(e){var t=e*this.timeScale;this.time+=t;for(var i=0;i<this.actions.length;i++){var r=this.actions[i],n=r.getWeightAt(this.time),o=r.getTimeScaleAt(this.time),a=t*o,s=r.update(a);if(!(r.weight<=0)&&r.enabled)for(var h=0;h<s.length;h++){r.clip.tracks[h].name;r.propertyBindings[h].accumulate(s[h],n)}}for(var c in this.propertyBindingMap)this.propertyBindingMap[c].apply();return this}},o.EventDispatcher.prototype.apply(o.AnimationMixer.prototype),o.AnimationUtils={getEqualsFunc:function(e){return e.equals?function(e,t){return e.equals(t)}:function(e,t){return e===t}},clone:function(e){if("object"==typeof e){if(e.clone)return e.clone();console.error("can not figure out how to copy exemplarValue",e)}return e},lerp:function(e,t,i,r){return o.AnimationUtils.getLerpFunc(e,r)(e,t,i)},lerp_object:function(e,t,i){return e.lerp(t,i)},slerp_object:function(e,t,i){return e.slerp(t,i)},lerp_number:function(e,t,i){return e*(1-i)+t*i},lerp_boolean:function(e,t,i){return i<.5?e:t},lerp_boolean_immediate:function(e,t,i){return e},lerp_string:function(e,t,i){return i<.5?e:t},lerp_string_immediate:function(e,t,i){return e},getLerpFunc:function(e,t){if(void 0===e||null===e)throw new Error("examplarValue is null");switch(typeof e){case"object":if(e.lerp)return o.AnimationUtils.lerp_object;if(e.slerp)return o.AnimationUtils.slerp_object;break;case"number":return o.AnimationUtils.lerp_number;case"boolean":return t?o.AnimationUtils.lerp_boolean:o.AnimationUtils.lerp_boolean_immediate;case"string":return t?o.AnimationUtils.lerp_string:o.AnimationUtils.lerp_string_immediate}}},o.KeyframeTrack=function(e,t){if(void 0===e)throw new Error("track name is undefined");if(void 0===t||0===t.length)throw new Error("no keys in track named "+e);this.name=e,this.keys=t,this.lastIndex=0,this.validate(),this.optimize()},o.KeyframeTrack.prototype={constructor:o.KeyframeTrack,getAt:function(e){for(;this.lastIndex<this.keys.length&&e>=this.keys[this.lastIndex].time;)this.lastIndex++;for(;this.lastIndex>0&&e<this.keys[this.lastIndex-1].time;)this.lastIndex--;if(this.lastIndex>=this.keys.length)return this.setResult(this.keys[this.keys.length-1].value),this.result;if(0===this.lastIndex)return this.setResult(this.keys[0].value),this.result;var t=this.keys[this.lastIndex-1];if(this.setResult(t.value),t.constantToNext)return this.result;var i=this.keys[this.lastIndex],r=(e-t.time)/(i.time-t.time);return this.result=this.lerpValues(this.result,i.value,r),this.result},shift:function(e){if(0!==e)for(var t=0;t<this.keys.length;t++)this.keys[t].time+=e;return this},scale:function(e){if(1!==e)for(var t=0;t<this.keys.length;t++)this.keys[t].time*=e;return this},trim:function(e,t){for(var i=0,r=1;r<this.keys.length;r++)this.keys[r]<=e&&i++;for(var n=0,r=this.keys.length-2;r>0&&this.keys[r]>=t;r++)n++;return i+n>0&&(this.keys=this.keys.splice(i,this.keys.length-n-i)),this},validate:function(){var e=null;if(0===this.keys.length)return void console.error("  track is empty, no keys",this);for(var t=0;t<this.keys.length;t++){var i=this.keys[t];if(!i)return void console.error("  key is null in track",this,t);if("number"!=typeof i.time||isNaN(i.time))return void console.error("  key.time is not a valid number",this,t,i);if(void 0===i.value||null===i.value)return void console.error("  key.value is null in track",this,t,i);if(e&&e.time>i.time)return void console.error("  key.time is less than previous key time, out of order keys",this,t,i,e);e=i}return this},optimize:function(){var e=[],t=this.keys[0];e.push(t);for(var i=(o.AnimationUtils.getEqualsFunc(t.value),1);i<this.keys.length-1;i++){var r=this.keys[i],n=this.keys[i+1];t.time!==r.time&&(this.compareValues(t.value,r.value)&&this.compareValues(r.value,n.value)||(t.constantToNext=this.compareValues(t.value,r.value),e.push(r),t=r))}return e.push(this.keys[this.keys.length-1]),this.keys=e,this}},o.KeyframeTrack.keyComparer=function(e,t){return e.time-t.time},o.KeyframeTrack.parse=function(e){if(void 0===e.type)throw new Error("track type undefined, can not parse");return o.KeyframeTrack.GetTrackTypeForTypeName(e.type).parse(e)},o.KeyframeTrack.GetTrackTypeForTypeName=function(e){switch(e.toLowerCase()){case"vector":case"vector2":case"vector3":case"vector4":return o.VectorKeyframeTrack;case"quaternion":return o.QuaternionKeyframeTrack;case"integer":case"scalar":case"double":case"float":case"number":return o.NumberKeyframeTrack;case"bool":case"boolean":return o.BooleanKeyframeTrack;case"string":return o.StringKeyframeTrack}throw new Error("Unsupported typeName: "+e)},o.PropertyBinding=function(e,t){this.rootNode=e,this.trackName=t,this.referenceCount=0,this.originalValue=null;var i=o.PropertyBinding.parseTrackName(t);this.directoryName=i.directoryName,this.nodeName=i.nodeName,this.objectName=i.objectName,this.objectIndex=i.objectIndex,this.propertyName=i.propertyName,this.propertyIndex=i.propertyIndex,this.node=o.PropertyBinding.findNode(e,this.nodeName)||e,this.cumulativeValue=null,this.cumulativeWeight=0},o.PropertyBinding.prototype={constructor:o.PropertyBinding,reset:function(){this.cumulativeValue=null,this.cumulativeWeight=0},accumulate:function(e,t){if(this.isBound||this.bind(),0===this.cumulativeWeight)t>0&&(null===this.cumulativeValue&&(this.cumulativeValue=o.AnimationUtils.clone(e)),this.cumulativeWeight=t);else{var i=t/(this.cumulativeWeight+t);this.cumulativeValue=this.lerpValue(this.cumulativeValue,e,i),this.cumulativeWeight+=t}},unbind:function(){this.isBound&&(this.setValue(this.originalValue),this.setValue=null,this.getValue=null,this.lerpValue=null,this.equalsValue=null,this.triggerDirty=null,this.isBound=!1)},bind:function(){if(!this.isBound){var e=this.node;if(!e)return void console.error("  trying to update node for track: "+this.trackName+" but it wasn't found.");if(this.objectName){if("materials"===this.objectName){if(!e.material)return void console.error("  can not bind to material as node does not have a material",this);if(!e.material.materials)return void console.error("  can not bind to material.materials as node.material does not have a materials array",this);e=e.material.materials}else if("bones"===this.objectName){if(!e.skeleton)return void console.error("  can not bind to bones as node does not have a skeleton",this);e=e.skeleton.bones;for(var t=0;t<e.length;t++)if(e[t].name===this.objectIndex){this.objectIndex=t;break}}else{if(void 0===e[this.objectName])return void console.error("  can not bind to objectName of node, undefined",this);e=e[this.objectName]}if(void 0!==this.objectIndex){if(void 0===e[this.objectIndex])return void console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,e);e=e[this.objectIndex]}}var i=e[this.propertyName];if(!i)return void console.error("  trying to update property for track: "+this.nodeName+"."+this.propertyName+" but it wasn't found.",e);if(void 0!==this.propertyIndex){if("morphTargetInfluences"===this.propertyName){e.geometry||console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry",this),e.geometry.morphTargets||console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",this);for(var t=0;t<this.node.geometry.morphTargets.length;t++)if(e.geometry.morphTargets[t].name===this.propertyIndex){this.propertyIndex=t;break}}this.setValue=function(e){return!this.equalsValue(i[this.propertyIndex],e)&&(i[this.propertyIndex]=e,!0)},this.getValue=function(){return i[this.propertyIndex]}}else i.copy?(this.setValue=function(e){return!this.equalsValue(i,e)&&(i.copy(e),!0)},this.getValue=function(){return i}):(this.setValue=function(t){return!this.equalsValue(e[this.propertyName],t)&&(e[this.propertyName]=t,!0)},this.getValue=function(){return e[this.propertyName]});void 0!==e.needsUpdate?this.triggerDirty=function(){this.node.needsUpdate=!0}:void 0!==e.matrixWorldNeedsUpdate&&(this.triggerDirty=function(){e.matrixWorldNeedsUpdate=!0}),this.originalValue=this.getValue(),this.equalsValue=o.AnimationUtils.getEqualsFunc(this.originalValue),this.lerpValue=o.AnimationUtils.getLerpFunc(this.originalValue,!0),this.isBound=!0}},apply:function(){if(this.isBound||this.bind(),this.cumulativeWeight>0){if(this.cumulativeWeight<1){var e=1-this.cumulativeWeight,t=e/(this.cumulativeWeight+e);this.cumulativeValue=this.lerpValue(this.cumulativeValue,this.originalValue,t)}this.setValue(this.cumulativeValue)&&this.triggerDirty&&this.triggerDirty(),this.cumulativeValue=null,this.cumulativeWeight=0}}},o.PropertyBinding.parseTrackName=function(e){var t=/^(([\w]+\/)*)([\w-\d]+)?(\.([\w]+)(\[([\w\d\[\]\_. ]+)\])?)?(\.([\w.]+)(\[([\w\d\[\]\_. ]+)\])?)$/,i=t.exec(e);if(!i)throw new Error("cannot parse trackName at all: "+e);i.index===t.lastIndex&&t.lastIndex++;var r={directoryName:i[1],nodeName:i[3],objectName:i[5],objectIndex:i[7],propertyName:i[9],propertyIndex:i[11]};if(null===r.propertyName||0===r.propertyName.length)throw new Error("can not parse propertyName from trackName: "+e);return r},o.PropertyBinding.findNode=function(e,t){function i(e){for(var r=0;r<e.length;r++){var n=e[r];if(n.name===t||n.uuid===t)return n;var o=i(n.children);if(o)return o}return null}if(!t||""===t||"root"===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var r=function(e){for(var i=0;i<e.bones.length;i++){var r=e.bones[i];if(r.name===t)return r}return null}(e.skeleton);if(r)return r}if(e.children){var n=i(e.children);if(n)return n}return null},o.VectorKeyframeTrack=function(e,t){o.KeyframeTrack.call(this,e,t),this.result=this.keys[0].value.clone()},o.VectorKeyframeTrack.prototype=Object.create(o.KeyframeTrack.prototype),o.VectorKeyframeTrack.prototype.constructor=o.VectorKeyframeTrack,o.VectorKeyframeTrack.prototype.setResult=function(e){this.result.copy(e)},o.VectorKeyframeTrack.prototype.lerpValues=function(e,t,i){return e.lerp(t,i)},o.VectorKeyframeTrack.prototype.compareValues=function(e,t){return e.equals(t)},o.VectorKeyframeTrack.prototype.clone=function(){for(var e=[],t=0;t<this.keys.length;t++){var i=this.keys[t];e.push({time:i.time,value:i.value.clone()})}return new o.VectorKeyframeTrack(this.name,e)},o.VectorKeyframeTrack.parse=function(e){for(var t=e.keys[0].value.length,i=o["Vector"+t],r=[],n=0;n<e.keys.length;n++){var a=e.keys[n];r.push({value:(new i).fromArray(a.value),time:a.time})}return new o.VectorKeyframeTrack(e.name,r)},o.QuaternionKeyframeTrack=function(e,t){o.KeyframeTrack.call(this,e,t),this.result=this.keys[0].value.clone()},o.QuaternionKeyframeTrack.prototype=Object.create(o.KeyframeTrack.prototype),o.QuaternionKeyframeTrack.prototype.constructor=o.QuaternionKeyframeTrack,o.QuaternionKeyframeTrack.prototype.setResult=function(e){this.result.copy(e)},o.QuaternionKeyframeTrack.prototype.lerpValues=function(e,t,i){return e.slerp(t,i)},o.QuaternionKeyframeTrack.prototype.compareValues=function(e,t){return e.equals(t)},o.QuaternionKeyframeTrack.prototype.multiply=function(e){for(var t=0;t<this.keys.length;t++)this.keys[t].value.multiply(e);return this},o.QuaternionKeyframeTrack.prototype.clone=function(){for(var e=[],t=0;t<this.keys.length;t++){var i=this.keys[t];e.push({time:i.time,value:i.value.clone()})}return new o.QuaternionKeyframeTrack(this.name,e)},o.QuaternionKeyframeTrack.parse=function(e){for(var t=[],i=0;i<e.keys.length;i++){var r=e.keys[i];t.push({value:(new o.Quaternion).fromArray(r.value),time:r.time})}return new o.QuaternionKeyframeTrack(e.name,t)},o.StringKeyframeTrack=function(e,t){o.KeyframeTrack.call(this,e,t),this.result=this.keys[0].value},o.StringKeyframeTrack.prototype=Object.create(o.KeyframeTrack.prototype),o.StringKeyframeTrack.prototype.constructor=o.StringKeyframeTrack,o.StringKeyframeTrack.prototype.setResult=function(e){this.result=e},o.StringKeyframeTrack.prototype.lerpValues=function(e,t,i){return i<1?e:t},o.StringKeyframeTrack.prototype.compareValues=function(e,t){return e===t},o.StringKeyframeTrack.prototype.clone=function(){for(var e=[],t=0;t<this.keys.length;t++){var i=this.keys[t];e.push({time:i.time,value:i.value})}return new o.StringKeyframeTrack(this.name,e)},o.StringKeyframeTrack.parse=function(e){return new o.StringKeyframeTrack(e.name,e.keys)},o.BooleanKeyframeTrack=function(e,t){o.KeyframeTrack.call(this,e,t),this.result=this.keys[0].value},o.BooleanKeyframeTrack.prototype=Object.create(o.KeyframeTrack.prototype),o.BooleanKeyframeTrack.prototype.constructor=o.BooleanKeyframeTrack,o.BooleanKeyframeTrack.prototype.setResult=function(e){this.result=e},o.BooleanKeyframeTrack.prototype.lerpValues=function(e,t,i){return i<1?e:t},o.BooleanKeyframeTrack.prototype.compareValues=function(e,t){return e===t},o.BooleanKeyframeTrack.prototype.clone=function(){for(var e=[],t=0;t<this.keys.length;t++){var i=this.keys[t];e.push({time:i.time,value:i.value})}return new o.BooleanKeyframeTrack(this.name,e)},o.BooleanKeyframeTrack.parse=function(e){return new o.BooleanKeyframeTrack(e.name,e.keys)},o.NumberKeyframeTrack=function(e,t){o.KeyframeTrack.call(this,e,t),this.result=this.keys[0].value},o.NumberKeyframeTrack.prototype=Object.create(o.KeyframeTrack.prototype),o.NumberKeyframeTrack.prototype.constructor=o.NumberKeyframeTrack,o.NumberKeyframeTrack.prototype.setResult=function(e){this.result=e},o.NumberKeyframeTrack.prototype.lerpValues=function(e,t,i){return e*(1-i)+t*i},o.NumberKeyframeTrack.prototype.compareValues=function(e,t){return e===t},o.NumberKeyframeTrack.prototype.clone=function(){for(var e=[],t=0;t<this.keys.length;t++){var i=this.keys[t];e.push({time:i.time,value:i.value})}return new o.NumberKeyframeTrack(this.name,e)},o.NumberKeyframeTrack.parse=function(e){return new o.NumberKeyframeTrack(e.name,e.keys)},o.Camera=function(){o.Object3D.call(this),this.type="Camera",this.matrixWorldInverse=new o.Matrix4,this.projectionMatrix=new o.Matrix4},o.Camera.prototype=Object.create(o.Object3D.prototype),o.Camera.prototype.constructor=o.Camera,o.Camera.prototype.getWorldDirection=function(){var e=new o.Quaternion;return function(t){var i=t||new o.Vector3;return this.getWorldQuaternion(e),i.set(0,0,-1).applyQuaternion(e)}}(),o.Camera.prototype.lookAt=function(){var e=new o.Matrix4;return function(t){e.lookAt(this.position,t,this.up),this.quaternion.setFromRotationMatrix(e)}}(),o.Camera.prototype.clone=function(){return(new this.constructor).copy(this)},o.Camera.prototype.copy=function(e){return o.Object3D.prototype.copy.call(this,e),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this},o.CubeCamera=function(e,t,i){o.Object3D.call(this),this.type="CubeCamera";var r=new o.PerspectiveCamera(90,1,e,t);r.up.set(0,-1,0),r.lookAt(new o.Vector3(1,0,0)),this.add(r);var n=new o.PerspectiveCamera(90,1,e,t);n.up.set(0,-1,0),n.lookAt(new o.Vector3(-1,0,0)),this.add(n);var a=new o.PerspectiveCamera(90,1,e,t);a.up.set(0,0,1),a.lookAt(new o.Vector3(0,1,0)),this.add(a);var s=new o.PerspectiveCamera(90,1,e,t);s.up.set(0,0,-1),s.lookAt(new o.Vector3(0,-1,0)),this.add(s);var h=new o.PerspectiveCamera(90,1,e,t);h.up.set(0,-1,0),h.lookAt(new o.Vector3(0,0,1)),this.add(h);var c=new o.PerspectiveCamera(90,1,e,t);c.up.set(0,-1,0),c.lookAt(new o.Vector3(0,0,-1)),this.add(c),this.renderTarget=new o.WebGLRenderTargetCube(i,i,{format:o.RGBFormat,magFilter:o.LinearFilter,minFilter:o.LinearFilter}),this.updateCubeMap=function(e,t){null===this.parent&&this.updateMatrixWorld();var i=this.renderTarget,o=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,i.activeCubeFace=0,e.render(t,r,i),i.activeCubeFace=1,e.render(t,n,i),i.activeCubeFace=2,e.render(t,a,i),i.activeCubeFace=3,e.render(t,s,i),i.activeCubeFace=4,e.render(t,h,i),i.texture.generateMipmaps=o,i.activeCubeFace=5,e.render(t,c,i),e.setRenderTarget(null)}},o.CubeCamera.prototype=Object.create(o.Object3D.prototype),o.CubeCamera.prototype.constructor=o.CubeCamera,o.OrthographicCamera=function(e,t,i,r,n,a){o.Camera.call(this),this.type="OrthographicCamera",this.zoom=1,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=void 0!==n?n:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()},o.OrthographicCamera.prototype=Object.create(o.Camera.prototype),o.OrthographicCamera.prototype.constructor=o.OrthographicCamera,o.OrthographicCamera.prototype.updateProjectionMatrix=function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;this.projectionMatrix.makeOrthographic(i-e,i+e,r+t,r-t,this.near,this.far)},o.OrthographicCamera.prototype.copy=function(e){return o.Camera.prototype.copy.call(this,e),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this},o.OrthographicCamera.prototype.toJSON=function(e){var t=o.Object3D.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,t},o.PerspectiveCamera=function(e,t,i,r){o.Camera.call(this),this.type="PerspectiveCamera",this.zoom=1,this.fov=void 0!==e?e:50,this.aspect=void 0!==t?t:1,this.near=void 0!==i?i:.1,this.far=void 0!==r?r:2e3,this.updateProjectionMatrix()},o.PerspectiveCamera.prototype=Object.create(o.Camera.prototype),o.PerspectiveCamera.prototype.constructor=o.PerspectiveCamera,o.PerspectiveCamera.prototype.setLens=function(e,t){void 0===t&&(t=24),this.fov=2*o.Math.radToDeg(Math.atan(t/(2*e))),this.updateProjectionMatrix()},o.PerspectiveCamera.prototype.setViewOffset=function(e,t,i,r,n,o){this.fullWidth=e,this.fullHeight=t,this.x=i,this.y=r,this.width=n,this.height=o,this.updateProjectionMatrix()},o.PerspectiveCamera.prototype.updateProjectionMatrix=function(){var e=o.Math.radToDeg(2*Math.atan(Math.tan(.5*o.Math.degToRad(this.fov))/this.zoom));if(this.fullWidth){var t=this.fullWidth/this.fullHeight,i=Math.tan(o.Math.degToRad(.5*e))*this.near,r=-i,n=t*r,a=t*i,s=Math.abs(a-n),h=Math.abs(i-r);this.projectionMatrix.makeFrustum(n+this.x*s/this.fullWidth,n+(this.x+this.width)*s/this.fullWidth,i-(this.y+this.height)*h/this.fullHeight,i-this.y*h/this.fullHeight,this.near,this.far)}else this.projectionMatrix.makePerspective(e,this.aspect,this.near,this.far)},o.PerspectiveCamera.prototype.copy=function(e){return o.Camera.prototype.copy.call(this,e),this.fov=e.fov,this.aspect=e.aspect,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this},o.PerspectiveCamera.prototype.toJSON=function(e){var t=o.Object3D.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.fov=this.fov,t.object.aspect=this.aspect,t.object.near=this.near,t.object.far=this.far,t},o.Light=function(e){o.Object3D.call(this),this.type="Light",this.color=new o.Color(e),this.receiveShadow=void 0},o.Light.prototype=Object.create(o.Object3D.prototype),o.Light.prototype.constructor=o.Light,Object.defineProperties(o.Light.prototype,{onlyShadow:{set:function(e){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){this.shadow.camera.far=e}},shadowCameraVisible:{set:function(e){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow ) instead.")}},shadowBias:{set:function(e){this.shadow.bias=e}},shadowDarkness:{set:function(e){this.shadow.darkness=e}},shadowMapWidth:{set:function(e){this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){this.shadow.mapSize.height=e}}}),o.Light.prototype.copy=function(e){return o.Object3D.prototype.copy.call(this,e),this.color.copy(e.color),this},o.Light.prototype.toJSON=function(e){var t=o.Object3D.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.intensity&&(t.object.intensity=this.intensity),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.exponent&&(t.object.exponent=this.exponent),t},o.LightShadow=function(e){this.camera=e,this.bias=0,this.darkness=1,this.mapSize=new o.Vector2(512,512),this.map=null,this.matrix=null},o.LightShadow.prototype={constructor:o.LightShadow,copy:function(e){this.camera=e.camera.clone(),this.bias=e.bias,this.darkness=e.darkness,this.mapSize.copy(e.mapSize)},clone:function(){return(new this.constructor).copy(this)}},o.AmbientLight=function(e){o.Light.call(this,e),this.type="AmbientLight",this.castShadow=void 0},o.AmbientLight.prototype=Object.create(o.Light.prototype),o.AmbientLight.prototype.constructor=o.AmbientLight,o.DirectionalLight=function(e,t){o.Light.call(this,e),this.type="DirectionalLight",this.position.set(0,1,0),this.updateMatrix(),this.target=new o.Object3D,this.intensity=void 0!==t?t:1,this.shadow=new o.LightShadow(new o.OrthographicCamera(-500,500,500,-500,50,5e3))},o.DirectionalLight.prototype=Object.create(o.Light.prototype),o.DirectionalLight.prototype.constructor=o.DirectionalLight,o.DirectionalLight.prototype.copy=function(e){return o.Light.prototype.copy.call(this,e),this.intensity=e.intensity,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this},o.HemisphereLight=function(e,t,i){o.Light.call(this,e),this.type="HemisphereLight",this.castShadow=void 0,this.position.set(0,1,0),this.updateMatrix(),this.groundColor=new o.Color(t),this.intensity=void 0!==i?i:1},o.HemisphereLight.prototype=Object.create(o.Light.prototype),o.HemisphereLight.prototype.constructor=o.HemisphereLight,o.HemisphereLight.prototype.copy=function(e){return o.Light.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this.intensity=e.intensity,this},o.PointLight=function(e,t,i,r){o.Light.call(this,e),this.type="PointLight",this.intensity=void 0!==t?t:1,this.distance=void 0!==i?i:0,this.decay=void 0!==r?r:1,this.shadow=new o.LightShadow(new o.PerspectiveCamera(90,1,1,500))},o.PointLight.prototype=Object.create(o.Light.prototype),o.PointLight.prototype.constructor=o.PointLight,o.PointLight.prototype.copy=function(e){return o.Light.prototype.copy.call(this,e),this.intensity=e.intensity,this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this},o.SpotLight=function(e,t,i,r,n,a){o.Light.call(this,e),this.type="SpotLight",this.position.set(0,1,0),this.updateMatrix(),this.target=new o.Object3D,this.intensity=void 0!==t?t:1,this.distance=void 0!==i?i:0,this.angle=void 0!==r?r:Math.PI/3,this.exponent=void 0!==n?n:10,this.decay=void 0!==a?a:1,this.shadow=new o.LightShadow(new o.PerspectiveCamera(50,1,50,5e3))},o.SpotLight.prototype=Object.create(o.Light.prototype),o.SpotLight.prototype.constructor=o.SpotLight,o.SpotLight.prototype.copy=function(e){return o.Light.prototype.copy.call(this,e),this.intensity=e.intensity,this.distance=e.distance,this.angle=e.angle,this.exponent=e.exponent,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this},o.Cache={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},o.Loader=function(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}},o.Loader.prototype={constructor:o.Loader,crossOrigin:void 0,extractUrlBase:function(e){var t=e.split("/");return 1===t.length?"./":(t.pop(),t.join("/")+"/")},initMaterials:function(e,t,i){for(var r=[],n=0;n<e.length;++n)r[n]=this.createMaterial(e[n],t,i);return r},createMaterial:function(){var e,t,i;return function(r,n,a){function s(e,i,r,s,c){var l,u=n+e,d=o.Loader.Handlers.get(u);null!==d?l=d.load(u):(t.setCrossOrigin(a),l=t.load(u)),void 0!==i&&(l.repeat.fromArray(i),1!==i[0]&&(l.wrapS=o.RepeatWrapping),1!==i[1]&&(l.wrapT=o.RepeatWrapping)),void 0!==r&&l.offset.fromArray(r),void 0!==s&&("repeat"===s[0]&&(l.wrapS=o.RepeatWrapping),"mirror"===s[0]&&(l.wrapS=o.MirroredRepeatWrapping),"repeat"===s[1]&&(l.wrapT=o.RepeatWrapping),"mirror"===s[1]&&(l.wrapT=o.MirroredRepeatWrapping)),void 0!==c&&(l.anisotropy=c);var f=o.Math.generateUUID();return h[f]=l,f}void 0===e&&(e=new o.Color),void 0===t&&(t=new o.TextureLoader),void 0===i&&(i=new o.MaterialLoader);var h={},c={uuid:o.Math.generateUUID(),type:"MeshLambertMaterial"};for(var l in r){var u=r[l];switch(l){case"DbgColor":c.color=u;break;case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":c.name=u;break;case"blending":c.blending=o[u];break;case"colorDiffuse":c.color=e.fromArray(u).getHex();break;case"colorSpecular":c.specular=e.fromArray(u).getHex();break;case"colorEmissive":c.emissive=e.fromArray(u).getHex();break;case"specularCoef":c.shininess=u;break;case"shading":"basic"===u.toLowerCase()&&(c.type="MeshBasicMaterial"),"phong"===u.toLowerCase()&&(c.type="MeshPhongMaterial");break;case"mapDiffuse":c.map=s(u,r.mapDiffuseRepeat,r.mapDiffuseOffset,r.mapDiffuseWrap,r.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapLight":c.lightMap=s(u,r.mapLightRepeat,r.mapLightOffset,r.mapLightWrap,r.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":c.aoMap=s(u,r.mapAORepeat,r.mapAOOffset,r.mapAOWrap,r.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":c.bumpMap=s(u,r.mapBumpRepeat,r.mapBumpOffset,r.mapBumpWrap,r.mapBumpAnisotropy);break;case"mapBumpScale":c.bumpScale=u;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":c.normalMap=s(u,r.mapNormalRepeat,r.mapNormalOffset,r.mapNormalWrap,r.mapNormalAnisotropy);break;case"mapNormalFactor":c.normalScale=[u,u];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":c.specularMap=s(u,r.mapSpecularRepeat,r.mapSpecularOffset,r.mapSpecularWrap,r.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapAlpha":c.alphaMap=s(u,r.mapAlphaRepeat,r.mapAlphaOffset,r.mapAlphaWrap,r.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":c.side=o.BackSide;break;case"doubleSided":c.side=o.DoubleSide;break;case"transparency":console.warn("THREE.Loader: transparency has been renamed to opacity"),c.opacity=u;break;case"opacity":case"transparent":case"depthTest":case"depthWrite":case"transparent":case"visible":case"wireframe":c[l]=u;break;case"vertexColors":!0===u&&(c.vertexColors=o.VertexColors),"face"===u&&(c.vertexColors=o.FaceColors);break;default:console.error("Loader.createMaterial: Unsupported",l,u)}}return"MeshPhongMaterial"!==c.type&&delete c.specular,c.opacity<1&&(c.transparent=!0),i.setTextures(h),i.parse(c)}}()},o.Loader.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,i=0,r=t.length;i<r;i+=2){var n=t[i],o=t[i+1];if(n.test(e))return o}return null}},o.XHRLoader=function(e){this.manager=void 0!==e?e:o.DefaultLoadingManager},o.XHRLoader.prototype={constructor:o.XHRLoader,load:function(e,t,i,r){var n=this,a=o.Cache.get(e);if(void 0!==a)return t&&setTimeout(function(){t(a)},0),a;var s=new XMLHttpRequest;return s.open("GET",e,!0),s.addEventListener("load",function(i){var r=i.target.response;o.Cache.add(e,r),t&&t(r),n.manager.itemEnd(e)},!1),void 0!==i&&s.addEventListener("progress",function(e){i(e)},!1),s.addEventListener("error",function(t){r&&r(t),n.manager.itemError(e)},!1),void 0!==this.crossOrigin&&(s.crossOrigin=this.crossOrigin),void 0!==this.responseType&&(s.responseType=this.responseType),void 0!==this.withCredentials&&(s.withCredentials=this.withCredentials),s.send(null),n.manager.itemStart(e),s},setResponseType:function(e){this.responseType=e},setCrossOrigin:function(e){this.crossOrigin=e},setWithCredentials:function(e){this.withCredentials=e}},o.ImageLoader=function(e){this.manager=void 0!==e?e:o.DefaultLoadingManager},o.ImageLoader.prototype={constructor:o.ImageLoader,load:function(e,t,i,r){var n=this,a=o.Cache.get(e);if(void 0!==a)return n.manager.itemStart(e),t?setTimeout(function(){t(a),n.manager.itemEnd(e)},0):n.manager.itemEnd(e),a;var s=document.createElement("img");return s.addEventListener("load",function(i){o.Cache.add(e,this),t&&t(this),n.manager.itemEnd(e)},!1),void 0!==i&&s.addEventListener("progress",function(e){i(e)},!1),s.addEventListener("error",function(t){r&&r(t),console.log("-----\x3eerror",e),n.manager.itemError(e)},!1),void 0!==this.crossOrigin&&(s.crossOrigin=this.crossOrigin),n.manager.itemStart(e),s.src=e,s},setCrossOrigin:function(e){this.crossOrigin=e}},o.JSONLoader=function(e){"boolean"==typeof e&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),e=void 0),this.manager=void 0!==e?e:o.DefaultLoadingManager,this.withCredentials=!1},o.JSONLoader.prototype={constructor:o.JSONLoader,get statusDomElement(){return void 0===this._statusDomElement&&(this._statusDomElement=document.createElement("div")),console.warn("THREE.JSONLoader: .statusDomElement has been removed."),this._statusDomElement},load:function(e,t,i,r){var n=this,a=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:o.Loader.prototype.extractUrlBase(e),s=new o.XHRLoader(this.manager);s.setCrossOrigin(this.crossOrigin),s.setWithCredentials(this.withCredentials),s.load(e,function(i){var r=JSON.parse(i),o=r.metadata;if(void 0!==o){if("object"===o.type)return void console.error("THREE.JSONLoader: "+e+" should be loaded with THREE.ObjectLoader instead.");if("scene"===o.type)return void console.error("THREE.JSONLoader: "+e+" should be loaded with THREE.SceneLoader instead.")}var s=n.parse(r,a);t(s.geometry,s.materials)})},setCrossOrigin:function(e){this.crossOrigin=e},setTexturePath:function(e){this.texturePath=e},parse:function(e,t){var i=new o.Geometry,r=void 0!==e.scale?1/e.scale:1;if(function(t){function r(e,t){return e&1<<t}var n,a,s,h,c,l,u,d,f,p,m,v,y,g,b,x,w,_,T,E,S,M,C,A,D,k,I,P=e.faces,R=e.vertices,F=e.normals,O=e.colors,L=0;if(void 0!==e.uvs){for(n=0;n<e.uvs.length;n++)e.uvs[n].length&&L++;for(n=0;n<L;n++)i.faceVertexUvs[n]=[]}for(h=0,c=R.length;h<c;)_=new o.Vector3,_.x=R[h++]*t,_.y=R[h++]*t,_.z=R[h++]*t,i.vertices.push(_);for(h=0,c=P.length;h<c;)if(p=P[h++],m=r(p,0),v=r(p,1),y=r(p,3),g=r(p,4),b=r(p,5),x=r(p,6),w=r(p,7),m){if(E=new o.Face3,E.a=P[h],E.b=P[h+1],E.c=P[h+3],S=new o.Face3,S.a=P[h+1],S.b=P[h+2],S.c=P[h+3],h+=4,v&&(f=P[h++],E.materialIndex=f,S.materialIndex=f),s=i.faces.length,y)for(n=0;n<L;n++)for(A=e.uvs[n],i.faceVertexUvs[n][s]=[],i.faceVertexUvs[n][s+1]=[],a=0;a<4;a++)d=P[h++],k=A[2*d],I=A[2*d+1],D=new o.Vector2(k,I),2!==a&&i.faceVertexUvs[n][s].push(D),0!==a&&i.faceVertexUvs[n][s+1].push(D);if(g&&(u=3*P[h++],E.normal.set(F[u++],F[u++],F[u]),S.normal.copy(E.normal)),b)for(n=0;n<4;n++)u=3*P[h++],C=new o.Vector3(F[u++],F[u++],F[u]),2!==n&&E.vertexNormals.push(C),0!==n&&S.vertexNormals.push(C);if(x&&(l=P[h++],M=O[l],E.color.setHex(M),S.color.setHex(M)),w)for(n=0;n<4;n++)l=P[h++],M=O[l],2!==n&&E.vertexColors.push(new o.Color(M)),0!==n&&S.vertexColors.push(new o.Color(M));i.faces.push(E),i.faces.push(S)}else{if(T=new o.Face3,T.a=P[h++],T.b=P[h++],T.c=P[h++],v&&(f=P[h++],T.materialIndex=f),s=i.faces.length,y)for(n=0;n<L;n++)for(A=e.uvs[n],i.faceVertexUvs[n][s]=[],a=0;a<3;a++)d=P[h++],k=A[2*d],I=A[2*d+1],D=new o.Vector2(k,I),i.faceVertexUvs[n][s].push(D);if(g&&(u=3*P[h++],T.normal.set(F[u++],F[u++],F[u])),b)for(n=0;n<3;n++)u=3*P[h++],C=new o.Vector3(F[u++],F[u++],F[u]),T.vertexNormals.push(C);if(x&&(l=P[h++],T.color.setHex(O[l])),w)for(n=0;n<3;n++)l=P[h++],T.vertexColors.push(new o.Color(O[l]));i.faces.push(T)}}(r),function(){var t=void 0!==e.influencesPerVertex?e.influencesPerVertex:2;if(e.skinWeights)for(var r=0,n=e.skinWeights.length;r<n;r+=t){var a=e.skinWeights[r],s=t>1?e.skinWeights[r+1]:0,h=t>2?e.skinWeights[r+2]:0,c=t>3?e.skinWeights[r+3]:0;i.skinWeights.push(new o.Vector4(a,s,h,c))}if(e.skinIndices)for(var r=0,n=e.skinIndices.length;r<n;r+=t){var l=e.skinIndices[r],u=t>1?e.skinIndices[r+1]:0,d=t>2?e.skinIndices[r+2]:0,f=t>3?e.skinIndices[r+3]:0;i.skinIndices.push(new o.Vector4(l,u,d,f))}i.bones=e.bones,i.bones&&i.bones.length>0&&(i.skinWeights.length!==i.skinIndices.length||i.skinIndices.length!==i.vertices.length)&&console.warn("When skinning, number of vertices ("+i.vertices.length+"), skinIndices ("+i.skinIndices.length+"), and skinWeights ("+i.skinWeights.length+") should match.")}(),function(t){if(void 0!==e.morphTargets)for(var r=0,n=e.morphTargets.length;r<n;r++){i.morphTargets[r]={},i.morphTargets[r].name=e.morphTargets[r].name,i.morphTargets[r].vertices=[];for(var a=i.morphTargets[r].vertices,s=e.morphTargets[r].vertices,h=0,c=s.length;h<c;h+=3){var l=new o.Vector3;l.x=s[h]*t,l.y=s[h+1]*t,l.z=s[h+2]*t,a.push(l)}}if(void 0!==e.morphColors&&e.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');for(var u=i.faces,d=e.morphColors[0].colors,r=0,n=u.length;r<n;r++)u[r].color.fromArray(d,3*r)}}(r),function(){var t=[],r=[];void 0!==e.animation&&r.push(e.animation),void 0!==e.animations&&(e.animations.length?r=r.concat(e.animations):r.push(e.animations));for(var n=0;n<r.length;n++){var a=o.AnimationClip.parseAnimation(r[n],i.bones);a&&t.push(a)}if(i.morphTargets){var s=o.AnimationClip.CreateClipsFromMorphTargetSequences(i.morphTargets,10);t=t.concat(s)}t.length>0&&(i.animations=t)}(),i.computeFaceNormals(),i.computeBoundingSphere(),void 0===e.materials||0===e.materials.length)return{geometry:i};var n=o.Loader.prototype.initMaterials(e.materials,t,this.crossOrigin);return{geometry:i,materials:n}}},o.LoadingManager=function(e,t,i){var r=this,n=!1,o=0,a=0;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(e){a++,!1===n&&void 0!==r.onStart&&r.onStart(e,o,a),n=!0},this.itemEnd=function(e){o++,void 0!==r.onProgress&&r.onProgress(e,o,a),o===a&&(n=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)}},o.DefaultLoadingManager=new o.LoadingManager,o.BufferGeometryLoader=function(e){this.manager=void 0!==e?e:o.DefaultLoadingManager},o.BufferGeometryLoader.prototype={constructor:o.BufferGeometryLoader,load:function(e,t,i,r){var n=this,a=new o.XHRLoader(n.manager);a.setCrossOrigin(this.crossOrigin),a.load(e,function(e){t(n.parse(JSON.parse(e)))},i,r)},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e){var t=new o.BufferGeometry,i=e.data.index;if(void 0!==i){var r=new self[i.type](i.array);t.setIndex(new o.BufferAttribute(r,1))}var n=e.data.attributes;for(var a in n){var s=n[a],r=new self[s.type](s.array);t.addAttribute(a,new o.BufferAttribute(r,s.itemSize))}var h=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==h)for(var c=0,l=h.length;c!==l;++c){var u=h[c];t.addGroup(u.start,u.count)}var d=e.data.boundingSphere;if(void 0!==d){var f=new o.Vector3;void 0!==d.center&&f.fromArray(d.center),t.boundingSphere=new o.Sphere(f,d.radius)}return t}},o.MaterialLoader=function(e){this.manager=void 0!==e?e:o.DefaultLoadingManager,this.textures={}},o.MaterialLoader.prototype={constructor:o.MaterialLoader,load:function(e,t,i,r){var n=this,a=new o.XHRLoader(n.manager);a.setCrossOrigin(this.crossOrigin),a.load(e,function(e){t(n.parse(JSON.parse(e)))},i,r)},setCrossOrigin:function(e){this.crossOrigin=e},setTextures:function(e){this.textures=e},getTexture:function(e){var t=this.textures;return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]},parse:function(e){var t=new o[e.type];if(t.uuid=e.uuid,void 0!==e.name&&(t.name=e.name),void 0!==e.color&&t.color.setHex(e.color),void 0!==e.emissive&&t.emissive.setHex(e.emissive),void 0!==e.specular&&t.specular.setHex(e.specular),void 0!==e.shininess&&(t.shininess=e.shininess),void 0!==e.uniforms&&(t.uniforms=e.uniforms),void 0!==e.vertexShader&&(t.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(t.fragmentShader=e.fragmentShader),void 0!==e.vertexColors&&(t.vertexColors=e.vertexColors),void 0!==e.shading&&(t.shading=e.shading),void 0!==e.blending&&(t.blending=e.blending),void 0!==e.side&&(t.side=e.side),void 0!==e.opacity&&(t.opacity=e.opacity),void 0!==e.transparent&&(t.transparent=e.transparent),void 0!==e.alphaTest&&(t.alphaTest=e.alphaTest),void 0!==e.depthTest&&(t.depthTest=e.depthTest),void 0!==e.depthWrite&&(t.depthWrite=e.depthWrite),void 0!==e.wireframe&&(t.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(t.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.size&&(t.size=e.size),void 0!==e.sizeAttenuation&&(t.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(t.map=this.getTexture(e.map)),void 0!==e.alphaMap&&(t.alphaMap=this.getTexture(e.alphaMap),t.transparent=!0),void 0!==e.bumpMap&&(t.bumpMap=this.getTexture(e.bumpMap)),void 0!==e.bumpScale&&(t.bumpScale=e.bumpScale),void 0!==e.normalMap&&(t.normalMap=this.getTexture(e.normalMap)),e.normalScale&&(t.normalScale=new o.Vector2(e.normalScale,e.normalScale)),void 0!==e.displacementMap&&(t.displacementMap=this.getTexture(e.displacementMap)),void 0!==e.displacementScale&&(t.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(t.displacementBias=e.displacementBias),void 0!==e.specularMap&&(t.specularMap=this.getTexture(e.specularMap)),void 0!==e.envMap&&(t.envMap=this.getTexture(e.envMap),t.combine=o.MultiplyOperation),e.reflectivity&&(t.reflectivity=e.reflectivity),void 0!==e.lightMap&&(t.lightMap=this.getTexture(e.lightMap)),void 0!==e.lightMapIntensity&&(t.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(t.aoMap=this.getTexture(e.aoMap)),void 0!==e.aoMapIntensity&&(t.aoMapIntensity=e.aoMapIntensity),void 0!==e.materials)for(var i=0,r=e.materials.length;i<r;i++)t.materials.push(this.parse(e.materials[i]));return t}},o.ObjectLoader=function(e){this.manager=void 0!==e?e:o.DefaultLoadingManager,this.texturePath=""},o.ObjectLoader.prototype={constructor:o.ObjectLoader,load:function(e,t,i,r){""===this.texturePath&&(this.texturePath=e.substring(0,e.lastIndexOf("/")+1));var n=this,a=new o.XHRLoader(n.manager);a.setCrossOrigin(this.crossOrigin),a.load(e,function(e){n.parse(JSON.parse(e),t)},i,r)},setTexturePath:function(e){this.texturePath=e},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e,t){var i=this.parseGeometries(e.geometries),r=this.parseImages(e.images,function(){void 0!==t&&t(a)}),n=this.parseTextures(e.textures,r),o=this.parseMaterials(e.materials,n),a=this.parseObject(e.object,i,o);return e.animations&&(a.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(a),a},parseGeometries:function(e){var t={};if(void 0!==e)for(var i=new o.JSONLoader,r=new o.BufferGeometryLoader,n=0,a=e.length;n<a;n++){var s,h=e[n];switch(h.type){case"PlaneGeometry":case"PlaneBufferGeometry":s=new o[h.type](h.width,h.height,h.widthSegments,h.heightSegments);break;case"BoxGeometry":case"CubeGeometry":s=new o.BoxGeometry(h.width,h.height,h.depth,h.widthSegments,h.heightSegments,h.depthSegments);break;case"CircleBufferGeometry":s=new o.CircleBufferGeometry(h.radius,h.segments,h.thetaStart,h.thetaLength);break;case"CircleGeometry":s=new o.CircleGeometry(h.radius,h.segments,h.thetaStart,h.thetaLength);break;case"CylinderGeometry":s=new o.CylinderGeometry(h.radiusTop,h.radiusBottom,h.height,h.radialSegments,h.heightSegments,h.openEnded,h.thetaStart,h.thetaLength);break;case"SphereGeometry":s=new o.SphereGeometry(h.radius,h.widthSegments,h.heightSegments,h.phiStart,h.phiLength,h.thetaStart,h.thetaLength);break;case"SphereBufferGeometry":s=new o.SphereBufferGeometry(h.radius,h.widthSegments,h.heightSegments,h.phiStart,h.phiLength,h.thetaStart,h.thetaLength);break;case"DodecahedronGeometry":s=new o.DodecahedronGeometry(h.radius,h.detail);break;case"IcosahedronGeometry":s=new o.IcosahedronGeometry(h.radius,h.detail);break;case"OctahedronGeometry":s=new o.OctahedronGeometry(h.radius,h.detail);break;case"TetrahedronGeometry":s=new o.TetrahedronGeometry(h.radius,h.detail);break;case"RingGeometry":s=new o.RingGeometry(h.innerRadius,h.outerRadius,h.thetaSegments,h.phiSegments,h.thetaStart,h.thetaLength);break;case"TorusGeometry":s=new o.TorusGeometry(h.radius,h.tube,h.radialSegments,h.tubularSegments,h.arc);break;case"TorusKnotGeometry":s=new o.TorusKnotGeometry(h.radius,h.tube,h.radialSegments,h.tubularSegments,h.p,h.q,h.heightScale);break;case"BufferGeometry":s=r.parse(h);break;case"Geometry":s=i.parse(h.data,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+h.type+'"');continue}s.uuid=h.uuid,void 0!==h.name&&(s.name=h.name),t[h.uuid]=s}return t},parseMaterials:function(e,t){var i={};if(void 0!==e){var r=new o.MaterialLoader;r.setTextures(t);for(var n=0,a=e.length;n<a;n++){var s=r.parse(e[n]);i[s.uuid]=s}}return i},parseAnimations:function(e){for(var t=[],i=0;i<e.length;i++){var r=o.AnimationClip.parse(e[i]);t.push(r)}return t},parseImages:function(e,t){var i=this,r={};if(void 0!==e&&e.length>0){var n=new o.LoadingManager(t),a=new o.ImageLoader(n);a.setCrossOrigin(this.crossOrigin);for(var s=0,h=e.length;s<h;s++){var c=e[s],l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c.url)?c.url:i.texturePath+c.url;r[c.uuid]=function(e){return i.manager.itemStart(e),a.load(e,function(){i.manager.itemEnd(e)})}(l)}}return r},parseTextures:function(e,t){function i(e){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),o[e])}var r={};if(void 0!==e)for(var n=0,a=e.length;n<a;n++){var s=e[n];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===t[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image);var h=new o.Texture(t[s.image]);h.needsUpdate=!0,h.uuid=s.uuid,void 0!==s.name&&(h.name=s.name),void 0!==s.mapping&&(h.mapping=i(s.mapping)),void 0!==s.offset&&(h.offset=new o.Vector2(s.offset[0],s.offset[1])),void 0!==s.repeat&&(h.repeat=new o.Vector2(s.repeat[0],s.repeat[1])),void 0!==s.minFilter&&(h.minFilter=i(s.minFilter)),void 0!==s.magFilter&&(h.magFilter=i(s.magFilter)),void 0!==s.anisotropy&&(h.anisotropy=s.anisotropy),Array.isArray(s.wrap)&&(h.wrapS=i(s.wrap[0]),h.wrapT=i(s.wrap[1])),r[s.uuid]=h}return r},parseObject:function(){var e=new o.Matrix4;return function(t,i,r){function n(e){return void 0===i[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),i[e]}function a(e){if(void 0!==e)return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),r[e]}var s;switch(t.type){case"Scene":s=new o.Scene;break;case"PerspectiveCamera":s=new o.PerspectiveCamera(t.fov,t.aspect,t.near,t.far);break;case"OrthographicCamera":s=new o.OrthographicCamera(t.left,t.right,t.top,t.bottom,t.near,t.far);break;case"AmbientLight":s=new o.AmbientLight(t.color);break;case"DirectionalLight":s=new o.DirectionalLight(t.color,t.intensity);break;case"PointLight":s=new o.PointLight(t.color,t.intensity,t.distance,t.decay);break;case"SpotLight":s=new o.SpotLight(t.color,t.intensity,t.distance,t.angle,t.exponent,t.decay);break;case"HemisphereLight":s=new o.HemisphereLight(t.color,t.groundColor,t.intensity);break;case"Mesh":s=new o.Mesh(n(t.geometry),a(t.material));break;case"LOD":s=new o.LOD;break;case"Line":s=new o.Line(n(t.geometry),a(t.material),t.mode);break;case"PointCloud":case"Points":s=new o.Points(n(t.geometry),a(t.material));break;case"Sprite":s=new o.Sprite(a(t.material));break;case"Group":s=new o.Group;break;default:s=new o.Object3D}if(s.uuid=t.uuid,void 0!==t.name&&(s.name=t.name),void 0!==t.matrix?(e.fromArray(t.matrix),e.decompose(s.position,s.quaternion,s.scale)):(void 0!==t.position&&s.position.fromArray(t.position),void 0!==t.rotation&&s.rotation.fromArray(t.rotation),void 0!==t.scale&&s.scale.fromArray(t.scale)),void 0!==t.castShadow&&(s.castShadow=t.castShadow),void 0!==t.receiveShadow&&(s.receiveShadow=t.receiveShadow),void 0!==t.visible&&(s.visible=t.visible),void 0!==t.userData&&(s.userData=t.userData),void 0!==t.children)for(var h in t.children)s.add(this.parseObject(t.children[h],i,r));if("LOD"===t.type)for(var c=t.levels,l=0;l<c.length;l++){var u=c[l],h=s.getObjectByProperty("uuid",u.object);void 0!==h&&s.addLevel(h,u.distance)}return s}}()},o.TextureLoader=function(e){this.manager=void 0!==e?e:o.DefaultLoadingManager},o.TextureLoader.prototype={constructor:o.TextureLoader,load:function(e,t,i,r){var n=new o.Texture,a=new o.ImageLoader(this.manager);return a.setCrossOrigin(this.crossOrigin),console.log("-----\x3eloading ",e),a.load(e,function(e){console.log("-----\x3eloaded image",e.src),n.image=e,n.needsUpdate=!0,void 0!==t&&t(n)},i,r),n},setCrossOrigin:function(e){this.crossOrigin=e}},o.CubeTextureLoader=function(e){this.manager=void 0!==e?e:o.DefaultLoadingManager},o.CubeTextureLoader.prototype={constructor:o.CubeTextureLoader,load:function(e,t,i,r){var n=new o.CubeTexture([]),a=new o.ImageLoader;a.setCrossOrigin(this.crossOrigin);for(var s=0,h=0;h<e.length;++h)!function(i){a.load(e[i],function(e){n.images[i]=e,6==++s&&(n.needsUpdate=!0,t&&t(n))},void 0,r)}(h);return n},setCrossOrigin:function(e){this.crossOrigin=e}},o.DataTextureLoader=o.BinaryTextureLoader=function(e){this.manager=void 0!==e?e:o.DefaultLoadingManager,this._parser=null},o.BinaryTextureLoader.prototype={constructor:o.BinaryTextureLoader,load:function(e,t,i,r){var n=this,a=new o.DataTexture,s=new o.XHRLoader(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setResponseType("arraybuffer"),s.load(e,function(e){var i=n._parser(e);i&&(void 0!==i.image?a.image=i.image:void 0!==i.data&&(a.image.width=i.width,a.image.height=i.height,a.image.data=i.data),a.wrapS=void 0!==i.wrapS?i.wrapS:o.ClampToEdgeWrapping,a.wrapT=void 0!==i.wrapT?i.wrapT:o.ClampToEdgeWrapping,a.magFilter=void 0!==i.magFilter?i.magFilter:o.LinearFilter,a.minFilter=void 0!==i.minFilter?i.minFilter:o.LinearMipMapLinearFilter,a.anisotropy=void 0!==i.anisotropy?i.anisotropy:1,void 0!==i.format&&(a.format=i.format),void 0!==i.type&&(a.type=i.type),void 0!==i.mipmaps&&(a.mipmaps=i.mipmaps),1===i.mipmapCount&&(a.minFilter=o.LinearFilter),a.needsUpdate=!0,t&&t(a,i))},i,r),a},setCrossOrigin:function(e){this.crossOrigin=e}},o.CompressedTextureLoader=function(e){this.manager=void 0!==e?e:o.DefaultLoadingManager,this._parser=null},o.CompressedTextureLoader.prototype={constructor:o.CompressedTextureLoader,load:function(e,t,i,r){var n=this,a=[],s=new o.CompressedTexture;s.image=a;var h=new o.XHRLoader(this.manager);if(h.setCrossOrigin(this.crossOrigin),h.setResponseType("arraybuffer"),Array.isArray(e))for(var c=0,l=0,u=e.length;l<u;++l)!function(l){h.load(e[l],function(e){var i=n._parser(e,!0);a[l]={width:i.width,height:i.height,format:i.format,mipmaps:i.mipmaps},6===(c+=1)&&(1===i.mipmapCount&&(s.minFilter=o.LinearFilter),s.format=i.format,s.needsUpdate=!0,t&&t(s))},i,r)}(l);else h.load(e,function(e){var i=n._parser(e,!0);if(i.isCubemap)for(var r=i.mipmaps.length/i.mipmapCount,h=0;h<r;h++){a[h]={mipmaps:[]};for(var c=0;c<i.mipmapCount;c++)a[h].mipmaps.push(i.mipmaps[h*i.mipmapCount+c]),a[h].format=i.format,a[h].width=i.width,a[h].height=i.height}else s.image.width=i.width,s.image.height=i.height,s.mipmaps=i.mipmaps;1===i.mipmapCount&&(s.minFilter=o.LinearFilter),s.format=i.format,s.needsUpdate=!0,t&&t(s)},i,r);return s},setCrossOrigin:function(e){this.crossOrigin=e}},o.Material=function(){Object.defineProperty(this,"id",{value:o.MaterialIdCount++}),this.uuid=o.Math.generateUUID(),this.name="",this.type="Material",this.side=o.FrontSide,this.opacity=1,this.transparent=!1,this.blending=o.NormalBlending,this.blendSrc=o.SrcAlphaFactor,this.blendDst=o.OneMinusSrcAlphaFactor,this.blendEquation=o.AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=o.LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.overdraw=0,this.visible=!0,this._needsUpdate=!0},o.Material.prototype={constructor:o.Material,get needsUpdate(){return this._needsUpdate},set needsUpdate(e){!0===e&&this.update(),this._needsUpdate=e},setValues:function(e){if(void 0!==e)for(var t in e){var i=e[t];if(void 0!==i){var r=this[t];void 0!==r?r instanceof o.Color?r.set(i):r instanceof o.Vector3&&i instanceof o.Vector3?r.copy(i):this[t]="overdraw"===t?Number(i):i:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){var t={metadata:{version:4.4,type:"Material",generator:"Material.toJSON"}};return t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),this.color instanceof o.Color&&(t.color=this.color.getHex()),this.emissive instanceof o.Color&&(t.emissive=this.emissive.getHex()),this.specular instanceof o.Color&&(t.specular=this.specular.getHex()),void 0!==this.shininess&&(t.shininess=this.shininess),this.map instanceof o.Texture&&(t.map=this.map.toJSON(e).uuid),this.alphaMap instanceof o.Texture&&(t.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap instanceof o.Texture&&(t.lightMap=this.lightMap.toJSON(e).uuid),this.bumpMap instanceof o.Texture&&(t.bumpMap=this.bumpMap.toJSON(e).uuid,t.bumpScale=this.bumpScale),this.normalMap instanceof o.Texture&&(t.normalMap=this.normalMap.toJSON(e).uuid,t.normalScale=this.normalScale),this.displacementMap instanceof o.Texture&&(t.displacementMap=this.displacementMap.toJSON(e).uuid,t.displacementScale=this.displacementScale,t.displacementBias=this.displacementBias),this.specularMap instanceof o.Texture&&(t.specularMap=this.specularMap.toJSON(e).uuid),this.envMap instanceof o.Texture&&(t.envMap=this.envMap.toJSON(e).uuid,t.reflectivity=this.reflectivity),void 0!==this.size&&(t.size=this.size),void 0!==this.sizeAttenuation&&(t.sizeAttenuation=this.sizeAttenuation),void 0!==this.vertexColors&&this.vertexColors!==o.NoColors&&(t.vertexColors=this.vertexColors),void 0!==this.shading&&this.shading!==o.SmoothShading&&(t.shading=this.shading),void 0!==this.blending&&this.blending!==o.NormalBlending&&(t.blending=this.blending),void 0!==this.side&&this.side!==o.FrontSide&&(t.side=this.side),this.opacity<1&&(t.opacity=this.opacity),!0===this.transparent&&(t.transparent=this.transparent),this.alphaTest>0&&(t.alphaTest=this.alphaTest),!0===this.wireframe&&(t.wireframe=this.wireframe),this.wireframeLinewidth>1&&(t.wireframeLinewidth=this.wireframeLinewidth),t},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.side=e.side,this.opacity=e.opacity,this.transparent=e.transparent,this.blending=e.blending,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.alphaTest=e.alphaTest,this.overdraw=e.overdraw,this.visible=e.visible,this},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})},get wrapAround(){console.warn("THREE."+this.type+": .wrapAround has been removed.")},set wrapAround(e){console.warn("THREE."+this.type+": .wrapAround has been removed.")},get wrapRGB(){return console.warn("THREE."+this.type+": .wrapRGB has been removed."),new o.Color}},o.EventDispatcher.prototype.apply(o.Material.prototype),o.MaterialIdCount=0,o.LineBasicMaterial=function(e){o.Material.call(this),this.type="LineBasicMaterial",this.color=new o.Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.vertexColors=o.NoColors,this.fog=!0,this.setValues(e)},o.LineBasicMaterial.prototype=Object.create(o.Material.prototype),o.LineBasicMaterial.prototype.constructor=o.LineBasicMaterial,o.LineBasicMaterial.prototype.copy=function(e){return o.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.vertexColors=e.vertexColors,this.fog=e.fog,this},o.LineDashedMaterial=function(e){o.Material.call(this),this.type="LineDashedMaterial",this.color=new o.Color(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.vertexColors=!1,this.fog=!0,this.setValues(e)},o.LineDashedMaterial.prototype=Object.create(o.Material.prototype),o.LineDashedMaterial.prototype.constructor=o.LineDashedMaterial,o.LineDashedMaterial.prototype.copy=function(e){return o.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this.vertexColors=e.vertexColors,this.fog=e.fog,this},o.MeshBasicMaterial=function(e){o.Material.call(this),this.type="MeshBasicMaterial",this.color=new o.Color(16777215),this.map=null,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=o.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=o.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=o.NoColors,this.skinning=!1,this.morphTargets=!1,this.setValues(e)},o.MeshBasicMaterial.prototype=Object.create(o.Material.prototype),o.MeshBasicMaterial.prototype.constructor=o.MeshBasicMaterial,o.MeshBasicMaterial.prototype.copy=function(e){return o.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.fog=e.fog,this.shading=e.shading,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.vertexColors=e.vertexColors,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},o.MeshLambertMaterial=function(e){o.Material.call(this),this.type="MeshLambertMaterial",this.color=new o.Color(16777215),this.emissive=new o.Color(0),this.map=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=o.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=o.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)},o.MeshLambertMaterial.prototype=Object.create(o.Material.prototype),o.MeshLambertMaterial.prototype.constructor=o.MeshLambertMaterial,o.MeshLambertMaterial.prototype.copy=function(e){return o.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.emissive.copy(e.emissive),this.map=e.map,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.fog=e.fog,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.vertexColors=e.vertexColors,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},o.MeshPhongMaterial=function(e){o.Material.call(this),this.type="MeshPhongMaterial",this.color=new o.Color(16777215),this.emissive=new o.Color(0),this.specular=new o.Color(1118481),this.shininess=30,this.metal=!1,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new o.Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=o.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=o.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=o.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)},o.MeshPhongMaterial.prototype=Object.create(o.Material.prototype),o.MeshPhongMaterial.prototype.constructor=o.MeshPhongMaterial,o.MeshPhongMaterial.prototype.copy=function(e){return o.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.emissive.copy(e.emissive),this.specular.copy(e.specular),this.shininess=e.shininess,this.metal=e.metal,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissiveMap=e.emissiveMap,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.fog=e.fog,this.shading=e.shading,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.vertexColors=e.vertexColors,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},o.MeshDepthMaterial=function(e){o.Material.call(this),this.type="MeshDepthMaterial",this.morphTargets=!1,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)},o.MeshDepthMaterial.prototype=Object.create(o.Material.prototype),o.MeshDepthMaterial.prototype.constructor=o.MeshDepthMaterial,o.MeshDepthMaterial.prototype.copy=function(e){return o.Material.prototype.copy.call(this,e),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},o.MeshNormalMaterial=function(e){o.Material.call(this,e),this.type="MeshNormalMaterial",this.wireframe=!1,this.wireframeLinewidth=1,this.morphTargets=!1,this.setValues(e)},o.MeshNormalMaterial.prototype=Object.create(o.Material.prototype),o.MeshNormalMaterial.prototype.constructor=o.MeshNormalMaterial,o.MeshNormalMaterial.prototype.copy=function(e){return o.Material.prototype.copy.call(this,e),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},o.MultiMaterial=function(e){this.uuid=o.Math.generateUUID(),this.type="MultiMaterial",this.materials=e instanceof Array?e:[],this.visible=!0},o.MultiMaterial.prototype={constructor:o.MultiMaterial,toJSON:function(){for(var e={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},t=0,i=this.materials.length;t<i;t++)e.materials.push(this.materials[t].toJSON());return e.visible=this.visible,e},clone:function(){for(var e=new this.constructor,t=0;t<this.materials.length;t++)e.materials.push(this.materials[t].clone());return e.visible=this.visible,e}},o.MeshFaceMaterial=o.MultiMaterial,o.PointsMaterial=function(e){o.Material.call(this),this.type="PointsMaterial",this.color=new o.Color(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.vertexColors=o.NoColors,this.fog=!0,this.setValues(e)},o.PointsMaterial.prototype=Object.create(o.Material.prototype),o.PointsMaterial.prototype.constructor=o.PointsMaterial,o.PointsMaterial.prototype.copy=function(e){return o.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.vertexColors=e.vertexColors,this.fog=e.fog,this},o.PointCloudMaterial=function(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new o.PointsMaterial(e)},o.ParticleBasicMaterial=function(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new o.PointsMaterial(e)},o.ParticleSystemMaterial=function(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new o.PointsMaterial(e)},o.ShaderMaterial=function(e){o.Material.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.shading=o.SmoothShading,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.vertexColors=o.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.derivatives=!1,this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))},o.ShaderMaterial.prototype=Object.create(o.Material.prototype),o.ShaderMaterial.prototype.constructor=o.ShaderMaterial,o.ShaderMaterial.prototype.copy=function(e){return o.Material.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=o.UniformsUtils.clone(e.uniforms),this.attributes=e.attributes,this.defines=e.defines,this.shading=e.shading,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.vertexColors=e.vertexColors,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.derivatives=e.derivatives,this},o.ShaderMaterial.prototype.toJSON=function(e){var t=o.Material.prototype.toJSON.call(this,e);return t.uniforms=this.uniforms,t.attributes=this.attributes,t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t},o.RawShaderMaterial=function(e){o.ShaderMaterial.call(this,e),this.type="RawShaderMaterial"},o.RawShaderMaterial.prototype=Object.create(o.ShaderMaterial.prototype),o.RawShaderMaterial.prototype.constructor=o.RawShaderMaterial,o.SpriteMaterial=function(e){o.Material.call(this),this.type="SpriteMaterial",this.color=new o.Color(16777215),this.map=null,this.rotation=0,this.fog=!1,this.setValues(e)},o.SpriteMaterial.prototype=Object.create(o.Material.prototype),o.SpriteMaterial.prototype.constructor=o.SpriteMaterial,o.SpriteMaterial.prototype.copy=function(e){return o.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this.fog=e.fog,this},o.Texture=function(e,t,i,r,n,a,s,h,c){Object.defineProperty(this,"id",{value:o.TextureIdCount++}),this.uuid=o.Math.generateUUID(),this.name="",this.sourceFile="",this.image=void 0!==e?e:o.Texture.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:o.Texture.DEFAULT_MAPPING,this.wrapS=void 0!==i?i:o.ClampToEdgeWrapping,this.wrapT=void 0!==r?r:o.ClampToEdgeWrapping,this.magFilter=void 0!==n?n:o.LinearFilter,this.minFilter=void 0!==a?a:o.LinearMipMapLinearFilter,this.anisotropy=void 0!==c?c:1,this.format=void 0!==s?s:o.RGBAFormat,this.type=void 0!==h?h:o.UnsignedByteType,this.offset=new o.Vector2(0,0),this.repeat=new o.Vector2(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.version=0,this.onUpdate=null},o.Texture.DEFAULT_IMAGE=void 0,o.Texture.DEFAULT_MAPPING=o.UVMapping,o.Texture.prototype={constructor:o.Texture,set needsUpdate(e){!0===e&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this},toJSON:function(e){if(void 0!==e.textures[this.uuid])return e.textures[this.uuid];var t={metadata:{version:4.4,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy};if(void 0!==this.image){var i=this.image;void 0===i.uuid&&(i.uuid=o.Math.generateUUID()),void 0===e.images[i.uuid]&&(e.images[i.uuid]={uuid:i.uuid,url:function(e){var t;return void 0!==e.toDataURL?t=e:(t=document.createElement("canvas"),t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0,e.width,e.height)),t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}(i)}),t.image=i.uuid}return e.textures[this.uuid]=t,t},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping===o.UVMapping){if(e.multiply(this.repeat),e.add(this.offset),e.x<0||e.x>1)switch(this.wrapS){case o.RepeatWrapping:e.x=e.x-Math.floor(e.x);break;case o.ClampToEdgeWrapping:e.x=e.x<0?0:1;break;case o.MirroredRepeatWrapping:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case o.RepeatWrapping:e.y=e.y-Math.floor(e.y);break;case o.ClampToEdgeWrapping:e.y=e.y<0?0:1;break;case o.MirroredRepeatWrapping:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}this.flipY&&(e.y=1-e.y)}}};o.EventDispatcher.prototype.apply(o.Texture.prototype),o.TextureIdCount=0,o.CanvasTexture=function(e,t,i,r,n,a,s,h,c){o.Texture.call(this,e,t,i,r,n,a,s,h,c),this.needsUpdate=!0},o.CanvasTexture.prototype=Object.create(o.Texture.prototype),o.CanvasTexture.prototype.constructor=o.CanvasTexture,o.CubeTexture=function(e,t,i,r,n,a,s,h,c){t=void 0!==t?t:o.CubeReflectionMapping,o.Texture.call(this,e,t,i,r,n,a,s,h,c),this.images=e,this.flipY=!1},o.CubeTexture.prototype=Object.create(o.Texture.prototype),o.CubeTexture.prototype.constructor=o.CubeTexture,o.CubeTexture.prototype.copy=function(e){return o.Texture.prototype.copy.call(this,e),this.images=e.images,this},o.CompressedTexture=function(e,t,i,r,n,a,s,h,c,l,u){o.Texture.call(this,null,a,s,h,c,l,r,n,u),this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1},o.CompressedTexture.prototype=Object.create(o.Texture.prototype),o.CompressedTexture.prototype.constructor=o.CompressedTexture,o.DataTexture=function(e,t,i,r,n,a,s,h,c,l,u){o.Texture.call(this,null,a,s,h,c,l,r,n,u),this.image={data:e,width:t,height:i},this.magFilter=void 0!==c?c:o.NearestFilter,this.minFilter=void 0!==l?l:o.NearestFilter,this.flipY=!1,this.generateMipmaps=!1},o.DataTexture.prototype=Object.create(o.Texture.prototype),o.DataTexture.prototype.constructor=o.DataTexture,o.VideoTexture=function(e,t,i,r,n,a,s,h,c){function l(){requestAnimationFrame(l),e.readyState===e.HAVE_ENOUGH_DATA&&(u.needsUpdate=!0)}o.Texture.call(this,e,t,i,r,n,a,s,h,c),this.generateMipmaps=!1;var u=this;l()},o.VideoTexture.prototype=Object.create(o.Texture.prototype),o.VideoTexture.prototype.constructor=o.VideoTexture,o.Group=function(){o.Object3D.call(this),this.type="Group"},o.Group.prototype=Object.create(o.Object3D.prototype),o.Group.prototype.constructor=o.Group,o.Points=function(e,t){o.Object3D.call(this),this.type="Points",this.geometry=void 0!==e?e:new o.Geometry,this.material=void 0!==t?t:new o.PointsMaterial({color:16777215*Math.random()})},o.Points.prototype=Object.create(o.Object3D.prototype),o.Points.prototype.constructor=o.Points,o.Points.prototype.raycast=function(){var e=new o.Matrix4,t=new o.Ray;return function(i,r){function n(e,n){var o=t.distanceSqToPoint(e);if(o<l){var s=t.closestPointToPoint(e);s.applyMatrix4(a.matrixWorld);var h=i.ray.origin.distanceTo(s);if(h<i.near||h>i.far)return;r.push({distance:h,distanceToRay:Math.sqrt(o),point:s.clone(),index:n,face:null,object:a})}}var a=this,s=a.geometry,h=i.params.Points.threshold;if(e.getInverse(this.matrixWorld),t.copy(i.ray).applyMatrix4(e),null===s.boundingBox||!1!==t.isIntersectionBox(s.boundingBox)){var c=h/((this.scale.x+this.scale.y+this.scale.z)/3),l=c*c,u=new o.Vector3;if(s instanceof o.BufferGeometry){var d=s.index,f=s.attributes,p=f.position.array;if(null!==d)for(var m=d.array,v=0,y=m.length;v<y;v++){var g=m[v];u.fromArray(p,3*g),n(u,g)}else for(var v=0,b=p.length/3;v<b;v++)u.fromArray(p,3*v),n(u,v)}else for(var x=s.vertices,v=0,b=x.length;v<b;v++)n(x[v],v)}}}(),o.Points.prototype.clone=function(){return new this.constructor(this.geometry,this.material).copy(this)},o.PointCloud=function(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new o.Points(e,t)},o.ParticleSystem=function(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new o.Points(e,t)},o.Line=function(e,t,i){if(1===i)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new o.LineSegments(e,t);o.Object3D.call(this),this.type="Line",this.geometry=void 0!==e?e:new o.Geometry,this.material=void 0!==t?t:new o.LineBasicMaterial({color:16777215*Math.random()})},o.Line.prototype=Object.create(o.Object3D.prototype),o.Line.prototype.constructor=o.Line,o.Line.prototype.raycast=function(){var e=new o.Matrix4,t=new o.Ray,i=new o.Sphere;return function(r,n){var a=r.linePrecision,s=a*a,h=this.geometry;if(null===h.boundingSphere&&h.computeBoundingSphere(),i.copy(h.boundingSphere),i.applyMatrix4(this.matrixWorld),!1!==r.ray.isIntersectionSphere(i)){e.getInverse(this.matrixWorld),t.copy(r.ray).applyMatrix4(e);var c=new o.Vector3,l=new o.Vector3,u=new o.Vector3,d=new o.Vector3,f=this instanceof o.LineSegments?2:1;if(h instanceof o.BufferGeometry){var p=h.index,m=h.attributes;if(null!==p)for(var v=p.array,y=m.position.array,g=0,b=v.length-1;g<b;g+=f){var x=v[g],w=v[g+1];c.fromArray(y,3*x),l.fromArray(y,3*w);var _=t.distanceSqToSegment(c,l,d,u);if(!(_>s)){d.applyMatrix4(this.matrixWorld);var T=r.ray.origin.distanceTo(d);T<r.near||T>r.far||n.push({distance:T,point:u.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this})}}else for(var y=m.position.array,g=0,b=y.length/3-1;g<b;g+=f){c.fromArray(y,3*g),l.fromArray(y,3*g+3);var _=t.distanceSqToSegment(c,l,d,u);if(!(_>s)){d.applyMatrix4(this.matrixWorld);var T=r.ray.origin.distanceTo(d);T<r.near||T>r.far||n.push({distance:T,point:u.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this})}}}else if(h instanceof o.Geometry)for(var E=h.vertices,S=E.length,g=0;g<S-1;g+=f){var _=t.distanceSqToSegment(E[g],E[g+1],d,u);if(!(_>s)){d.applyMatrix4(this.matrixWorld);var T=r.ray.origin.distanceTo(d);T<r.near||T>r.far||n.push({distance:T,point:u.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this})}}}}}(),o.Line.prototype.clone=function(){return new this.constructor(this.geometry,this.material).copy(this)},o.LineStrip=0,o.LinePieces=1,o.LineSegments=function(e,t){o.Line.call(this,e,t),this.type="LineSegments"},o.LineSegments.prototype=Object.create(o.Line.prototype),o.LineSegments.prototype.constructor=o.LineSegments,o.Mesh=function(e,t){o.Object3D.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new o.Geometry,this.material=void 0!==t?t:new o.MeshBasicMaterial({color:16777215*Math.random()}),this.updateMorphTargets()},o.Mesh.prototype=Object.create(o.Object3D.prototype),o.Mesh.prototype.constructor=o.Mesh,o.Mesh.prototype.updateMorphTargets=function(){if(void 0!==this.geometry.morphTargets&&this.geometry.morphTargets.length>0){this.morphTargetBase=-1,this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var e=0,t=this.geometry.morphTargets.length;e<t;e++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[this.geometry.morphTargets[e].name]=e}},o.Mesh.prototype.getMorphTargetIndexByName=function(e){return void 0!==this.morphTargetDictionary[e]?this.morphTargetDictionary[e]:(console.warn("THREE.Mesh.getMorphTargetIndexByName: morph target "+e+" does not exist. Returning 0."),0)},o.Mesh.prototype.raycast=function(){function e(e,t,i,r,n,a,s){return o.Triangle.barycoordFromPoint(e,t,i,r,v),n.multiplyScalar(v.x),a.multiplyScalar(v.y),s.multiplyScalar(v.z),n.add(a).add(s),n.clone()}function t(e,t,i,r,n,a,s){var h=e.material;if(null===(h.side===o.BackSide?i.intersectTriangle(a,n,r,!0,s):i.intersectTriangle(r,n,a,h.side!==o.DoubleSide,s)))return null;g.copy(s),g.applyMatrix4(e.matrixWorld);var c=t.ray.origin.distanceTo(g);return c<t.near||c>t.far?null:{distance:c,point:g.clone(),object:e}}function i(i,r,n,a,l,u,d,v){s.fromArray(a,3*u),h.fromArray(a,3*d),c.fromArray(a,3*v);var g=t(i,r,n,s,h,c,y);return g&&(l&&(f.fromArray(l,2*u),p.fromArray(l,2*d),m.fromArray(l,2*v),g.uv=e(y,s,h,c,f,p,m)),g.face=new o.Face3(u,d,v,o.Triangle.normal(s,h,c)),g.faceIndex=u),g}var r=new o.Matrix4,n=new o.Ray,a=new o.Sphere,s=new o.Vector3,h=new o.Vector3,c=new o.Vector3,l=new o.Vector3,u=new o.Vector3,d=new o.Vector3,f=new o.Vector2,p=new o.Vector2,m=new o.Vector2,v=new o.Vector3,y=new o.Vector3,g=new o.Vector3;return function(v,g){var b=this.geometry,x=this.material;if(void 0!==x){null===b.boundingSphere&&b.computeBoundingSphere();var w=this.matrixWorld;if(a.copy(b.boundingSphere),a.applyMatrix4(w),!1!==v.ray.isIntersectionSphere(a)&&(r.getInverse(w),n.copy(v.ray).applyMatrix4(r),null===b.boundingBox||!1!==n.isIntersectionBox(b.boundingBox))){var _,T;if(b instanceof o.BufferGeometry){var E,S,M,C=b.index,A=b.attributes,D=A.position.array;if(void 0!==A.uv&&(_=A.uv.array),null!==C)for(var k=C.array,I=0,P=k.length;I<P;I+=3)E=k[I],S=k[I+1],M=k[I+2],(T=i(this,v,n,D,_,E,S,M))&&(T.faceIndex=Math.floor(I/3),g.push(T));else for(var I=0,P=D.length;I<P;I+=9)E=I/3,S=E+1,M=E+2,(T=i(this,v,n,D,_,E,S,M))&&(T.index=E,g.push(T))}else if(b instanceof o.Geometry){var R,F,O,L=x instanceof o.MeshFaceMaterial,B=!0===L?x.materials:null,N=b.vertices,U=b.faces,H=b.faceVertexUvs[0];H.length>0&&(_=H);for(var j=0,z=U.length;j<z;j++){var G=U[j],V=!0===L?B[G.materialIndex]:x;if(void 0!==V){if(R=N[G.a],F=N[G.b],O=N[G.c],!0===V.morphTargets){var X=b.morphTargets,Y=this.morphTargetInfluences;s.set(0,0,0),h.set(0,0,0),c.set(0,0,0);for(var W=0,q=X.length;W<q;W++){var $=Y[W];if(0!==$){var K=X[W].vertices;s.addScaledVector(l.subVectors(K[G.a],R),$),h.addScaledVector(u.subVectors(K[G.b],F),$),c.addScaledVector(d.subVectors(K[G.c],O),$)}}s.add(R),h.add(F),c.add(O),R=s,F=h,O=c}if(T=t(this,v,n,R,F,O,y)){if(_){var Z=_[j];f.copy(Z[0]),p.copy(Z[1]),m.copy(Z[2]),T.uv=e(y,R,F,O,f,p,m)}T.face=G,T.faceIndex=j,g.push(T)}}}}}}}}(),o.Mesh.prototype.clone=function(){return new this.constructor(this.geometry,this.material).copy(this)},o.Bone=function(e){o.Object3D.call(this),this.type="Bone",this.skin=e},o.Bone.prototype=Object.create(o.Object3D.prototype),o.Bone.prototype.constructor=o.Bone,o.Bone.prototype.copy=function(e){return o.Object3D.prototype.copy.call(this,e),this.skin=e.skin,this},o.Skeleton=function(e,t,i){if(this.useVertexTexture=void 0===i||i,this.identityMatrix=new o.Matrix4,e=e||[],this.bones=e.slice(0),this.useVertexTexture){var r=Math.sqrt(4*this.bones.length);r=o.Math.nextPowerOfTwo(Math.ceil(r)),r=Math.max(r,4),this.boneTextureWidth=r,this.boneTextureHeight=r,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new o.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,o.RGBAFormat,o.FloatType)}else this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton bonInverses is the wrong length."),this.boneInverses=[];for(var n=0,a=this.bones.length;n<a;n++)this.boneInverses.push(new o.Matrix4)}},o.Skeleton.prototype.calculateInverses=function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var i=new o.Matrix4;this.bones[e]&&i.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(i)}},o.Skeleton.prototype.pose=function(){for(var e,t=0,i=this.bones.length;t<i;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(var t=0,i=this.bones.length;t<i;t++)(e=this.bones[t])&&(e.parent?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},o.Skeleton.prototype.update=function(){var e=new o.Matrix4;return function(){for(var t=0,i=this.bones.length;t<i;t++){var r=this.bones[t]?this.bones[t].matrixWorld:this.identityMatrix;e.multiplyMatrices(r,this.boneInverses[t]),e.flattenToArrayOffset(this.boneMatrices,16*t)}this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}(),o.Skeleton.prototype.clone=function(){return new o.Skeleton(this.bones,this.boneInverses,this.useVertexTexture)},o.SkinnedMesh=function(e,t,i){o.Mesh.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new o.Matrix4,this.bindMatrixInverse=new o.Matrix4;var r=[];if(this.geometry&&void 0!==this.geometry.bones){for(var n,a,s=0,h=this.geometry.bones.length;s<h;++s)a=this.geometry.bones[s],n=new o.Bone(this),r.push(n),n.name=a.name,n.position.fromArray(a.pos),n.quaternion.fromArray(a.rotq),void 0!==a.scl&&n.scale.fromArray(a.scl);for(var s=0,h=this.geometry.bones.length;s<h;++s)a=this.geometry.bones[s],-1!==a.parent&&null!==a.parent?r[a.parent]?r[a.parent].add(r[s]):console.log("----\x3e",a.parent):this.add(r[s])}this.normalizeSkinWeights(),this.updateMatrixWorld(!0),this.bind(new o.Skeleton(r,void 0,i),this.matrixWorld)},o.SkinnedMesh.prototype=Object.create(o.Mesh.prototype),o.SkinnedMesh.prototype.constructor=o.SkinnedMesh,o.SkinnedMesh.prototype.bind=function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},o.SkinnedMesh.prototype.pose=function(){this.skeleton.pose()},o.SkinnedMesh.prototype.normalizeSkinWeights=function(){if(this.geometry instanceof o.Geometry)for(var e=0;e<this.geometry.skinIndices.length;e++){var t=this.geometry.skinWeights[e],i=1/t.lengthManhattan();i!==1/0?t.multiplyScalar(i):t.set(1)}},o.SkinnedMesh.prototype.updateMatrixWorld=function(e){o.Mesh.prototype.updateMatrixWorld.call(this,!0),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh unrecognized bindMode: "+this.bindMode)},o.SkinnedMesh.prototype.clone=function(){return new this.constructor(this.geometry,this.material,this.useVertexTexture).copy(this)},o.LOD=function(){o.Object3D.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}})},o.LOD.prototype=Object.create(o.Object3D.prototype),o.LOD.prototype.constructor=o.LOD,o.LOD.prototype.addLevel=function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var i=this.levels,r=0;r<i.length&&!(t<i[r].distance);r++);i.splice(r,0,{distance:t,object:e}),this.add(e)},o.LOD.prototype.getObjectForDistance=function(e){for(var t=this.levels,i=1,r=t.length;i<r&&!(e<t[i].distance);i++);return t[i-1].object},o.LOD.prototype.raycast=function(){var e=new o.Vector3;return function(t,i){e.setFromMatrixPosition(this.matrixWorld);var r=t.ray.origin.distanceTo(e);this.getObjectForDistance(r).raycast(t,i)}}(),o.LOD.prototype.update=function(){var e=new o.Vector3,t=new o.Vector3;return function(i){var r=this.levels;if(r.length>1){e.setFromMatrixPosition(i.matrixWorld),t.setFromMatrixPosition(this.matrixWorld);var n=e.distanceTo(t);r[0].object.visible=!0;for(var o=1,a=r.length;o<a&&n>=r[o].distance;o++)r[o-1].object.visible=!1,r[o].object.visible=!0;for(;o<a;o++)r[o].object.visible=!1}}}(),o.LOD.prototype.copy=function(e){o.Object3D.prototype.copy.call(this,e,!1);for(var t=e.levels,i=0,r=t.length;i<r;i++){var n=t[i];this.addLevel(n.object.clone(),n.distance)}return this},o.LOD.prototype.toJSON=function(e){var t=o.Object3D.prototype.toJSON.call(this,e);t.object.levels=[];for(var i=this.levels,r=0,n=i.length;r<n;r++){var a=i[r];t.object.levels.push({object:a.object.uuid,distance:a.distance})}return t},o.Sprite=function(){var e=new Uint16Array([0,1,2,0,2,3]),t=new Float32Array([-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0]),i=new Float32Array([0,0,1,0,1,1,0,1]),r=new o.BufferGeometry;return r.setIndex(new o.BufferAttribute(e,1)),r.addAttribute("position",new o.BufferAttribute(t,3)),r.addAttribute("uv",new o.BufferAttribute(i,2)),function(e){o.Object3D.call(this),this.type="Sprite",this.geometry=r,this.material=void 0!==e?e:new o.SpriteMaterial}}(),o.Sprite.prototype=Object.create(o.Object3D.prototype),o.Sprite.prototype.constructor=o.Sprite,o.Sprite.prototype.raycast=function(){var e=new o.Vector3;return function(t,i){e.setFromMatrixPosition(this.matrixWorld);var r=t.ray.distanceSqToPoint(e);r>this.scale.x*this.scale.y||i.push({distance:Math.sqrt(r),point:this.position,face:null,object:this})}}(),o.Sprite.prototype.clone=function(){return new this.constructor(this.material).copy(this)},o.Particle=o.Sprite,o.LensFlare=function(e,t,i,r,n){o.Object3D.call(this),this.lensFlares=[],this.positionScreen=new o.Vector3,this.customUpdateCallback=void 0,void 0!==e&&this.add(e,t,i,r,n)},o.LensFlare.prototype=Object.create(o.Object3D.prototype),o.LensFlare.prototype.constructor=o.LensFlare,o.LensFlare.prototype.add=function(e,t,i,r,n,a){void 0===t&&(t=-1),void 0===i&&(i=0),void 0===a&&(a=1),void 0===n&&(n=new o.Color(16777215)),void 0===r&&(r=o.NormalBlending),i=Math.min(i,Math.max(0,i)),this.lensFlares.push({texture:e,size:t,distance:i,x:0,y:0,z:0,scale:1,rotation:0,opacity:a,color:n,blending:r})},o.LensFlare.prototype.updateLensFlares=function(){var e,t,i=this.lensFlares.length,r=2*-this.positionScreen.x,n=2*-this.positionScreen.y;for(e=0;e<i;e++)t=this.lensFlares[e],t.x=this.positionScreen.x+r*t.distance,t.y=this.positionScreen.y+n*t.distance,t.wantedRotation=t.x*Math.PI*.25,t.rotation+=.25*(t.wantedRotation-t.rotation)},o.LensFlare.prototype.copy=function(e){o.Object3D.prototype.copy.call(this,e),this.positionScreen.copy(e.positionScreen),this.customUpdateCallback=e.customUpdateCallback;for(var t=0,i=e.lensFlares.length;t<i;t++)this.lensFlares.push(e.lensFlares[t]);return this},o.Scene=function(){o.Object3D.call(this),this.type="Scene",this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0},o.Scene.prototype=Object.create(o.Object3D.prototype),o.Scene.prototype.constructor=o.Scene,o.Scene.prototype.copy=function(e){return o.Object3D.prototype.copy.call(this,e),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},o.Fog=function(e,t,i){this.name="",this.color=new o.Color(e),this.near=void 0!==t?t:1,this.far=void 0!==i?i:1e3},o.Fog.prototype.clone=function(){return new o.Fog(this.color.getHex(),this.near,this.far)},o.FogExp2=function(e,t){this.name="",this.color=new o.Color(e),this.density=void 0!==t?t:25e-5},o.FogExp2.prototype.clone=function(){return new o.FogExp2(this.color.getHex(),this.density)},o.ShaderChunk={},o.ShaderChunk.alphamap_fragment="#ifdef USE_ALPHAMAP\n\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n\n#endif\n",o.ShaderChunk.alphamap_pars_fragment="#ifdef USE_ALPHAMAP\n\n\tuniform sampler2D alphaMap;\n\n#endif\n",o.ShaderChunk.alphatest_fragment="#ifdef ALPHATEST\n\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n\n#endif\n",o.ShaderChunk.aomap_fragment="#ifdef USE_AOMAP\n\n\ttotalAmbientLight *= ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\n#endif\n",o.ShaderChunk.aomap_pars_fragment="#ifdef USE_AOMAP\n\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n\n#endif",o.ShaderChunk.begin_vertex="\nvec3 transformed = vec3( position );\n",o.ShaderChunk.beginnormal_vertex="\nvec3 objectNormal = vec3( normal );\n",o.ShaderChunk.bumpmap_pars_fragment="#ifdef USE_BUMPMAP\n\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\n\n\n\tvec2 dHdxy_fwd() {\n\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\n\t\treturn vec2( dBx, dBy );\n\n\t}\n\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\n\t}\n\n#endif\n",o.ShaderChunk.color_fragment="#ifdef USE_COLOR\n\n\tdiffuseColor.rgb *= vColor;\n\n#endif",o.ShaderChunk.color_pars_fragment="#ifdef USE_COLOR\n\n\tvarying vec3 vColor;\n\n#endif\n",o.ShaderChunk.color_pars_vertex="#ifdef USE_COLOR\n\n\tvarying vec3 vColor;\n\n#endif",o.ShaderChunk.color_vertex="#ifdef USE_COLOR\n\n\tvColor.xyz = color.xyz;\n\n#endif",o.ShaderChunk.common="#define PI 3.14159\n#define PI2 6.28318\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\n\nvec3 transformDirection( in vec3 normal, in mat4 matrix ) {\n\n\treturn normalize( ( matrix * vec4( normal, 0.0 ) ).xyz );\n\n}\n\nvec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {\n\n\treturn normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );\n\n}\n\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\n\treturn - distance * planeNormal + point;\n\n}\n\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n\n}\n\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n\n}\n\nfloat calcLightAttenuation( float lightDistance, float cutoffDistance, float decayExponent ) {\n\n\tif ( decayExponent > 0.0 ) {\n\n\t  return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\n\t}\n\n\treturn 1.0;\n\n}\n\nvec3 F_Schlick( in vec3 specularColor, in float dotLH ) {\n\n\n\tfloat fresnel = exp2( ( -5.55437 * dotLH - 6.98316 ) * dotLH );\n\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n\n}\n\nfloat G_BlinnPhong_Implicit( /* in float dotNL, in float dotNV */ ) {\n\n\n\treturn 0.25;\n\n}\n\nfloat D_BlinnPhong( in float shininess, in float dotNH ) {\n\n\n\treturn ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n\n}\n\nvec3 BRDF_BlinnPhong( in vec3 specularColor, in float shininess, in vec3 normal, in vec3 lightDir, in vec3 viewDir ) {\n\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( lightDir, halfDir ) );\n\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\n\tfloat G = G_BlinnPhong_Implicit( /* dotNL, dotNV */ );\n\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\n\treturn F * G * D;\n\n}\n\nvec3 inputToLinear( in vec3 a ) {\n\n\t#ifdef GAMMA_INPUT\n\n\t\treturn pow( a, vec3( float( GAMMA_FACTOR ) ) );\n\n\t#else\n\n\t\treturn a;\n\n\t#endif\n\n}\n\nvec3 linearToOutput( in vec3 a ) {\n\n\t#ifdef GAMMA_OUTPUT\n\n\t\treturn pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );\n\n\t#else\n\n\t\treturn a;\n\n\t#endif\n\n}\n",o.ShaderChunk.defaultnormal_vertex="#ifdef FLIP_SIDED\n\n\tobjectNormal = -objectNormal;\n\n#endif\n\nvec3 transformedNormal = normalMatrix * objectNormal;\n",o.ShaderChunk.displacementmap_vertex="#ifdef USE_DISPLACEMENTMAP\n\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n\n#endif\n",o.ShaderChunk.displacementmap_pars_vertex="#ifdef USE_DISPLACEMENTMAP\n\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n\n#endif\n",o.ShaderChunk.emissivemap_fragment="#ifdef USE_EMISSIVEMAP\n\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\n\temissiveColor.rgb = inputToLinear( emissiveColor.rgb );\n\n\ttotalEmissiveLight *= emissiveColor.rgb;\n\n#endif\n",o.ShaderChunk.emissivemap_pars_fragment="#ifdef USE_EMISSIVEMAP\n\n\tuniform sampler2D emissiveMap;\n\n#endif\n",o.ShaderChunk.envmap_fragment="#ifdef USE_ENVMAP\n\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\n\t\t#else\n\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\n\t\t#endif\n\n\t#else\n\n\t\tvec3 reflectVec = vReflect;\n\n\t#endif\n\n\t#ifdef DOUBLE_SIDED\n\t\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#else\n\t\tfloat flipNormal = 1.0;\n\t#endif\n\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#endif\n\n\tenvColor.xyz = inputToLinear( envColor.xyz );\n\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\n\t#endif\n\n#endif\n",o.ShaderChunk.envmap_pars_fragment="#ifdef USE_ENVMAP\n\n\tuniform float reflectivity;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\n\t\tuniform float refractionRatio;\n\n\t#else\n\n\t\tvarying vec3 vReflect;\n\n\t#endif\n\n#endif\n",o.ShaderChunk.envmap_pars_vertex="#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG )\n\n\tvarying vec3 vReflect;\n\n\tuniform float refractionRatio;\n\n#endif\n",o.ShaderChunk.envmap_vertex="#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG )\n\n\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\n\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\n\t#ifdef ENVMAP_MODE_REFLECTION\n\n\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\n\t#else\n\n\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\n\t#endif\n\n#endif\n",o.ShaderChunk.fog_fragment="#ifdef USE_FOG\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\n\n\t#else\n\n\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\n\t#endif\n\n\t#ifdef FOG_EXP2\n\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\n\n\t#else\n\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\n\n\t#endif\n\t\n\toutgoingLight = mix( outgoingLight, fogColor, fogFactor );\n\n#endif",o.ShaderChunk.fog_pars_fragment="#ifdef USE_FOG\n\n\tuniform vec3 fogColor;\n\n\t#ifdef FOG_EXP2\n\n\t\tuniform float fogDensity;\n\n\t#else\n\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n\n#endif",o.ShaderChunk.hemilight_fragment="#if MAX_HEMI_LIGHTS > 0\n\n\tfor ( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\n\n\t\tvec3 lightDir = hemisphereLightDirection[ i ];\n\n\t\tfloat dotProduct = dot( normal, lightDir );\n\n\t\tfloat hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\n\n\t\tvec3 lightColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\n\n\t\ttotalAmbientLight += lightColor;\n\n\t}\n\n#endif\n\n",o.ShaderChunk.lightmap_fragment="#ifdef USE_LIGHTMAP\n\n\ttotalAmbientLight += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\n#endif\n",o.ShaderChunk.lightmap_pars_fragment="#ifdef USE_LIGHTMAP\n\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n\n#endif",o.ShaderChunk.lights_lambert_pars_vertex="#if MAX_DIR_LIGHTS > 0\n\n\tuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\n\tuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n\tuniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\n\tuniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\n\tuniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n\tuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\n\tuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\n\tuniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n\tuniform float pointLightDecay[ MAX_POINT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n\tuniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\n\tuniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\n\tuniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightDecay[ MAX_SPOT_LIGHTS ];\n\n#endif\n",o.ShaderChunk.lights_lambert_vertex="vLightFront = vec3( 0.0 );\n\n#ifdef DOUBLE_SIDED\n\n\tvLightBack = vec3( 0.0 );\n\n#endif\n\nvec3 normal = normalize( transformedNormal );\n\n#if MAX_POINT_LIGHTS > 0\n\n\tfor ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\n\n\t\tvec3 lightColor = pointLightColor[ i ];\n\n\t\tvec3 lVector = pointLightPosition[ i ] - mvPosition.xyz;\n\t\tvec3 lightDir = normalize( lVector );\n\n\n\t\tfloat attenuation = calcLightAttenuation( length( lVector ), pointLightDistance[ i ], pointLightDecay[ i ] );\n\n\n\t\tfloat dotProduct = dot( normal, lightDir );\n\n\t\tvLightFront += lightColor * attenuation * saturate( dotProduct );\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvLightBack += lightColor * attenuation * saturate( - dotProduct );\n\n\t\t#endif\n\n\t}\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n\tfor ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\n\n\t\tvec3 lightColor = spotLightColor[ i ];\n\n\t\tvec3 lightPosition = spotLightPosition[ i ];\n\t\tvec3 lVector = lightPosition - mvPosition.xyz;\n\t\tvec3 lightDir = normalize( lVector );\n\n\t\tfloat spotEffect = dot( spotLightDirection[ i ], lightDir );\n\n\t\tif ( spotEffect > spotLightAngleCos[ i ] ) {\n\n\t\t\tspotEffect = saturate( pow( saturate( spotEffect ), spotLightExponent[ i ] ) );\n\n\n\t\t\tfloat attenuation = calcLightAttenuation( length( lVector ), spotLightDistance[ i ], spotLightDecay[ i ] );\n\n\t\t\tattenuation *= spotEffect;\n\n\n\t\t\tfloat dotProduct = dot( normal, lightDir );\n\n\t\t\tvLightFront += lightColor * attenuation * saturate( dotProduct );\n\n\t\t\t#ifdef DOUBLE_SIDED\n\n\t\t\t\tvLightBack += lightColor * attenuation * saturate( - dotProduct );\n\n\t\t\t#endif\n\n\t\t}\n\n\t}\n\n#endif\n\n#if MAX_DIR_LIGHTS > 0\n\n\tfor ( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\n\n\t\tvec3 lightColor = directionalLightColor[ i ];\n\n\t\tvec3 lightDir = directionalLightDirection[ i ];\n\n\n\t\tfloat dotProduct = dot( normal, lightDir );\n\n\t\tvLightFront += lightColor * saturate( dotProduct );\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvLightBack += lightColor * saturate( - dotProduct );\n\n\t\t#endif\n\n\t}\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n\tfor ( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\n\n\t\tvec3 lightDir = hemisphereLightDirection[ i ];\n\n\n\t\tfloat dotProduct = dot( normal, lightDir );\n\n\t\tfloat hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\n\n\t\tvLightFront += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tfloat hemiDiffuseWeightBack = - 0.5 * dotProduct + 0.5;\n\n\t\t\tvLightBack += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeightBack );\n\n\t\t#endif\n\n\t}\n\n#endif\n",o.ShaderChunk.lights_phong_fragment="vec3 viewDir = normalize( vViewPosition );\n\nvec3 totalDiffuseLight = vec3( 0.0 );\nvec3 totalSpecularLight = vec3( 0.0 );\n\n#if MAX_POINT_LIGHTS > 0\n\n\tfor ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\n\n\t\tvec3 lightColor = pointLightColor[ i ];\n\n\t\tvec3 lightPosition = pointLightPosition[ i ];\n\t\tvec3 lVector = lightPosition + vViewPosition.xyz;\n\t\tvec3 lightDir = normalize( lVector );\n\n\n\t\tfloat attenuation = calcLightAttenuation( length( lVector ), pointLightDistance[ i ], pointLightDecay[ i ] );\n\n\n\t\tfloat cosineTerm = saturate( dot( normal, lightDir ) );\n\n\t\ttotalDiffuseLight += lightColor * attenuation * cosineTerm;\n\n\n\t\tvec3 brdf = BRDF_BlinnPhong( specular, shininess, normal, lightDir, viewDir );\n\n\t\ttotalSpecularLight += brdf * specularStrength * lightColor * attenuation * cosineTerm;\n\n\n\t}\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n\tfor ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\n\n\t\tvec3 lightColor = spotLightColor[ i ];\n\n\t\tvec3 lightPosition = spotLightPosition[ i ];\n\t\tvec3 lVector = lightPosition + vViewPosition.xyz;\n\t\tvec3 lightDir = normalize( lVector );\n\n\t\tfloat spotEffect = dot( spotLightDirection[ i ], lightDir );\n\n\t\tif ( spotEffect > spotLightAngleCos[ i ] ) {\n\n\t\t\tspotEffect = saturate( pow( saturate( spotEffect ), spotLightExponent[ i ] ) );\n\n\n\t\t\tfloat attenuation = calcLightAttenuation( length( lVector ), spotLightDistance[ i ], spotLightDecay[ i ] );\n\n\t\t\tattenuation *= spotEffect;\n\n\n\t\t\tfloat cosineTerm = saturate( dot( normal, lightDir ) );\n\n\t\t\ttotalDiffuseLight += lightColor * attenuation * cosineTerm;\n\n\n\t\t\tvec3 brdf = BRDF_BlinnPhong( specular, shininess, normal, lightDir, viewDir );\n\n\t\t\ttotalSpecularLight += brdf * specularStrength * lightColor * attenuation * cosineTerm;\n\n\t\t}\n\n\t}\n\n#endif\n\n#if MAX_DIR_LIGHTS > 0\n\n\tfor ( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\n\n\t\tvec3 lightColor = directionalLightColor[ i ];\n\n\t\tvec3 lightDir = directionalLightDirection[ i ];\n\n\n\t\tfloat cosineTerm = saturate( dot( normal, lightDir ) );\n\n\t\ttotalDiffuseLight += lightColor * cosineTerm;\n\n\n\t\tvec3 brdf = BRDF_BlinnPhong( specular, shininess, normal, lightDir, viewDir );\n\n\t\ttotalSpecularLight += brdf * specularStrength * lightColor * cosineTerm;\n\n\t}\n\n#endif\n",o.ShaderChunk.lights_phong_pars_fragment="uniform vec3 ambientLightColor;\n\n#if MAX_DIR_LIGHTS > 0\n\n\tuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\n\tuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n\tuniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\n\tuniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\n\tuniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n\tuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\n\n\tuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\n\tuniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n\tuniform float pointLightDecay[ MAX_POINT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n\tuniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\n\tuniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\n\tuniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightDecay[ MAX_SPOT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0 || defined( USE_ENVMAP )\n\n\tvarying vec3 vWorldPosition;\n\n#endif\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n",o.ShaderChunk.lights_phong_pars_vertex="#if MAX_SPOT_LIGHTS > 0 || defined( USE_ENVMAP )\n\n\tvarying vec3 vWorldPosition;\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n\tuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\n\n#endif\n",o.ShaderChunk.lights_phong_vertex="#if MAX_SPOT_LIGHTS > 0 || defined( USE_ENVMAP )\n\n\tvWorldPosition = worldPosition.xyz;\n\n#endif\n",o.ShaderChunk.linear_to_gamma_fragment="\n\toutgoingLight = linearToOutput( outgoingLight );\n",o.ShaderChunk.logdepthbuf_fragment="#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n\n#endif",o.ShaderChunk.logdepthbuf_pars_fragment="#ifdef USE_LOGDEPTHBUF\n\n\tuniform float logDepthBufFC;\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\tvarying float vFragDepth;\n\n\t#endif\n\n#endif\n",o.ShaderChunk.logdepthbuf_pars_vertex="#ifdef USE_LOGDEPTHBUF\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\tvarying float vFragDepth;\n\n\t#endif\n\n\tuniform float logDepthBufFC;\n\n#endif",o.ShaderChunk.logdepthbuf_vertex="#ifdef USE_LOGDEPTHBUF\n\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\n#else\n\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\n\t#endif\n\n#endif",o.ShaderChunk.map_fragment="#ifdef USE_MAP\n\n\tvec4 texelColor = texture2D( map, vUv );\n\n\ttexelColor.xyz = inputToLinear( texelColor.xyz );\n\n\tdiffuseColor *= texelColor;\n\n#endif\n",o.ShaderChunk.map_pars_fragment="#ifdef USE_MAP\n\n\tuniform sampler2D map;\n\n#endif",o.ShaderChunk.map_particle_fragment="#ifdef USE_MAP\n\n\tdiffuseColor *= texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\n#endif\n",o.ShaderChunk.map_particle_pars_fragment="#ifdef USE_MAP\n\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n\n#endif\n",o.ShaderChunk.morphnormal_vertex="#ifdef USE_MORPHNORMALS\n\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n\n#endif\n",o.ShaderChunk.morphtarget_pars_vertex="#ifdef USE_MORPHTARGETS\n\n\t#ifndef USE_MORPHNORMALS\n\n\tuniform float morphTargetInfluences[ 8 ];\n\n\t#else\n\n\tuniform float morphTargetInfluences[ 4 ];\n\n\t#endif\n\n#endif",o.ShaderChunk.morphtarget_vertex="#ifdef USE_MORPHTARGETS\n\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\n\t#ifndef USE_MORPHNORMALS\n\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\n\t#endif\n\n#endif\n",o.ShaderChunk.normal_phong_fragment="#ifndef FLAT_SHADED\n\n\tvec3 normal = normalize( vNormal );\n\n\t#ifdef DOUBLE_SIDED\n\n\t\tnormal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n\n\t#endif\n\n#else\n\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n\n#endif\n\n#ifdef USE_NORMALMAP\n\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\n#elif defined( USE_BUMPMAP )\n\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n\n#endif\n\n",o.ShaderChunk.normalmap_pars_fragment="#ifdef USE_NORMALMAP\n\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\n\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\n\t}\n\n#endif\n",o.ShaderChunk.project_vertex="#ifdef USE_SKINNING\n\n\tvec4 mvPosition = modelViewMatrix * skinned;\n\n#else\n\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n\n#endif\n\ngl_Position = projectionMatrix * mvPosition;\n",o.ShaderChunk.shadowmap_fragment="#ifdef USE_SHADOWMAP\n\n\tfor ( int i = 0; i < MAX_SHADOWS; i ++ ) {\n\n\t\tfloat texelSizeY =  1.0 / shadowMapSize[ i ].y;\n\n\t\tfloat shadow = 0.0;\n\n#if defined( POINT_LIGHT_SHADOWS )\n\n\t\tbool isPointLight = shadowDarkness[ i ] < 0.0;\n\n\t\tif ( isPointLight ) {\n\n\t\t\tfloat realShadowDarkness = abs( shadowDarkness[ i ] );\n\n\t\t\tvec3 lightToPosition = vShadowCoord[ i ].xyz;\n\n\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tfloat dp = length( lightToPosition );\n\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D, texelSizeY ) ), shadowBias[ i ], shadow );\n\n\n\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tconst float Dr = 1.25;\n\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tconst float Dr = 2.25;\n\t#endif\n\n\t\t\tfloat os = Dr *  2.0 * texelSizeY;\n\n\t\t\tconst vec3 Gsd = vec3( - 1, 0, 1 );\n\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zzz * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zxz * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xxz * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xzz * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zzx * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zxx * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xxx * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xzx * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zzy * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zxy * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xxy * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xzy * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zyz * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xyz * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zyx * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xyx * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.yzz * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.yxz * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.yxx * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.yzx * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\n\t\t\tshadow *= realShadowDarkness * ( 1.0 / 21.0 );\n\n\t#else \n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tfloat dp = length( lightToPosition );\n\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D, texelSizeY ) ), shadowBias[ i ], shadow );\n\n\t\t\tshadow *= realShadowDarkness;\n\n\t#endif\n\n\t\t} else {\n\n#endif \n\t\t\tfloat texelSizeX =  1.0 / shadowMapSize[ i ].x;\n\n\t\t\tvec3 shadowCoord = vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;\n\n\n\t\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\t\tbool inFrustum = all( inFrustumVec );\n\n\t\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\n\t\t\tbool frustumTest = all( frustumTestVec );\n\n\t\t\tif ( frustumTest ) {\n\n\t#if defined( SHADOWMAP_TYPE_PCF )\n\n\n\t\t\t\t/*\n\t\t\t\t\tfor ( float y = -1.25; y <= 1.25; y += 1.25 )\n\t\t\t\t\t\tfor ( float x = -1.25; x <= 1.25; x += 1.25 ) {\n\t\t\t\t\t\t\tvec4 rgbaDepth = texture2D( shadowMap[ i ], vec2( x * xPixelOffset, y * yPixelOffset ) + shadowCoord.xy );\n\t\t\t\t\t\t\tfloat fDepth = unpackDepth( rgbaDepth );\n\t\t\t\t\t\t\tif ( fDepth < shadowCoord.z )\n\t\t\t\t\t\t\t\tshadow += 1.0;\n\t\t\t\t\t}\n\t\t\t\t\tshadow /= 9.0;\n\t\t\t\t*/\n\n\t\t\t\tshadowCoord.z += shadowBias[ i ];\n\n\t\t\t\tconst float ShadowDelta = 1.0 / 9.0;\n\n\t\t\t\tfloat xPixelOffset = texelSizeX;\n\t\t\t\tfloat yPixelOffset = texelSizeY;\n\n\t\t\t\tfloat dx0 = - 1.25 * xPixelOffset;\n\t\t\t\tfloat dy0 = - 1.25 * yPixelOffset;\n\t\t\t\tfloat dx1 = 1.25 * xPixelOffset;\n\t\t\t\tfloat dy1 = 1.25 * yPixelOffset;\n\n\t\t\t\tfloat fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n\t\t\t\tshadow *= shadowDarkness[ i ];\n\n\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\n\n\t\t\t\tshadowCoord.z += shadowBias[ i ];\n\n\t\t\t\tfloat xPixelOffset = texelSizeX;\n\t\t\t\tfloat yPixelOffset = texelSizeY;\n\n\t\t\t\tfloat dx0 = - 1.0 * xPixelOffset;\n\t\t\t\tfloat dy0 = - 1.0 * yPixelOffset;\n\t\t\t\tfloat dx1 = 1.0 * xPixelOffset;\n\t\t\t\tfloat dy1 = 1.0 * yPixelOffset;\n\n\t\t\t\tmat3 shadowKernel;\n\t\t\t\tmat3 depthKernel;\n\n\t\t\t\tdepthKernel[ 0 ][ 0 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\n\t\t\t\tdepthKernel[ 0 ][ 1 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\n\t\t\t\tdepthKernel[ 0 ][ 2 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\n\t\t\t\tdepthKernel[ 1 ][ 0 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\n\t\t\t\tdepthKernel[ 1 ][ 1 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\n\t\t\t\tdepthKernel[ 1 ][ 2 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\n\t\t\t\tdepthKernel[ 2 ][ 0 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\n\t\t\t\tdepthKernel[ 2 ][ 1 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\n\t\t\t\tdepthKernel[ 2 ][ 2 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\n\n\t\t\t\tvec3 shadowZ = vec3( shadowCoord.z );\n\t\t\t\tshadowKernel[ 0 ] = vec3( lessThan( depthKernel[ 0 ], shadowZ ) );\n\t\t\t\tshadowKernel[ 0 ] *= vec3( 0.25 );\n\n\t\t\t\tshadowKernel[ 1 ] = vec3( lessThan( depthKernel[ 1 ], shadowZ ) );\n\t\t\t\tshadowKernel[ 1 ] *= vec3( 0.25 );\n\n\t\t\t\tshadowKernel[ 2 ] = vec3( lessThan( depthKernel[ 2 ], shadowZ ) );\n\t\t\t\tshadowKernel[ 2 ] *= vec3( 0.25 );\n\n\t\t\t\tvec2 fractionalCoord = 1.0 - fract( shadowCoord.xy * shadowMapSize[ i ].xy );\n\n\t\t\t\tshadowKernel[ 0 ] = mix( shadowKernel[ 1 ], shadowKernel[ 0 ], fractionalCoord.x );\n\t\t\t\tshadowKernel[ 1 ] = mix( shadowKernel[ 2 ], shadowKernel[ 1 ], fractionalCoord.x );\n\n\t\t\t\tvec4 shadowValues;\n\t\t\t\tshadowValues.x = mix( shadowKernel[ 0 ][ 1 ], shadowKernel[ 0 ][ 0 ], fractionalCoord.y );\n\t\t\t\tshadowValues.y = mix( shadowKernel[ 0 ][ 2 ], shadowKernel[ 0 ][ 1 ], fractionalCoord.y );\n\t\t\t\tshadowValues.z = mix( shadowKernel[ 1 ][ 1 ], shadowKernel[ 1 ][ 0 ], fractionalCoord.y );\n\t\t\t\tshadowValues.w = mix( shadowKernel[ 1 ][ 2 ], shadowKernel[ 1 ][ 1 ], fractionalCoord.y );\n\n\t\t\t\tshadow = dot( shadowValues, vec4( 1.0 ) ) * shadowDarkness[ i ];\n\n\t#else \n\t\t\t\tshadowCoord.z += shadowBias[ i ];\n\n\t\t\t\tvec4 rgbaDepth = texture2D( shadowMap[ i ], shadowCoord.xy );\n\t\t\t\tfloat fDepth = unpackDepth( rgbaDepth );\n\n\t\t\t\tif ( fDepth < shadowCoord.z )\n\t\t\t\t\tshadow = shadowDarkness[ i ];\n\n\t#endif\n\n\t\t\t}\n\n#ifdef SHADOWMAP_DEBUG\n\n\t\t\tif ( inFrustum ) {\n\n\t\t\t\tif ( i == 0 ) {\n\n\t\t\t\t\toutgoingLight *= vec3( 1.0, 0.5, 0.0 );\n\n\t\t\t\t} else if ( i == 1 ) {\n\n\t\t\t\t\toutgoingLight *= vec3( 0.0, 1.0, 0.8 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\toutgoingLight *= vec3( 0.0, 0.5, 1.0 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n#endif\n\n#if defined( POINT_LIGHT_SHADOWS )\n\n\t\t}\n\n#endif\n\n\t\tshadowMask = shadowMask * vec3( 1.0 - shadow );\n\n\t}\n\n#endif\n",o.ShaderChunk.shadowmap_pars_fragment="#ifdef USE_SHADOWMAP\n\n\tuniform sampler2D shadowMap[ MAX_SHADOWS ];\n\tuniform vec2 shadowMapSize[ MAX_SHADOWS ];\n\n\tuniform float shadowDarkness[ MAX_SHADOWS ];\n\tuniform float shadowBias[ MAX_SHADOWS ];\n\n\tvarying vec4 vShadowCoord[ MAX_SHADOWS ];\n\n\tfloat unpackDepth( const in vec4 rgba_depth ) {\n\n\t\tconst vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\n\t\tfloat depth = dot( rgba_depth, bit_shift );\n\t\treturn depth;\n\n\t}\n\n\t#if defined(POINT_LIGHT_SHADOWS)\n\n\n\t\tvoid adjustShadowValue1K( const float testDepth, const vec4 textureData, const float bias, inout float shadowValue ) {\n\n\t\t\tconst vec4 bitSh = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\n\t\t\tif ( testDepth >= dot( textureData, bitSh ) * 1000.0 + bias )\n\t\t\t\tshadowValue += 1.0;\n\n\t\t}\n\n\n\t\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\n\n\t\t\tvec3 absV = abs( v );\n\n\n\t\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\t\tabsV *= scaleToCube;\n\n\n\t\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\n\n\n\t\t\tvec2 planar = v.xy;\n\n\t\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\t\tfloat almostOne = 1.0 - almostATexel;\n\n\t\t\tif ( absV.z >= almostOne ) {\n\n\t\t\t\tif ( v.z > 0.0 )\n\t\t\t\t\tplanar.x = 4.0 - v.x;\n\n\t\t\t} else if ( absV.x >= almostOne ) {\n\n\t\t\t\tfloat signX = sign( v.x );\n\t\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\n\t\t\t} else if ( absV.y >= almostOne ) {\n\n\t\t\t\tfloat signY = sign( v.y );\n\t\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\t\tplanar.y = v.z * signY - 2.0;\n\n\t\t\t}\n\n\n\t\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\n\t\t}\n\n\t#endif\n\n#endif\n",o.ShaderChunk.shadowmap_pars_vertex="#ifdef USE_SHADOWMAP\n\n\tuniform float shadowDarkness[ MAX_SHADOWS ];\n\tuniform mat4 shadowMatrix[ MAX_SHADOWS ];\n\tvarying vec4 vShadowCoord[ MAX_SHADOWS ];\n\n#endif",o.ShaderChunk.shadowmap_vertex="#ifdef USE_SHADOWMAP\n\n\tfor ( int i = 0; i < MAX_SHADOWS; i ++ ) {\n\n\t\t\tvShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;\n\n\t}\n\n#endif",o.ShaderChunk.skinbase_vertex="#ifdef USE_SKINNING\n\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n\n#endif",o.ShaderChunk.skinning_pars_vertex="#ifdef USE_SKINNING\n\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\n\t#ifdef BONE_TEXTURE\n\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\n\t\tmat4 getBoneMatrix( const in float i ) {\n\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\n\t\t\ty = dy * ( y + 0.5 );\n\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\n\t\t\treturn bone;\n\n\t\t}\n\n\t#else\n\n\t\tuniform mat4 boneGlobalMatrices[ MAX_BONES ];\n\n\t\tmat4 getBoneMatrix( const in float i ) {\n\n\t\t\tmat4 bone = boneGlobalMatrices[ int(i) ];\n\t\t\treturn bone;\n\n\t\t}\n\n\t#endif\n\n#endif\n",o.ShaderChunk.skinning_vertex="#ifdef USE_SKINNING\n\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n\n#endif\n",o.ShaderChunk.skinnormal_vertex="#ifdef USE_SKINNING\n\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\n#endif\n",o.ShaderChunk.specularmap_fragment="float specularStrength;\n\n#ifdef USE_SPECULARMAP\n\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n\n#else\n\n\tspecularStrength = 1.0;\n\n#endif",o.ShaderChunk.specularmap_pars_fragment="#ifdef USE_SPECULARMAP\n\n\tuniform sampler2D specularMap;\n\n#endif",o.ShaderChunk.uv2_pars_fragment="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\n\tvarying vec2 vUv2;\n\n#endif",o.ShaderChunk.uv2_pars_vertex="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\n#endif",o.ShaderChunk.uv2_vertex="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\n\tvUv2 = uv2;\n\n#endif",o.ShaderChunk.uv_pars_fragment="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP )\n\n\tvarying vec2 vUv;\n\n#endif",o.ShaderChunk.uv_pars_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP )\n\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n\n#endif\n",o.ShaderChunk.uv_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP )\n\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n\n#endif",o.ShaderChunk.worldpos_vertex="#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\n\t#ifdef USE_SKINNING\n\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\n\t#else\n\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\n\t#endif\n\n#endif\n",o.UniformsUtils={merge:function(e){for(var t={},i=0;i<e.length;i++){var r=this.clone(e[i]);for(var n in r)t[n]=r[n]}return t},clone:function(e){var t={};for(var i in e){t[i]={};for(var r in e[i]){var n=e[i][r];n instanceof o.Color||n instanceof o.Vector2||n instanceof o.Vector3||n instanceof o.Vector4||n instanceof o.Matrix3||n instanceof o.Matrix4||n instanceof o.Texture?t[i][r]=n.clone():Array.isArray(n)?t[i][r]=n.slice():t[i][r]=n}}return t}},o.UniformsLib={common:{diffuse:{type:"c",value:new o.Color(15658734)},opacity:{type:"f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new o.Vector4(0,0,1,1)},specularMap:{type:"t",value:null},alphaMap:{type:"t",value:null},envMap:{type:"t",value:null},flipEnvMap:{type:"f",value:-1},reflectivity:{type:"f",value:1},refractionRatio:{type:"f",value:.98}},aomap:{aoMap:{type:"t",value:null},aoMapIntensity:{type:"f",value:1}},lightmap:{lightMap:{type:"t",value:null},lightMapIntensity:{type:"f",value:1}},emissivemap:{emissiveMap:{type:"t",value:null}},bumpmap:{bumpMap:{type:"t",value:null},bumpScale:{type:"f",value:1}},normalmap:{normalMap:{type:"t",value:null},normalScale:{type:"v2",value:new o.Vector2(1,1)}},displacementmap:{displacementMap:{type:"t",value:null},displacementScale:{type:"f",value:1},displacementBias:{type:"f",value:0}},fog:{fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new o.Color(16777215)}},lights:{ambientLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]},directionalLightColor:{type:"fv",value:[]},hemisphereLightDirection:{type:"fv",value:[]},hemisphereLightSkyColor:{type:"fv",value:[]},hemisphereLightGroundColor:{type:"fv",value:[]},pointLightColor:{type:"fv",value:[]},pointLightPosition:{type:"fv",value:[]},pointLightDistance:{type:"fv1",value:[]},pointLightDecay:{type:"fv1",value:[]},spotLightColor:{type:"fv",value:[]},spotLightPosition:{type:"fv",value:[]},spotLightDirection:{type:"fv",value:[]},spotLightDistance:{type:"fv1",value:[]},spotLightAngleCos:{type:"fv1",value:[]},spotLightExponent:{type:"fv1",value:[]},spotLightDecay:{type:"fv1",value:[]}},points:{psColor:{type:"c",value:new o.Color(15658734)},opacity:{type:"f",value:1},size:{type:"f",value:1},scale:{type:"f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new o.Vector4(0,0,1,1)},fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new o.Color(16777215)}},shadowmap:{shadowMap:{type:"tv",value:[]},shadowMapSize:{type:"v2v",value:[]},shadowBias:{type:"fv1",value:[]},shadowDarkness:{type:"fv1",value:[]},shadowMatrix:{type:"m4v",value:[]}}},o.ShaderLib={basic:{uniforms:o.UniformsUtils.merge([o.UniformsLib.common,o.UniformsLib.aomap,o.UniformsLib.fog,o.UniformsLib.shadowmap]),vertexShader:[o.ShaderChunk.common,o.ShaderChunk.uv_pars_vertex,o.ShaderChunk.uv2_pars_vertex,o.ShaderChunk.envmap_pars_vertex,o.ShaderChunk.color_pars_vertex,o.ShaderChunk.morphtarget_pars_vertex,o.ShaderChunk.skinning_pars_vertex,o.ShaderChunk.shadowmap_pars_vertex,o.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",o.ShaderChunk.uv_vertex,o.ShaderChunk.uv2_vertex,o.ShaderChunk.color_vertex,o.ShaderChunk.skinbase_vertex,"\t#ifdef USE_ENVMAP",o.ShaderChunk.beginnormal_vertex,o.ShaderChunk.morphnormal_vertex,o.ShaderChunk.skinnormal_vertex,o.ShaderChunk.defaultnormal_vertex,"\t#endif",o.ShaderChunk.begin_vertex,o.ShaderChunk.morphtarget_vertex,o.ShaderChunk.skinning_vertex,o.ShaderChunk.project_vertex,o.ShaderChunk.logdepthbuf_vertex,o.ShaderChunk.worldpos_vertex,o.ShaderChunk.envmap_vertex,o.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;",o.ShaderChunk.common,o.ShaderChunk.color_pars_fragment,o.ShaderChunk.uv_pars_fragment,o.ShaderChunk.uv2_pars_fragment,o.ShaderChunk.map_pars_fragment,o.ShaderChunk.alphamap_pars_fragment,o.ShaderChunk.aomap_pars_fragment,o.ShaderChunk.envmap_pars_fragment,o.ShaderChunk.fog_pars_fragment,o.ShaderChunk.shadowmap_pars_fragment,o.ShaderChunk.specularmap_pars_fragment,o.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tvec3 outgoingLight = vec3( 0.0 );","\tvec4 diffuseColor = vec4( diffuse, opacity );","\tvec3 totalAmbientLight = vec3( 1.0 );","\tvec3 shadowMask = vec3( 1.0 );",o.ShaderChunk.logdepthbuf_fragment,o.ShaderChunk.map_fragment,o.ShaderChunk.color_fragment,o.ShaderChunk.alphamap_fragment,o.ShaderChunk.alphatest_fragment,o.ShaderChunk.specularmap_fragment,o.ShaderChunk.aomap_fragment,o.ShaderChunk.shadowmap_fragment,"\toutgoingLight = diffuseColor.rgb * totalAmbientLight * shadowMask;",o.ShaderChunk.envmap_fragment,o.ShaderChunk.linear_to_gamma_fragment,o.ShaderChunk.fog_fragment,"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},lambert:{uniforms:o.UniformsUtils.merge([o.UniformsLib.common,o.UniformsLib.fog,o.UniformsLib.lights,o.UniformsLib.shadowmap,{emissive:{type:"c",value:new o.Color(0)}}]),vertexShader:["#define LAMBERT","varying vec3 vLightFront;","#ifdef DOUBLE_SIDED","\tvarying vec3 vLightBack;","#endif",o.ShaderChunk.common,o.ShaderChunk.uv_pars_vertex,o.ShaderChunk.uv2_pars_vertex,o.ShaderChunk.envmap_pars_vertex,o.ShaderChunk.lights_lambert_pars_vertex,o.ShaderChunk.color_pars_vertex,o.ShaderChunk.morphtarget_pars_vertex,o.ShaderChunk.skinning_pars_vertex,o.ShaderChunk.shadowmap_pars_vertex,o.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",o.ShaderChunk.uv_vertex,o.ShaderChunk.uv2_vertex,o.ShaderChunk.color_vertex,o.ShaderChunk.beginnormal_vertex,o.ShaderChunk.morphnormal_vertex,o.ShaderChunk.skinbase_vertex,o.ShaderChunk.skinnormal_vertex,o.ShaderChunk.defaultnormal_vertex,o.ShaderChunk.begin_vertex,o.ShaderChunk.morphtarget_vertex,o.ShaderChunk.skinning_vertex,o.ShaderChunk.project_vertex,o.ShaderChunk.logdepthbuf_vertex,o.ShaderChunk.worldpos_vertex,o.ShaderChunk.envmap_vertex,o.ShaderChunk.lights_lambert_vertex,o.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform vec3 emissive;","uniform float opacity;","uniform vec3 ambientLightColor;","varying vec3 vLightFront;","#ifdef DOUBLE_SIDED","\tvarying vec3 vLightBack;","#endif",o.ShaderChunk.common,o.ShaderChunk.color_pars_fragment,o.ShaderChunk.uv_pars_fragment,o.ShaderChunk.uv2_pars_fragment,o.ShaderChunk.map_pars_fragment,o.ShaderChunk.alphamap_pars_fragment,o.ShaderChunk.envmap_pars_fragment,o.ShaderChunk.fog_pars_fragment,o.ShaderChunk.shadowmap_pars_fragment,o.ShaderChunk.specularmap_pars_fragment,o.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tvec3 outgoingLight = vec3( 0.0 );","\tvec4 diffuseColor = vec4( diffuse, opacity );","\tvec3 totalAmbientLight = ambientLightColor;","\tvec3 shadowMask = vec3( 1.0 );",o.ShaderChunk.logdepthbuf_fragment,o.ShaderChunk.map_fragment,o.ShaderChunk.color_fragment,o.ShaderChunk.alphamap_fragment,o.ShaderChunk.alphatest_fragment,o.ShaderChunk.specularmap_fragment,o.ShaderChunk.shadowmap_fragment,"\t#ifdef DOUBLE_SIDED","\t\tif ( gl_FrontFacing )","\t\t\toutgoingLight += diffuseColor.rgb * ( vLightFront * shadowMask + totalAmbientLight ) + emissive;","\t\telse","\t\t\toutgoingLight += diffuseColor.rgb * ( vLightBack * shadowMask + totalAmbientLight ) + emissive;","\t#else","\t\toutgoingLight += diffuseColor.rgb * ( vLightFront * shadowMask + totalAmbientLight ) + emissive;","\t#endif",o.ShaderChunk.envmap_fragment,o.ShaderChunk.linear_to_gamma_fragment,o.ShaderChunk.fog_fragment,"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},phong:{uniforms:o.UniformsUtils.merge([o.UniformsLib.common,o.UniformsLib.aomap,o.UniformsLib.lightmap,o.UniformsLib.emissivemap,o.UniformsLib.bumpmap,o.UniformsLib.normalmap,o.UniformsLib.displacementmap,o.UniformsLib.fog,o.UniformsLib.lights,o.UniformsLib.shadowmap,{emissive:{type:"c",value:new o.Color(0)},specular:{type:"c",value:new o.Color(1118481)},shininess:{type:"f",value:30}}]),vertexShader:["#define PHONG","varying vec3 vViewPosition;","#ifndef FLAT_SHADED","\tvarying vec3 vNormal;","#endif",o.ShaderChunk.common,o.ShaderChunk.uv_pars_vertex,o.ShaderChunk.uv2_pars_vertex,o.ShaderChunk.displacementmap_pars_vertex,o.ShaderChunk.envmap_pars_vertex,o.ShaderChunk.lights_phong_pars_vertex,o.ShaderChunk.color_pars_vertex,o.ShaderChunk.morphtarget_pars_vertex,o.ShaderChunk.skinning_pars_vertex,o.ShaderChunk.shadowmap_pars_vertex,o.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",o.ShaderChunk.uv_vertex,o.ShaderChunk.uv2_vertex,o.ShaderChunk.color_vertex,o.ShaderChunk.beginnormal_vertex,o.ShaderChunk.morphnormal_vertex,o.ShaderChunk.skinbase_vertex,o.ShaderChunk.skinnormal_vertex,o.ShaderChunk.defaultnormal_vertex,"#ifndef FLAT_SHADED","\tvNormal = normalize( transformedNormal );","#endif",o.ShaderChunk.begin_vertex,o.ShaderChunk.displacementmap_vertex,o.ShaderChunk.morphtarget_vertex,o.ShaderChunk.skinning_vertex,o.ShaderChunk.project_vertex,o.ShaderChunk.logdepthbuf_vertex,"\tvViewPosition = - mvPosition.xyz;",o.ShaderChunk.worldpos_vertex,o.ShaderChunk.envmap_vertex,o.ShaderChunk.lights_phong_vertex,o.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["#define PHONG","uniform vec3 diffuse;","uniform vec3 emissive;","uniform vec3 specular;","uniform float shininess;","uniform float opacity;",o.ShaderChunk.common,o.ShaderChunk.color_pars_fragment,o.ShaderChunk.uv_pars_fragment,o.ShaderChunk.uv2_pars_fragment,o.ShaderChunk.map_pars_fragment,o.ShaderChunk.alphamap_pars_fragment,o.ShaderChunk.aomap_pars_fragment,o.ShaderChunk.lightmap_pars_fragment,o.ShaderChunk.emissivemap_pars_fragment,o.ShaderChunk.envmap_pars_fragment,o.ShaderChunk.fog_pars_fragment,o.ShaderChunk.lights_phong_pars_fragment,o.ShaderChunk.shadowmap_pars_fragment,o.ShaderChunk.bumpmap_pars_fragment,o.ShaderChunk.normalmap_pars_fragment,o.ShaderChunk.specularmap_pars_fragment,o.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tvec3 outgoingLight = vec3( 0.0 );","\tvec4 diffuseColor = vec4( diffuse, opacity );","\tvec3 totalAmbientLight = ambientLightColor;","\tvec3 totalEmissiveLight = emissive;","\tvec3 shadowMask = vec3( 1.0 );",o.ShaderChunk.logdepthbuf_fragment,o.ShaderChunk.map_fragment,o.ShaderChunk.color_fragment,o.ShaderChunk.alphamap_fragment,o.ShaderChunk.alphatest_fragment,o.ShaderChunk.specularmap_fragment,o.ShaderChunk.normal_phong_fragment,o.ShaderChunk.lightmap_fragment,o.ShaderChunk.hemilight_fragment,o.ShaderChunk.aomap_fragment,o.ShaderChunk.emissivemap_fragment,o.ShaderChunk.lights_phong_fragment,o.ShaderChunk.shadowmap_fragment,"totalDiffuseLight *= shadowMask;","totalSpecularLight *= shadowMask;","#ifdef METAL","\toutgoingLight += diffuseColor.rgb * ( totalDiffuseLight + totalAmbientLight ) * specular + totalSpecularLight + totalEmissiveLight;","#else","\toutgoingLight += diffuseColor.rgb * ( totalDiffuseLight + totalAmbientLight ) + totalSpecularLight + totalEmissiveLight;","#endif",o.ShaderChunk.envmap_fragment,o.ShaderChunk.linear_to_gamma_fragment,o.ShaderChunk.fog_fragment,"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},points:{uniforms:o.UniformsUtils.merge([o.UniformsLib.points,o.UniformsLib.shadowmap]),vertexShader:["uniform float size;","uniform float scale;",o.ShaderChunk.common,o.ShaderChunk.color_pars_vertex,o.ShaderChunk.shadowmap_pars_vertex,o.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",o.ShaderChunk.color_vertex,"\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","\t#ifdef USE_SIZEATTENUATION","\t\tgl_PointSize = size * ( scale / length( mvPosition.xyz ) );","\t#else","\t\tgl_PointSize = size;","\t#endif","\tgl_Position = projectionMatrix * mvPosition;",o.ShaderChunk.logdepthbuf_vertex,o.ShaderChunk.worldpos_vertex,o.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 psColor;","uniform float opacity;",o.ShaderChunk.common,o.ShaderChunk.color_pars_fragment,o.ShaderChunk.map_particle_pars_fragment,o.ShaderChunk.fog_pars_fragment,o.ShaderChunk.shadowmap_pars_fragment,o.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tvec3 outgoingLight = vec3( 0.0 );","\tvec4 diffuseColor = vec4( psColor, opacity );","\tvec3 shadowMask = vec3( 1.0 );",o.ShaderChunk.logdepthbuf_fragment,o.ShaderChunk.map_particle_fragment,o.ShaderChunk.color_fragment,o.ShaderChunk.alphatest_fragment,o.ShaderChunk.shadowmap_fragment,"\toutgoingLight = diffuseColor.rgb * shadowMask;",o.ShaderChunk.fog_fragment,"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},dashed:{uniforms:o.UniformsUtils.merge([o.UniformsLib.common,o.UniformsLib.fog,{scale:{type:"f",value:1},dashSize:{type:"f",value:1},totalSize:{type:"f",value:2}}]),vertexShader:["uniform float scale;","attribute float lineDistance;","varying float vLineDistance;",o.ShaderChunk.common,o.ShaderChunk.color_pars_vertex,o.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",o.ShaderChunk.color_vertex,"\tvLineDistance = scale * lineDistance;","\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","\tgl_Position = projectionMatrix * mvPosition;",o.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;","uniform float dashSize;","uniform float totalSize;","varying float vLineDistance;",o.ShaderChunk.common,o.ShaderChunk.color_pars_fragment,o.ShaderChunk.fog_pars_fragment,o.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tif ( mod( vLineDistance, totalSize ) > dashSize ) {","\t\tdiscard;","\t}","\tvec3 outgoingLight = vec3( 0.0 );","\tvec4 diffuseColor = vec4( diffuse, opacity );",o.ShaderChunk.logdepthbuf_fragment,o.ShaderChunk.color_fragment,"\toutgoingLight = diffuseColor.rgb;",o.ShaderChunk.fog_fragment,"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},depth:{uniforms:{mNear:{type:"f",value:1},mFar:{type:"f",value:2e3},opacity:{type:"f",value:1}},vertexShader:[o.ShaderChunk.common,o.ShaderChunk.morphtarget_pars_vertex,o.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",o.ShaderChunk.begin_vertex,o.ShaderChunk.morphtarget_vertex,o.ShaderChunk.project_vertex,o.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform float mNear;","uniform float mFar;","uniform float opacity;",o.ShaderChunk.common,o.ShaderChunk.logdepthbuf_pars_fragment,"void main() {",o.ShaderChunk.logdepthbuf_fragment,"\t#ifdef USE_LOGDEPTHBUF_EXT","\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;","\t#else","\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;","\t#endif","\tfloat color = 1.0 - smoothstep( mNear, mFar, depth );","\tgl_FragColor = vec4( vec3( color ), opacity );","}"].join("\n")},normal:{uniforms:{opacity:{type:"f",value:1}},vertexShader:["varying vec3 vNormal;",o.ShaderChunk.common,o.ShaderChunk.morphtarget_pars_vertex,o.ShaderChunk.logdepthbuf_pars_vertex,"void main() {","\tvNormal = normalize( normalMatrix * normal );",o.ShaderChunk.begin_vertex,o.ShaderChunk.morphtarget_vertex,o.ShaderChunk.project_vertex,o.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform float opacity;","varying vec3 vNormal;",o.ShaderChunk.common,o.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tgl_FragColor = vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );",o.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")},cube:{uniforms:{tCube:{type:"t",value:null},tFlip:{type:"f",value:-1}},vertexShader:["varying vec3 vWorldPosition;",o.ShaderChunk.common,o.ShaderChunk.logdepthbuf_pars_vertex,"void main() {","\tvWorldPosition = transformDirection( position, modelMatrix );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );",o.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform samplerCube tCube;","uniform float tFlip;","varying vec3 vWorldPosition;",o.ShaderChunk.common,o.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );",o.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")},equirect:{uniforms:{tEquirect:{type:"t",value:null},tFlip:{type:"f",value:-1}},vertexShader:["varying vec3 vWorldPosition;",o.ShaderChunk.common,o.ShaderChunk.logdepthbuf_pars_vertex,"void main() {","\tvWorldPosition = transformDirection( position, modelMatrix );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );",o.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform sampler2D tEquirect;","uniform float tFlip;","varying vec3 vWorldPosition;",o.ShaderChunk.common,o.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","vec3 direction = normalize( vWorldPosition );","vec2 sampleUV;","sampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );","sampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;","gl_FragColor = texture2D( tEquirect, sampleUV );",o.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")},depthRGBA:{uniforms:{},vertexShader:[o.ShaderChunk.common,o.ShaderChunk.morphtarget_pars_vertex,o.ShaderChunk.skinning_pars_vertex,o.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",o.ShaderChunk.skinbase_vertex,o.ShaderChunk.begin_vertex,o.ShaderChunk.morphtarget_vertex,o.ShaderChunk.skinning_vertex,o.ShaderChunk.project_vertex,o.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:[o.ShaderChunk.common,o.ShaderChunk.logdepthbuf_pars_fragment,"vec4 pack_depth( const in float depth ) {","\tconst vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );","\tconst vec4 bit_mask = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );","\tvec4 res = mod( depth * bit_shift * vec4( 255 ), vec4( 256 ) ) / vec4( 255 );","\tres -= res.xxyz * bit_mask;","\treturn res;","}","void main() {",o.ShaderChunk.logdepthbuf_fragment,"\t#ifdef USE_LOGDEPTHBUF_EXT","\t\tgl_FragData[ 0 ] = pack_depth( gl_FragDepthEXT );","\t#else","\t\tgl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );","\t#endif","}"].join("\n")},distanceRGBA:{uniforms:{lightPos:{type:"v3",value:new o.Vector3(0,0,0)}},vertexShader:["varying vec4 vWorldPosition;",o.ShaderChunk.common,o.ShaderChunk.morphtarget_pars_vertex,o.ShaderChunk.skinning_pars_vertex,"void main() {",o.ShaderChunk.skinbase_vertex,o.ShaderChunk.begin_vertex,o.ShaderChunk.morphtarget_vertex,o.ShaderChunk.skinning_vertex,o.ShaderChunk.project_vertex,o.ShaderChunk.worldpos_vertex,"vWorldPosition = worldPosition;","}"].join("\n"),fragmentShader:["uniform vec3 lightPos;","varying vec4 vWorldPosition;",o.ShaderChunk.common,"vec4 pack1K ( float depth ) {","   depth /= 1000.0;","   const vec4 bitSh = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );","\tconst vec4 bitMsk = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );","\tvec4 res = fract( depth * bitSh );","\tres -= res.xxyz * bitMsk;","\treturn res; ","}","float unpack1K ( vec4 color ) {","\tconst vec4 bitSh = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );","\treturn dot( color, bitSh ) * 1000.0;","}","void main () {","\tgl_FragColor = pack1K( length( vWorldPosition.xyz - lightPos.xyz ) );","}"].join("\n")}},o.WebGLRenderer=function(e){function t(e,t,i,r){!0===ae&&(e*=r,t*=r,i*=r),Ue.clearColor(e,t,i,r)}function i(){Ge.init(),Ue.viewport(Se,Me,Ce,Ae),t(he.r,he.g,he.b,ce)}function r(){be=null,Te=null,_e="",we=-1,Oe=!0,Ge.reset()}function n(e){e.preventDefault(),r(),i(),Ve.clear()}function a(e){var t=e.target;t.removeEventListener("dispose",a),c(t),Be.textures--}function s(e){var t=e.target;t.removeEventListener("dispose",s),l(t),Be.textures--}function h(e){var t=e.target;t.removeEventListener("dispose",h),u(t)}function c(e){var t=Ve.get(e);if(e.image&&t.__image__webglTextureCube)Ue.deleteTexture(t.__image__webglTextureCube);else{if(void 0===t.__webglInit)return;Ue.deleteTexture(t.__webglTexture)}Ve.delete(e)}function l(e){var t=Ve.get(e),i=Ve.get(e.texture);if(e&&void 0!==i.__webglTexture){if(Ue.deleteTexture(i.__webglTexture),e instanceof o.WebGLRenderTargetCube)for(var r=0;r<6;r++)Ue.deleteFramebuffer(t.__webglFramebuffer[r]),Ue.deleteRenderbuffer(t.__webglRenderbuffer[r]);else Ue.deleteFramebuffer(t.__webglFramebuffer),Ue.deleteRenderbuffer(t.__webglRenderbuffer);Ve.delete(e.texture),Ve.delete(e)}}function u(e){d(e),Ve.delete(e)}function d(e){var t=Ve.get(e).program;e.program=void 0,void 0!==t&&Ye.releaseProgram(t)}function f(e,t,i,r){var n;if(i instanceof o.InstancedBufferGeometry&&null===(n=je.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");void 0===r&&(r=0),Ge.initAttributes();var a=i.attributes,s=t.getAttributes(),h=e.defaultAttributeValues;for(var c in s){var l=s[c];if(l>=0){var u=a[c];if(void 0!==u){var d=u.itemSize,f=Xe.getAttributeBuffer(u);if(u instanceof o.InterleavedBufferAttribute){var p=u.data,m=p.stride,v=u.offset;p instanceof o.InstancedInterleavedBuffer?(Ge.enableAttributeAndDivisor(l,p.meshPerAttribute,n),void 0===i.maxInstancedCount&&(i.maxInstancedCount=p.meshPerAttribute*p.count)):Ge.enableAttribute(l),Ue.bindBuffer(Ue.ARRAY_BUFFER,f),Ue.vertexAttribPointer(l,d,Ue.FLOAT,!1,m*p.array.BYTES_PER_ELEMENT,(r*m+v)*p.array.BYTES_PER_ELEMENT)}else u instanceof o.InstancedBufferAttribute?(Ge.enableAttributeAndDivisor(l,u.meshPerAttribute,n),void 0===i.maxInstancedCount&&(i.maxInstancedCount=u.meshPerAttribute*u.count)):Ge.enableAttribute(l),Ue.bindBuffer(Ue.ARRAY_BUFFER,f),Ue.vertexAttribPointer(l,d,Ue.FLOAT,!1,0,r*d*4)}else if(void 0!==h){var y=h[c];if(void 0!==y)switch(y.length){case 2:Ue.vertexAttrib2fv(l,y);break;case 3:Ue.vertexAttrib3fv(l,y);break;case 4:Ue.vertexAttrib4fv(l,y);break;default:Ue.vertexAttrib1fv(l,y)}}}}Ge.disableUnusedAttributes()}function p(e,t){return t[0]-e[0]}function m(e,t){return e.object.renderOrder!==t.object.renderOrder?e.object.renderOrder-t.object.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function v(e,t){return e.object.renderOrder!==t.object.renderOrder?e.object.renderOrder-t.object.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function y(e,t,i,r,n){var o,a;i.transparent?(o=fe,a=++pe):(o=ue,a=++de);var s=o[a];void 0!==s?(s.id=e.id,s.object=e,s.geometry=t,s.material=i,s.z=Re.z,s.group=n):(s={id:e.id,object:e,geometry:t,material:i,z:Re.z,group:n},o.push(s))}function g(e,t){if(!1!==e.visible){if(0!=(e.channels.mask&t.channels.mask))if(e instanceof o.Light)le.push(e);else if(e instanceof o.Sprite)ve.push(e);else if(e instanceof o.LensFlare)ye.push(e);else if(e instanceof o.ImmediateRenderObject)!0===ge.sortObjects&&(Re.setFromMatrixPosition(e.matrixWorld),Re.applyProjection(Pe)),y(e,null,e.material,Re.z,null);else if((e instanceof o.Mesh||e instanceof o.Line||e instanceof o.Points)&&(e instanceof o.SkinnedMesh&&e.skeleton.update(),!1===e.frustumCulled||!0===Ie.intersectsObject(e))){var i=e.material;if(!0===i.visible){!0===ge.sortObjects&&(Re.setFromMatrixPosition(e.matrixWorld),Re.applyProjection(Pe));var r=Xe.update(e);if(i instanceof o.MeshFaceMaterial)for(var n=r.groups,a=i.materials,s=0,h=n.length;s<h;s++){var c=n[s],l=a[c.materialIndex];!0===l.visible&&y(e,r,l,Re.z,c)}else y(e,r,i,Re.z,null)}}for(var u=e.children,s=0,h=u.length;s<h;s++)g(u[s],t)}}function b(e,t,i,r,n){for(var a=0,s=e.length;a<s;a++){var h=e[a],c=h.object,l=h.geometry,u=void 0===n?h.material:n,d=h.group;if(c.modelViewMatrix.multiplyMatrices(t.matrixWorldInverse,c.matrixWorld),c.normalMatrix.getNormalMatrix(c.modelViewMatrix),c instanceof o.ImmediateRenderObject){w(u);var f=T(t,i,r,u,c);_e="",c.render(function(e){ge.renderBufferImmediate(e,f,u)})}else ge.renderBufferDirect(t,i,r,l,u,c,d)}}function x(e,t,i,r){var n=Ve.get(e),a=Ye.getParameters(e,t,i,r),s=Ye.getProgramCode(e,a),c=n.program,l=!0;if(void 0===c)e.addEventListener("dispose",h);else if(c.code!==s)d(e);else{if(void 0!==a.shaderID)return;l=!1}if(l){if(a.shaderID){var u=o.ShaderLib[a.shaderID];n.__webglShader={name:e.type,uniforms:o.UniformsUtils.clone(u.uniforms),vertexShader:u.vertexShader,fragmentShader:u.fragmentShader}}else n.__webglShader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.__webglShader=n.__webglShader,c=Ye.acquireProgram(e,a,s),n.program=c,e.program=c}var f=c.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var p=0;p<ge.maxMorphTargets;p++)f["morphTarget"+p]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals)for(e.numSupportedMorphNormals=0,p=0;p<ge.maxMorphNormals;p++)f["morphNormal"+p]>=0&&e.numSupportedMorphNormals++;n.uniformsList=[];var m=n.program.getUniforms();for(var v in n.__webglShader.uniforms){var y=m[v];y&&n.uniformsList.push([n.__webglShader.uniforms[v],y])}}function w(e){_(e),!0===e.transparent?Ge.setBlending(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha):Ge.setBlending(o.NoBlending),Ge.setDepthFunc(e.depthFunc),Ge.setDepthTest(e.depthTest),Ge.setDepthWrite(e.depthWrite),Ge.setColorWrite(e.colorWrite),Ge.setPolygonOffset(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)}function _(e){e.side!==o.DoubleSide?Ge.enable(Ue.CULL_FACE):Ge.disable(Ue.CULL_FACE),Ge.setFlipSided(e.side===o.BackSide)}function T(e,t,i,r,n){Ee=0;var a=Ve.get(r);!r.needsUpdate&&a.program||(x(r,t,i,n),r.needsUpdate=!1);var s=!1,h=!1,c=!1,l=a.program,u=l.getUniforms(),d=a.__webglShader.uniforms;if(l.id!==be&&(Ue.useProgram(l.program),be=l.id,s=!0,h=!0,c=!0),r.id!==we&&(-1===we&&(c=!0),we=r.id,h=!0),(s||e!==Te)&&(Ue.uniformMatrix4fv(u.projectionMatrix,!1,e.projectionMatrix.elements),ze.logarithmicDepthBuffer&&Ue.uniform1f(u.logDepthBufFC,2/(Math.log(e.far+1)/Math.LN2)),e!==Te&&(Te=e),(r instanceof o.ShaderMaterial||r instanceof o.MeshPhongMaterial||r.envMap)&&void 0!==u.cameraPosition&&(Re.setFromMatrixPosition(e.matrixWorld),Ue.uniform3f(u.cameraPosition,Re.x,Re.y,Re.z)),(r instanceof o.MeshPhongMaterial||r instanceof o.MeshLambertMaterial||r instanceof o.MeshBasicMaterial||r instanceof o.ShaderMaterial||r.skinning)&&void 0!==u.viewMatrix&&Ue.uniformMatrix4fv(u.viewMatrix,!1,e.matrixWorldInverse.elements)),r.skinning)if(n.bindMatrix&&void 0!==u.bindMatrix&&Ue.uniformMatrix4fv(u.bindMatrix,!1,n.bindMatrix.elements),n.bindMatrixInverse&&void 0!==u.bindMatrixInverse&&Ue.uniformMatrix4fv(u.bindMatrixInverse,!1,n.bindMatrixInverse.elements),ze.floatVertexTextures&&n.skeleton&&n.skeleton.useVertexTexture){if(void 0!==u.boneTexture){var f=F();Ue.uniform1i(u.boneTexture,f),ge.setTexture(n.skeleton.boneTexture,f)}void 0!==u.boneTextureWidth&&Ue.uniform1i(u.boneTextureWidth,n.skeleton.boneTextureWidth),void 0!==u.boneTextureHeight&&Ue.uniform1i(u.boneTextureHeight,n.skeleton.boneTextureHeight)}else n.skeleton&&n.skeleton.boneMatrices&&void 0!==u.boneGlobalMatrices&&Ue.uniformMatrix4fv(u.boneGlobalMatrices,!1,n.skeleton.boneMatrices);return h&&(i&&r.fog&&A(d,i),(r instanceof o.MeshPhongMaterial||r instanceof o.MeshLambertMaterial||r.lights)&&(Oe&&(c=!0,B(t,e),Oe=!1),c?(k(d,Le),I(d,!0)):I(d,!1)),(r instanceof o.MeshBasicMaterial||r instanceof o.MeshLambertMaterial||r instanceof o.MeshPhongMaterial)&&E(d,r),r instanceof o.LineBasicMaterial?S(d,r):r instanceof o.LineDashedMaterial?(S(d,r),M(d,r)):r instanceof o.PointsMaterial?C(d,r):r instanceof o.MeshPhongMaterial?D(d,r):r instanceof o.MeshDepthMaterial?(d.mNear.value=e.near,d.mFar.value=e.far,d.opacity.value=r.opacity):r instanceof o.MeshNormalMaterial&&(d.opacity.value=r.opacity),n.receiveShadow&&!r._shadowPass&&P(d,t,e),O(a.uniformsList)),R(u,n),void 0!==u.modelMatrix&&Ue.uniformMatrix4fv(u.modelMatrix,!1,n.matrixWorld.elements),l}function E(e,t){e.opacity.value=t.opacity,e.diffuse.value=t.color,t.emissive&&(e.emissive.value=t.emissive),e.map.value=t.map,e.specularMap.value=t.specularMap,e.alphaMap.value=t.alphaMap,t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity);var i;if(t.map?i=t.map:t.specularMap?i=t.specularMap:t.displacementMap?i=t.displacementMap:t.normalMap?i=t.normalMap:t.bumpMap?i=t.bumpMap:t.alphaMap?i=t.alphaMap:t.emissiveMap&&(i=t.emissiveMap),void 0!==i){i instanceof o.WebGLRenderTarget&&(i=i.texture);var r=i.offset,n=i.repeat;e.offsetRepeat.value.set(r.x,r.y,n.x,n.y)}e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap instanceof o.WebGLRenderTargetCube?1:-1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio}function S(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity}function M(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}function C(e,t){if(e.psColor.value=t.color,e.opacity.value=t.opacity,e.size.value=t.size,e.scale.value=Z.height/2,e.map.value=t.map,null!==t.map){var i=t.map.offset,r=t.map.repeat;e.offsetRepeat.value.set(i.x,i.y,r.x,r.y)}}function A(e,t){e.fogColor.value=t.color,t instanceof o.Fog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t instanceof o.FogExp2&&(e.fogDensity.value=t.density)}function D(e,t){e.specular.value=t.specular,e.shininess.value=Math.max(t.shininess,1e-4),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function k(e,t){e.ambientLightColor.value=t.ambient,e.directionalLightColor.value=t.directional.colors,e.directionalLightDirection.value=t.directional.positions,e.pointLightColor.value=t.point.colors,e.pointLightPosition.value=t.point.positions,e.pointLightDistance.value=t.point.distances,e.pointLightDecay.value=t.point.decays,e.spotLightColor.value=t.spot.colors,e.spotLightPosition.value=t.spot.positions,e.spotLightDistance.value=t.spot.distances,e.spotLightDirection.value=t.spot.directions,e.spotLightAngleCos.value=t.spot.anglesCos,e.spotLightExponent.value=t.spot.exponents,e.spotLightDecay.value=t.spot.decays,e.hemisphereLightSkyColor.value=t.hemi.skyColors,e.hemisphereLightGroundColor.value=t.hemi.groundColors,e.hemisphereLightDirection.value=t.hemi.positions}function I(e,t){e.ambientLightColor.needsUpdate=t,e.directionalLightColor.needsUpdate=t,e.directionalLightDirection.needsUpdate=t,e.pointLightColor.needsUpdate=t,e.pointLightPosition.needsUpdate=t,e.pointLightDistance.needsUpdate=t,e.pointLightDecay.needsUpdate=t,e.spotLightColor.needsUpdate=t,e.spotLightPosition.needsUpdate=t,e.spotLightDistance.needsUpdate=t,e.spotLightDirection.needsUpdate=t,e.spotLightAngleCos.needsUpdate=t,e.spotLightExponent.needsUpdate=t,e.spotLightDecay.needsUpdate=t,e.hemisphereLightSkyColor.needsUpdate=t,e.hemisphereLightGroundColor.needsUpdate=t,e.hemisphereLightDirection.needsUpdate=t}function P(e,t,i){if(e.shadowMatrix)for(var r=0,n=0,a=t.length;n<a;n++){var s=t[n];if(!0===s.castShadow&&(s instanceof o.PointLight||s instanceof o.SpotLight||s instanceof o.DirectionalLight)){var h=s.shadow;s instanceof o.PointLight?(Re.setFromMatrixPosition(s.matrixWorld).negate(),h.matrix.identity().setPosition(Re),e.shadowDarkness.value[r]=-h.darkness):e.shadowDarkness.value[r]=h.darkness,e.shadowMatrix.value[r]=h.matrix,e.shadowMap.value[r]=h.map,e.shadowMapSize.value[r]=h.mapSize,e.shadowBias.value[r]=h.bias,r++}}}function R(e,t){Ue.uniformMatrix4fv(e.modelViewMatrix,!1,t.modelViewMatrix.elements),e.normalMatrix&&Ue.uniformMatrix3fv(e.normalMatrix,!1,t.normalMatrix.elements)}function F(){var e=Ee;return e>=ze.maxTextures&&console.warn("WebGLRenderer: trying to use "+e+" texture units while this GPU supports only "+ze.maxTextures),Ee+=1,e}function O(e){for(var t,i,r=0,n=e.length;r<n;r++){var a=e[r][0];if(!1!==a.needsUpdate){var s=a.type,h=a.value,c=e[r][1];switch(s){case"1i":Ue.uniform1i(c,h);break;case"1f":Ue.uniform1f(c,h);break;case"2f":Ue.uniform2f(c,h[0],h[1]);break;case"3f":Ue.uniform3f(c,h[0],h[1],h[2]);break;case"4f":Ue.uniform4f(c,h[0],h[1],h[2],h[3]);break;case"1iv":Ue.uniform1iv(c,h);break;case"3iv":Ue.uniform3iv(c,h);break;case"1fv":Ue.uniform1fv(c,h);break;case"2fv":Ue.uniform2fv(c,h);break;case"3fv":Ue.uniform3fv(c,h);break;case"4fv":Ue.uniform4fv(c,h);break;case"Matrix3fv":Ue.uniformMatrix3fv(c,!1,h);break;case"Matrix4fv":Ue.uniformMatrix4fv(c,!1,h);break;case"i":Ue.uniform1i(c,h);break;case"f":Ue.uniform1f(c,h);break;case"v2":Ue.uniform2f(c,h.x,h.y);break;case"v3":Ue.uniform3f(c,h.x,h.y,h.z);break;case"v4":Ue.uniform4f(c,h.x,h.y,h.z,h.w);break;case"c":Ue.uniform3f(c,h.r,h.g,h.b);break;case"iv1":Ue.uniform1iv(c,h);break;case"iv":Ue.uniform3iv(c,h);break;case"fv1":Ue.uniform1fv(c,h);break;case"fv":Ue.uniform3fv(c,h);break;case"v2v":void 0===a._array&&(a._array=new Float32Array(2*h.length));for(var l=0,u=0,d=h.length;l<d;l++,u+=2)a._array[u+0]=h[l].x,a._array[u+1]=h[l].y;Ue.uniform2fv(c,a._array);break;case"v3v":void 0===a._array&&(a._array=new Float32Array(3*h.length));for(var l=0,f=0,d=h.length;l<d;l++,f+=3)a._array[f+0]=h[l].x,a._array[f+1]=h[l].y,a._array[f+2]=h[l].z;Ue.uniform3fv(c,a._array);break;case"v4v":void 0===a._array&&(a._array=new Float32Array(4*h.length));for(var l=0,p=0,d=h.length;l<d;l++,p+=4)a._array[p+0]=h[l].x,a._array[p+1]=h[l].y,a._array[p+2]=h[l].z,a._array[p+3]=h[l].w;Ue.uniform4fv(c,a._array);break;case"m3":Ue.uniformMatrix3fv(c,!1,h.elements);break;case"m3v":void 0===a._array&&(a._array=new Float32Array(9*h.length));for(var l=0,d=h.length;l<d;l++)h[l].flattenToArrayOffset(a._array,9*l);Ue.uniformMatrix3fv(c,!1,a._array);break;case"m4":Ue.uniformMatrix4fv(c,!1,h.elements);break;case"m4v":void 0===a._array&&(a._array=new Float32Array(16*h.length));for(var l=0,d=h.length;l<d;l++)h[l].flattenToArrayOffset(a._array,16*l);Ue.uniformMatrix4fv(c,!1,a._array);break;case"t":if(t=h,i=F(),Ue.uniform1i(c,i),!t)continue;t instanceof o.CubeTexture||Array.isArray(t.image)&&6===t.image.length?V(t,i):t instanceof o.WebGLRenderTargetCube?X(t.texture,i):t instanceof o.WebGLRenderTarget?ge.setTexture(t.texture,i):ge.setTexture(t,i);break;case"tv":void 0===a._array&&(a._array=[]);for(var l=0,d=a.value.length;l<d;l++)a._array[l]=F();Ue.uniform1iv(c,a._array);for(var l=0,d=a.value.length;l<d;l++)t=a.value[l],i=a._array[l],t&&(t instanceof o.CubeTexture||t.image instanceof Array&&6===t.image.length?V(t,i):t instanceof o.WebGLRenderTarget?ge.setTexture(t.texture,i):t instanceof o.WebGLRenderTargetCube?X(t.texture,i):ge.setTexture(t,i));break;default:console.warn("THREE.WebGLRenderer: Unknown uniform type: "+s)}}}}function L(e,t,i,r){e[t+0]=i.r*r,e[t+1]=i.g*r,e[t+2]=i.b*r}function B(e,t){var i,r,n,a,s,h,c,l,u=0,d=0,f=0,p=Le,m=t.matrixWorldInverse,v=p.directional.colors,y=p.directional.positions,g=p.point.colors,b=p.point.positions,x=p.point.distances,w=p.point.decays,_=p.spot.colors,T=p.spot.positions,E=p.spot.distances,S=p.spot.directions,M=p.spot.anglesCos,C=p.spot.exponents,A=p.spot.decays,D=p.hemi.skyColors,k=p.hemi.groundColors,I=p.hemi.positions,P=0,R=0,F=0,O=0,B=0,N=0,U=0,H=0,j=0,z=0,G=0,V=0;for(i=0,r=e.length;i<r;i++)if(n=e[i],a=n.color,c=n.intensity,l=n.distance,n instanceof o.AmbientLight){if(!n.visible)continue;u+=a.r,d+=a.g,f+=a.b}else if(n instanceof o.DirectionalLight){if(B+=1,!n.visible)continue;Fe.setFromMatrixPosition(n.matrixWorld),Re.setFromMatrixPosition(n.target.matrixWorld),Fe.sub(Re),Fe.transformDirection(m),j=3*P,y[j+0]=Fe.x,y[j+1]=Fe.y,y[j+2]=Fe.z,L(v,j,a,c),P+=1}else if(n instanceof o.PointLight){if(N+=1,!n.visible)continue;z=3*R,L(g,z,a,c),Re.setFromMatrixPosition(n.matrixWorld),Re.applyMatrix4(m),b[z+0]=Re.x,b[z+1]=Re.y,b[z+2]=Re.z,x[R]=l,w[R]=0===n.distance?0:n.decay,R+=1}else if(n instanceof o.SpotLight){if(U+=1,!n.visible)continue;G=3*F,L(_,G,a,c),Fe.setFromMatrixPosition(n.matrixWorld),Re.copy(Fe).applyMatrix4(m),T[G+0]=Re.x,T[G+1]=Re.y,T[G+2]=Re.z,E[F]=l,Re.setFromMatrixPosition(n.target.matrixWorld),Fe.sub(Re),Fe.transformDirection(m),S[G+0]=Fe.x,S[G+1]=Fe.y,S[G+2]=Fe.z,M[F]=Math.cos(n.angle),C[F]=n.exponent,A[F]=0===n.distance?0:n.decay,F+=1}else if(n instanceof o.HemisphereLight){if(H+=1,!n.visible)continue;Fe.setFromMatrixPosition(n.matrixWorld),Fe.transformDirection(m),V=3*O,I[V+0]=Fe.x,I[V+1]=Fe.y,I[V+2]=Fe.z,s=n.color,h=n.groundColor,L(D,V,s,c),L(k,V,h,c),O+=1}for(i=3*P,r=Math.max(v.length,3*B);i<r;i++)v[i]=0;for(i=3*R,r=Math.max(g.length,3*N);i<r;i++)g[i]=0;for(i=3*F,r=Math.max(_.length,3*U);i<r;i++)_[i]=0;for(i=3*O,r=Math.max(D.length,3*H);i<r;i++)D[i]=0;for(i=3*O,r=Math.max(k.length,3*H);i<r;i++)k[i]=0;p.directional.length=P,p.point.length=R,p.spot.length=F,p.hemi.length=O,p.ambient[0]=u,p.ambient[1]=d,p.ambient[2]=f}function N(e,t,i){var r;if(i?(Ue.texParameteri(e,Ue.TEXTURE_WRAP_S,K(t.wrapS)),Ue.texParameteri(e,Ue.TEXTURE_WRAP_T,K(t.wrapT)),Ue.texParameteri(e,Ue.TEXTURE_MAG_FILTER,K(t.magFilter)),Ue.texParameteri(e,Ue.TEXTURE_MIN_FILTER,K(t.minFilter))):(Ue.texParameteri(e,Ue.TEXTURE_WRAP_S,Ue.CLAMP_TO_EDGE),Ue.texParameteri(e,Ue.TEXTURE_WRAP_T,Ue.CLAMP_TO_EDGE),t.wrapS===o.ClampToEdgeWrapping&&t.wrapT===o.ClampToEdgeWrapping||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",t),Ue.texParameteri(e,Ue.TEXTURE_MAG_FILTER,$(t.magFilter)),Ue.texParameteri(e,Ue.TEXTURE_MIN_FILTER,$(t.minFilter)),t.minFilter!==o.NearestFilter&&t.minFilter!==o.LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",t)),r=je.get("EXT_texture_filter_anisotropic")){if(t.type===o.FloatType&&null===je.get("OES_texture_float_linear"))return;if(t.type===o.HalfFloatType&&null===je.get("OES_texture_half_float_linear"))return;(t.anisotropy>1||Ve.get(t).__currentAnisotropy)&&(Ue.texParameterf(e,r.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(t.anisotropy,ge.getMaxAnisotropy())),Ve.get(t).__currentAnisotropy=t.anisotropy)}}function U(e,t,i){void 0===e.__webglInit&&(e.__webglInit=!0,t.addEventListener("dispose",a),e.__webglTexture=Ue.createTexture(),Be.textures++),Ge.activeTexture(Ue.TEXTURE0+i),Ge.bindTexture(Ue.TEXTURE_2D,e.__webglTexture),Ue.pixelStorei(Ue.UNPACK_FLIP_Y_WEBGL,t.flipY),Ue.pixelStorei(Ue.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),Ue.pixelStorei(Ue.UNPACK_ALIGNMENT,t.unpackAlignment),t.image=H(t.image,ze.maxTextureSize),z(t)&&!1===j(t.image)&&(t.image=G(t.image));var r=t.image,n=j(r),s=K(t.format),h=K(t.type);N(Ue.TEXTURE_2D,t,n);var c,l=t.mipmaps;if(t instanceof o.DataTexture)if(l.length>0&&n){for(var u=0,d=l.length;u<d;u++)c=l[u],Ge.texImage2D(Ue.TEXTURE_2D,u,s,c.width,c.height,0,s,h,c.data);t.generateMipmaps=!1}else Ge.texImage2D(Ue.TEXTURE_2D,0,s,r.width,r.height,0,s,h,r.data);else if(t instanceof o.CompressedTexture)for(var u=0,d=l.length;u<d;u++)c=l[u],t.format!==o.RGBAFormat&&t.format!==o.RGBFormat?Ge.getCompressedTextureFormats().indexOf(s)>-1?Ge.compressedTexImage2D(Ue.TEXTURE_2D,u,s,c.width,c.height,0,c.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ge.texImage2D(Ue.TEXTURE_2D,u,s,c.width,c.height,0,s,h,c.data);else if(l.length>0&&n){for(var u=0,d=l.length;u<d;u++)c=l[u],Ge.texImage2D(Ue.TEXTURE_2D,u,s,s,h,c);t.generateMipmaps=!1}else Ge.texImage2D(Ue.TEXTURE_2D,0,s,s,h,t.image);t.generateMipmaps&&n&&Ue.generateMipmap(Ue.TEXTURE_2D),e.__version=t.version,t.onUpdate&&t.onUpdate(t)}function H(e,t){if(e.width>t||e.height>t){var i=t/Math.max(e.width,e.height),r=document.createElement("canvas");r.width=Math.floor(e.width*i),r.height=Math.floor(e.height*i);return r.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,r.width,r.height),console.warn("THREE.WebGLRenderer: image is too big ("+e.width+"x"+e.height+"). Resized to "+r.width+"x"+r.height,e),r}return e}function j(e){return o.Math.isPowerOfTwo(e.width)&&o.Math.isPowerOfTwo(e.height)}function z(e){return e.wrapS!==o.ClampToEdgeWrapping||e.wrapT!==o.ClampToEdgeWrapping||e.minFilter!==o.NearestFilter&&e.minFilter!==o.LinearFilter}function G(e){if(e instanceof HTMLImageElement||e instanceof HTMLCanvasElement){var t=document.createElement("canvas");t.width=o.Math.nearestPowerOfTwo(e.width),t.height=o.Math.nearestPowerOfTwo(e.height);return t.getContext("2d").drawImage(e,0,0,t.width,t.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+e.width+"x"+e.height+"). Resized to "+t.width+"x"+t.height,e),t}return e}function V(e,t){var i=Ve.get(e);if(6===e.image.length)if(e.version>0&&i.__version!==e.version){i.__image__webglTextureCube||(e.addEventListener("dispose",a),i.__image__webglTextureCube=Ue.createTexture(),Be.textures++),Ge.activeTexture(Ue.TEXTURE0+t),Ge.bindTexture(Ue.TEXTURE_CUBE_MAP,i.__image__webglTextureCube),Ue.pixelStorei(Ue.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var r=e instanceof o.CompressedTexture,n=e.image[0]instanceof o.DataTexture,s=[],h=0;h<6;h++)!ge.autoScaleCubemaps||r||n?s[h]=n?e.image[h].image:e.image[h]:s[h]=H(e.image[h],ze.maxCubemapSize);var c=s[0],l=j(c),u=K(e.format),d=K(e.type);N(Ue.TEXTURE_CUBE_MAP,e,l);for(var h=0;h<6;h++)if(r)for(var f,p=s[h].mipmaps,m=0,v=p.length;m<v;m++)f=p[m],e.format!==o.RGBAFormat&&e.format!==o.RGBFormat?Ge.getCompressedTextureFormats().indexOf(u)>-1?Ge.compressedTexImage2D(Ue.TEXTURE_CUBE_MAP_POSITIVE_X+h,m,u,f.width,f.height,0,f.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setCubeTexture()"):Ge.texImage2D(Ue.TEXTURE_CUBE_MAP_POSITIVE_X+h,m,u,f.width,f.height,0,u,d,f.data);else n?Ge.texImage2D(Ue.TEXTURE_CUBE_MAP_POSITIVE_X+h,0,u,s[h].width,s[h].height,0,u,d,s[h].data):Ge.texImage2D(Ue.TEXTURE_CUBE_MAP_POSITIVE_X+h,0,u,u,d,s[h]);e.generateMipmaps&&l&&Ue.generateMipmap(Ue.TEXTURE_CUBE_MAP),i.__version=e.version,e.onUpdate&&e.onUpdate(e)}else Ge.activeTexture(Ue.TEXTURE0+t),Ge.bindTexture(Ue.TEXTURE_CUBE_MAP,i.__image__webglTextureCube)}function X(e,t){Ge.activeTexture(Ue.TEXTURE0+t),Ge.bindTexture(Ue.TEXTURE_CUBE_MAP,Ve.get(e).__webglTexture)}function Y(e,t,i){Ue.bindFramebuffer(Ue.FRAMEBUFFER,e),Ue.framebufferTexture2D(Ue.FRAMEBUFFER,Ue.COLOR_ATTACHMENT0,i,Ve.get(t.texture).__webglTexture,0)}function W(e,t){Ue.bindRenderbuffer(Ue.RENDERBUFFER,e),t.depthBuffer&&!t.stencilBuffer?(Ue.renderbufferStorage(Ue.RENDERBUFFER,Ue.DEPTH_COMPONENT16,t.width,t.height),Ue.framebufferRenderbuffer(Ue.FRAMEBUFFER,Ue.DEPTH_ATTACHMENT,Ue.RENDERBUFFER,e)):t.depthBuffer&&t.stencilBuffer?(Ue.renderbufferStorage(Ue.RENDERBUFFER,Ue.DEPTH_STENCIL,t.width,t.height),Ue.framebufferRenderbuffer(Ue.FRAMEBUFFER,Ue.DEPTH_STENCIL_ATTACHMENT,Ue.RENDERBUFFER,e)):Ue.renderbufferStorage(Ue.RENDERBUFFER,Ue.RGBA4,t.width,t.height)}function q(e){var t=e instanceof o.WebGLRenderTargetCube?Ue.TEXTURE_CUBE_MAP:Ue.TEXTURE_2D,i=Ve.get(e.texture).__webglTexture;Ge.bindTexture(t,i),Ue.generateMipmap(t),Ge.bindTexture(t,null)}function $(e){return e===o.NearestFilter||e===o.NearestMipMapNearestFilter||e===o.NearestMipMapLinearFilter?Ue.NEAREST:Ue.LINEAR}function K(e){var t;if(e===o.RepeatWrapping)return Ue.REPEAT;if(e===o.ClampToEdgeWrapping)return Ue.CLAMP_TO_EDGE;if(e===o.MirroredRepeatWrapping)return Ue.MIRRORED_REPEAT;if(e===o.NearestFilter)return Ue.NEAREST;if(e===o.NearestMipMapNearestFilter)return Ue.NEAREST_MIPMAP_NEAREST;if(e===o.NearestMipMapLinearFilter)return Ue.NEAREST_MIPMAP_LINEAR;if(e===o.LinearFilter)return Ue.LINEAR;if(e===o.LinearMipMapNearestFilter)return Ue.LINEAR_MIPMAP_NEAREST;if(e===o.LinearMipMapLinearFilter)return Ue.LINEAR_MIPMAP_LINEAR;if(e===o.UnsignedByteType)return Ue.UNSIGNED_BYTE;if(e===o.UnsignedShort4444Type)return Ue.UNSIGNED_SHORT_4_4_4_4;if(e===o.UnsignedShort5551Type)return Ue.UNSIGNED_SHORT_5_5_5_1;if(e===o.UnsignedShort565Type)return Ue.UNSIGNED_SHORT_5_6_5;if(e===o.ByteType)return Ue.BYTE;if(e===o.ShortType)return Ue.SHORT;if(e===o.UnsignedShortType)return Ue.UNSIGNED_SHORT;if(e===o.IntType)return Ue.INT;if(e===o.UnsignedIntType)return Ue.UNSIGNED_INT;if(e===o.FloatType)return Ue.FLOAT;if(null!==(t=je.get("OES_texture_half_float"))&&e===o.HalfFloatType)return t.HALF_FLOAT_OES;if(e===o.AlphaFormat)return Ue.ALPHA;if(e===o.RGBFormat)return Ue.RGB;if(e===o.RGBAFormat)return Ue.RGBA;if(e===o.LuminanceFormat)return Ue.LUMINANCE;if(e===o.LuminanceAlphaFormat)return Ue.LUMINANCE_ALPHA;if(e===o.AddEquation)return Ue.FUNC_ADD;if(e===o.SubtractEquation)return Ue.FUNC_SUBTRACT;if(e===o.ReverseSubtractEquation)return Ue.FUNC_REVERSE_SUBTRACT;if(e===o.ZeroFactor)return Ue.ZERO;if(e===o.OneFactor)return Ue.ONE;if(e===o.SrcColorFactor)return Ue.SRC_COLOR;if(e===o.OneMinusSrcColorFactor)return Ue.ONE_MINUS_SRC_COLOR;if(e===o.SrcAlphaFactor)return Ue.SRC_ALPHA;if(e===o.OneMinusSrcAlphaFactor)return Ue.ONE_MINUS_SRC_ALPHA;if(e===o.DstAlphaFactor)return Ue.DST_ALPHA;if(e===o.OneMinusDstAlphaFactor)return Ue.ONE_MINUS_DST_ALPHA;if(e===o.DstColorFactor)return Ue.DST_COLOR;if(e===o.OneMinusDstColorFactor)return Ue.ONE_MINUS_DST_COLOR;if(e===o.SrcAlphaSaturateFactor)return Ue.SRC_ALPHA_SATURATE;if(null!==(t=je.get("WEBGL_compressed_texture_s3tc"))){if(e===o.RGB_S3TC_DXT1_Format)return t.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===o.RGBA_S3TC_DXT1_Format)return t.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===o.RGBA_S3TC_DXT3_Format)return t.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===o.RGBA_S3TC_DXT5_Format)return t.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(null!==(t=je.get("WEBGL_compressed_texture_pvrtc"))){if(e===o.RGB_PVRTC_4BPPV1_Format)return t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===o.RGB_PVRTC_2BPPV1_Format)return t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===o.RGBA_PVRTC_4BPPV1_Format)return t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===o.RGBA_PVRTC_2BPPV1_Format)return t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(null!==(t=je.get("EXT_blend_minmax"))){if(e===o.MinEquation)return t.MIN_EXT;if(e===o.MaxEquation)return t.MAX_EXT}return 0}console.log("THREE.WebGLRenderer",o.REVISION),e=e||{};var Z=void 0!==e.canvas?e.canvas:document.createElement("canvas"),J=void 0!==e.context?e.context:null,Q=Z.width,ee=Z.height,te=1,ie=void 0!==e.alpha&&e.alpha,re=void 0===e.depth||e.depth,ne=void 0===e.stencil||e.stencil,oe=void 0!==e.antialias&&e.antialias,ae=void 0===e.premultipliedAlpha||e.premultipliedAlpha,se=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,he=new o.Color(0),ce=0,le=[],ue=[],de=-1,fe=[],pe=-1,me=new Float32Array(8),ve=[],ye=[];this.domElement=Z,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.maxMorphTargets=8,this.maxMorphNormals=4,this.autoScaleCubemaps=!0;var ge=this,be=null,xe=null,we=-1,_e="",Te=null,Ee=0,Se=0,Me=0,Ce=Z.width,Ae=Z.height,De=0,ke=0,Ie=new o.Frustum,Pe=new o.Matrix4,Re=new o.Vector3,Fe=new o.Vector3,Oe=!0,Le={ambient:[0,0,0],directional:{length:0,colors:[],positions:[]},point:{length:0,colors:[],positions:[],distances:[],decays:[]},spot:{length:0,colors:[],positions:[],distances:[],directions:[],anglesCos:[],exponents:[],decays:[]},hemi:{length:0,skyColors:[],groundColors:[],positions:[]}},Be={geometries:0,textures:0},Ne={calls:0,vertices:0,faces:0,points:0};this.info={render:Ne,memory:Be,programs:null};var Ue;try{var He={alpha:ie,depth:re,stencil:ne,antialias:oe,premultipliedAlpha:ae,preserveDrawingBuffer:se};if(null===(Ue=J||Z.getContext("webgl",He)||Z.getContext("experimental-webgl",He)))throw null!==Z.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";Z.addEventListener("webglcontextlost",n,!1)}catch(e){console.error("THREE.WebGLRenderer: "+e)}var je=new o.WebGLExtensions(Ue);je.get("OES_texture_float"),je.get("OES_texture_float_linear"),je.get("OES_texture_half_float"),je.get("OES_texture_half_float_linear"),je.get("OES_standard_derivatives"),je.get("ANGLE_instanced_arrays"),je.get("OES_element_index_uint")&&(o.BufferGeometry.MaxIndex=4294967296);var ze=new o.WebGLCapabilities(Ue,je,e),Ge=new o.WebGLState(Ue,je,K),Ve=new o.WebGLProperties,Xe=new o.WebGLObjects(Ue,Ve,this.info),Ye=new o.WebGLPrograms(this,ze);this.info.programs=Ye.programs;var We=new o.WebGLBufferRenderer(Ue,je,Ne),qe=new o.WebGLIndexedBufferRenderer(Ue,je,Ne);i(),this.context=Ue,this.capabilities=ze,this.extensions=je,this.state=Ge;var $e=new o.WebGLShadowMap(this,le,Xe);this.shadowMap=$e;var Ke=new o.SpritePlugin(this,ve),Ze=new o.LensFlarePlugin(this,ye);this.getContext=function(){return Ue},this.getContextAttributes=function(){return Ue.getContextAttributes()},this.forceContextLoss=function(){je.get("WEBGL_lose_context").loseContext()},this.getMaxAnisotropy=function(){var e;return function(){if(void 0!==e)return e;var t=je.get("EXT_texture_filter_anisotropic");return e=null!==t?Ue.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}}(),this.getPrecision=function(){return ze.precision},this.getPixelRatio=function(){return te},this.setPixelRatio=function(e){void 0!==e&&(te=e)},this.getSize=function(){return{width:Q,height:ee}},this.setSize=function(e,t,i){Q=e,ee=t,Z.width=e*te,Z.height=t*te,!1!==i&&(Z.style.width=e+"px",Z.style.height=t+"px"),this.setViewport(0,0,e,t)},this.setViewport=function(e,t,i,r){Se=e*te,Me=t*te,Ce=i*te,Ae=r*te,Ue.viewport(Se,Me,Ce,Ae)},this.getViewport=function(e){e.x=Se/te,e.y=Me/te,e.z=Ce/te,e.w=Ae/te},this.setScissor=function(e,t,i,r){Ue.scissor(e*te,t*te,i*te,r*te)},this.enableScissorTest=function(e){Ge.setScissorTest(e)},this.getClearColor=function(){return he},this.setClearColor=function(e,i){he.set(e),ce=void 0!==i?i:1,t(he.r,he.g,he.b,ce)},this.getClearAlpha=function(){return ce},this.setClearAlpha=function(e){ce=e,t(he.r,he.g,he.b,ce)},this.clear=function(e,t,i){var r=0;(void 0===e||e)&&(r|=Ue.COLOR_BUFFER_BIT),(void 0===t||t)&&(r|=Ue.DEPTH_BUFFER_BIT),(void 0===i||i)&&(r|=Ue.STENCIL_BUFFER_BIT),Ue.clear(r)},this.clearColor=function(){Ue.clear(Ue.COLOR_BUFFER_BIT)},this.clearDepth=function(){Ue.clear(Ue.DEPTH_BUFFER_BIT)},this.clearStencil=function(){Ue.clear(Ue.STENCIL_BUFFER_BIT)},this.clearTarget=function(e,t,i,r){this.setRenderTarget(e),this.clear(t,i,r)},this.resetGLState=r,this.dispose=function(){Z.removeEventListener("webglcontextlost",n,!1)},this.renderBufferImmediate=function(e,t,i){Ge.initAttributes();var r=Ve.get(e);e.hasPositions&&!r.position&&(r.position=Ue.createBuffer()),e.hasNormals&&!r.normal&&(r.normal=Ue.createBuffer()),e.hasUvs&&!r.uv&&(r.uv=Ue.createBuffer()),e.hasColors&&!r.color&&(r.color=Ue.createBuffer());var n=t.getAttributes();if(e.hasPositions&&(Ue.bindBuffer(Ue.ARRAY_BUFFER,r.position),Ue.bufferData(Ue.ARRAY_BUFFER,e.positionArray,Ue.DYNAMIC_DRAW),Ge.enableAttribute(n.position),Ue.vertexAttribPointer(n.position,3,Ue.FLOAT,!1,0,0)),e.hasNormals){if(Ue.bindBuffer(Ue.ARRAY_BUFFER,r.normal),"MeshPhongMaterial"!==i.type&&i.shading===o.FlatShading)for(var a=0,s=3*e.count;a<s;a+=9){var h=e.normalArray,c=(h[a+0]+h[a+3]+h[a+6])/3,l=(h[a+1]+h[a+4]+h[a+7])/3,u=(h[a+2]+h[a+5]+h[a+8])/3;h[a+0]=c,h[a+1]=l,h[a+2]=u,h[a+3]=c,h[a+4]=l,h[a+5]=u,h[a+6]=c,h[a+7]=l,h[a+8]=u}Ue.bufferData(Ue.ARRAY_BUFFER,e.normalArray,Ue.DYNAMIC_DRAW),Ge.enableAttribute(n.normal),Ue.vertexAttribPointer(n.normal,3,Ue.FLOAT,!1,0,0)}e.hasUvs&&i.map&&(Ue.bindBuffer(Ue.ARRAY_BUFFER,r.uv),Ue.bufferData(Ue.ARRAY_BUFFER,e.uvArray,Ue.DYNAMIC_DRAW),Ge.enableAttribute(n.uv),Ue.vertexAttribPointer(n.uv,2,Ue.FLOAT,!1,0,0)),e.hasColors&&i.vertexColors!==o.NoColors&&(Ue.bindBuffer(Ue.ARRAY_BUFFER,r.color),Ue.bufferData(Ue.ARRAY_BUFFER,e.colorArray,Ue.DYNAMIC_DRAW),Ge.enableAttribute(n.color),Ue.vertexAttribPointer(n.color,3,Ue.FLOAT,!1,0,0)),Ge.disableUnusedAttributes(),Ue.drawArrays(Ue.TRIANGLES,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,i,r,n,a,s){w(n);var h=T(e,t,i,n,a),c=!1,l=r.id+"_"+h.id+"_"+n.wireframe;l!==_e&&(_e=l,c=!0);var u=a.morphTargetInfluences;if(void 0!==u){for(var d=[],m=0,v=u.length;m<v;m++){var y=u[m];d.push([y,m])}d.sort(p),d.length>8&&(d.length=8);for(var g=r.morphAttributes,m=0,v=d.length;m<v;m++){var y=d[m];if(me[m]=y[0],0!==y[0]){var b=y[1];!0===n.morphTargets&&g.position&&r.addAttribute("morphTarget"+m,g.position[b]),!0===n.morphNormals&&g.normal&&r.addAttribute("morphNormal"+m,g.normal[b])}else!0===n.morphTargets&&r.removeAttribute("morphTarget"+m),!0===n.morphNormals&&r.removeAttribute("morphNormal"+m)}var x=h.getUniforms();null!==x.morphTargetInfluences&&Ue.uniform1fv(x.morphTargetInfluences,me),c=!0}var b=r.index,_=r.attributes.position;!0===n.wireframe&&(b=Xe.getWireframeAttribute(r));var E;null!==b?(E=qe,E.setIndex(b)):E=We,c&&(f(n,h,r),null!==b&&Ue.bindBuffer(Ue.ELEMENT_ARRAY_BUFFER,Xe.getAttributeBuffer(b)));var S=1/0;null!==b?S=b.count:void 0!==_&&(S=_.count);var M=r.drawRange.start,C=r.drawRange.count,A=null!==s?s.start:0,D=null!==s?s.count:1/0,k=Math.max(0,M,A),I=Math.min(0+S,M+C,A+D)-1,P=Math.max(0,I-k+1);if(a instanceof o.Mesh)!0===n.wireframe?(Ge.setLineWidth(n.wireframeLinewidth*te),E.setMode(Ue.LINES)):E.setMode(Ue.TRIANGLES),r instanceof o.InstancedBufferGeometry&&r.maxInstancedCount>0?E.renderInstances(r):E.render(k,P);else if(a instanceof o.Line){var R=n.linewidth;void 0===R&&(R=1),Ge.setLineWidth(R*te),a instanceof o.LineSegments?E.setMode(Ue.LINES):E.setMode(Ue.LINE_STRIP),E.render(k,P)}else a instanceof o.Points&&(E.setMode(Ue.POINTS),E.render(k,P))},this.render=function(e,t,i,r){if(t instanceof o.Camera==!1)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");var n=e.fog;if(_e="",we=-1,Te=null,Oe=!0,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),t.matrixWorldInverse.getInverse(t.matrixWorld),Pe.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),Ie.setFromMatrix(Pe),le.length=0,de=-1,pe=-1,ve.length=0,ye.length=0,g(e,t),ue.length=de+1,fe.length=pe+1,!0===ge.sortObjects&&(ue.sort(m),fe.sort(v)),$e.render(e),Ne.calls=0,Ne.vertices=0,Ne.faces=0,Ne.points=0,this.setRenderTarget(i),(this.autoClear||r)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),e.overrideMaterial){var a=e.overrideMaterial;b(ue,t,le,n,a),b(fe,t,le,n,a)}else Ge.setBlending(o.NoBlending),b(ue,t,le,n),b(fe,t,le,n);if(Ke.render(e,t),Ze.render(e,t,De,ke),i){var s=i.texture,h=j(i);s.generateMipmaps&&h&&s.minFilter!==o.NearestFilter&&s.minFilter!==o.LinearFilter&&q(i)}Ge.setDepthTest(!0),Ge.setDepthWrite(!0),Ge.setColorWrite(!0)},this.setFaceCulling=function(e,t){e===o.CullFaceNone?Ge.disable(Ue.CULL_FACE):(t===o.FrontFaceDirectionCW?Ue.frontFace(Ue.CW):Ue.frontFace(Ue.CCW),e===o.CullFaceBack?Ue.cullFace(Ue.BACK):e===o.CullFaceFront?Ue.cullFace(Ue.FRONT):Ue.cullFace(Ue.FRONT_AND_BACK),Ge.enable(Ue.CULL_FACE))},this.setTexture=function(e,t){var i=Ve.get(e);if(e.version>0&&i.__version!==e.version){var r=e.image;return void 0===r?void console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",e):!1===r.complete?void console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",e):void U(i,e,t)}Ge.activeTexture(Ue.TEXTURE0+t),Ge.bindTexture(Ue.TEXTURE_2D,i.__webglTexture)},this.setRenderTarget=function(e){var t=e instanceof o.WebGLRenderTargetCube;if(e&&void 0===Ve.get(e).__webglFramebuffer){var i=Ve.get(e),r=Ve.get(e.texture);void 0===e.depthBuffer&&(e.depthBuffer=!0),void 0===e.stencilBuffer&&(e.stencilBuffer=!0),e.addEventListener("dispose",s),r.__webglTexture=Ue.createTexture(),Be.textures++;var n=j(e),a=K(e.texture.format),h=K(e.texture.type);if(t){i.__webglFramebuffer=[],i.__webglRenderbuffer=[],Ge.bindTexture(Ue.TEXTURE_CUBE_MAP,r.__webglTexture),N(Ue.TEXTURE_CUBE_MAP,e.texture,n);for(var c=0;c<6;c++)i.__webglFramebuffer[c]=Ue.createFramebuffer(),i.__webglRenderbuffer[c]=Ue.createRenderbuffer(),Ge.texImage2D(Ue.TEXTURE_CUBE_MAP_POSITIVE_X+c,0,a,e.width,e.height,0,a,h,null),Y(i.__webglFramebuffer[c],e,Ue.TEXTURE_CUBE_MAP_POSITIVE_X+c),W(i.__webglRenderbuffer[c],e);e.texture.generateMipmaps&&n&&Ue.generateMipmap(Ue.TEXTURE_CUBE_MAP)}else i.__webglFramebuffer=Ue.createFramebuffer(),e.shareDepthFrom?i.__webglRenderbuffer=e.shareDepthFrom.__webglRenderbuffer:i.__webglRenderbuffer=Ue.createRenderbuffer(),Ge.bindTexture(Ue.TEXTURE_2D,r.__webglTexture),N(Ue.TEXTURE_2D,e.texture,n),Ge.texImage2D(Ue.TEXTURE_2D,0,a,e.width,e.height,0,a,h,null),Y(i.__webglFramebuffer,e,Ue.TEXTURE_2D),e.shareDepthFrom?e.depthBuffer&&!e.stencilBuffer?Ue.framebufferRenderbuffer(Ue.FRAMEBUFFER,Ue.DEPTH_ATTACHMENT,Ue.RENDERBUFFER,i.__webglRenderbuffer):e.depthBuffer&&e.stencilBuffer&&Ue.framebufferRenderbuffer(Ue.FRAMEBUFFER,Ue.DEPTH_STENCIL_ATTACHMENT,Ue.RENDERBUFFER,i.__webglRenderbuffer):W(i.__webglRenderbuffer,e),e.texture.generateMipmaps&&n&&Ue.generateMipmap(Ue.TEXTURE_2D);t?Ge.bindTexture(Ue.TEXTURE_CUBE_MAP,null):Ge.bindTexture(Ue.TEXTURE_2D,null),Ue.bindRenderbuffer(Ue.RENDERBUFFER,null),Ue.bindFramebuffer(Ue.FRAMEBUFFER,null)}var l,u,d,f,p;if(e){var i=Ve.get(e);l=t?i.__webglFramebuffer[e.activeCubeFace]:i.__webglFramebuffer,u=e.width,d=e.height,f=0,p=0}else l=null,u=Ce,d=Ae,f=Se,p=Me;if(l!==xe&&(Ue.bindFramebuffer(Ue.FRAMEBUFFER,l),Ue.viewport(f,p,u,d),xe=l),t){var r=Ve.get(e.texture);Ue.framebufferTexture2D(Ue.FRAMEBUFFER,Ue.COLOR_ATTACHMENT0,Ue.TEXTURE_CUBE_MAP_POSITIVE_X+e.activeCubeFace,r.__webglTexture,0)}De=u,ke=d},this.readRenderTargetPixels=function(e,t,i,r,n,a){if(e instanceof o.WebGLRenderTarget==!1)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");var s=Ve.get(e).__webglFramebuffer;if(s){var h=!1;s!==xe&&(Ue.bindFramebuffer(Ue.FRAMEBUFFER,s),h=!0);try{var c=e.texture;if(c.format!==o.RGBAFormat&&K(c.format)!==Ue.getParameter(Ue.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(c.type===o.UnsignedByteType||K(c.type)===Ue.getParameter(Ue.IMPLEMENTATION_COLOR_READ_TYPE)||c.type===o.FloatType&&je.get("WEBGL_color_buffer_float")||c.type===o.HalfFloatType&&je.get("EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Ue.checkFramebufferStatus(Ue.FRAMEBUFFER)===Ue.FRAMEBUFFER_COMPLETE?Ue.readPixels(t,i,r,n,K(c.format),K(c.type),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{h&&Ue.bindFramebuffer(Ue.FRAMEBUFFER,xe)}}},this.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),je.get("OES_texture_float")},this.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),je.get("OES_texture_half_float")},this.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),je.get("OES_standard_derivatives")},this.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),je.get("WEBGL_compressed_texture_s3tc")},this.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),je.get("WEBGL_compressed_texture_pvrtc")},this.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),je.get("EXT_blend_minmax")},this.supportsVertexTextures=function(){return ze.vertexTextures},this.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),je.get("ANGLE_instanced_arrays")},this.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},this.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},this.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},this.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},Object.defineProperties(this,{shadowMapEnabled:{get:function(){return $e.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),$e.enabled=e}},shadowMapType:{get:function(){return $e.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),$e.type=e}},shadowMapCullFace:{get:function(){return $e.cullFace},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),$e.cullFace=e}},shadowMapDebug:{get:function(){return $e.debug},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapDebug is now .shadowMap.debug."),$e.debug=e}}})},o.WebGLRenderTarget=function(e,t,i){this.uuid=o.Math.generateUUID(),this.width=e,this.height=t,i=i||{},void 0===i.minFilter&&(i.minFilter=o.LinearFilter),this.texture=new o.Texture(void 0,void 0,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy),this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0===i.stencilBuffer||i.stencilBuffer,this.shareDepthFrom=void 0!==i.shareDepthFrom?i.shareDepthFrom:null},o.WebGLRenderTarget.prototype={constructor:o.WebGLRenderTarget,get wrapS(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set wrapS(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e},get wrapT(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set wrapT(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e},get magFilter(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set magFilter(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e},get minFilter(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set minFilter(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e},get anisotropy(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set anisotropy(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e},get offset(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set offset(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e},get repeat(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set repeat(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e},get format(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set format(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e},get type(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set type(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e},get generateMipmaps(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set generateMipmaps(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e},setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.dispose())},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.shareDepthFrom=e.shareDepthFrom,this},dispose:function(){this.dispatchEvent({type:"dispose"})}},o.EventDispatcher.prototype.apply(o.WebGLRenderTarget.prototype),o.WebGLRenderTargetCube=function(e,t,i){o.WebGLRenderTarget.call(this,e,t,i),this.activeCubeFace=0},o.WebGLRenderTargetCube.prototype=Object.create(o.WebGLRenderTarget.prototype),o.WebGLRenderTargetCube.prototype.constructor=o.WebGLRenderTargetCube,o.WebGLBufferRenderer=function(e,t,i){function r(e){s=e}function n(t,r){e.drawArrays(s,t,r),i.calls++,i.vertices+=r,s===e.TRIANGLES&&(i.faces+=r/3)}function a(e){var i=t.get("ANGLE_instanced_arrays");if(null===i)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");var r=e.attributes.position;r instanceof o.InterleavedBufferAttribute?i.drawArraysInstancedANGLE(s,0,r.data.count,e.maxInstancedCount):i.drawArraysInstancedANGLE(s,0,r.count,e.maxInstancedCount)}var s;this.setMode=r,this.render=n,this.renderInstances=a},o.WebGLIndexedBufferRenderer=function(e,t,i){function r(e){s=e}function n(i){i.array instanceof Uint32Array&&t.get("OES_element_index_uint")?(h=e.UNSIGNED_INT,c=4):(h=e.UNSIGNED_SHORT,c=2)}function o(t,r){e.drawElements(s,r,h,t*c),i.calls++,i.vertices+=r,s===e.TRIANGLES&&(i.faces+=r/3)}function a(e){var i=t.get("ANGLE_instanced_arrays");if(null===i)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");var r=e.index;i.drawElementsInstancedANGLE(s,r.array.length,h,0,e.maxInstancedCount)}var s,h,c;this.setMode=r,this.setIndex=n,this.render=o,this.renderInstances=a},o.WebGLExtensions=function(e){var t={};this.get=function(i){if(void 0!==t[i])return t[i];var r;switch(i){case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(i)}return null===r&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),t[i]=r,r}},o.WebGLCapabilities=function(e,t,i){function r(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}this.getMaxPrecision=r,this.precision=void 0!==i.precision?i.precision:"highp",this.logarithmicDepthBuffer=void 0!==i.logarithmicDepthBuffer&&i.logarithmicDepthBuffer,this.maxTextures=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),this.maxVertexTextures=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),this.maxCubemapSize=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),this.maxAttributes=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.maxVertexUniforms=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),this.maxVaryings=e.getParameter(e.MAX_VARYING_VECTORS),this.maxFragmentUniforms=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),this.vertexTextures=this.maxVertexTextures>0,this.floatFragmentTextures=!!t.get("OES_texture_float"),this.floatVertexTextures=this.vertexTextures&&this.floatFragmentTextures;var n=r(this.precision);n!==this.precision&&(console.warn("THREE.WebGLRenderer:",this.precision,"not supported, using",n,"instead."),this.precision=n),this.logarithmicDepthBuffer&&(this.logarithmicDepthBuffer=!!t.get("EXT_frag_depth"))},o.WebGLGeometries=function(e,t,i){function r(e){var t=e.geometry;if(void 0!==l[t.id])return l[t.id];t.addEventListener("dispose",n);var r;return t instanceof o.BufferGeometry?r=t:t instanceof o.Geometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new o.BufferGeometry).setFromObject(e)),r=t._bufferGeometry),l[t.id]=r,i.memory.geometries++,r}function n(e){var r=e.target;h(l[r.id].attributes),r.removeEventListener("dispose",n),delete l[r.id];var o=t.get(r);o.wireframe&&s(o.wireframe),i.memory.geometries--}function a(e){return e instanceof o.InterleavedBufferAttribute?t.get(e.data).__webglBuffer:t.get(e).__webglBuffer}function s(t){var i=a(t);void 0!==i&&(e.deleteBuffer(i),c(t))}function h(e){for(var t in e)s(e[t])}function c(e){e instanceof o.InterleavedBufferAttribute?t.delete(e.data):t.delete(e)}var l={};this.get=r},o.WebGLObjects=function(e,t,i){function r(t){var i=u.get(t);t.geometry instanceof o.Geometry&&i.updateFromObject(t);var r=i.index,a=i.attributes;null!==r&&n(r,e.ELEMENT_ARRAY_BUFFER);for(var s in a)n(a[s],e.ARRAY_BUFFER);var h=i.morphAttributes;for(var s in h)for(var c=h[s],l=0,d=c.length;l<d;l++)n(c[l],e.ARRAY_BUFFER);return i}function n(e,i){var r=e instanceof o.InterleavedBufferAttribute?e.data:e,n=t.get(r);void 0===n.__webglBuffer?a(n,r,i):n.version!==r.version&&s(n,r,i)}function a(t,i,r){t.__webglBuffer=e.createBuffer(),e.bindBuffer(r,t.__webglBuffer);var n=i.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW;e.bufferData(r,i.array,n),t.version=i.version}function s(t,i,r){e.bindBuffer(r,t.__webglBuffer),!1===i.dynamic||-1===i.updateRange.count?e.bufferSubData(r,0,i.array):0===i.updateRange.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(e.bufferSubData(r,i.updateRange.offset*i.array.BYTES_PER_ELEMENT,i.array.subarray(i.updateRange.offset,i.updateRange.offset+i.updateRange.count)),i.updateRange.count=0),t.version=i.version}function h(e){return e instanceof o.InterleavedBufferAttribute?t.get(e.data).__webglBuffer:t.get(e).__webglBuffer}function c(i){var r=t.get(i);if(void 0!==r.wireframe)return r.wireframe;var a=[],s=i.index,h=i.attributes,c=h.position;if(null!==s)for(var u={},d=s.array,f=0,p=d.length;f<p;f+=3){var m=d[f+0],v=d[f+1],y=d[f+2];l(u,m,v)&&a.push(m,v),l(u,v,y)&&a.push(v,y),l(u,y,m)&&a.push(y,m)}else for(var d=h.position.array,f=0,p=d.length/3-1;f<p;f+=3){var m=f+0,v=f+1,y=f+2;a.push(m,v,v,y,y,m)}var g=c.count>65535?Uint32Array:Uint16Array,b=new o.BufferAttribute(new g(a),1);return n(b,e.ELEMENT_ARRAY_BUFFER),r.wireframe=b,b}function l(e,t,i){if(t>i){var r=t;t=i,i=r}var n=e[t];return void 0===n?(e[t]=[i],!0):-1===n.indexOf(i)&&(n.push(i),!0)}var u=new o.WebGLGeometries(e,t,i);this.getAttributeBuffer=h,this.getWireframeAttribute=c,this.update=r},o.WebGLProgram=function(){function e(e){var t=[];for(var i in e){var r=e[i];!1!==r&&t.push("#define "+i+" "+r)}return t.join("\n")}function t(e,t,i){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),o=0;o<n;o++){var a=e.getActiveUniform(t,o),s=a.name,h=e.getUniformLocation(t,s),c=s.lastIndexOf("[0]");-1!==c&&c===s.length-3&&(r[s.substr(0,c)]=h),r[s]=h}return r}function i(e,t,i){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),o=0;o<n;o++){var a=e.getActiveAttrib(t,o),s=a.name;r[s]=e.getAttribLocation(t,s)}return r}function r(e){return""!==e}var n=0;return function(a,s,h,c){var l=a.context,u=h.defines,d=h.__webglShader.vertexShader,f=h.__webglShader.fragmentShader,p="SHADOWMAP_TYPE_BASIC";c.shadowMapType===o.PCFShadowMap?p="SHADOWMAP_TYPE_PCF":c.shadowMapType===o.PCFSoftShadowMap&&(p="SHADOWMAP_TYPE_PCF_SOFT");var m="ENVMAP_TYPE_CUBE",v="ENVMAP_MODE_REFLECTION",y="ENVMAP_BLENDING_MULTIPLY";if(c.envMap){switch(h.envMap.mapping){case o.CubeReflectionMapping:case o.CubeRefractionMapping:m="ENVMAP_TYPE_CUBE";break;case o.EquirectangularReflectionMapping:case o.EquirectangularRefractionMapping:m="ENVMAP_TYPE_EQUIREC";break;case o.SphericalReflectionMapping:m="ENVMAP_TYPE_SPHERE"}switch(h.envMap.mapping){case o.CubeRefractionMapping:case o.EquirectangularRefractionMapping:v="ENVMAP_MODE_REFRACTION"}switch(h.combine){case o.MultiplyOperation:y="ENVMAP_BLENDING_MULTIPLY";break;case o.MixOperation:y="ENVMAP_BLENDING_MIX";break;case o.AddOperation:y="ENVMAP_BLENDING_ADD"}}var g,b,x=a.gammaFactor>0?a.gammaFactor:1,w=e(u),_=l.createProgram();h instanceof o.RawShaderMaterial?(g="",b=""):(g=["precision "+c.precision+" float;","precision "+c.precision+" int;","#define SHADER_NAME "+h.__webglShader.name,w,c.supportsVertexTextures?"#define VERTEX_TEXTURES":"",a.gammaInput?"#define GAMMA_INPUT":"",a.gammaOutput?"#define GAMMA_OUTPUT":"","#define GAMMA_FACTOR "+x,"#define MAX_DIR_LIGHTS "+c.maxDirLights,"#define MAX_POINT_LIGHTS "+c.maxPointLights,"#define MAX_SPOT_LIGHTS "+c.maxSpotLights,"#define MAX_HEMI_LIGHTS "+c.maxHemiLights,"#define MAX_SHADOWS "+c.maxShadows,"#define MAX_BONES "+c.maxBones,c.map?"#define USE_MAP":"",c.envMap?"#define USE_ENVMAP":"",c.envMap?"#define "+v:"",c.lightMap?"#define USE_LIGHTMAP":"",c.aoMap?"#define USE_AOMAP":"",c.emissiveMap?"#define USE_EMISSIVEMAP":"",c.bumpMap?"#define USE_BUMPMAP":"",c.normalMap?"#define USE_NORMALMAP":"",c.displacementMap&&c.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",c.specularMap?"#define USE_SPECULARMAP":"",c.alphaMap?"#define USE_ALPHAMAP":"",c.vertexColors?"#define USE_COLOR":"",c.flatShading?"#define FLAT_SHADED":"",c.skinning?"#define USE_SKINNING":"",c.useVertexTexture?"#define BONE_TEXTURE":"",c.morphTargets?"#define USE_MORPHTARGETS":"",c.morphNormals&&!1===c.flatShading?"#define USE_MORPHNORMALS":"",c.doubleSided?"#define DOUBLE_SIDED":"",c.flipSided?"#define FLIP_SIDED":"",c.shadowMapEnabled?"#define USE_SHADOWMAP":"",c.shadowMapEnabled?"#define "+p:"",c.shadowMapDebug?"#define SHADOWMAP_DEBUG":"",c.pointLightShadows>0?"#define POINT_LIGHT_SHADOWS":"",c.sizeAttenuation?"#define USE_SIZEATTENUATION":"",c.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",c.logarithmicDepthBuffer&&a.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(r).join("\n"),b=[c.bumpMap||c.normalMap||c.flatShading||h.derivatives?"#extension GL_OES_standard_derivatives : enable":"",c.logarithmicDepthBuffer&&a.extensions.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"","precision "+c.precision+" float;","precision "+c.precision+" int;","#define SHADER_NAME "+h.__webglShader.name,w,"#define MAX_DIR_LIGHTS "+c.maxDirLights,"#define MAX_POINT_LIGHTS "+c.maxPointLights,"#define MAX_SPOT_LIGHTS "+c.maxSpotLights,"#define MAX_HEMI_LIGHTS "+c.maxHemiLights,"#define MAX_SHADOWS "+c.maxShadows,c.alphaTest?"#define ALPHATEST "+c.alphaTest:"",a.gammaInput?"#define GAMMA_INPUT":"",a.gammaOutput?"#define GAMMA_OUTPUT":"","#define GAMMA_FACTOR "+x,c.useFog&&c.fog?"#define USE_FOG":"",c.useFog&&c.fogExp?"#define FOG_EXP2":"",c.map?"#define USE_MAP":"",c.envMap?"#define USE_ENVMAP":"",c.envMap?"#define "+m:"",c.envMap?"#define "+v:"",c.envMap?"#define "+y:"",c.lightMap?"#define USE_LIGHTMAP":"",c.aoMap?"#define USE_AOMAP":"",c.emissiveMap?"#define USE_EMISSIVEMAP":"",c.bumpMap?"#define USE_BUMPMAP":"",c.normalMap?"#define USE_NORMALMAP":"",c.specularMap?"#define USE_SPECULARMAP":"",c.alphaMap?"#define USE_ALPHAMAP":"",c.vertexColors?"#define USE_COLOR":"",c.flatShading?"#define FLAT_SHADED":"",c.metal?"#define METAL":"",c.doubleSided?"#define DOUBLE_SIDED":"",c.flipSided?"#define FLIP_SIDED":"",c.shadowMapEnabled?"#define USE_SHADOWMAP":"",c.shadowMapEnabled?"#define "+p:"",c.shadowMapDebug?"#define SHADOWMAP_DEBUG":"",c.pointLightShadows>0?"#define POINT_LIGHT_SHADOWS":"",c.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",c.logarithmicDepthBuffer&&a.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","\n"].filter(r).join("\n"));var T=g+d,E=b+f,S=o.WebGLShader(l,l.VERTEX_SHADER,T),M=o.WebGLShader(l,l.FRAGMENT_SHADER,E);l.attachShader(_,S),l.attachShader(_,M),void 0!==h.index0AttributeName?l.bindAttribLocation(_,0,h.index0AttributeName):!0===c.morphTargets&&l.bindAttribLocation(_,0,"position"),l.linkProgram(_);var C=l.getProgramInfoLog(_),A=l.getShaderInfoLog(S),D=l.getShaderInfoLog(M),k=!0,I=!0;!1===l.getProgramParameter(_,l.LINK_STATUS)?(k=!1,console.error("THREE.WebGLProgram: shader error: ",l.getError(),"gl.VALIDATE_STATUS",l.getProgramParameter(_,l.VALIDATE_STATUS),"gl.getProgramInfoLog",C,A,D)):""!==C?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",C):""!==A&&""!==D||(I=!1),I&&(this.diagnostics={runnable:k,material:h,programLog:C,vertexShader:{log:A,prefix:g},fragmentShader:{log:D,prefix:b}}),l.deleteShader(S),l.deleteShader(M);var P;this.getUniforms=function(){return void 0===P&&(P=t(l,_)),P};var R;return this.getAttributes=function(){return void 0===R&&(R=i(l,_)),R},this.destroy=function(){l.deleteProgram(_),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=n++,this.code=s,this.usedTimes=1,this.program=_,this.vertexShader=S,this.fragmentShader=M,this}}(),o.WebGLPrograms=function(e,t){function i(e){if(t.floatVertexTextures&&e&&e.skeleton&&e.skeleton.useVertexTexture)return 1024;var i=t.maxVertexUniforms,r=Math.floor((i-20)/4),n=r;return void 0!==e&&e instanceof o.SkinnedMesh&&(n=Math.min(e.skeleton.bones.length,n))<e.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+e.skeleton.bones.length+", this GPU supports just "+n+" (try OpenGL instead of ANGLE)"),n}function r(e){for(var t=0,i=0,r=0,n=0,a=0,s=e.length;a<s;a++){var h=e[a];!1!==h.visible&&(h instanceof o.DirectionalLight&&t++,h instanceof o.PointLight&&i++,h instanceof o.SpotLight&&r++,h instanceof o.HemisphereLight&&n++)}return{directional:t,point:i,spot:r,hemi:n}}function n(e){for(var t=0,i=0,r=0,n=e.length;r<n;r++){var a=e[r];a.castShadow&&((a instanceof o.SpotLight||a instanceof o.DirectionalLight)&&t++,a instanceof o.PointLight&&(t++,i++))}return{maxShadows:t,pointLightShadows:i}}var a=[],s={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},h=["precision","supportsVertexTextures","map","envMap","envMapMode","lightMap","aoMap","emissiveMap","bumpMap","normalMap","displacementMap","specularMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","maxDirLights","maxPointLights","maxSpotLights","maxHemiLights","maxShadows","shadowMapEnabled","pointLightShadows","shadowMapType","shadowMapDebug","alphaTest","metal","doubleSided","flipSided"];this.getParameters=function(a,h,c,l){var u=s[a.type],d=r(h),f=n(h),p=i(l),m=e.getPrecision();return null!==a.precision&&(m=t.getMaxPrecision(a.precision))!==a.precision&&console.warn("THREE.WebGLRenderer.initMaterial:",a.precision,"not supported, using",m,"instead."),{shaderID:u,precision:m,supportsVertexTextures:t.vertexTextures,map:!!a.map,envMap:!!a.envMap,envMapMode:a.envMap&&a.envMap.mapping,lightMap:!!a.lightMap,aoMap:!!a.aoMap,emissiveMap:!!a.emissiveMap,bumpMap:!!a.bumpMap,normalMap:!!a.normalMap,displacementMap:!!a.displacementMap,specularMap:!!a.specularMap,alphaMap:!!a.alphaMap,combine:a.combine,vertexColors:a.vertexColors,fog:c,useFog:a.fog,fogExp:c instanceof o.FogExp2,flatShading:a.shading===o.FlatShading,sizeAttenuation:a.sizeAttenuation,logarithmicDepthBuffer:t.logarithmicDepthBuffer,skinning:a.skinning,maxBones:p,useVertexTexture:t.floatVertexTextures&&l&&l.skeleton&&l.skeleton.useVertexTexture,morphTargets:a.morphTargets,morphNormals:a.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,maxDirLights:d.directional,maxPointLights:d.point,maxSpotLights:d.spot,maxHemiLights:d.hemi,maxShadows:f.maxShadows,pointLightShadows:f.pointLightShadows,shadowMapEnabled:e.shadowMap.enabled&&l.receiveShadow&&f.maxShadows>0,shadowMapType:e.shadowMap.type,shadowMapDebug:e.shadowMap.debug,alphaTest:a.alphaTest,metal:a.metal,doubleSided:a.side===o.DoubleSide,flipSided:a.side===o.BackSide}},this.getProgramCode=function(e,t){var i=[];if(t.shaderID?i.push(t.shaderID):(i.push(e.fragmentShader),i.push(e.vertexShader)),void 0!==e.defines)for(var r in e.defines)i.push(r),i.push(e.defines[r]);for(var n=0;n<h.length;n++){var o=h[n];i.push(o),i.push(t[o])}return i.join()},this.acquireProgram=function(t,i,r){for(var n,s=0,h=a.length;s<h;s++){var c=a[s];if(c.code===r){n=c,++n.usedTimes;break}}return void 0===n&&(n=new o.WebGLProgram(e,r,t,i),a.push(n)),n},this.releaseProgram=function(e){if(0==--e.usedTimes){var t=a.indexOf(e);a[t]=a[a.length-1],a.pop(),e.destroy()}},this.programs=a},o.WebGLProperties=function(){var e={};this.get=function(t){var i=t.uuid,r=e[i];return void 0===r&&(r={},e[i]=r),r},this.delete=function(t){delete e[t.uuid]},this.clear=function(){e={}}},o.WebGLShader=function(){function e(e){for(var t=e.split("\n"),i=0;i<t.length;i++)t[i]=i+1+": "+t[i];return t.join("\n")}return function(t,i,r){var n=t.createShader(i);return t.shaderSource(n,r),t.compileShader(n),!1===t.getShaderParameter(n,t.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==t.getShaderInfoLog(n)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",i===t.VERTEX_SHADER?"vertex":"fragment",t.getShaderInfoLog(n),e(r)),n}}(),o.WebGLShadowMap=function(e,t,i){function r(e,t,i,r){var n=e.geometry,a=null,s=v,h=e.customDepthMaterial;if(i&&(s=y,h=e.customDistanceMaterial),h)a=h;else{var c=void 0!==n.morphTargets&&n.morphTargets.length>0&&t.morphTargets,l=e instanceof o.SkinnedMesh&&t.skinning,u=0;c&&(u|=f),l&&(u|=p),a=s[u]}return a.visible=t.visible,a.wireframe=t.wireframe,a.wireframeLinewidth=t.wireframeLinewidth,i&&void 0!==a.uniforms.lightPos&&a.uniforms.lightPos.value.copy(r),a}function n(e,t){if(!1!==e.visible){if((e instanceof o.Mesh||e instanceof o.Line||e instanceof o.Points)&&e.castShadow&&(!1===e.frustumCulled||!0===h.intersectsObject(e))){!0===e.material.visible&&(e.modelViewMatrix.multiplyMatrices(t.matrixWorldInverse,e.matrixWorld),d.push(e))}for(var i=e.children,r=0,a=i.length;r<a;r++)n(i[r],t)}}for(var a=e.context,s=e.state,h=new o.Frustum,c=new o.Matrix4,l=(new o.Vector3,new o.Vector3,new o.Vector3),u=new o.Vector3,d=[],f=1,p=2,m=1+(f|p),v=new Array(m),y=new Array(m),g=[new o.Vector3(1,0,0),new o.Vector3(-1,0,0),new o.Vector3(0,0,1),new o.Vector3(0,0,-1),new o.Vector3(0,1,0),new o.Vector3(0,-1,0)],b=[new o.Vector3(0,1,0),new o.Vector3(0,1,0),new o.Vector3(0,1,0),new o.Vector3(0,1,0),new o.Vector3(0,0,1),new o.Vector3(0,0,-1)],x=[new o.Vector4,new o.Vector4,new o.Vector4,new o.Vector4,new o.Vector4,new o.Vector4],w=new o.Vector4,_=o.ShaderLib.depthRGBA,T=o.UniformsUtils.clone(_.uniforms),E=o.ShaderLib.distanceRGBA,S=o.UniformsUtils.clone(E.uniforms),M=0;M!==m;++M){var C=0!=(M&f),A=0!=(M&p),D=new o.ShaderMaterial({uniforms:T,vertexShader:_.vertexShader,fragmentShader:_.fragmentShader,morphTargets:C,skinning:A});D._shadowPass=!0,v[M]=D;var k=new o.ShaderMaterial({uniforms:S,vertexShader:E.vertexShader,fragmentShader:E.fragmentShader,morphTargets:C,skinning:A});k._shadowPass=!0,y[M]=k}var I=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=o.PCFShadowMap,this.cullFace=o.CullFaceFront,this.render=function(f){var p,m;if(!1!==I.enabled&&(!1!==I.autoUpdate||!1!==I.needsUpdate)){a.clearColor(1,1,1,1),s.disable(a.BLEND),s.enable(a.CULL_FACE),a.frontFace(a.CCW),a.cullFace(I.cullFace===o.CullFaceFront?a.FRONT:a.BACK),s.setDepthTest(!0),e.getViewport(w);for(var v=0,y=t.length;v<y;v++){var _=t[v];if(!0===_.castShadow){var T=_.shadow,E=T.camera,S=T.mapSize;if(_ instanceof o.PointLight){p=6,m=!0;var M=S.x/4,C=S.y/2;x[0].set(2*M,C,M,C),x[1].set(0,C,M,C),x[2].set(3*M,C,M,C),x[3].set(M,C,M,C),x[4].set(3*M,0,M,C),x[5].set(M,0,M,C)}else p=1,m=!1;if(null===T.map){var A=o.LinearFilter;I.type===o.PCFSoftShadowMap&&(A=o.NearestFilter);var D={minFilter:A,magFilter:A,format:o.RGBAFormat};T.map=new o.WebGLRenderTarget(S.x,S.y,D),T.matrix=new o.Matrix4,_ instanceof o.SpotLight&&(E.aspect=S.x/S.y),E.updateProjectionMatrix()}var k=T.map,P=T.matrix;u.setFromMatrixPosition(_.matrixWorld),E.position.copy(u),e.setRenderTarget(k),e.clear();for(var R=0;R<p;R++){if(m){l.copy(E.position),l.add(g[R]),E.up.copy(b[R]),E.lookAt(l);var F=x[R];e.setViewport(F.x,F.y,F.z,F.w)}else l.setFromMatrixPosition(_.target.matrixWorld),E.lookAt(l);E.updateMatrixWorld(),E.matrixWorldInverse.getInverse(E.matrixWorld),P.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),P.multiply(E.projectionMatrix),P.multiply(E.matrixWorldInverse),c.multiplyMatrices(E.projectionMatrix,E.matrixWorldInverse),h.setFromMatrix(c),d.length=0,n(f,E);for(var O=0,L=d.length;O<L;O++){var B=d[O],N=i.update(B),U=B.material;if(U instanceof o.MeshFaceMaterial)for(var H=N.groups,j=U.materials,z=0,G=H.length;z<G;z++){var V=H[z],X=j[V.materialIndex];if(!0===X.visible){var Y=r(B,X,m,u);e.renderBufferDirect(E,t,null,N,Y,B,V)}}else{var Y=r(B,U,m,u);e.renderBufferDirect(E,t,null,N,Y,B,null)}}}e.resetGLState()}}e.setViewport(w.x,w.y,w.z,w.w);var W=e.getClearColor(),q=e.getClearAlpha();e.setClearColor(W,q),s.enable(a.BLEND),I.cullFace===o.CullFaceFront&&a.cullFace(a.BACK),e.resetGLState(),I.needsUpdate=!1}}},o.WebGLState=function(e,t,i){var r=this,n=new Uint8Array(16),a=new Uint8Array(16),s=new Uint8Array(16),h={},c=null,l=null,u=null,d=null,f=null,p=null,m=null,v=null,y=null,g=null,b=null,x=null,w=null,_=null,T=null,E=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),S=void 0,M={};this.init=function(){e.clearColor(0,0,0,1),e.clearDepth(1),e.clearStencil(0),this.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.frontFace(e.CCW),e.cullFace(e.BACK),this.enable(e.CULL_FACE),this.enable(e.BLEND),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA)},this.initAttributes=function(){for(var e=0,t=n.length;e<t;e++)n[e]=0},this.enableAttribute=function(i){if(n[i]=1,0===a[i]&&(e.enableVertexAttribArray(i),a[i]=1),0!==s[i]){t.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(i,0),s[i]=0}},this.enableAttributeAndDivisor=function(t,i,r){n[t]=1,0===a[t]&&(e.enableVertexAttribArray(t),a[t]=1),s[t]!==i&&(r.vertexAttribDivisorANGLE(t,i),s[t]=i)},this.disableUnusedAttributes=function(){for(var t=0,i=a.length;t<i;t++)a[t]!==n[t]&&(e.disableVertexAttribArray(t),a[t]=0)},this.enable=function(t){!0!==h[t]&&(e.enable(t),h[t]=!0)},this.disable=function(t){!1!==h[t]&&(e.disable(t),h[t]=!1)},this.getCompressedTextureFormats=function(){if(null===c&&(c=[],t.get("WEBGL_compressed_texture_pvrtc")||t.get("WEBGL_compressed_texture_s3tc")))for(var i=e.getParameter(e.COMPRESSED_TEXTURE_FORMATS),r=0;r<i.length;r++)c.push(i[r]);return c},this.setBlending=function(t,r,n,a,s,h,c){t!==l&&(t===o.NoBlending?this.disable(e.BLEND):t===o.AdditiveBlending?(this.enable(e.BLEND),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE)):t===o.SubtractiveBlending?(this.enable(e.BLEND),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.ONE_MINUS_SRC_COLOR)):t===o.MultiplyBlending?(this.enable(e.BLEND),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.SRC_COLOR)):t===o.CustomBlending?this.enable(e.BLEND):(this.enable(e.BLEND),e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA)),l=t),t===o.CustomBlending?(s=s||r,h=h||n,c=c||a,r===u&&s===p||(e.blendEquationSeparate(i(r),i(s)),u=r,p=s),n===d&&a===f&&h===m&&c===v||(e.blendFuncSeparate(i(n),i(a),i(h),i(c)),d=n,f=a,m=h,v=c)):(u=null,d=null,f=null,p=null,m=null,v=null)},this.setDepthFunc=function(t){if(y!==t){if(t)switch(t){case o.NeverDepth:e.depthFunc(e.NEVER);break;case o.AlwaysDepth:e.depthFunc(e.ALWAYS);break;case o.LessDepth:e.depthFunc(e.LESS);break;case o.LessEqualDepth:e.depthFunc(e.LEQUAL);break;case o.EqualDepth:e.depthFunc(e.EQUAL);break;case o.GreaterEqualDepth:e.depthFunc(e.GEQUAL);break;case o.GreaterDepth:e.depthFunc(e.GREATER);break;case o.NotEqualDepth:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}else e.depthFunc(e.LEQUAL);y=t}},this.setDepthTest=function(t){t?this.enable(e.DEPTH_TEST):this.disable(e.DEPTH_TEST)},this.setDepthWrite=function(t){g!==t&&(e.depthMask(t),g=t)},this.setColorWrite=function(t){b!==t&&(e.colorMask(t,t,t,t),b=t)},this.setFlipSided=function(t){x!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),x=t)},this.setLineWidth=function(t){t!==w&&(e.lineWidth(t),w=t)},this.setPolygonOffset=function(t,i,r){t?this.enable(e.POLYGON_OFFSET_FILL):this.disable(e.POLYGON_OFFSET_FILL),!t||_===i&&T===r||(e.polygonOffset(i,r),_=i,T=r)},this.setScissorTest=function(t){t?this.enable(e.SCISSOR_TEST):this.disable(e.SCISSOR_TEST)},this.activeTexture=function(t){void 0===t&&(t=e.TEXTURE0+E-1),S!==t&&(e.activeTexture(t),S=t)},this.bindTexture=function(t,i){void 0===S&&r.activeTexture();var n=M[S];void 0===n&&(n={type:void 0,texture:void 0},M[S]=n),n.type===t&&n.texture===i||(e.bindTexture(t,i),n.type=t,n.texture=i)},this.compressedTexImage2D=function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error(e)}},this.texImage2D=function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error(e)}},this.reset=function(){for(var t=0;t<a.length;t++)1===a[t]&&(e.disableVertexAttribArray(t),a[t]=0);h={},c=null,l=null,g=null,b=null,x=null}},o.LensFlarePlugin=function(e,t){function i(){var e=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),t=new Uint16Array([0,1,2,0,2,3]);n=f.createBuffer(),a=f.createBuffer(),f.bindBuffer(f.ARRAY_BUFFER,n),f.bufferData(f.ARRAY_BUFFER,e,f.STATIC_DRAW),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,a),f.bufferData(f.ELEMENT_ARRAY_BUFFER,t,f.STATIC_DRAW),u=f.createTexture(),d=f.createTexture(),p.bindTexture(f.TEXTURE_2D,u),f.texImage2D(f.TEXTURE_2D,0,f.RGB,16,16,0,f.RGB,f.UNSIGNED_BYTE,null),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.NEAREST),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.NEAREST),p.bindTexture(f.TEXTURE_2D,d),f.texImage2D(f.TEXTURE_2D,0,f.RGBA,16,16,0,f.RGBA,f.UNSIGNED_BYTE,null),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.NEAREST),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.NEAREST),l=f.getParameter(f.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;var i;i=l?{vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if ( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")}:{vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["precision mediump float;","uniform lowp int renderType;","uniform sampler2D map;","uniform sampler2D occlusionMap;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","void main() {","if ( renderType == 0 ) {","gl_FragColor = vec4( texture2D( map, vUV ).rgb, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","float visibility = texture2D( occlusionMap, vec2( 0.5, 0.1 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) ).a;","visibility = ( 1.0 - visibility / 4.0 );","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * visibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")},s=r(i),h={vertex:f.getAttribLocation(s,"position"),uv:f.getAttribLocation(s,"uv")},c={renderType:f.getUniformLocation(s,"renderType"),map:f.getUniformLocation(s,"map"),occlusionMap:f.getUniformLocation(s,"occlusionMap"),opacity:f.getUniformLocation(s,"opacity"),color:f.getUniformLocation(s,"color"),scale:f.getUniformLocation(s,"scale"),rotation:f.getUniformLocation(s,"rotation"),screenPosition:f.getUniformLocation(s,"screenPosition")}}function r(t){var i=f.createProgram(),r=f.createShader(f.FRAGMENT_SHADER),n=f.createShader(f.VERTEX_SHADER),o="precision "+e.getPrecision()+" float;\n";return f.shaderSource(r,o+t.fragmentShader),f.shaderSource(n,o+t.vertexShader),f.compileShader(r),f.compileShader(n),f.attachShader(i,r),f.attachShader(i,n),f.linkProgram(i),i}var n,a,s,h,c,l,u,d,f=e.context,p=e.state;this.render=function(r,m,v,y){if(0!==t.length){var g=new o.Vector3,b=y/v,x=.5*v,w=.5*y,_=16/y,T=new o.Vector2(_*b,_),E=new o.Vector3(1,1,0),S=new o.Vector2(1,1);void 0===s&&i(),f.useProgram(s),p.initAttributes(),p.enableAttribute(h.vertex),p.enableAttribute(h.uv),p.disableUnusedAttributes(),f.uniform1i(c.occlusionMap,0),f.uniform1i(c.map,1),f.bindBuffer(f.ARRAY_BUFFER,n),f.vertexAttribPointer(h.vertex,2,f.FLOAT,!1,16,0),f.vertexAttribPointer(h.uv,2,f.FLOAT,!1,16,8),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,a),p.disable(f.CULL_FACE),f.depthMask(!1);for(var M=0,C=t.length;M<C;M++){_=16/y,T.set(_*b,_);var A=t[M];if(g.set(A.matrixWorld.elements[12],A.matrixWorld.elements[13],A.matrixWorld.elements[14]),g.applyMatrix4(m.matrixWorldInverse),g.applyProjection(m.projectionMatrix),E.copy(g),S.x=E.x*x+x,S.y=E.y*w+w,l||S.x>0&&S.x<v&&S.y>0&&S.y<y){p.activeTexture(f.TEXTURE0),p.bindTexture(f.TEXTURE_2D,null),p.activeTexture(f.TEXTURE1),p.bindTexture(f.TEXTURE_2D,u),f.copyTexImage2D(f.TEXTURE_2D,0,f.RGB,S.x-8,S.y-8,16,16,0),f.uniform1i(c.renderType,0),f.uniform2f(c.scale,T.x,T.y),f.uniform3f(c.screenPosition,E.x,E.y,E.z),p.disable(f.BLEND),p.enable(f.DEPTH_TEST),f.drawElements(f.TRIANGLES,6,f.UNSIGNED_SHORT,0),p.activeTexture(f.TEXTURE0),p.bindTexture(f.TEXTURE_2D,d),f.copyTexImage2D(f.TEXTURE_2D,0,f.RGBA,S.x-8,S.y-8,16,16,0),f.uniform1i(c.renderType,1),p.disable(f.DEPTH_TEST),p.activeTexture(f.TEXTURE1),p.bindTexture(f.TEXTURE_2D,u),f.drawElements(f.TRIANGLES,6,f.UNSIGNED_SHORT,0),A.positionScreen.copy(E),A.customUpdateCallback?A.customUpdateCallback(A):A.updateLensFlares(),f.uniform1i(c.renderType,2),p.enable(f.BLEND);for(var D=0,k=A.lensFlares.length;D<k;D++){var I=A.lensFlares[D];I.opacity>.001&&I.scale>.001&&(E.x=I.x,E.y=I.y,E.z=I.z,_=I.size*I.scale/y,T.x=_*b,T.y=_,f.uniform3f(c.screenPosition,E.x,E.y,E.z),f.uniform2f(c.scale,T.x,T.y),f.uniform1f(c.rotation,I.rotation),f.uniform1f(c.opacity,I.opacity),f.uniform3f(c.color,I.color.r,I.color.g,I.color.b),p.setBlending(I.blending,I.blendEquation,I.blendSrc,I.blendDst),e.setTexture(I.texture,1),f.drawElements(f.TRIANGLES,6,f.UNSIGNED_SHORT,0))}}}p.enable(f.CULL_FACE),p.enable(f.DEPTH_TEST),f.depthMask(!0),e.resetGLState()}}},o.SpritePlugin=function(e,t){function i(){var e=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),t=new Uint16Array([0,1,2,0,2,3]);a=d.createBuffer(),s=d.createBuffer(),d.bindBuffer(d.ARRAY_BUFFER,a),d.bufferData(d.ARRAY_BUFFER,e,d.STATIC_DRAW),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,s),d.bufferData(d.ELEMENT_ARRAY_BUFFER,t,d.STATIC_DRAW),h=r(),c={position:d.getAttribLocation(h,"position"),uv:d.getAttribLocation(h,"uv")},l={uvOffset:d.getUniformLocation(h,"uvOffset"),uvScale:d.getUniformLocation(h,"uvScale"),rotation:d.getUniformLocation(h,"rotation"),scale:d.getUniformLocation(h,"scale"),color:d.getUniformLocation(h,"color"),map:d.getUniformLocation(h,"map"),opacity:d.getUniformLocation(h,"opacity"),modelViewMatrix:d.getUniformLocation(h,"modelViewMatrix"),projectionMatrix:d.getUniformLocation(h,"projectionMatrix"),fogType:d.getUniformLocation(h,"fogType"),fogDensity:d.getUniformLocation(h,"fogDensity"),fogNear:d.getUniformLocation(h,"fogNear"),fogFar:d.getUniformLocation(h,"fogFar"),fogColor:d.getUniformLocation(h,"fogColor"),alphaTest:d.getUniformLocation(h,"alphaTest")};var i=document.createElement("canvas");i.width=8,i.height=8;var n=i.getContext("2d");n.fillStyle="white",n.fillRect(0,0,8,8),u=new o.Texture(i),u.needsUpdate=!0}function r(){var t=d.createProgram(),i=d.createShader(d.VERTEX_SHADER),r=d.createShader(d.FRAGMENT_SHADER);return d.shaderSource(i,["precision "+e.getPrecision()+" float;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join("\n")),d.shaderSource(r,["precision "+e.getPrecision()+" float;","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\n")),d.compileShader(i),d.compileShader(r),d.attachShader(t,i),d.attachShader(t,r),d.linkProgram(t),t}function n(e,t){return e.z!==t.z?t.z-e.z:t.id-e.id}var a,s,h,c,l,u,d=e.context,f=e.state,p=new o.Vector3,m=new o.Quaternion,v=new o.Vector3;this.render=function(r,y){if(0!==t.length){void 0===h&&i(),d.useProgram(h),f.initAttributes(),f.enableAttribute(c.position),f.enableAttribute(c.uv),f.disableUnusedAttributes(),f.disable(d.CULL_FACE),f.enable(d.BLEND),d.bindBuffer(d.ARRAY_BUFFER,a),d.vertexAttribPointer(c.position,2,d.FLOAT,!1,16,0),d.vertexAttribPointer(c.uv,2,d.FLOAT,!1,16,8),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,s),d.uniformMatrix4fv(l.projectionMatrix,!1,y.projectionMatrix.elements),f.activeTexture(d.TEXTURE0),d.uniform1i(l.map,0);var g=0,b=0,x=r.fog;x?(d.uniform3f(l.fogColor,x.color.r,x.color.g,x.color.b),x instanceof o.Fog?(d.uniform1f(l.fogNear,x.near),d.uniform1f(l.fogFar,x.far),d.uniform1i(l.fogType,1),g=1,b=1):x instanceof o.FogExp2&&(d.uniform1f(l.fogDensity,x.density),d.uniform1i(l.fogType,2),g=2,b=2)):(d.uniform1i(l.fogType,0),g=0,b=0);for(var w=0,_=t.length;w<_;w++){var T=t[w];T.modelViewMatrix.multiplyMatrices(y.matrixWorldInverse,T.matrixWorld),T.z=-T.modelViewMatrix.elements[14]}t.sort(n);for(var E=[],w=0,_=t.length;w<_;w++){var T=t[w],S=T.material;d.uniform1f(l.alphaTest,S.alphaTest),d.uniformMatrix4fv(l.modelViewMatrix,!1,T.modelViewMatrix.elements),T.matrixWorld.decompose(p,m,v),E[0]=v.x,E[1]=v.y;var M=0;r.fog&&S.fog&&(M=b),g!==M&&(d.uniform1i(l.fogType,M),g=M),null!==S.map?(d.uniform2f(l.uvOffset,S.map.offset.x,S.map.offset.y),d.uniform2f(l.uvScale,S.map.repeat.x,S.map.repeat.y)):(d.uniform2f(l.uvOffset,0,0),d.uniform2f(l.uvScale,1,1)),d.uniform1f(l.opacity,S.opacity),d.uniform3f(l.color,S.color.r,S.color.g,S.color.b),d.uniform1f(l.rotation,S.rotation),d.uniform2fv(l.scale,E),f.setBlending(S.blending,S.blendEquation,S.blendSrc,S.blendDst),f.setDepthTest(S.depthTest),f.setDepthWrite(S.depthWrite),S.map&&S.map.image&&S.map.image.width?e.setTexture(S.map,0):e.setTexture(u,0),d.drawElements(d.TRIANGLES,6,d.UNSIGNED_SHORT,0)}f.enable(d.CULL_FACE),e.resetGLState()}}},o.CurveUtils={tangentQuadraticBezier:function(e,t,i,r){return 2*(1-e)*(i-t)+2*e*(r-i)},tangentCubicBezier:function(e,t,i,r,n){return-3*t*(1-e)*(1-e)+3*i*(1-e)*(1-e)-6*e*i*(1-e)+6*e*r*(1-e)-3*e*e*r+3*e*e*n},tangentSpline:function(e,t,i,r,n){return 6*e*e-6*e+(3*e*e-4*e+1)+(-6*e*e+6*e)+(3*e*e-2*e)},interpolate:function(e,t,i,r,n){var o=.5*(i-e),a=.5*(r-t),s=n*n;return(2*t-2*i+o+a)*(n*s)+(-3*t+3*i-2*o-a)*s+o*n+t}},o.GeometryUtils={merge:function(e,t,i){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var r;t instanceof o.Mesh&&(t.matrixAutoUpdate&&t.updateMatrix(),r=t.matrix,t=t.geometry),e.merge(t,r,i)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}},o.ImageUtils={crossOrigin:void 0,loadTexture:function(e,t,i,r){console.warn("THREE.ImageUtils.loadTexture is being deprecated. Use THREE.TextureLoader() instead.");var n=new o.TextureLoader;n.setCrossOrigin(this.crossOrigin);var a=n.load(e,i,void 0,r);return t&&(a.mapping=t),a},loadTextureCube:function(e,t,i,r){console.warn("THREE.ImageUtils.loadTextureCube is being deprecated. Use THREE.CubeTextureLoader() instead.");var n=new o.CubeTextureLoader;n.setCrossOrigin(this.crossOrigin);var a=n.load(e,i,void 0,r);return t&&(a.mapping=t),a},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}},o.SceneUtils={createMultiMaterialObject:function(e,t){for(var i=new o.Group,r=0,n=t.length;r<n;r++)i.add(new o.Mesh(e,t[r]));return i},detach:function(e,t,i){e.applyMatrix(t.matrixWorld),t.remove(e),i.add(e)},attach:function(e,t,i){var r=new o.Matrix4;r.getInverse(i.matrixWorld),e.applyMatrix(r),t.remove(e),i.add(e)}},o.ShapeUtils={area:function(e){for(var t=e.length,i=0,r=t-1,n=0;n<t;r=n++)i+=e[r].x*e[n].y-e[n].x*e[r].y;return.5*i},triangulate:function(){function e(e,t,i,r,n,o){var a,s,h,c,l,u,d,f,p;if(s=e[o[t]].x,h=e[o[t]].y,c=e[o[i]].x,l=e[o[i]].y,u=e[o[r]].x,d=e[o[r]].y,Number.EPSILON>(c-s)*(d-h)-(l-h)*(u-s))return!1;var m,v,y,g,b,x,w,_,T,E,S,M,C,A,D;for(m=u-c,v=d-l,y=s-u,g=h-d,b=c-s,x=l-h,a=0;a<n;a++)if(f=e[o[a]].x,p=e[o[a]].y,!(f===s&&p===h||f===c&&p===l||f===u&&p===d)&&(w=f-s,_=p-h,T=f-c,E=p-l,S=f-u,M=p-d,D=m*E-v*T,C=b*_-x*w,A=y*M-g*S,D>=-Number.EPSILON&&A>=-Number.EPSILON&&C>=-Number.EPSILON))return!1;return!0}return function(t,i){var r=t.length;if(r<3)return null;var n,a,s,h=[],c=[],l=[];if(o.ShapeUtils.area(t)>0)for(a=0;a<r;a++)c[a]=a;else for(a=0;a<r;a++)c[a]=r-1-a;var u=r,d=2*u;for(a=u-1;u>2;){if(d--<=0)return console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()"),i?l:h;if(n=a,u<=n&&(n=0),a=n+1,u<=a&&(a=0),s=a+1,u<=s&&(s=0),e(t,n,a,s,u,c)){var f,p,m,v,y;for(f=c[n],p=c[a],m=c[s],h.push([t[f],t[p],t[m]]),l.push([c[n],c[a],c[s]]),v=a,y=a+1;y<u;v++,y++)c[v]=c[y];u--,d=2*u}}return i?l:h}}(),triangulateShape:function(e,t){function i(e,t,i){return e.x!==t.x?e.x<t.x?e.x<=i.x&&i.x<=t.x:t.x<=i.x&&i.x<=e.x:e.y<t.y?e.y<=i.y&&i.y<=t.y:t.y<=i.y&&i.y<=e.y}function r(e,t,r,n,o){var a=t.x-e.x,s=t.y-e.y,h=n.x-r.x,c=n.y-r.y,l=e.x-r.x,u=e.y-r.y,d=s*h-a*c,f=s*l-a*u;if(Math.abs(d)>Number.EPSILON){var p;if(d>0){if(f<0||f>d)return[];if((p=c*l-h*u)<0||p>d)return[]}else{if(f>0||f<d)return[];if((p=c*l-h*u)>0||p<d)return[]}if(0===p)return!o||0!==f&&f!==d?[e]:[];if(p===d)return!o||0!==f&&f!==d?[t]:[];if(0===f)return[r];if(f===d)return[n];var m=p/d;return[{x:e.x+m*a,y:e.y+m*s}]}if(0!==f||c*l!=h*u)return[];var v=0===a&&0===s,y=0===h&&0===c;if(v&&y)return e.x!==r.x||e.y!==r.y?[]:[e];if(v)return i(r,n,e)?[e]:[];if(y)return i(e,t,r)?[r]:[];var g,b,x,w,_,T,E,S;return 0!==a?(e.x<t.x?(g=e,x=e.x,b=t,w=t.x):(g=t,x=t.x,b=e,w=e.x),r.x<n.x?(_=r,E=r.x,T=n,S=n.x):(_=n,E=n.x,T=r,S=r.x)):(e.y<t.y?(g=e,x=e.y,b=t,w=t.y):(g=t,x=t.y,b=e,w=e.y),r.y<n.y?(_=r,E=r.y,T=n,S=n.y):(_=n,E=n.y,T=r,S=r.y)),x<=E?w<E?[]:w===E?o?[]:[_]:w<=S?[_,b]:[_,T]:x>S?[]:x===S?o?[]:[g]:w<=S?[g,b]:[g,T]}function n(e,t,i,r){var n=t.x-e.x,o=t.y-e.y,a=i.x-e.x,s=i.y-e.y,h=r.x-e.x,c=r.y-e.y,l=n*s-o*a,u=n*c-o*h;if(Math.abs(l)>Number.EPSILON){var d=h*s-c*a;return l>0?u>=0&&d>=0:u>=0||d>=0}return u>0}for(var a,s,h,c,l,u,d={},f=e.concat(),p=0,m=t.length;p<m;p++)Array.prototype.push.apply(f,t[p]);for(a=0,s=f.length;a<s;a++)l=f[a].x+":"+f[a].y,void 0!==d[l]&&console.warn("THREE.Shape: Duplicate point",l),d[l]=a;var v=function(e,t){for(var i,o,a,s,h,c,l,u,d,f,p,m=e.concat(),v=[],y=[],g=0,b=t.length;g<b;g++)v.push(g);for(var x=0,w=2*v.length;v.length>0;){if(--w<0){console.log("Infinite Loop! Holes left:"+v.length+", Probably Hole outside Shape!");break}for(a=x;a<m.length;a++){s=m[a],o=-1;for(var g=0;g<v.length;g++)if(c=v[g],l=s.x+":"+s.y+":"+c,void 0===y[l]){i=t[c];for(var _=0;_<i.length;_++)if(h=i[_],function(e,t){var r=m.length-1,o=e-1;o<0&&(o=r);var a=e+1;a>r&&(a=0);var s=n(m[e],m[o],m[a],i[t]);if(!s)return!1;var h=i.length-1,c=t-1;c<0&&(c=h);var l=t+1;return l>h&&(l=0),!!(s=n(i[t],i[c],i[l],m[e]))}(a,_)&&!function(e,t){var i,n,o;for(i=0;i<m.length;i++)if(n=i+1,n%=m.length,o=r(e,t,m[i],m[n],!0),o.length>0)return!0;return!1}(s,h)&&!function(e,i){var n,o,a,s,h;for(n=0;n<v.length;n++)for(o=t[v[n]],a=0;a<o.length;a++)if(s=a+1,s%=o.length,h=r(e,i,o[a],o[s],!0),h.length>0)return!0;return!1}(s,h)){o=_,v.splice(g,1),u=m.slice(0,a+1),d=m.slice(a),f=i.slice(o),p=i.slice(0,o+1),m=u.concat(f).concat(p).concat(d),x=a;break}if(o>=0)break;y[l]=!0}if(o>=0)break}}return m}(e,t),y=o.ShapeUtils.triangulate(v,!1);for(a=0,s=y.length;a<s;a++)for(c=y[a],h=0;h<3;h++)l=c[h].x+":"+c[h].y,void 0!==(u=d[l])&&(c[h]=u);return y.concat()},isClockWise:function(e){return o.ShapeUtils.area(e)<0},b2:function(){function e(e,t){var i=1-e;return i*i*t}function t(e,t){return 2*(1-e)*e*t}function i(e,t){return e*e*t}return function(r,n,o,a){return e(r,n)+t(r,o)+i(r,a)}}(),b3:function(){function e(e,t){var i=1-e;return i*i*i*t}function t(e,t){var i=1-e;return 3*i*i*e*t}function i(e,t){return 3*(1-e)*e*e*t}function r(e,t){return e*e*e*t}return function(n,o,a,s,h){return e(n,o)+t(n,a)+i(n,s)+r(n,h)}}()},o.Audio=function(e){o.Object3D.call(this),this.type="Audio",this.context=e.context,this.source=this.context.createBufferSource(),this.source.onended=this.onEnded.bind(this),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.panner=this.context.createPanner(),this.panner.connect(this.gain),this.autoplay=!1,this.startTime=0,this.playbackRate=1,this.isPlaying=!1},o.Audio.prototype=Object.create(o.Object3D.prototype),o.Audio.prototype.constructor=o.Audio,o.Audio.prototype.load=function(e){var t=this,i=new XMLHttpRequest;return i.open("GET",e,!0),i.responseType="arraybuffer",i.onload=function(e){t.context.decodeAudioData(this.response,function(e){t.source.buffer=e,t.autoplay&&t.play()})},i.send(),this},o.Audio.prototype.play=function(){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");var e=this.context.createBufferSource();e.buffer=this.source.buffer,e.loop=this.source.loop,e.onended=this.source.onended,e.start(0,this.startTime),e.playbackRate.value=this.playbackRate,this.isPlaying=!0,this.source=e,this.connect()},o.Audio.prototype.pause=function(){this.source.stop(),this.startTime=this.context.currentTime},o.Audio.prototype.stop=function(){this.source.stop(),this.startTime=0},o.Audio.prototype.connect=function(){void 0!==this.filter?(this.source.connect(this.filter),this.filter.connect(this.panner)):this.source.connect(this.panner)},o.Audio.prototype.disconnect=function(){void 0!==this.filter?(this.source.disconnect(this.filter),this.filter.disconnect(this.panner)):this.source.disconnect(this.panner)},o.Audio.prototype.setFilter=function(e){!0===this.isPlaying?(this.disconnect(),this.filter=e,this.connect()):this.filter=e},o.Audio.prototype.getFilter=function(){return this.filter},o.Audio.prototype.setPlaybackRate=function(e){this.playbackRate=e,!0===this.isPlaying&&(this.source.playbackRate.value=this.playbackRate)},o.Audio.prototype.getPlaybackRate=function(){return this.playbackRate},o.Audio.prototype.onEnded=function(){this.isPlaying=!1};o.Audio.prototype.setLoop=function(e){this.source.loop=e},o.Audio.prototype.getLoop=function(){return this.source.loop},o.Audio.prototype.setRefDistance=function(e){this.panner.refDistance=e},o.Audio.prototype.getRefDistance=function(){return this.panner.refDistance},o.Audio.prototype.setRolloffFactor=function(e){this.panner.rolloffFactor=e},o.Audio.prototype.getRolloffFactor=function(){return this.panner.rolloffFactor},o.Audio.prototype.setVolume=function(e){this.gain.gain.value=e},o.Audio.prototype.getVolume=function(){return this.gain.gain.value},o.Audio.prototype.updateMatrixWorld=function(){var e=new o.Vector3;return function(t){o.Object3D.prototype.updateMatrixWorld.call(this,t),e.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(e.x,e.y,e.z)}}(),o.AudioListener=function(){o.Object3D.call(this),this.type="AudioListener",this.context=new(window.AudioContext||window.webkitAudioContext)},o.AudioListener.prototype=Object.create(o.Object3D.prototype),o.AudioListener.prototype.constructor=o.AudioListener,o.AudioListener.prototype.updateMatrixWorld=function(){var e=new o.Vector3,t=new o.Quaternion,i=new o.Vector3,r=new o.Vector3;return function(n){o.Object3D.prototype.updateMatrixWorld.call(this,n);var a=this.context.listener,s=this.up;this.matrixWorld.decompose(e,t,i),r.set(0,0,-1).applyQuaternion(t),a.setPosition(e.x,e.y,e.z),a.setOrientation(r.x,r.y,r.z,s.x,s.y,s.z)}}(),o.Curve=function(){},o.Curve.prototype={constructor:o.Curve,getPoint:function(e){return console.warn("THREE.Curve: Warning, getPoint() not implemented!"),null},getPointAt:function(e){var t=this.getUtoTmapping(e);return this.getPoint(t)},getPoints:function(e){e||(e=5);var t,i=[];for(t=0;t<=e;t++)i.push(this.getPoint(t/e));return i},getSpacedPoints:function(e){e||(e=5);var t,i=[];for(t=0;t<=e;t++)i.push(this.getPointAt(t/e));return i},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e||(e=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,i,r=[],n=this.getPoint(0),o=0;for(r.push(0),i=1;i<=e;i++)t=this.getPoint(i/e),o+=t.distanceTo(n),r.push(o),n=t;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var i,r=this.getLengths(),n=0,o=r.length;i=t||e*r[o-1];for(var a,s=0,h=o-1;s<=h;)if(n=Math.floor(s+(h-s)/2),(a=r[n]-i)<0)s=n+1;else{if(!(a>0)){h=n;break}h=n-1}if(n=h,r[n]===i){var c=n/(o-1);return c}var l=r[n],u=r[n+1],d=u-l,f=(i-l)/d,c=(n+f)/(o-1);return c},getTangent:function(e){var t=e-1e-4,i=e+1e-4;t<0&&(t=0),i>1&&(i=1);var r=this.getPoint(t);return this.getPoint(i).clone().sub(r).normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)}},o.Curve.Utils=o.CurveUtils,o.Curve.create=function(e,t){return e.prototype=Object.create(o.Curve.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},o.CurvePath=function(){this.curves=[],this.autoClose=!1},o.CurvePath.prototype=Object.create(o.Curve.prototype),o.CurvePath.prototype.constructor=o.CurvePath,o.CurvePath.prototype.add=function(e){this.curves.push(e)},o.CurvePath.prototype.closePath=function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new o.LineCurve(t,e))},o.CurvePath.prototype.getPoint=function(e){for(var t=e*this.getLength(),i=this.getCurveLengths(),r=0;r<i.length;){if(i[r]>=t){var n=i[r]-t,o=this.curves[r],a=1-n/o.getLength();return o.getPointAt(a)}r++}return null},o.CurvePath.prototype.getLength=function(){var e=this.getCurveLengths();return e[e.length-1]},o.CurvePath.prototype.getCurveLengths=function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e},o.CurvePath.prototype.createPointsGeometry=function(e){var t=this.getPoints(e,!0);return this.createGeometry(t)},o.CurvePath.prototype.createSpacedPointsGeometry=function(e){var t=this.getSpacedPoints(e,!0);return this.createGeometry(t)},o.CurvePath.prototype.createGeometry=function(e){for(var t=new o.Geometry,i=0,r=e.length;i<r;i++){var n=e[i];t.vertices.push(new o.Vector3(n.x,n.y,n.z||0))}return t},o.Path=function(e){o.CurvePath.call(this),this.actions=[],e&&this.fromPoints(e)},o.Path.prototype=Object.create(o.CurvePath.prototype),o.Path.prototype.constructor=o.Path,o.Path.prototype.fromPoints=function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y)},o.Path.prototype.moveTo=function(e,t){this.actions.push({action:"moveTo",args:[e,t]})},o.Path.prototype.lineTo=function(e,t){var i=this.actions[this.actions.length-1].args,r=i[i.length-2],n=i[i.length-1],a=new o.LineCurve(new o.Vector2(r,n),new o.Vector2(e,t));this.curves.push(a),this.actions.push({action:"lineTo",args:[e,t]})},o.Path.prototype.quadraticCurveTo=function(e,t,i,r){var n=this.actions[this.actions.length-1].args,a=n[n.length-2],s=n[n.length-1],h=new o.QuadraticBezierCurve(new o.Vector2(a,s),new o.Vector2(e,t),new o.Vector2(i,r));this.curves.push(h),this.actions.push({action:"quadraticCurveTo",args:[e,t,i,r]})},o.Path.prototype.bezierCurveTo=function(e,t,i,r,n,a){var s=this.actions[this.actions.length-1].args,h=s[s.length-2],c=s[s.length-1],l=new o.CubicBezierCurve(new o.Vector2(h,c),new o.Vector2(e,t),new o.Vector2(i,r),new o.Vector2(n,a));this.curves.push(l),this.actions.push({action:"bezierCurveTo",args:[e,t,i,r,n,a]})},o.Path.prototype.splineThru=function(e){var t=Array.prototype.slice.call(arguments),i=this.actions[this.actions.length-1].args,r=i[i.length-2],n=i[i.length-1],a=[new o.Vector2(r,n)];Array.prototype.push.apply(a,e);var s=new o.SplineCurve(a);this.curves.push(s),this.actions.push({action:"splineThru",args:t})},o.Path.prototype.arc=function(e,t,i,r,n,o){var a=this.actions[this.actions.length-1].args,s=a[a.length-2],h=a[a.length-1];this.absarc(e+s,t+h,i,r,n,o)},o.Path.prototype.absarc=function(e,t,i,r,n,o){this.absellipse(e,t,i,i,r,n,o)},o.Path.prototype.ellipse=function(e,t,i,r,n,o,a,s){var h=this.actions[this.actions.length-1].args,c=h[h.length-2],l=h[h.length-1];this.absellipse(e+c,t+l,i,r,n,o,a,s)},o.Path.prototype.absellipse=function(e,t,i,r,n,a,s,h){var c=[e,t,i,r,n,a,s,h||0],l=new o.EllipseCurve(e,t,i,r,n,a,s,h);this.curves.push(l);var u=l.getPoint(1);c.push(u.x),c.push(u.y),this.actions.push({action:"ellipse",args:c})},o.Path.prototype.getSpacedPoints=function(e,t){e||(e=40);for(var i=[],r=0;r<e;r++)i.push(this.getPoint(r/e));return i},o.Path.prototype.getPoints=function(e,t){e=e||12;for(var i,r,n,a,s,h,c,l,u,d,f,p=o.ShapeUtils.b2,m=o.ShapeUtils.b3,v=[],y=0,g=this.actions.length;y<g;y++){var b=this.actions[y],x=b.action,w=b.args;switch(x){case"moveTo":case"lineTo":v.push(new o.Vector2(w[0],w[1]));break;case"quadraticCurveTo":i=w[2],r=w[3],s=w[0],h=w[1],v.length>0?(u=v[v.length-1],c=u.x,l=u.y):(u=this.actions[y-1].args,c=u[u.length-2],l=u[u.length-1]);for(var _=1;_<=e;_++){var T=_/e;d=p(T,c,s,i),f=p(T,l,h,r),v.push(new o.Vector2(d,f))}break;case"bezierCurveTo":i=w[4],r=w[5],s=w[0],h=w[1],n=w[2],a=w[3],v.length>0?(u=v[v.length-1],c=u.x,l=u.y):(u=this.actions[y-1].args,c=u[u.length-2],l=u[u.length-1]);for(var _=1;_<=e;_++){var T=_/e;d=m(T,c,s,n,i),f=m(T,l,h,a,r),v.push(new o.Vector2(d,f))}break;case"splineThru":u=this.actions[y-1].args;var E=new o.Vector2(u[u.length-2],u[u.length-1]),S=[E],M=e*w[0].length;S=S.concat(w[0]);for(var C=new o.SplineCurve(S),_=1;_<=M;_++)v.push(C.getPointAt(_/M));break;case"arc":for(var A,D=w[0],k=w[1],I=w[2],P=w[3],R=w[4],F=!!w[5],O=R-P,L=2*e,_=1;_<=L;_++){var T=_/L;F||(T=1-T),A=P+T*O,d=D+I*Math.cos(A),f=k+I*Math.sin(A),v.push(new o.Vector2(d,f))}break;case"ellipse":var A,B,N,D=w[0],k=w[1],U=w[2],H=w[3],P=w[4],R=w[5],F=!!w[6],j=w[7],O=R-P,L=2*e;0!==j&&(B=Math.cos(j),N=Math.sin(j));for(var _=1;_<=L;_++){var T=_/L;if(F||(T=1-T),A=P+T*O,d=D+U*Math.cos(A),f=k+H*Math.sin(A),0!==j){var z=d,G=f;d=(z-D)*B-(G-k)*N+D,f=(z-D)*N+(G-k)*B+k}v.push(new o.Vector2(d,f))}}}var V=v[v.length-1];return Math.abs(V.x-v[0].x)<Number.EPSILON&&Math.abs(V.y-v[0].y)<Number.EPSILON&&v.splice(v.length-1,1),t&&v.push(v[0]),v},o.Path.prototype.toShapes=function(e,t){function i(e){for(var t=[],i=0,r=e.length;i<r;i++){var n=e[i],a=new o.Shape;a.actions=n.actions,a.curves=n.curves,t.push(a)}return t}var r=o.ShapeUtils.isClockWise,n=function(e){for(var t=[],i=new o.Path,r=0,n=e.length;r<n;r++){var a=e[r],s=a.args,h=a.action;"moveTo"===h&&0!==i.actions.length&&(t.push(i),i=new o.Path),i[h].apply(i,s)}return 0!==i.actions.length&&t.push(i),t}(this.actions);if(0===n.length)return[];if(!0===t)return i(n);var a,s,h,c=[];if(1===n.length)return s=n[0],h=new o.Shape,h.actions=s.actions,h.curves=s.curves,c.push(h),c;var l=!r(n[0].getPoints());l=e?!l:l;var u,d=[],f=[],p=[],m=0;f[m]=void 0,p[m]=[];for(var v=0,y=n.length;v<y;v++)s=n[v],u=s.getPoints(),a=r(u),a=e?!a:a,a?(!l&&f[m]&&m++,f[m]={s:new o.Shape,p:u},f[m].s.actions=s.actions,f[m].s.curves=s.curves,l&&m++,p[m]=[]):p[m].push({h:s,p:u[0]});if(!f[0])return i(n);if(f.length>1){for(var g=!1,b=[],x=0,w=f.length;x<w;x++)d[x]=[];for(var x=0,w=f.length;x<w;x++)for(var _=p[x],T=0;T<_.length;T++){for(var E=_[T],S=!0,M=0;M<f.length;M++)(function(e,t){for(var i=t.length,r=!1,n=i-1,o=0;o<i;n=o++){var a=t[n],s=t[o],h=s.x-a.x,c=s.y-a.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(a=t[o],h=-h,s=t[n],c=-c),e.y<a.y||e.y>s.y)continue;if(e.y===a.y){if(e.x===a.x)return!0}else{var l=c*(e.x-a.x)-h*(e.y-a.y);if(0===l)return!0;if(l<0)continue;r=!r}}else{if(e.y!==a.y)continue;if(s.x<=e.x&&e.x<=a.x||a.x<=e.x&&e.x<=s.x)return!0}}return r})(E.p,f[M].p)&&(x!==M&&b.push({froms:x,tos:M,hole:T}),S?(S=!1,d[M].push(E)):g=!0);S&&d[x].push(E)}b.length>0&&(g||(p=d))}for(var C,v=0,A=f.length;v<A;v++){h=f[v].s,c.push(h),C=p[v];for(var D=0,k=C.length;D<k;D++)h.holes.push(C[D].h)}return c},o.Shape=function(){o.Path.apply(this,arguments),this.holes=[]},o.Shape.prototype=Object.create(o.Path.prototype),o.Shape.prototype.constructor=o.Shape,o.Shape.prototype.extrude=function(e){return new o.ExtrudeGeometry(this,e)},o.Shape.prototype.makeGeometry=function(e){return new o.ShapeGeometry(this,e)},o.Shape.prototype.getPointsHoles=function(e){for(var t=[],i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t},o.Shape.prototype.extractAllPoints=function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},o.Shape.prototype.extractPoints=function(e){return this.extractAllPoints(e)},o.Shape.Utils=o.ShapeUtils,o.LineCurve=function(e,t){this.v1=e,this.v2=t},o.LineCurve.prototype=Object.create(o.Curve.prototype),o.LineCurve.prototype.constructor=o.LineCurve,o.LineCurve.prototype.getPoint=function(e){var t=this.v2.clone().sub(this.v1);return t.multiplyScalar(e).add(this.v1),t},o.LineCurve.prototype.getPointAt=function(e){return this.getPoint(e)},o.LineCurve.prototype.getTangent=function(e){return this.v2.clone().sub(this.v1).normalize()},o.QuadraticBezierCurve=function(e,t,i){this.v0=e,this.v1=t,this.v2=i},o.QuadraticBezierCurve.prototype=Object.create(o.Curve.prototype),o.QuadraticBezierCurve.prototype.constructor=o.QuadraticBezierCurve,o.QuadraticBezierCurve.prototype.getPoint=function(e){var t=o.ShapeUtils.b2;return new o.Vector2(t(e,this.v0.x,this.v1.x,this.v2.x),t(e,this.v0.y,this.v1.y,this.v2.y))},o.QuadraticBezierCurve.prototype.getTangent=function(e){var t=o.CurveUtils.tangentQuadraticBezier;return new o.Vector2(t(e,this.v0.x,this.v1.x,this.v2.x),t(e,this.v0.y,this.v1.y,this.v2.y)).normalize()},o.CubicBezierCurve=function(e,t,i,r){this.v0=e,this.v1=t,this.v2=i,this.v3=r},o.CubicBezierCurve.prototype=Object.create(o.Curve.prototype),o.CubicBezierCurve.prototype.constructor=o.CubicBezierCurve,o.CubicBezierCurve.prototype.getPoint=function(e){var t=o.ShapeUtils.b3;return new o.Vector2(t(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),t(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y))},o.CubicBezierCurve.prototype.getTangent=function(e){var t=o.CurveUtils.tangentCubicBezier;return new o.Vector2(t(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),t(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y)).normalize()},o.SplineCurve=function(e){this.points=void 0==e?[]:e},o.SplineCurve.prototype=Object.create(o.Curve.prototype),o.SplineCurve.prototype.constructor=o.SplineCurve,o.SplineCurve.prototype.getPoint=function(e){var t=this.points,i=(t.length-1)*e,r=Math.floor(i),n=i-r,a=t[0===r?r:r-1],s=t[r],h=t[r>t.length-2?t.length-1:r+1],c=t[r>t.length-3?t.length-1:r+2],l=o.CurveUtils.interpolate;return new o.Vector2(l(a.x,s.x,h.x,c.x,n),l(a.y,s.y,h.y,c.y,n))},o.EllipseCurve=function(e,t,i,r,n,o,a,s){this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=n,this.aEndAngle=o,this.aClockwise=a,this.aRotation=s||0},o.EllipseCurve.prototype=Object.create(o.Curve.prototype),o.EllipseCurve.prototype.constructor=o.EllipseCurve,o.EllipseCurve.prototype.getPoint=function(e){var t=this.aEndAngle-this.aStartAngle;t<0&&(t+=2*Math.PI),t>2*Math.PI&&(t-=2*Math.PI);var i;i=!0===this.aClockwise?this.aEndAngle+(1-e)*(2*Math.PI-t):this.aStartAngle+e*t;var r=this.aX+this.xRadius*Math.cos(i),n=this.aY+this.yRadius*Math.sin(i);if(0!==this.aRotation){var a=Math.cos(this.aRotation),s=Math.sin(this.aRotation),h=r,c=n;r=(h-this.aX)*a-(c-this.aY)*s+this.aX,n=(h-this.aX)*s+(c-this.aY)*a+this.aY}return new o.Vector2(r,n)},o.ArcCurve=function(e,t,i,r,n,a){o.EllipseCurve.call(this,e,t,i,i,r,n,a)},o.ArcCurve.prototype=Object.create(o.EllipseCurve.prototype),o.ArcCurve.prototype.constructor=o.ArcCurve,o.LineCurve3=o.Curve.create(function(e,t){this.v1=e,this.v2=t},function(e){var t=new o.Vector3;return t.subVectors(this.v2,this.v1),t.multiplyScalar(e),t.add(this.v1),t}),o.QuadraticBezierCurve3=o.Curve.create(function(e,t,i){this.v0=e,this.v1=t,this.v2=i},function(e){var t=o.ShapeUtils.b2;return new o.Vector3(t(e,this.v0.x,this.v1.x,this.v2.x),t(e,this.v0.y,this.v1.y,this.v2.y),t(e,this.v0.z,this.v1.z,this.v2.z))}),o.CubicBezierCurve3=o.Curve.create(function(e,t,i,r){this.v0=e,this.v1=t,this.v2=i,this.v3=r},function(e){var t=o.ShapeUtils.b3;return new o.Vector3(t(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),t(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y),t(e,this.v0.z,this.v1.z,this.v2.z,this.v3.z))}),o.SplineCurve3=o.Curve.create(function(e){console.warn("THREE.SplineCurve3 will be deprecated. Please use THREE.CatmullRomCurve3"),this.points=void 0==e?[]:e},function(e){var t=this.points,i=(t.length-1)*e,r=Math.floor(i),n=i-r,a=t[0==r?r:r-1],s=t[r],h=t[r>t.length-2?t.length-1:r+1],c=t[r>t.length-3?t.length-1:r+2],l=o.CurveUtils.interpolate;return new o.Vector3(l(a.x,s.x,h.x,c.x,n),l(a.y,s.y,h.y,c.y,n),l(a.z,s.z,h.z,c.z,n))}),o.CatmullRomCurve3=function(){function e(){}var t=new o.Vector3,i=new e,r=new e,n=new e;return e.prototype.init=function(e,t,i,r){this.c0=e,this.c1=i,this.c2=-3*e+3*t-2*i-r,this.c3=2*e-2*t+i+r},e.prototype.initNonuniformCatmullRom=function(e,t,i,r,n,o,a){var s=(t-e)/n-(i-e)/(n+o)+(i-t)/o,h=(i-t)/o-(r-t)/(o+a)+(r-i)/a;s*=o,h*=o,this.init(t,i,s,h)},e.prototype.initCatmullRom=function(e,t,i,r,n){this.init(t,i,n*(i-e),n*(r-t))},e.prototype.calc=function(e){var t=e*e,i=t*e;return this.c0+this.c1*e+this.c2*t+this.c3*i},o.Curve.create(function(e){this.points=e||[]},function(e){var a,s,h,c,l=this.points;c=l.length,c<2&&console.log("duh, you need at least 2 points"),a=(c-1)*e,s=Math.floor(a),0===(h=a-s)&&s===c-1&&(s=c-2,h=1);var u,d,f,p;if(0===s?(t.subVectors(l[0],l[1]).add(l[0]),u=t):u=l[s-1],d=l[s],f=l[s+1],s+2<c?p=l[s+2]:(t.subVectors(l[c-1],l[c-2]).add(l[c-2]),p=t),void 0===this.type||"centripetal"===this.type||"chordal"===this.type){var m="chordal"===this.type?.5:.25,v=Math.pow(u.distanceToSquared(d),m),y=Math.pow(d.distanceToSquared(f),m),g=Math.pow(f.distanceToSquared(p),m);y<1e-4&&(y=1),v<1e-4&&(v=y),g<1e-4&&(g=y),i.initNonuniformCatmullRom(u.x,d.x,f.x,p.x,v,y,g),r.initNonuniformCatmullRom(u.y,d.y,f.y,p.y,v,y,g),n.initNonuniformCatmullRom(u.z,d.z,f.z,p.z,v,y,g)}else if("catmullrom"===this.type){var b=void 0!==this.tension?this.tension:.5;i.initCatmullRom(u.x,d.x,f.x,p.x,b),r.initCatmullRom(u.y,d.y,f.y,p.y,b),n.initCatmullRom(u.z,d.z,f.z,p.z,b)}return new o.Vector3(i.calc(h),r.calc(h),n.calc(h))})}(),o.ClosedSplineCurve3=o.Curve.create(function(e){this.points=void 0==e?[]:e},function(e){var t=this.points,i=(t.length-0)*e,r=Math.floor(i),n=i-r;r+=r>0?0:(Math.floor(Math.abs(r)/t.length)+1)*t.length;var a=t[(r-1)%t.length],s=t[r%t.length],h=t[(r+1)%t.length],c=t[(r+2)%t.length],l=o.CurveUtils.interpolate;return new o.Vector3(l(a.x,s.x,h.x,c.x,n),l(a.y,s.y,h.y,c.y,n),l(a.z,s.z,h.z,c.z,n))}),o.BoxGeometry=function(e,t,i,r,n,a){function s(e,t,i,r,n,a,s,c){var l,u,d,f=h.widthSegments,p=h.heightSegments,m=n/2,v=a/2,y=h.vertices.length;"x"===e&&"y"===t||"y"===e&&"x"===t?l="z":"x"===e&&"z"===t||"z"===e&&"x"===t?(l="y",p=h.depthSegments):("z"===e&&"y"===t||"y"===e&&"z"===t)&&(l="x",f=h.depthSegments);var g=f+1,b=p+1,x=n/f,w=a/p,_=new o.Vector3;for(_[l]=s>0?1:-1,d=0;d<b;d++)for(u=0;u<g;u++){var T=new o.Vector3;T[e]=(u*x-m)*i,T[t]=(d*w-v)*r,T[l]=s,h.vertices.push(T)}for(d=0;d<p;d++)for(u=0;u<f;u++){var E=u+g*d,S=u+g*(d+1),M=u+1+g*(d+1),C=u+1+g*d,A=new o.Vector2(u/f,1-d/p),D=new o.Vector2(u/f,1-(d+1)/p),k=new o.Vector2((u+1)/f,1-(d+1)/p),I=new o.Vector2((u+1)/f,1-d/p),P=new o.Face3(E+y,S+y,C+y);P.normal.copy(_),P.vertexNormals.push(_.clone(),_.clone(),_.clone()),P.materialIndex=c,h.faces.push(P),h.faceVertexUvs[0].push([A,D,I]),P=new o.Face3(S+y,M+y,C+y),P.normal.copy(_),P.vertexNormals.push(_.clone(),_.clone(),_.clone()),P.materialIndex=c,h.faces.push(P),h.faceVertexUvs[0].push([D.clone(),k,I.clone()])}}o.Geometry.call(this),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:n,depthSegments:a},this.widthSegments=r||1,this.heightSegments=n||1,this.depthSegments=a||1;var h=this,c=e/2,l=t/2,u=i/2;s("z","y",-1,-1,i,t,c,0),s("z","y",1,-1,i,t,-c,1),s("x","z",1,1,e,i,l,2),s("x","z",1,-1,e,i,-l,3),s("x","y",1,-1,e,t,u,4),s("x","y",-1,-1,e,t,-u,5),this.mergeVertices()},o.BoxGeometry.prototype=Object.create(o.Geometry.prototype),o.BoxGeometry.prototype.constructor=o.BoxGeometry,o.BoxGeometry.prototype.clone=function(){var e=this.parameters;return new o.BoxGeometry(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)},o.CubeGeometry=o.BoxGeometry,o.CircleGeometry=function(e,t,i,r){o.Geometry.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},this.fromBufferGeometry(new o.CircleBufferGeometry(e,t,i,r))},o.CircleGeometry.prototype=Object.create(o.Geometry.prototype),o.CircleGeometry.prototype.constructor=o.CircleGeometry,o.CircleGeometry.prototype.clone=function(){var e=this.parameters;return new o.CircleGeometry(e.radius,e.segments,e.thetaStart,e.thetaLength)},o.CircleBufferGeometry=function(e,t,i,r){o.BufferGeometry.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},e=e||50,t=void 0!==t?Math.max(3,t):8,i=void 0!==i?i:0,r=void 0!==r?r:2*Math.PI;var n=t+2,a=new Float32Array(3*n),s=new Float32Array(3*n),h=new Float32Array(2*n);s[2]=1,h[0]=.5,h[1]=.5;for(var c=0,l=3,u=2;c<=t;c++,l+=3,u+=2){var d=i+c/t*r;a[l]=e*Math.cos(d),a[l+1]=e*Math.sin(d),s[l+2]=1,h[u]=(a[l]/e+1)/2,h[u+1]=(a[l+1]/e+1)/2}for(var f=[],l=1;l<=t;l++)f.push(l,l+1,0);this.setIndex(new o.BufferAttribute(new Uint16Array(f),1)),this.addAttribute("position",new o.BufferAttribute(a,3)),this.addAttribute("normal",new o.BufferAttribute(s,3)),this.addAttribute("uv",new o.BufferAttribute(h,2)),this.boundingSphere=new o.Sphere(new o.Vector3,e)},o.CircleBufferGeometry.prototype=Object.create(o.BufferGeometry.prototype),o.CircleBufferGeometry.prototype.constructor=o.CircleBufferGeometry,o.CircleBufferGeometry.prototype.clone=function(){var e=this.parameters;return new o.CircleBufferGeometry(e.radius,e.segments,e.thetaStart,e.thetaLength)},o.CylinderGeometry=function(e,t,i,r,n,a,s,h){o.Geometry.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:n,openEnded:a,thetaStart:s,thetaLength:h},e=void 0!==e?e:20,t=void 0!==t?t:20,i=void 0!==i?i:100,r=r||8,n=n||1,a=void 0!==a&&a,s=void 0!==s?s:0,h=void 0!==h?h:2*Math.PI;var c,l,u=i/2,d=[],f=[];for(l=0;l<=n;l++){var p=[],m=[],v=l/n,y=v*(t-e)+e;for(c=0;c<=r;c++){var g=c/r,b=new o.Vector3;b.x=y*Math.sin(g*h+s),b.y=-v*i+u,b.z=y*Math.cos(g*h+s),this.vertices.push(b),p.push(this.vertices.length-1),m.push(new o.Vector2(g,1-v))}d.push(p),f.push(m)}var x,w,_=(t-e)/i;for(c=0;c<r;c++)for(0!==e?(x=this.vertices[d[0][c]].clone(),w=this.vertices[d[0][c+1]].clone()):(x=this.vertices[d[1][c]].clone(),w=this.vertices[d[1][c+1]].clone()),x.setY(Math.sqrt(x.x*x.x+x.z*x.z)*_).normalize(),w.setY(Math.sqrt(w.x*w.x+w.z*w.z)*_).normalize(),l=0;l<n;l++){var T=d[l][c],E=d[l+1][c],S=d[l+1][c+1],M=d[l][c+1],C=x.clone(),A=x.clone(),D=w.clone(),k=w.clone(),I=f[l][c].clone(),P=f[l+1][c].clone(),R=f[l+1][c+1].clone(),F=f[l][c+1].clone();this.faces.push(new o.Face3(T,E,M,[C,A,k])),this.faceVertexUvs[0].push([I,P,F]),this.faces.push(new o.Face3(E,S,M,[A.clone(),D,k.clone()])),this.faceVertexUvs[0].push([P.clone(),R,F.clone()])}if(!1===a&&e>0)for(this.vertices.push(new o.Vector3(0,u,0)),c=0;c<r;c++){var T=d[0][c],E=d[0][c+1],S=this.vertices.length-1,C=new o.Vector3(0,1,0),A=new o.Vector3(0,1,0),D=new o.Vector3(0,1,0),I=f[0][c].clone(),P=f[0][c+1].clone(),R=new o.Vector2(P.x,0);this.faces.push(new o.Face3(T,E,S,[C,A,D],void 0,1)),this.faceVertexUvs[0].push([I,P,R])}if(!1===a&&t>0)for(this.vertices.push(new o.Vector3(0,-u,0)),c=0;c<r;c++){var T=d[n][c+1],E=d[n][c],S=this.vertices.length-1,C=new o.Vector3(0,-1,0),A=new o.Vector3(0,-1,0),D=new o.Vector3(0,-1,0),I=f[n][c+1].clone(),P=f[n][c].clone(),R=new o.Vector2(P.x,1);this.faces.push(new o.Face3(T,E,S,[C,A,D],void 0,2)),this.faceVertexUvs[0].push([I,P,R])}this.computeFaceNormals()},o.CylinderGeometry.prototype=Object.create(o.Geometry.prototype),o.CylinderGeometry.prototype.constructor=o.CylinderGeometry,o.CylinderGeometry.prototype.clone=function(){var e=this.parameters;return new o.CylinderGeometry(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)},o.EdgesGeometry=function(e,t){function i(e,t){return e-t}o.BufferGeometry.call(this),t=void 0!==t?t:1;var r,n=Math.cos(o.Math.degToRad(t)),a=[0,0],s={},h=["a","b","c"];e instanceof o.BufferGeometry?(r=new o.Geometry,r.fromBufferGeometry(e)):r=e.clone(),r.mergeVertices(),r.computeFaceNormals();for(var c=r.vertices,l=r.faces,u=0,d=l.length;u<d;u++)for(var f=l[u],p=0;p<3;p++){a[0]=f[h[p]],a[1]=f[h[(p+1)%3]],a.sort(i);var m=a.toString();void 0===s[m]?s[m]={vert1:a[0],vert2:a[1],face1:u,face2:void 0}:s[m].face2=u}var v=[];for(var m in s){var y=s[m];if(void 0===y.face2||l[y.face1].normal.dot(l[y.face2].normal)<=n){var g=c[y.vert1];v.push(g.x),v.push(g.y),v.push(g.z),g=c[y.vert2],v.push(g.x),v.push(g.y),v.push(g.z)}}this.addAttribute("position",new o.BufferAttribute(new Float32Array(v),3))},o.EdgesGeometry.prototype=Object.create(o.BufferGeometry.prototype),o.EdgesGeometry.prototype.constructor=o.EdgesGeometry,o.ExtrudeGeometry=function(e,t){if(void 0===e)return void(e=[]);o.Geometry.call(this),this.type="ExtrudeGeometry",e=Array.isArray(e)?e:[e],this.addShapeList(e,t),this.computeFaceNormals()},o.ExtrudeGeometry.prototype=Object.create(o.Geometry.prototype),o.ExtrudeGeometry.prototype.constructor=o.ExtrudeGeometry,o.ExtrudeGeometry.prototype.addShapeList=function(e,t){for(var i=e.length,r=0;r<i;r++){var n=e[r];this.addShape(n,t)}},o.ExtrudeGeometry.prototype.addShape=function(e,t){function i(e,t,i){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(i).add(e)}function r(e,t,i){var r,n,a=1,s=e.x-t.x,h=e.y-t.y,c=i.x-e.x,l=i.y-e.y,u=s*s+h*h,d=s*l-h*c;if(Math.abs(d)>Number.EPSILON){var f=Math.sqrt(u),p=Math.sqrt(c*c+l*l),m=t.x-h/f,v=t.y+s/f,y=i.x-l/p,g=i.y+c/p,b=((y-m)*l-(g-v)*c)/(s*l-h*c);r=m+s*b-e.x,n=v+h*b-e.y;var x=r*r+n*n;if(x<=2)return new o.Vector2(r,n);a=Math.sqrt(x/2)}else{var w=!1;s>Number.EPSILON?c>Number.EPSILON&&(w=!0):s<-Number.EPSILON?c<-Number.EPSILON&&(w=!0):Math.sign(h)===Math.sign(l)&&(w=!0),w?(r=-h,n=s,a=Math.sqrt(u)):(r=s,n=h,a=Math.sqrt(u/2))}return new o.Vector2(r/a,n/a)}function n(e,t){var i,r;for(V=e.length;--V>=0;){i=V,r=V-1,r<0&&(r=e.length-1);var n=0,o=x+2*y;for(n=0;n<o;n++){var a=j*n,s=j*(n+1);h(t+i+a,t+r+a,t+r+s,t+i+s,e,n,o,i,r)}}}function a(e,t,i){C.vertices.push(new o.Vector3(e,t,i))}function s(e,t,i){e+=A,t+=A,i+=A,C.faces.push(new o.Face3(e,t,i,null,null,0));var r=T.generateTopUV(C,e,t,i);C.faceVertexUvs[0].push(r)}function h(e,t,i,r,n,a,s,h,c){e+=A,t+=A,i+=A,r+=A,C.faces.push(new o.Face3(e,t,r,null,null,1)),C.faces.push(new o.Face3(t,i,r,null,null,1));var l=T.generateSideWallUV(C,e,t,i,r);C.faceVertexUvs[0].push([l[0],l[1],l[3]]),C.faceVertexUvs[0].push([l[1],l[2],l[3]])}var c,l,u,d,f,p=void 0!==t.amount?t.amount:100,m=void 0!==t.bevelThickness?t.bevelThickness:6,v=void 0!==t.bevelSize?t.bevelSize:m-2,y=void 0!==t.bevelSegments?t.bevelSegments:3,g=void 0===t.bevelEnabled||t.bevelEnabled,b=void 0!==t.curveSegments?t.curveSegments:12,x=void 0!==t.steps?t.steps:1,w=t.extrudePath,_=!1,T=void 0!==t.UVGenerator?t.UVGenerator:o.ExtrudeGeometry.WorldUVGenerator;w&&(c=w.getSpacedPoints(x),_=!0,g=!1,l=void 0!==t.frames?t.frames:new o.TubeGeometry.FrenetFrames(w,x,!1),u=new o.Vector3,d=new o.Vector3,f=new o.Vector3),g||(y=0,m=0,v=0);var E,S,M,C=this,A=this.vertices.length,D=e.extractPoints(b),k=D.shape,I=D.holes,P=!o.ShapeUtils.isClockWise(k);if(P){for(k=k.reverse(),S=0,M=I.length;S<M;S++)E=I[S],o.ShapeUtils.isClockWise(E)&&(I[S]=E.reverse());P=!1}var R=o.ShapeUtils.triangulateShape(k,I),F=k;for(S=0,M=I.length;S<M;S++)E=I[S],k=k.concat(E);for(var O,L,B,N,U,H,j=k.length,z=R.length,G=[],V=0,X=F.length,Y=X-1,W=V+1;V<X;V++,Y++,W++)Y===X&&(Y=0),W===X&&(W=0),G[V]=r(F[V],F[Y],F[W]);var q,$=[],K=G.concat();for(S=0,M=I.length;S<M;S++){for(E=I[S],q=[],V=0,X=E.length,Y=X-1,W=V+1;V<X;V++,Y++,W++)Y===X&&(Y=0),W===X&&(W=0),q[V]=r(E[V],E[Y],E[W]);$.push(q),K=K.concat(q)}for(O=0;O<y;O++){for(B=O/y,N=m*(1-B),L=v*Math.sin(B*Math.PI/2),V=0,X=F.length;V<X;V++)U=i(F[V],G[V],L),a(U.x,U.y,-N);for(S=0,M=I.length;S<M;S++)for(E=I[S],q=$[S],V=0,X=E.length;V<X;V++)U=i(E[V],q[V],L),a(U.x,U.y,-N)}for(L=v,V=0;V<j;V++)U=g?i(k[V],K[V],L):k[V],_?(d.copy(l.normals[0]).multiplyScalar(U.x),u.copy(l.binormals[0]).multiplyScalar(U.y),f.copy(c[0]).add(d).add(u),a(f.x,f.y,f.z)):a(U.x,U.y,0);var Z;for(Z=1;Z<=x;Z++)for(V=0;V<j;V++)U=g?i(k[V],K[V],L):k[V],_?(d.copy(l.normals[Z]).multiplyScalar(U.x),u.copy(l.binormals[Z]).multiplyScalar(U.y),f.copy(c[Z]).add(d).add(u),a(f.x,f.y,f.z)):a(U.x,U.y,p/x*Z);for(O=y-1;O>=0;O--){for(B=O/y,N=m*(1-B),L=v*Math.sin(B*Math.PI/2),V=0,X=F.length;V<X;V++)U=i(F[V],G[V],L),a(U.x,U.y,p+N);for(S=0,M=I.length;S<M;S++)for(E=I[S],q=$[S],V=0,X=E.length;V<X;V++)U=i(E[V],q[V],L),_?a(U.x,U.y+c[x-1].y,c[x-1].x+N):a(U.x,U.y,p+N)}!function(){if(g){var e=0,t=j*e;for(V=0;V<z;V++)H=R[V],s(H[2]+t,H[1]+t,H[0]+t);for(e=x+2*y,t=j*e,V=0;V<z;V++)H=R[V],s(H[0]+t,H[1]+t,H[2]+t)}else{for(V=0;V<z;V++)H=R[V],s(H[2],H[1],H[0]);for(V=0;V<z;V++)H=R[V],s(H[0]+j*x,H[1]+j*x,H[2]+j*x)}}(),function(){var e=0;for(n(F,e),e+=F.length,S=0,M=I.length;S<M;S++)E=I[S],n(E,e),e+=E.length}()},o.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(e,t,i,r){var n=e.vertices,a=n[t],s=n[i],h=n[r];return[new o.Vector2(a.x,a.y),new o.Vector2(s.x,s.y),new o.Vector2(h.x,h.y)]},generateSideWallUV:function(e,t,i,r,n){var a=e.vertices,s=a[t],h=a[i],c=a[r],l=a[n];return Math.abs(s.y-h.y)<.01?[new o.Vector2(s.x,1-s.z),new o.Vector2(h.x,1-h.z),new o.Vector2(c.x,1-c.z),new o.Vector2(l.x,1-l.z)]:[new o.Vector2(s.y,1-s.z),new o.Vector2(h.y,1-h.z),new o.Vector2(c.y,1-c.z),new o.Vector2(l.y,1-l.z)]}},o.ShapeGeometry=function(e,t){o.Geometry.call(this),this.type="ShapeGeometry",!1===Array.isArray(e)&&(e=[e]),this.addShapeList(e,t),this.computeFaceNormals()},o.ShapeGeometry.prototype=Object.create(o.Geometry.prototype),o.ShapeGeometry.prototype.constructor=o.ShapeGeometry,o.ShapeGeometry.prototype.addShapeList=function(e,t){for(var i=0,r=e.length;i<r;i++)this.addShape(e[i],t);return this},o.ShapeGeometry.prototype.addShape=function(e,t){void 0===t&&(t={});var i,r,n,a=void 0!==t.curveSegments?t.curveSegments:12,s=t.material,h=void 0===t.UVGenerator?o.ExtrudeGeometry.WorldUVGenerator:t.UVGenerator,c=this.vertices.length,l=e.extractPoints(a),u=l.shape,d=l.holes,f=!o.ShapeUtils.isClockWise(u);if(f){for(u=u.reverse(),i=0,r=d.length;i<r;i++)n=d[i],o.ShapeUtils.isClockWise(n)&&(d[i]=n.reverse());f=!1}var p=o.ShapeUtils.triangulateShape(u,d);for(i=0,r=d.length;i<r;i++)n=d[i],u=u.concat(n);var m,v,y=u.length,g=p.length;for(i=0;i<y;i++)m=u[i],this.vertices.push(new o.Vector3(m.x,m.y,0));for(i=0;i<g;i++){v=p[i];var b=v[0]+c,x=v[1]+c,w=v[2]+c;this.faces.push(new o.Face3(b,x,w,null,null,s)),this.faceVertexUvs[0].push(h.generateTopUV(this,b,x,w))}},o.LatheGeometry=function(e,t,i,r){o.Geometry.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=t||12,i=i||0,r=r||2*Math.PI;for(var n=1/(e.length-1),a=1/t,s=0,h=t;s<=h;s++)for(var c=i+s*a*r,l=Math.cos(c),u=Math.sin(c),d=0,f=e.length;d<f;d++){var p=e[d],m=new o.Vector3;m.x=l*p.x-u*p.y,m.y=u*p.x+l*p.y,m.z=p.z,this.vertices.push(m)}for(var v=e.length,s=0,h=t;s<h;s++)for(var d=0,f=e.length-1;d<f;d++){var y=d+v*s,g=y,b=y+v,l=y+1+v,x=y+1,w=s*a,_=d*n,T=w+a,E=_+n;this.faces.push(new o.Face3(g,b,x)),this.faceVertexUvs[0].push([new o.Vector2(w,_),new o.Vector2(T,_),new o.Vector2(w,E)]),this.faces.push(new o.Face3(b,l,x)),this.faceVertexUvs[0].push([new o.Vector2(T,_),new o.Vector2(T,E),new o.Vector2(w,E)])}this.mergeVertices(),this.computeFaceNormals(),this.computeVertexNormals()},o.LatheGeometry.prototype=Object.create(o.Geometry.prototype),o.LatheGeometry.prototype.constructor=o.LatheGeometry,o.PlaneGeometry=function(e,t,i,r){o.Geometry.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r},this.fromBufferGeometry(new o.PlaneBufferGeometry(e,t,i,r))},o.PlaneGeometry.prototype=Object.create(o.Geometry.prototype),o.PlaneGeometry.prototype.constructor=o.PlaneGeometry,o.PlaneGeometry.prototype.clone=function(){var e=this.parameters;return new o.PlaneGeometry(e.width,e.height,e.widthSegments,e.heightSegments)},o.PlaneBufferGeometry=function(e,t,i,r){o.BufferGeometry.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};for(var n=e/2,a=t/2,s=Math.floor(i)||1,h=Math.floor(r)||1,c=s+1,l=h+1,u=e/s,d=t/h,f=new Float32Array(c*l*3),p=new Float32Array(c*l*3),m=new Float32Array(c*l*2),v=0,y=0,g=0;g<l;g++)for(var b=g*d-a,x=0;x<c;x++){var w=x*u-n;f[v]=w,f[v+1]=-b,p[v+2]=1,m[y]=x/s,m[y+1]=1-g/h,v+=3,y+=2}v=0;for(var _=new(f.length/3>65535?Uint32Array:Uint16Array)(s*h*6),g=0;g<h;g++)for(var x=0;x<s;x++){var T=x+c*g,E=x+c*(g+1),S=x+1+c*(g+1),M=x+1+c*g;_[v]=T,_[v+1]=E,_[v+2]=M,_[v+3]=E,_[v+4]=S,_[v+5]=M,v+=6}this.setIndex(new o.BufferAttribute(_,1)),this.addAttribute("position",new o.BufferAttribute(f,3)),this.addAttribute("normal",new o.BufferAttribute(p,3)),this.addAttribute("uv",new o.BufferAttribute(m,2))},o.PlaneBufferGeometry.prototype=Object.create(o.BufferGeometry.prototype),o.PlaneBufferGeometry.prototype.constructor=o.PlaneBufferGeometry,o.PlaneBufferGeometry.prototype.clone=function(){var e=this.parameters;return new o.PlaneBufferGeometry(e.width,e.height,e.widthSegments,e.heightSegments)},o.RingGeometry=function(e,t,i,r,n,a){o.Geometry.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:n,thetaLength:a},e=e||0,t=t||50,n=void 0!==n?n:0,a=void 0!==a?a:2*Math.PI,i=void 0!==i?Math.max(3,i):8,r=void 0!==r?Math.max(1,r):8;var s,h,c=[],l=e,u=(t-e)/r;for(s=0;s<r+1;s++){for(h=0;h<i+1;h++){var d=new o.Vector3,f=n+h/i*a;d.x=l*Math.cos(f),d.y=l*Math.sin(f),this.vertices.push(d),c.push(new o.Vector2((d.x/t+1)/2,(d.y/t+1)/2))}l+=u}var p=new o.Vector3(0,0,1);for(s=0;s<r;s++){var m=s*(i+1);for(h=0;h<i;h++){var f=h+m,v=f,y=f+i+1,g=f+i+2;this.faces.push(new o.Face3(v,y,g,[p.clone(),p.clone(),p.clone()])),this.faceVertexUvs[0].push([c[v].clone(),c[y].clone(),c[g].clone()]),v=f,y=f+i+2,g=f+1,this.faces.push(new o.Face3(v,y,g,[p.clone(),p.clone(),p.clone()])),this.faceVertexUvs[0].push([c[v].clone(),c[y].clone(),c[g].clone()])}}this.computeFaceNormals(),this.boundingSphere=new o.Sphere(new o.Vector3,l)},o.RingGeometry.prototype=Object.create(o.Geometry.prototype),o.RingGeometry.prototype.constructor=o.RingGeometry,o.RingGeometry.prototype.clone=function(){var e=this.parameters;return new o.RingGeometry(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)},o.SphereGeometry=function(e,t,i,r,n,a,s){o.Geometry.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:n,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new o.SphereBufferGeometry(e,t,i,r,n,a,s))},o.SphereGeometry.prototype=Object.create(o.Geometry.prototype),o.SphereGeometry.prototype.constructor=o.SphereGeometry,o.SphereGeometry.prototype.clone=function(){var e=this.parameters;return new o.SphereGeometry(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)},o.SphereBufferGeometry=function(e,t,i,r,n,a,s){o.BufferGeometry.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:n,thetaStart:a,thetaLength:s},e=e||50,t=Math.max(3,Math.floor(t)||8),i=Math.max(2,Math.floor(i)||6),r=void 0!==r?r:0,n=void 0!==n?n:2*Math.PI,a=void 0!==a?a:0,s=void 0!==s?s:Math.PI;for(var h=a+s,c=(t+1)*(i+1),l=new o.BufferAttribute(new Float32Array(3*c),3),u=new o.BufferAttribute(new Float32Array(3*c),3),d=new o.BufferAttribute(new Float32Array(2*c),2),f=0,p=[],m=new o.Vector3,v=0;v<=i;v++){for(var y=[],g=v/i,b=0;b<=t;b++){var x=b/t,w=-e*Math.cos(r+x*n)*Math.sin(a+g*s),_=e*Math.cos(a+g*s),T=e*Math.sin(r+x*n)*Math.sin(a+g*s);m.set(w,_,T).normalize(),l.setXYZ(f,w,_,T),u.setXYZ(f,m.x,m.y,m.z),d.setXY(f,x,1-g),y.push(f),f++}p.push(y)}for(var E=[],v=0;v<i;v++)for(var b=0;b<t;b++){var S=p[v][b+1],M=p[v][b],C=p[v+1][b],A=p[v+1][b+1];(0!==v||a>0)&&E.push(S,M,A),(v!==i-1||h<Math.PI)&&E.push(M,C,A)}this.setIndex(new(l.count>65535?o.Uint32Attribute:o.Uint16Attribute)(E,1)),this.addAttribute("position",l),this.addAttribute("normal",u),this.addAttribute("uv",d),this.boundingSphere=new o.Sphere(new o.Vector3,e)},o.SphereBufferGeometry.prototype=Object.create(o.BufferGeometry.prototype),o.SphereBufferGeometry.prototype.constructor=o.SphereBufferGeometry,o.SphereBufferGeometry.prototype.clone=function(){var e=this.parameters;return new o.SphereBufferGeometry(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)},o.TorusGeometry=function(e,t,i,r,n){o.Geometry.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:n},e=e||100,t=t||40,i=i||8,r=r||6,n=n||2*Math.PI;for(var a=new o.Vector3,s=[],h=[],c=0;c<=i;c++)for(var l=0;l<=r;l++){var u=l/r*n,d=c/i*Math.PI*2;a.x=e*Math.cos(u),a.y=e*Math.sin(u);var f=new o.Vector3;f.x=(e+t*Math.cos(d))*Math.cos(u),f.y=(e+t*Math.cos(d))*Math.sin(u),f.z=t*Math.sin(d),this.vertices.push(f),s.push(new o.Vector2(l/r,c/i)),h.push(f.clone().sub(a).normalize())}for(var c=1;c<=i;c++)for(var l=1;l<=r;l++){var p=(r+1)*c+l-1,m=(r+1)*(c-1)+l-1,v=(r+1)*(c-1)+l,y=(r+1)*c+l,g=new o.Face3(p,m,y,[h[p].clone(),h[m].clone(),h[y].clone()]);this.faces.push(g),this.faceVertexUvs[0].push([s[p].clone(),s[m].clone(),s[y].clone()]),g=new o.Face3(m,v,y,[h[m].clone(),h[v].clone(),h[y].clone()]),this.faces.push(g),this.faceVertexUvs[0].push([s[m].clone(),s[v].clone(),s[y].clone()])}this.computeFaceNormals()},o.TorusGeometry.prototype=Object.create(o.Geometry.prototype),o.TorusGeometry.prototype.constructor=o.TorusGeometry,o.TorusGeometry.prototype.clone=function(){var e=this.parameters;return new o.TorusGeometry(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)},o.TorusKnotGeometry=function(e,t,i,r,n,a,s){function h(e,t,i,r,n){var a=Math.cos(e),s=Math.sin(e),h=t/i*e,c=Math.cos(h),l=r*(2+c)*.5*a,u=r*(2+c)*s*.5,d=n*r*Math.sin(h)*.5;return new o.Vector3(l,u,d)}o.Geometry.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,p:n,q:a,heightScale:s},e=e||100,t=t||40,i=i||64,r=r||8,n=n||2,a=a||3,s=s||1;for(var c=new Array(i),l=new o.Vector3,u=new o.Vector3,d=new o.Vector3,f=0;f<i;++f){c[f]=new Array(r);var p=f/i*2*n*Math.PI,m=h(p,a,n,e,s),v=h(p+.01,a,n,e,s);l.subVectors(v,m),u.addVectors(v,m),d.crossVectors(l,u),u.crossVectors(d,l),d.normalize(),u.normalize();for(var y=0;y<r;++y){var g=y/r*2*Math.PI,b=-t*Math.cos(g),x=t*Math.sin(g),w=new o.Vector3;w.x=m.x+b*u.x+x*d.x,w.y=m.y+b*u.y+x*d.y,w.z=m.z+b*u.z+x*d.z,c[f][y]=this.vertices.push(w)-1}}for(var f=0;f<i;++f)for(var y=0;y<r;++y){var _=(f+1)%i,T=(y+1)%r,E=c[f][y],S=c[_][y],M=c[_][T],C=c[f][T],A=new o.Vector2(f/i,y/r),D=new o.Vector2((f+1)/i,y/r),k=new o.Vector2((f+1)/i,(y+1)/r),I=new o.Vector2(f/i,(y+1)/r);this.faces.push(new o.Face3(E,S,C)),this.faceVertexUvs[0].push([A,D,I]),this.faces.push(new o.Face3(S,M,C)),this.faceVertexUvs[0].push([D.clone(),k,I.clone()])}this.computeFaceNormals(),this.computeVertexNormals()},o.TorusKnotGeometry.prototype=Object.create(o.Geometry.prototype),o.TorusKnotGeometry.prototype.constructor=o.TorusKnotGeometry,o.TorusKnotGeometry.prototype.clone=function(){var e=this.parameters;return new o.TorusKnotGeometry(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.p,e.q,e.heightScale)},o.TubeGeometry=function(e,t,i,r,n,a){o.Geometry.call(this),this.type="TubeGeometry",this.parameters={path:e,segments:t,radius:i,radialSegments:r,closed:n,taper:a},t=t||64,i=i||1,r=r||8,n=n||!1,a=a||o.TubeGeometry.NoTaper;var s,h,c,l,u,d,f,p,m,v,y,g,b,x,w,_,T,E,S,M,C=[],A=this,D=t+1,k=new o.Vector3,I=new o.TubeGeometry.FrenetFrames(e,t,n),P=I.tangents,R=I.normals,F=I.binormals;for(this.tangents=P,this.normals=R,this.binormals=F,m=0;m<D;m++)for(C[m]=[],c=m/(D-1),p=e.getPointAt(c),P[m],s=R[m],h=F[m],u=i*a(c),v=0;v<r;v++)l=v/r*2*Math.PI,d=-u*Math.cos(l),f=u*Math.sin(l),k.copy(p),k.x+=d*s.x+f*h.x,k.y+=d*s.y+f*h.y,k.z+=d*s.z+f*h.z,C[m][v]=function(e,t,i){return A.vertices.push(new o.Vector3(e,t,i))-1}(k.x,k.y,k.z);for(m=0;m<t;m++)for(v=0;v<r;v++)y=n?(m+1)%t:m+1,g=(v+1)%r,b=C[m][v],x=C[y][v],w=C[y][g],_=C[m][g],T=new o.Vector2(m/t,v/r),E=new o.Vector2((m+1)/t,v/r),S=new o.Vector2((m+1)/t,(v+1)/r),M=new o.Vector2(m/t,(v+1)/r),this.faces.push(new o.Face3(b,x,_)),this.faceVertexUvs[0].push([T,E,M]),this.faces.push(new o.Face3(x,w,_)),this.faceVertexUvs[0].push([E.clone(),S,M.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},o.TubeGeometry.prototype=Object.create(o.Geometry.prototype),o.TubeGeometry.prototype.constructor=o.TubeGeometry,o.TubeGeometry.prototype.clone=function(){return new this.constructor(this.parameters.path,this.parameters.segments,this.parameters.radius,this.parameters.radialSegments,this.parameters.closed,this.parameters.taper)},o.TubeGeometry.NoTaper=function(e){return 1},o.TubeGeometry.SinusoidalTaper=function(e){return Math.sin(Math.PI*e)},o.TubeGeometry.FrenetFrames=function(e,t,i){var r,n,a,s,h,c,l,u=new o.Vector3,d=[],f=[],p=[],m=new o.Vector3,v=new o.Matrix4,y=t+1;for(this.tangents=d,this.normals=f,this.binormals=p,c=0;c<y;c++)l=c/(y-1),d[c]=e.getTangentAt(l),d[c].normalize();for(function(){f[0]=new o.Vector3,p[0]=new o.Vector3,n=Number.MAX_VALUE,a=Math.abs(d[0].x),s=Math.abs(d[0].y),h=Math.abs(d[0].z),a<=n&&(n=a,u.set(1,0,0)),s<=n&&(n=s,u.set(0,1,0)),h<=n&&u.set(0,0,1),m.crossVectors(d[0],u).normalize(),f[0].crossVectors(d[0],m),p[0].crossVectors(d[0],f[0])}(),c=1;c<y;c++)f[c]=f[c-1].clone(),p[c]=p[c-1].clone(),m.crossVectors(d[c-1],d[c]),m.length()>Number.EPSILON&&(m.normalize(),r=Math.acos(o.Math.clamp(d[c-1].dot(d[c]),-1,1)),f[c].applyMatrix4(v.makeRotationAxis(m,r))),p[c].crossVectors(d[c],f[c]);if(i)for(r=Math.acos(o.Math.clamp(f[0].dot(f[y-1]),-1,1)),r/=y-1,d[0].dot(m.crossVectors(f[0],f[y-1]))>0&&(r=-r),c=1;c<y;c++)f[c].applyMatrix4(v.makeRotationAxis(d[c],r*c)),p[c].crossVectors(d[c],f[c])},o.PolyhedronGeometry=function(e,t,i,r){function n(e){var t=e.normalize().clone();t.index=l.vertices.push(t)-1;var i=s(e)/2/Math.PI+.5,r=h(e)/Math.PI+.5;return t.uv=new o.Vector2(i,1-r),t}function a(e,t,i,r){var n=new o.Face3(e.index,t.index,i.index,[e.clone(),t.clone(),i.clone()],void 0,r);l.faces.push(n),b.copy(e).add(t).add(i).divideScalar(3);var a=s(b);l.faceVertexUvs[0].push([c(e.uv,e,a),c(t.uv,t,a),c(i.uv,i,a)])}function s(e){return Math.atan2(e.z,-e.x)}function h(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}function c(e,t,i){return i<0&&1===e.x&&(e=new o.Vector2(e.x-1,e.y)),0===t.x&&0===t.z&&(e=new o.Vector2(i/2/Math.PI+.5,e.y)),e.clone()}o.Geometry.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r},i=i||1,r=r||0;for(var l=this,u=0,d=e.length;u<d;u+=3)n(new o.Vector3(e[u],e[u+1],e[u+2]));for(var f=this.vertices,p=[],u=0,m=0,d=t.length;u<d;u+=3,m++){var v=f[t[u]],y=f[t[u+1]],g=f[t[u+2]];p[m]=new o.Face3(v.index,y.index,g.index,[v.clone(),y.clone(),g.clone()],void 0,m)}for(var b=new o.Vector3,u=0,d=p.length;u<d;u++)!function(e,t){for(var i=Math.pow(2,t),r=n(l.vertices[e.a]),o=n(l.vertices[e.b]),s=n(l.vertices[e.c]),h=[],c=e.materialIndex,u=0;u<=i;u++){h[u]=[];for(var d=n(r.clone().lerp(s,u/i)),f=n(o.clone().lerp(s,u/i)),p=i-u,m=0;m<=p;m++)h[u][m]=0===m&&u===i?d:n(d.clone().lerp(f,m/p))}for(var u=0;u<i;u++)for(var m=0;m<2*(i-u)-1;m++){var v=Math.floor(m/2);m%2==0?a(h[u][v+1],h[u+1][v],h[u][v],c):a(h[u][v+1],h[u+1][v+1],h[u+1][v],c)}}(p[u],r);for(var u=0,d=this.faceVertexUvs[0].length;u<d;u++){var x=this.faceVertexUvs[0][u],w=x[0].x,_=x[1].x,T=x[2].x,E=Math.max(w,_,T),S=Math.min(w,_,T);E>.9&&S<.1&&(w<.2&&(x[0].x+=1),_<.2&&(x[1].x+=1),T<.2&&(x[2].x+=1))}for(var u=0,d=this.vertices.length;u<d;u++)this.vertices[u].multiplyScalar(i);this.mergeVertices(),this.computeFaceNormals(),this.boundingSphere=new o.Sphere(new o.Vector3,i)},o.PolyhedronGeometry.prototype=Object.create(o.Geometry.prototype),o.PolyhedronGeometry.prototype.constructor=o.PolyhedronGeometry,o.PolyhedronGeometry.prototype.clone=function(){var e=this.parameters;return new o.PolyhedronGeometry(e.vertices,e.indices,e.radius,e.detail)},o.DodecahedronGeometry=function(e,t){var i=(1+Math.sqrt(5))/2,r=1/i,n=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];o.PolyhedronGeometry.call(this,n,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}},o.DodecahedronGeometry.prototype=Object.create(o.PolyhedronGeometry.prototype),o.DodecahedronGeometry.prototype.constructor=o.DodecahedronGeometry,o.DodecahedronGeometry.prototype.clone=function(){var e=this.parameters;return new o.DodecahedronGeometry(e.radius,e.detail)},o.IcosahedronGeometry=function(e,t){var i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],n=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];o.PolyhedronGeometry.call(this,r,n,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}},o.IcosahedronGeometry.prototype=Object.create(o.PolyhedronGeometry.prototype),o.IcosahedronGeometry.prototype.constructor=o.IcosahedronGeometry,o.IcosahedronGeometry.prototype.clone=function(){var e=this.parameters;return new o.IcosahedronGeometry(e.radius,e.detail)},o.OctahedronGeometry=function(e,t){var i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];o.PolyhedronGeometry.call(this,i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}},o.OctahedronGeometry.prototype=Object.create(o.PolyhedronGeometry.prototype),o.OctahedronGeometry.prototype.constructor=o.OctahedronGeometry,o.OctahedronGeometry.prototype.clone=function(){var e=this.parameters;return new o.OctahedronGeometry(e.radius,e.detail)},o.TetrahedronGeometry=function(e,t){var i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];o.PolyhedronGeometry.call(this,i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}},o.TetrahedronGeometry.prototype=Object.create(o.PolyhedronGeometry.prototype),o.TetrahedronGeometry.prototype.constructor=o.TetrahedronGeometry,o.TetrahedronGeometry.prototype.clone=function(){var e=this.parameters;return new o.TetrahedronGeometry(e.radius,e.detail)},o.ParametricGeometry=function(e,t,i){o.Geometry.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:i};var r,n,a,s,h,c=this.vertices,l=this.faces,u=this.faceVertexUvs[0],d=t+1;for(r=0;r<=i;r++)for(h=r/i,n=0;n<=t;n++)s=n/t,a=e(s,h),c.push(a);var f,p,m,v,y,g,b,x;for(r=0;r<i;r++)for(n=0;n<t;n++)f=r*d+n,p=r*d+n+1,m=(r+1)*d+n+1,v=(r+1)*d+n,y=new o.Vector2(n/t,r/i),g=new o.Vector2((n+1)/t,r/i),b=new o.Vector2((n+1)/t,(r+1)/i),x=new o.Vector2(n/t,(r+1)/i),l.push(new o.Face3(f,p,v)),u.push([y,g,x]),l.push(new o.Face3(p,m,v)),u.push([g.clone(),b,x.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},o.ParametricGeometry.prototype=Object.create(o.Geometry.prototype),o.ParametricGeometry.prototype.constructor=o.ParametricGeometry,o.WireframeGeometry=function(e){function t(e,t){return e-t}o.BufferGeometry.call(this);var i=[0,0],r={},n=["a","b","c"];if(e instanceof o.Geometry){for(var a=e.vertices,s=e.faces,h=0,c=new Uint32Array(6*s.length),l=0,u=s.length;l<u;l++)for(var d=s[l],f=0;f<3;f++){i[0]=d[n[f]],i[1]=d[n[(f+1)%3]],i.sort(t);var p=i.toString();void 0===r[p]&&(c[2*h]=i[0],c[2*h+1]=i[1],r[p]=!0,h++)}for(var m=new Float32Array(2*h*3),l=0,u=h;l<u;l++)for(var f=0;f<2;f++){var v=a[c[2*l+f]],y=6*l+3*f;m[y+0]=v.x,m[y+1]=v.y,m[y+2]=v.z}this.addAttribute("position",new o.BufferAttribute(m,3))}else if(e instanceof o.BufferGeometry)if(null!==e.index){var g=e.index.array,a=e.attributes.position,b=e.drawcalls,h=0;0===b.length&&e.addGroup(0,g.length);for(var c=new Uint32Array(2*g.length),x=0,w=b.length;x<w;++x)for(var _=b[x],T=_.start,E=_.count,l=T,S=T+E;l<S;l+=3)for(var f=0;f<3;f++){i[0]=g[l+f],i[1]=g[l+(f+1)%3],i.sort(t);var p=i.toString();void 0===r[p]&&(c[2*h]=i[0],c[2*h+1]=i[1],r[p]=!0,h++)}for(var m=new Float32Array(2*h*3),l=0,u=h;l<u;l++)for(var f=0;f<2;f++){var y=6*l+3*f,M=c[2*l+f];m[y+0]=a.getX(M),m[y+1]=a.getY(M),m[y+2]=a.getZ(M)}this.addAttribute("position",new o.BufferAttribute(m,3))}else{for(var a=e.attributes.position.array,h=a.length/3,C=h/3,m=new Float32Array(2*h*3),l=0,u=C;l<u;l++)for(var f=0;f<3;f++){var y=18*l+6*f,A=9*l+3*f;m[y+0]=a[A],m[y+1]=a[A+1],m[y+2]=a[A+2];var M=9*l+(f+1)%3*3;m[y+3]=a[M],m[y+4]=a[M+1],m[y+5]=a[M+2]}this.addAttribute("position",new o.BufferAttribute(m,3))}},o.WireframeGeometry.prototype=Object.create(o.BufferGeometry.prototype),o.WireframeGeometry.prototype.constructor=o.WireframeGeometry,o.AxisHelper=function(e){e=e||1;var t=new Float32Array([0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e]),i=new Float32Array([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]),r=new o.BufferGeometry;r.addAttribute("position",new o.BufferAttribute(t,3)),r.addAttribute("color",new o.BufferAttribute(i,3));var n=new o.LineBasicMaterial({vertexColors:o.VertexColors});o.LineSegments.call(this,r,n)},o.AxisHelper.prototype=Object.create(o.LineSegments.prototype),o.AxisHelper.prototype.constructor=o.AxisHelper,o.ArrowHelper=function(){var e=new o.Geometry;e.vertices.push(new o.Vector3(0,0,0),new o.Vector3(0,1,0));var t=new o.CylinderGeometry(0,.5,1,5,1);return t.translate(0,-.5,0),function(i,r,n,a,s,h){o.Object3D.call(this),void 0===a&&(a=16776960),void 0===n&&(n=1),void 0===s&&(s=.2*n),void 0===h&&(h=.2*s),this.position.copy(r),s<n&&(this.line=new o.Line(e,new o.LineBasicMaterial({color:a})),this.line.matrixAutoUpdate=!1,this.add(this.line)),this.cone=new o.Mesh(t,new o.MeshBasicMaterial({color:a})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(i),this.setLength(n,s,h)}}(),o.ArrowHelper.prototype=Object.create(o.Object3D.prototype),o.ArrowHelper.prototype.constructor=o.ArrowHelper,o.ArrowHelper.prototype.setDirection=function(){var e,t=new o.Vector3;return function(i){i.y>.99999?this.quaternion.set(0,0,0,1):i.y<-.99999?this.quaternion.set(1,0,0,0):(t.set(i.z,0,-i.x).normalize(),e=Math.acos(i.y),this.quaternion.setFromAxisAngle(t,e))}}(),o.ArrowHelper.prototype.setLength=function(e,t,i){void 0===t&&(t=.2*e),void 0===i&&(i=.2*t),t<e&&(this.line.scale.set(1,e-t,1),this.line.updateMatrix()),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()},o.ArrowHelper.prototype.setColor=function(e){void 0!==this.line&&this.line.material.color.set(e),this.cone.material.color.set(e)},o.BoxHelper=function(e){var t=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),r=new o.BufferGeometry;r.setIndex(new o.BufferAttribute(t,1)),r.addAttribute("position",new o.BufferAttribute(i,3)),o.LineSegments.call(this,r,new o.LineBasicMaterial({color:16776960})),void 0!==e&&this.update(e)},o.BoxHelper.prototype=Object.create(o.LineSegments.prototype),o.BoxHelper.prototype.constructor=o.BoxHelper,o.BoxHelper.prototype.update=function(){var e=new o.Box3;return function(t){if(e.setFromObject(t),!e.empty()){var i=e.min,r=e.max,n=this.geometry.attributes.position,o=n.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=i.x,o[4]=r.y,o[5]=r.z,o[6]=i.x,o[7]=i.y,o[8]=r.z,o[9]=r.x,o[10]=i.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=i.z,o[15]=i.x,o[16]=r.y,o[17]=i.z,o[18]=i.x,o[19]=i.y,o[20]=i.z,o[21]=r.x,o[22]=i.y,o[23]=i.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),o.BoundingBoxHelper=function(e,t){var i=void 0!==t?t:8947848;this.object=e,this.box=new o.Box3,o.Mesh.call(this,new o.BoxGeometry(1,1,1),new o.MeshBasicMaterial({color:i,wireframe:!0}))},o.BoundingBoxHelper.prototype=Object.create(o.Mesh.prototype),o.BoundingBoxHelper.prototype.constructor=o.BoundingBoxHelper,o.BoundingBoxHelper.prototype.update=function(){this.box.setFromObject(this.object),this.box.size(this.scale),this.box.center(this.position)},o.CameraHelper=function(e){function t(e,t,r){i(e,r),i(t,r)}function i(e,t){r.vertices.push(new o.Vector3),r.colors.push(new o.Color(t)),void 0===a[e]&&(a[e]=[]),a[e].push(r.vertices.length-1)}var r=new o.Geometry,n=new o.LineBasicMaterial({color:16777215,vertexColors:o.FaceColors}),a={};t("n1","n2",16755200),t("n2","n4",16755200),t("n4","n3",16755200),t("n3","n1",16755200),t("f1","f2",16755200),t("f2","f4",16755200),t("f4","f3",16755200),t("f3","f1",16755200),t("n1","f1",16755200),t("n2","f2",16755200),t("n3","f3",16755200),t("n4","f4",16755200),t("p","n1",16711680),t("p","n2",16711680),t("p","n3",16711680),t("p","n4",16711680),t("u1","u2",43775),t("u2","u3",43775),t("u3","u1",43775),t("c","t",16777215),t("p","c",3355443),t("cn1","cn2",3355443),t("cn3","cn4",3355443),t("cf1","cf2",3355443),t("cf3","cf4",3355443),o.LineSegments.call(this,r,n),this.camera=e,this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()},o.CameraHelper.prototype=Object.create(o.LineSegments.prototype);o.CameraHelper.prototype.constructor=o.CameraHelper,o.CameraHelper.prototype.update=function(){function e(e,o,a,s){r.set(o,a,s).unproject(n);var h=i[e];if(void 0!==h)for(var c=0,l=h.length;c<l;c++)t.vertices[h[c]].copy(r)}var t,i,r=new o.Vector3,n=new o.Camera;return function(){t=this.geometry,i=this.pointMap;n.projectionMatrix.copy(this.camera.projectionMatrix),e("c",0,0,-1),e("t",0,0,1),e("n1",-1,-1,-1),e("n2",1,-1,-1),e("n3",-1,1,-1),e("n4",1,1,-1),e("f1",-1,-1,1),e("f2",1,-1,1),e("f3",-1,1,1),e("f4",1,1,1),e("u1",.7,1.1,-1),e("u2",-.7,1.1,-1),e("u3",0,2,-1),e("cf1",-1,0,1),e("cf2",1,0,1),e("cf3",0,-1,1),e("cf4",0,1,1),e("cn1",-1,0,-1),e("cn2",1,0,-1),e("cn3",0,-1,-1),e("cn4",0,1,-1),t.verticesNeedUpdate=!0}}(),o.DirectionalLightHelper=function(e,t){o.Object3D.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,t=t||1;var i=new o.Geometry;i.vertices.push(new o.Vector3(-t,t,0),new o.Vector3(t,t,0),new o.Vector3(t,-t,0),new o.Vector3(-t,-t,0),new o.Vector3(-t,t,0));var r=new o.LineBasicMaterial({fog:!1});r.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.lightPlane=new o.Line(i,r),this.add(this.lightPlane),i=new o.Geometry,i.vertices.push(new o.Vector3,new o.Vector3),r=new o.LineBasicMaterial({fog:!1}),r.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine=new o.Line(i,r),this.add(this.targetLine),this.update()},o.DirectionalLightHelper.prototype=Object.create(o.Object3D.prototype),o.DirectionalLightHelper.prototype.constructor=o.DirectionalLightHelper,o.DirectionalLightHelper.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},o.DirectionalLightHelper.prototype.update=function(){var e=new o.Vector3,t=new o.Vector3,i=new o.Vector3;return function(){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),i.subVectors(t,e),this.lightPlane.lookAt(i),this.lightPlane.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine.geometry.vertices[1].copy(i),this.targetLine.geometry.verticesNeedUpdate=!0,this.targetLine.material.color.copy(this.lightPlane.material.color)}}(),o.EdgesHelper=function(e,t,i){var r=void 0!==t?t:16777215;o.LineSegments.call(this,new o.EdgesGeometry(e.geometry,i),new o.LineBasicMaterial({color:r})),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1},o.EdgesHelper.prototype=Object.create(o.LineSegments.prototype),o.EdgesHelper.prototype.constructor=o.EdgesHelper,o.FaceNormalsHelper=function(e,t,i,r){this.object=e,this.size=void 0!==t?t:1;var n=void 0!==i?i:16776960,a=void 0!==r?r:1,s=0,h=this.object.geometry;h instanceof o.Geometry?s=h.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var c=new o.BufferGeometry,l=new o.Float32Attribute(2*s*3,3);c.addAttribute("position",l),o.LineSegments.call(this,c,new o.LineBasicMaterial({color:n,linewidth:a})),this.matrixAutoUpdate=!1,this.update()},o.FaceNormalsHelper.prototype=Object.create(o.LineSegments.prototype),o.FaceNormalsHelper.prototype.constructor=o.FaceNormalsHelper,o.FaceNormalsHelper.prototype.update=function(){var e=new o.Vector3,t=new o.Vector3,i=new o.Matrix3;return function(){this.object.updateMatrixWorld(!0),i.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,n=this.geometry.attributes.position,o=this.object.geometry,a=o.vertices,s=o.faces,h=0,c=0,l=s.length;c<l;c++){var u=s[c],d=u.normal;e.copy(a[u.a]).add(a[u.b]).add(a[u.c]).divideScalar(3).applyMatrix4(r),t.copy(d).applyMatrix3(i).normalize().multiplyScalar(this.size).add(e),n.setXYZ(h,e.x,e.y,e.z),h+=1,n.setXYZ(h,t.x,t.y,t.z),h+=1}return n.needsUpdate=!0,this}}(),o.GridHelper=function(e,t){var i=new o.Geometry,r=new o.LineBasicMaterial({vertexColors:o.VertexColors});this.color1=new o.Color(4473924),this.color2=new o.Color(8947848);for(var n=-e;n<=e;n+=t){i.vertices.push(new o.Vector3(-e,0,n),new o.Vector3(e,0,n),new o.Vector3(n,0,-e),new o.Vector3(n,0,e));var a=0===n?this.color1:this.color2;i.colors.push(a,a,a,a)}o.LineSegments.call(this,i,r)},o.GridHelper.prototype=Object.create(o.LineSegments.prototype),o.GridHelper.prototype.constructor=o.GridHelper,o.GridHelper.prototype.setColors=function(e,t){this.color1.set(e),this.color2.set(t),this.geometry.colorsNeedUpdate=!0},o.HemisphereLightHelper=function(e,t){o.Object3D.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.colors=[new o.Color,new o.Color];var i=new o.SphereGeometry(t,4,2);i.rotateX(-Math.PI/2);for(var r=0;r<8;r++)i.faces[r].color=this.colors[r<4?0:1];var n=new o.MeshBasicMaterial({vertexColors:o.FaceColors,wireframe:!0});this.lightSphere=new o.Mesh(i,n),this.add(this.lightSphere),this.update()},o.HemisphereLightHelper.prototype=Object.create(o.Object3D.prototype),o.HemisphereLightHelper.prototype.constructor=o.HemisphereLightHelper,o.HemisphereLightHelper.prototype.dispose=function(){this.lightSphere.geometry.dispose(),this.lightSphere.material.dispose()},o.HemisphereLightHelper.prototype.update=function(){var e=new o.Vector3;return function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity),this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity),this.lightSphere.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate()),this.lightSphere.geometry.colorsNeedUpdate=!0}}(),o.PointLightHelper=function(e,t){this.light=e,this.light.updateMatrixWorld();var i=new o.SphereGeometry(t,4,2),r=new o.MeshBasicMaterial({wireframe:!0,fog:!1});r.color.copy(this.light.color).multiplyScalar(this.light.intensity),o.Mesh.call(this,i,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1},o.PointLightHelper.prototype=Object.create(o.Mesh.prototype),o.PointLightHelper.prototype.constructor=o.PointLightHelper,o.PointLightHelper.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},o.PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},o.SkeletonHelper=function(e){this.bones=this.getBoneList(e);for(var t=new o.Geometry,i=0;i<this.bones.length;i++){this.bones[i].parent instanceof o.Bone&&(t.vertices.push(new o.Vector3),t.vertices.push(new o.Vector3),t.colors.push(new o.Color(0,0,1)),t.colors.push(new o.Color(0,1,0)))}t.dynamic=!0;var r=new o.LineBasicMaterial({vertexColors:o.VertexColors,depthTest:!1,depthWrite:!1,transparent:!0});o.LineSegments.call(this,t,r),this.root=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.update()},o.SkeletonHelper.prototype=Object.create(o.LineSegments.prototype),o.SkeletonHelper.prototype.constructor=o.SkeletonHelper,o.SkeletonHelper.prototype.getBoneList=function(e){var t=[];e instanceof o.Bone&&t.push(e);for(var i=0;i<e.children.length;i++)t.push.apply(t,this.getBoneList(e.children[i]));return t},o.SkeletonHelper.prototype.update=function(){for(var e=this.geometry,t=(new o.Matrix4).getInverse(this.root.matrixWorld),i=new o.Matrix4,r=0,n=0;n<this.bones.length;n++){var a=this.bones[n];a.parent instanceof o.Bone&&(i.multiplyMatrices(t,a.matrixWorld),e.vertices[r].setFromMatrixPosition(i),i.multiplyMatrices(t,a.parent.matrixWorld),e.vertices[r+1].setFromMatrixPosition(i),r+=2)}e.verticesNeedUpdate=!0,e.computeBoundingSphere()},o.SpotLightHelper=function(e){o.Object3D.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;var t=new o.CylinderGeometry(0,1,1,8,1,!0);t.translate(0,-.5,0),t.rotateX(-Math.PI/2);var i=new o.MeshBasicMaterial({wireframe:!0,fog:!1});this.cone=new o.Mesh(t,i),this.add(this.cone),this.update()},o.SpotLightHelper.prototype=Object.create(o.Object3D.prototype),o.SpotLightHelper.prototype.constructor=o.SpotLightHelper,o.SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},o.SpotLightHelper.prototype.update=function(){var e=new o.Vector3,t=new o.Vector3;return function(){var i=this.light.distance?this.light.distance:1e4,r=i*Math.tan(this.light.angle);this.cone.scale.set(r,r,i),e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(t.sub(e)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}(),o.VertexNormalsHelper=function(e,t,i,r){this.object=e,this.size=void 0!==t?t:1;var n=void 0!==i?i:16711680,a=void 0!==r?r:1,s=0,h=this.object.geometry;h instanceof o.Geometry?s=3*h.faces.length:h instanceof o.BufferGeometry&&(s=h.attributes.normal.count);var c=new o.BufferGeometry,l=new o.Float32Attribute(2*s*3,3);c.addAttribute("position",l),o.LineSegments.call(this,c,new o.LineBasicMaterial({color:n,linewidth:a})),this.matrixAutoUpdate=!1,this.update()},o.VertexNormalsHelper.prototype=Object.create(o.LineSegments.prototype),o.VertexNormalsHelper.prototype.constructor=o.VertexNormalsHelper,o.VertexNormalsHelper.prototype.update=function(){var e=new o.Vector3,t=new o.Vector3,i=new o.Matrix3;return function(){var r=["a","b","c"];this.object.updateMatrixWorld(!0),i.getNormalMatrix(this.object.matrixWorld);var n=this.object.matrixWorld,a=this.geometry.attributes.position,s=this.object.geometry;if(s instanceof o.Geometry)for(var h=s.vertices,c=s.faces,l=0,u=0,d=c.length;u<d;u++)for(var f=c[u],p=0,m=f.vertexNormals.length;p<m;p++){var v=h[f[r[p]]],y=f.vertexNormals[p];e.copy(v).applyMatrix4(n),t.copy(y).applyMatrix3(i).normalize().multiplyScalar(this.size).add(e),a.setXYZ(l,e.x,e.y,e.z),l+=1,a.setXYZ(l,t.x,t.y,t.z),l+=1}else if(s instanceof o.BufferGeometry)for(var g=s.attributes.position,b=s.attributes.normal,l=0,p=0,m=g.count;p<m;p++)e.set(g.getX(p),g.getY(p),g.getZ(p)).applyMatrix4(n),t.set(b.getX(p),b.getY(p),b.getZ(p)),t.applyMatrix3(i).normalize().multiplyScalar(this.size).add(e),a.setXYZ(l,e.x,e.y,e.z),l+=1,a.setXYZ(l,t.x,t.y,t.z),l+=1;return a.needsUpdate=!0,this}}(),o.WireframeHelper=function(e,t){var i=void 0!==t?t:16777215;o.LineSegments.call(this,new o.WireframeGeometry(e.geometry),new o.LineBasicMaterial({color:i})),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1},o.WireframeHelper.prototype=Object.create(o.LineSegments.prototype),o.WireframeHelper.prototype.constructor=o.WireframeHelper,o.ImmediateRenderObject=function(e){o.Object3D.call(this),this.material=e,this.render=function(e){}},o.ImmediateRenderObject.prototype=Object.create(o.Object3D.prototype),o.ImmediateRenderObject.prototype.constructor=o.ImmediateRenderObject,o.MorphBlendMesh=function(e,t){o.Mesh.call(this,e,t),this.animationsMap={},this.animationsList=[];var i=this.geometry.morphTargets.length,r=i-1,n=i/1;this.createAnimation("__default",0,r,n),this.setAnimationWeight("__default",1)},o.MorphBlendMesh.prototype=Object.create(o.Mesh.prototype),o.MorphBlendMesh.prototype.constructor=o.MorphBlendMesh,o.MorphBlendMesh.prototype.createAnimation=function(e,t,i,r){var n={start:t,end:i,length:i-t+1,fps:r,duration:(i-t)/r,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[e]=n,this.animationsList.push(n)},o.MorphBlendMesh.prototype.autoCreateAnimations=function(e){for(var t,i=/([a-z]+)_?(\d+)/,r={},n=this.geometry,o=0,a=n.morphTargets.length;o<a;o++){var s=n.morphTargets[o],h=s.name.match(i);if(h&&h.length>1){var c=h[1];r[c]||(r[c]={start:1/0,end:-1/0});var l=r[c];o<l.start&&(l.start=o),o>l.end&&(l.end=o),t||(t=c)}}for(var c in r){var l=r[c];this.createAnimation(c,l.start,l.end,e)}this.firstAnimation=t},o.MorphBlendMesh.prototype.setAnimationDirectionForward=function(e){var t=this.animationsMap[e];t&&(t.direction=1,t.directionBackwards=!1)},o.MorphBlendMesh.prototype.setAnimationDirectionBackward=function(e){var t=this.animationsMap[e];t&&(t.direction=-1,t.directionBackwards=!0)},o.MorphBlendMesh.prototype.setAnimationFPS=function(e,t){var i=this.animationsMap[e];i&&(i.fps=t,i.duration=(i.end-i.start)/i.fps)},o.MorphBlendMesh.prototype.setAnimationDuration=function(e,t){var i=this.animationsMap[e];i&&(i.duration=t,i.fps=(i.end-i.start)/i.duration)},o.MorphBlendMesh.prototype.setAnimationWeight=function(e,t){var i=this.animationsMap[e];i&&(i.weight=t)},o.MorphBlendMesh.prototype.setAnimationTime=function(e,t){var i=this.animationsMap[e];i&&(i.time=t)},o.MorphBlendMesh.prototype.getAnimationTime=function(e){var t=0,i=this.animationsMap[e];return i&&(t=i.time),t},o.MorphBlendMesh.prototype.getAnimationDuration=function(e){var t=-1,i=this.animationsMap[e];return i&&(t=i.duration),t},o.MorphBlendMesh.prototype.playAnimation=function(e){var t=this.animationsMap[e];t?(t.time=0,t.active=!0):console.warn("THREE.MorphBlendMesh: animation["+e+"] undefined in .playAnimation()")},o.MorphBlendMesh.prototype.stopAnimation=function(e){var t=this.animationsMap[e];t&&(t.active=!1)},o.MorphBlendMesh.prototype.update=function(e){for(var t=0,i=this.animationsList.length;t<i;t++){var r=this.animationsList[t];if(r.active){var n=r.duration/r.length;r.time+=r.direction*e,r.mirroredLoop?(r.time>r.duration||r.time<0)&&(r.direction*=-1,r.time>r.duration&&(r.time=r.duration,r.directionBackwards=!0),r.time<0&&(r.time=0,r.directionBackwards=!1)):(r.time=r.time%r.duration,r.time<0&&(r.time+=r.duration));var a=r.start+o.Math.clamp(Math.floor(r.time/n),0,r.length-1),s=r.weight;a!==r.currentFrame&&(this.morphTargetInfluences[r.lastFrame]=0,this.morphTargetInfluences[r.currentFrame]=1*s,this.morphTargetInfluences[a]=0,r.lastFrame=r.currentFrame,r.currentFrame=a);var h=r.time%n/n;r.directionBackwards&&(h=1-h),r.currentFrame!==r.lastFrame?(this.morphTargetInfluences[r.currentFrame]=h*s,this.morphTargetInfluences[r.lastFrame]=(1-h)*s):this.morphTargetInfluences[r.currentFrame]=s}}}},function(e,t,i){"use strict";nb.burette=i(201),nb.capacity=i(202),nb.commonFunc=i(192),nb.dumpSolid=i(207),nb.filter=i(208),nb.simpleBurette=i(209),nb.simpleButton=i(210),nb.simpleDrag=i(211),nb.simpleThermometer=i(212),nb.spirit=i(213),nb.testtube=i(214),nb.timelineProcessing=i(215),nb.microscopeWithThree=i(217),nb.eyepiece=i(243)},function(e,t,i){"use strict";nb.buretteEvent={BURETTE_POP:"burettePop",BURETTE_TAP:"buretteTap"},nb.buretteInfo={EMPTY:""};var r=[];nb.capacityContainer=function(){Object.defineProperty(this,"capacity",{get:function(){return this._capacity||0},set:function(e){e<=this.max_capacity&&e>=0&&(e<this.totalFrames&&this.gotoAndStop(e),this._capacity=e)}}),void 0==this.max_capacity&&(this.max_capacity=15),this.isFull=function(){return this.capacity==this.max_capacity},this.isEmpty=function(){return 0==this.capacity}},nb.burette=function(){function e(){a.emit(nb.buretteEvent.BURETTE_TAP);var e=h.burette.getCurrentCapacity(),i=.75*h.burette.getTotalCapacity(),r=0,o=h.isCorver()?.8:1.5;return TweenMax.to(a,o,{onComplete:function(){t()},onUpdate:function(){if(h.isCorver()){var o=e+(i-e)*this.progress(),s=o-h.burette.getCurrentCapacity();h.bottle.setCurrentCapacity(h.bottle.getCurrentCapacity()-.2*s),h.burette.setCurrentCapacity(o),l.length>0&&h.setEnabled(!1)}else{var c=null;if(l.length>0&&(c=l[0]),h.burette.getCurrentCapacity()>0){if(++r>5)return void(r=0);var u=h.burette.getCurrentCapacity(),d=e*(1-this.progress()),f=u-d;if(c&&(c.capacity-=f,c.capacity<=0)){TweenMax.killTweensOf(a);var p=l.shift();return h.emit("itemComplete",p),void setTimeout(t,500)}h.burette.setCurrentCapacity(d);var m=new PIXI.Graphics;n.push(m),m.beginFill(a.dropColor,a.dropAlpha),m.drawEllipse(0,0,6,12),h.stepRoot.addChild(m);var v=h.burette.getLocalBounds(),y=h.stepRoot.toLocal({x:v.x+v.width/2,y:v.y+v.height},h.burette);m.x=y.x,m.y=y.y,m.destory=function(){this.parent&&(TweenMax.killTweensOf(this),this.parent.removeChild(this),n.splice(this,1))},TweenMax.to(m,1.5,{y:m.y+800,alpha:0,onComplete:function(e){e.destory()},onCompleteParams:[m],onUpdate:function(){if(c){var e=c.container,t=e.liquidVertex;if(!t)return;var i=t[0],r=t[t.length-1];NBPoint.interpolate(i,r,.5),this.target.toGlobal({x:0,y:0}).y>r.y&&(this.target.destory(),e.addCapacity(f))}}}),h.emit(nb.buretteEvent.BURETTE_POP,{target:h.burette,drop:m})}}}})}function t(){var t=h.burette,i=new TimelineMax;if(l.length>0){var r=l[0];if(t.getCurrentCapacity()/t.getTotalCapacity()<.05)return void h.buretteReset().then(function(){e()});h.burette.parent===h?(h.parent.addChildWithSamePos(t),h.parent.addChildAt(t,0),i.add(TweenMax.to(h.burette,.5,{y:h.burette.y-300}))):h.parent.addChildWithSamePos(t);var n=l[0],o=n.container,a=h.burette.getBounds(),s=o.getBounds(),c=h.burette.getLocalBounds();h.burette.updateTransform(),o.updateTransform();var u={x:s.x+s.width/2,y:s.y},d={x:u.x,y:u.y-a.height};d=h.parent.toLocal(d),d.x-=c.x+c.width/2,d.y-=c.y+20,i.add(TweenMax.to(t,1,{x:d.x+(n.offsetX||0),y:d.y+(n.offsetY||0),onComplete:function(){e()}})),r.capacity>0&&TweenMax.to(h.burette,.8,{})}else{var f=h.buretteReset();f&&f.then(function(){h.emit("complete"),h.setEnabled(!0)})}}var i=this,n=[];this.burette.allowWave(!1);var o=!0,a=this;this.dropColor=16777215,this.dropAlpha=.3,this.bottle.setTotalCapacity(100),this.burette.setTotalCapacity(6),this.isCorver=function(){return this.burette.movie.hitTest(this.head)};var s={x:this.burette.x,y:this.burette.y},h=this;nb.capacityContainer.apply(this.burette.movie),this.burette.movie.isFull=this.bottle.isFull=function(){return this.capacity==this.max_capacity},this.burette.movie.isEmpty=this.bottle.isEmpty=function(){return 0==this.capacity},this.setEnabled=function(e){o=e,!1===e&&TweenMax.killTweensOf(this.burette)},this.addDripObj=function(e){-1===r.indexOf(e)&&r.push(e)},this.removeDripObj=function(e){var t=r.indexOf(e);-1!==t&&r.splice(t,1)},this.getEnabled=function(){return o},this.bottle.capacity=100;var c=this.parent;this.burette.on(NBDrag.event.START_DRAG,function(e){e.data.isPropagationStopped=!0,TweenMax.killTweensOf(this);var t=this.parent;c.addChildWithSamePos(this),t.parent.addChild(t)}),this.burette.on(NBDrag.event.STOP_DRAG,function(e){h.isCorver()&&(this.x=s.x,this.y=s.y,a.addChildAt(this,0))}),NBGesture.addGesture(this.burette,NBGesture.gesture.TAP,function(){!1!==o&&e()}),this.burette.on(TouchEvent.TOUCH_BEGIN,function(){i.burette.movie.gotoAndStop(1)}),this.burette.on(TouchEvent.TOUCH_END,function(){i.burette.movie.gotoAndStop(0)}),this.burette.on(TouchEvent.TOUCH_END_OUDSIDE,function(){i.burette.movie.gotoAndStop(0)}),this.tapCallBack=e,this.getDropAry=function(){return n},this.setCapacity=function(e){this.bottle.setCurrentCapacity(e),this.burette.setCurrentCapacity(0)},this.setTotalCapacity=function(e){this.bottle.setTotalCapacity(e)},this.setColor=function(e,t){this.bottle.setColor(e,t),this.burette.setColor(e,t)},this.setText=function(e,t,i,r){this.text.text=e,t&&(t+=" 'Microsoft YaHei'");var n={font:t||"40px 'Microsoft YaHei'",fill:i||0,align:r||"center"};this.text.style=n},this.setCapacity("75%");var l=[];this.bindContainer=function(e){if(e instanceof Array)for(var t=0;t<e.length;t++)this.bindContainer(e[t]);else e instanceof PIXI.DisplayObject?(e={container:e,capacity:4},l.push(e)):(e.capacity=e.capacity||4,l.push(e))},this.buretteReset=function(){if(h.burette.parent!==h){var e=h.parent.toLocal(s,h),t={x:e.x,y:e.y-300};return h.parent.addChild(h),new Promise(function(i,r){var n=new TimelineMax;n.add(GlobalEffect.bezierTo(h.burette,1,{x:t.x,y:t.y,ease:Sine.easeOut})),n.add(TweenMax.to(h.burette,1,{x:e.x,y:e.y,ease:Sine.easeIn,onComplete:function(){h.burette.emit(NBDrag.event.STOP_DRAG),i()}}))})}}},e.exports=nb.burette},function(e,t,i){"use strict";var r=i(78),n=i(203),o=i(174),a=i(83),s=i(206),h=i(77),c=.15,l=8/180*Math.PI,u=.1,d=80;e.exports=function(){function e(){if(this.parent&&!1!==this.visible&&0!==this.capacityVertex.length){var e=a.retrieveScale(this.worldTransform);if(C!=e){var t=Math.pow(C/e,2);this._currentCapacity/=t,C=e}m>l?m=l:m<-l&&(m=-l),m*=.99*E,g&&(v.identity(),v.rotate(m*Math.sin(y))),y+=u;var i=void 0,s=this.getGlobalVertexes(),h=n.getAABB(s),c=n.iterator,p=n.getDivideSpace,x=c(s,h,this.getCurrentCapacity()/this.capacityScale),_=Math.max(s[0].y,s[s.length-1].y);if(x){var T=this.liquidShape;if(!T){T=new PIXI.Graphics,this.liquidGra=[],this.liquidGra.push(T),this.liquidShape=T,this.addChild(this.liquidGraContainer),this.liquidGraContainer.addChild(T);var S=new PIXI.Graphics;this.addChild(S),S.beginFill(16711680,1),o.drawPolygon(S,w),this.liquidGraContainer.mask=S}T.clear();var M=x[0],A=x[x.length-1],D=p(s,M,A);if(D){this.liquidVertex=i=D.down,this.liquidVertexUp=D.up;for(var k=[],I=0;I<i.length;I++){var P=this.toLocal(i[I]);g&&v.applyInverse(P,P),k.push(P)}var R=k[0],F=k.length-1,O=k[F],L=this.waveAry;if(L&&(Math.abs(m)>.02||!0===b)){var B=NBPoint.distance(R,O),N=0;B>d&&(N=Math.min((NBPoint.distance(R,O)-d)/d,2,1));for(var U=1;U<L.length;U++){var H=L[U],j=NBPoint.interpolate(R,O,L[U-1].radio),z=NBPoint.interpolate(R,O,L[U].radio),G=NBPoint.interpolate(j,z,.5);H.angleX+=H.deltaOffset,H.angleY-=H.deltaOffset;var V=Math.abs(m/l)*N;b&&(V=1),G.x+=H.offsetX*Math.sin(H.angleX)*V,G.y+=H.offsetY*Math.sin(H.angleY)*V,k.push(G,z)}}T.beginFill(this._color,this._alpha);for(var X=0;X<k.length;X++){var Y=k[X];if(X<=F)0==X?T.moveTo(Y.x,Y.y):T.lineTo(Y.x,Y.y);else{var W=k[X-1],q=k[X],$=k[X+1];T.bezierCurveTo(W.x,W.y,q.x,q.y,$.x,$.y),X++}}T.endFill()}if(_-M.y>.01&&!this._hermetic){var K=Math.min(_-M.y,1.5*this.liquidSpeed);if(x=n.lineIntersect(s,new r(0,M.y+K),new r(1,M.y+K)),x.length<=1)return;var Z=p(s,x[0],x[x.length-1]);if(!Z)return;i=Z.down;var J=this.getCurrentCapacity(),Q=this.__bindContainer__,ee=J-n.getArea(i)*this.capacityScale;if(Q){var te=f([Q,{getCurrentCapacity:function(){return ee},getRybColor:this.getRybColor.bind(this),getColor:this.getColor.bind(this)}]);Q.setCurrentCapacity(Q.getCurrentCapacity()+ee),te&&Q.setColor(te.color,te.alpha)}this.setCurrentCapacity(this.getCurrentCapacity()-ee)}}}}function t(e){var t={};return t.r=e>>16,t.g=e>>8&255,t.b=255&e,t}function i(e){return(e.r<<16)+(e.g<<8)+e.b}function f(e){var t=e[0],i=e[1],r=i.getColor();if(16777215===r.color&&.2===r.alpha){var n=t.getCurrentCapacity(),o=i.getCurrentCapacity(),a=t.getColor();a.alpha<c&&(a.alpha=c);var s=n/(n+o)*(a.alpha-c)+c;return{color:a.color,alpha:s}}return null}var p={},m=0,v=new PIXI.Matrix,y=0,g=!0,b=!1,x=this._nbData_;this.visible=!1;var w=x.capacityVertex,_=this.parent,T=n.getAABB(w).width,E=function(){return Math.min(Math.pow(T/d,2),1)}();if(void 0===_.capacityScale){if(w){_.capacityVertex=[];for(var S=0;S<w.length;S++){var M=w[S];_.capacityVertex.push(new r(M.x,M.y))}}var C=void 0;_.initProperty=function(){var e=this;this.liquidSpeed=1,this.capacityScale=1,this._color=16777215,this._alpha=.2,this._currentCapacity=0,this._hermetic=!1,this.liquidGraContainer=new PIXI.Container,C=a.retrieveScale(this.worldTransform),this.on(h.gesture.PAN,function(e){m-=e.accX/100}),T>100&&this.createWave(),_.frameRoot.on("update",function(){e.$render()})},_.createWave=function(e){e=e||{},e.randY=e.randY||[10,20],e.speed=e.speed||1;var t=e.count||2,i=[],r=a.random(.85*u,1.15*u);r*=e.speed;for(var n=0;n<=t;n++){var o=n%2?1:-1;i.push({radio:n/t,deltaOffset:r*o,offsetX:a.random(-10,10),offsetY:a.random(e.randY),angleX:0,angleY:0})}this.waveAry=i},_.addIntoMask=function(e){this.liquidGraContainer.addChildWithSamePos(e)},_.setCurrentCapacity=function(e){"string"==typeof e&&(e=parseFloat(e.replace("%",""))/100,e*=this.getTotalCapacity());var t=Math.min(e,this.getTotalCapacity()),i=t-this._currentCapacity;i>0&&0!==this._currentCapacity&&(m+=i/this.getTotalCapacity()),this._currentCapacity=t},_.addCapacity=function(e){this.setCurrentCapacity(this.getCurrentCapacity()+e)},_.getCurrentCapacity=function(){return this._currentCapacity},_.getTotalCapacity=function(){return this.totalCapacity=n.getArea(this.capacityVertex),this.totalCapacity*this.capacityScale*this.getWorldScalePower()},_.getWorldScalePower=function(){var e=a.retrieveScale(this.worldTransform);return e*e},_.setTotalCapacity=function(e){var t=this.getTotalCapacity(),i=e/t;return this.capacityScale=i,this.capacityScale},_.$render=e,_.getGlobalVertexes=function(){for(var e=this.capacityVertex,t=[],i=0;i<e.length;i++){var n=new r(e[i].x,e[i].y);v.apply(n,n),this.worldTransform.apply(n,n),t.push(n)}return t},_.setHermetic=function(e){this._hermetic=e},_.setColor=function(e,r,n){var o=this;if(n){var a=t(this._color);console.log(a);var s=this._alpha||1,h=t(e);console.log(h);var c=r,l=n.timer,u=TweenMax.to(this,l,Object.assign({onUpdate:function(){var e=u.progress();console.log(e);var t={r:a.r+(h.r-a.r)*e,g:a.g+(h.g-a.g)*e,b:a.b+(h.b-a.b)*e};console.log(t),console.log(s+(c-s)*e),o.setColor(i(t),s+(c-s)*e)},onComplete:function(){o._color=e,o._alpha=r}},n));return u}this._color=e,this._alpha=r},_.getColor=function(){return{color:this._color,alpha:this._alpha}},_.setCapacityTween=function(e,t){var i=this;TweenMax.killTweensOf(p);var r=this.getCurrentCapacity();"string"==typeof e&&(e=parseFloat(e.replace("%",""))/100,e*=this.getTotalCapacity());var n,o=TweenMax.to(p,t,{onUpdate:function(){n=o.progress(),_.setCurrentCapacity(r+(e-r)*n),console.log(i.getCurrentCapacity())}});return o},_.bindContainer=function(e){_.__bindContainer__=e},_.getRybColor=function(){if(void 0===this._ryb_){var e=this.getColor().color;if(!e)return null;e=s.rgbToRyb([e>>16,e>>8&255,255&e]),this._ryb_=e}return this._ryb_.concat()},_.allowWave=function(e){g=e},_.setName=function(e){_.txt.text=e},_.showLiquid=function(e){var t=void 0,i=void 0;if(e?(t=e.alpha||1,i=e.alphaCapacity||0):(t=1,i=0),console.log(i),_.liquid)return TweenMax.to(_.liquid,1.5,{alpha:t,onStart:function(){_.setColor(_.getColor().color,i*_.getColor().alpha,{timer:1.5})}});throw"not a liquid to show"},_.hideLiquid=function(){return _.liquid?TweenMax.to(_.liquid,.5,{alpha:0,ease:Cubic.easeIn}):void 0},_.showName=function(){if(_.txt)return _.txt.visible=!0,TweenMax.to(_.txt,.5,{alpha:1})},_.hideName=function(){if(_.txt)return TweenMax.to(_.txt,.5,{alpha:0})},_.resetName=function(e){if(_.txt){var t=[];return t[0]=TweenMax.to(_.txt,.3,{alpha:0,onComplete:function(){_.setName(e),_.txt.visible=!0}}),t[1]=TweenMax.to(_.txt,.5,{alpha:1,delay:.3}),t}},_.getFluidLevelPos=function(){var e=this.liquidVertex[this.liquidVertex.length-1],t=this.liquidVertex[0];return{left:e,right:t,center:NBPoint.interpolate(e,t,.5)}},_.initProperty()}}},function(e,t,i){"use strict";var r={},n=i(204),o=(i(205),i(78));r.getArea=function(e,t){return r.getRealArea(e)/nb.PIXELS_PER_ML},r.getRealArea=function(e){for(var t=new o,i=e.length,r=0,n=0;n<i;n++){var a=e[n],s=e[(n+1)%i],h=a.sub(t),c=s.sub(t);r+=h.cross(c)}return r<0&&(r=-r),r/2||0},r.lineIntersect=function(e,t,i){for(var r=[],o=e.length,a=0;a<o;a++){var s=e[a],h=e[(a+1)%o];if(!n.isParallel(s,h,t,i)){var c=n.lineIntersect(t,i,s,h);n.containsPoint(c,s,h)&&(c.vertexA=a,c.vertexB=(a+1)%o,r.push(c))}}return r},r.containsPoint=function(e,t){for(var i=t.x,r=t.y,n=!1,o=0,a=e.length-1;o<e.length;a=o++){var s=e[o].x,h=e[o].y,c=e[a].x,l=e[a].y;h>r!=l>r&&i<(c-s)*(r-h)/(l-h)+s&&(n=!n)}return n},r.minkowskiDifference=function(e,t){var i,n,o=e.length,a=t.length,s=o*a,h=new Array(s),c=0;for(i=0;i<o;++i){var l=e[i];for(n=0;n<a;++n){var u=t[n];h[c++]=[l.x-u.x,l.y-u.y]}}return r.createConvexHull(h)},r.createConvexHull=function(e){var t,i,r=0,n=e[0][0];for(t=1;t<e.length;t++)((i=e[t][0])>n||i===n&&e[t][1]<e[r][1])&&(r=t,n=i);var o,a,s,h=e.length,c=[],l=0,u=r,d=[0,0],f=[0,0];do{for(c[l]=u,o=0,a=1;a<h;++a)if(o!==u){d[0]=e[o][0]-e[c[l]][0],d[1]=e[o][1]-e[c[l]][1],f[0]=e[a][0]-e[c[l]][0],f[1]=e[a][1]-e[c[l]][1],s=d[0]*f[1]-d[1]*f[0],s<0&&(o=a);var p=Math.sqrt(f[0]*f[0]+f[1]*f[1]),m=Math.sqrt(d[0]*d[0]+d[1]*d[1]);0===s&&p>m&&(o=a)}else o=a;++l,u=o}while(o!==r);var v=[];for(t=0;t<l;++t)v.push(e[c[t]]);return v},r.getMassCenter=function(e){for(var t,i,n,o=0,a=0,s=e.length-1,h=0;h<e.length;s=h++)i=e[h],n=e[s],t=n.cross(i),o+=(i.x+n.x)*t,a+=(i.y+n.y)*t;return t=6*r.getRealArea(e),{x:o/t,y:a/t}},r.getAABB=function(e){for(var t={x:e[0].x,y:e[0].y},i={x:t.x,y:t.y},r=1;r<e.length;r++){var n=e[r];t.x=Math.min(t.x,n.x),t.y=Math.min(t.y,n.y),i.x=Math.max(i.x,n.x),i.y=Math.max(i.y,n.y)}return{x:t.x,y:t.y,width:i.x-t.x,height:i.y-t.y}},r.drawPoly=function(e,t){t||(void 0===window.gra&&(window.gra=new PIXI.Graphics,chemicalMain.viewStack.addChild(window.gra)),t=window.gra),t.clear(),t.beginFill(16711680,.5);for(var i=0;i<e.length;i++)t.drawCircle(e[i].x,e[i].y,6)},r.getMinDistance=function(e,t,i){for(var r,n=e.length,o=1/0,a=0;a<n;a++){var s=e[a],h=e[(a+1)%n],c=h.sub(s);t.sub;var l=t.sub(s),u=l.projectTo(c),d=0;if(u.length()>c.length()||u.dot(c)<0){d=Math.min(t.sub(s).length(),t.sub(h).length());var f=t.sub(s).length(),p=t.sub(h).length();o>d&&(o=d,r=f>p?{x:h.x,y:h.y}:{x:s.x,y:s.y})}else{d=l.sub(u).length(),o>d&&(o=d,r={x:s.x+u.x,y:s.y+u.y})}}return i&&(i.minDis=o,i.projectPoint=r),o},r.getMinPerpendicularDistance=function(e,t){for(var i=e.length,r=1/0,n=0;n<i;n++){var o=e[n],a=e[(n+1)%i],s=a.sub(o);t.sub;var h=t.sub(o),c=h.projectTo(s);if(!(c.length()>s.length()||c.dot(s)<0)){var l=h.sub(c),u=l.length();r>u&&(r=u)}}return r},r.getDivideSpace=function(e,t,i,o){var a=void 0,s=void 0,h=void 0;if(o)a=t,s=i,h=o;else{if(!t||!i)return;h=r.lineIntersect(e,t,i),a=h[0],s=h[h.length-1]}if(void 0===a||void 0===s)return null;var c=a.y,l=[],u=[];l.push(a),u.push(a);for(var d=a.vertexB,f=1;;){var p=(d-1+e.length)%e.length,m=d%e.length;if(f<h.length&&n.containsPoint(h[f],e[p],e[m])&&(l.push(h[f]),u.push(h[f]),f++),e[m].y>=c&&l.push(e[m]),e[m].y<=c&&u.push(e[m]),++d%e.length===a.vertexB)break}return{result:h,up:u,down:l}},r.iterator=function(e,t,i,n){n=n||1;var a=new o(t.x,t.y+t.height/2),s=new o(t.x+t.width,t.y+t.height/2),h=r.getDivideSpace(e,a,s);if(null===h)return null;var c=r.getArea(h.down);return c/=n,Math.abs(c-i)>.1?i>c?r.iterator(h.up,{x:t.x,y:t.y,width:t.width,height:t.height/2},i-c,n):r.iterator(h.down,{x:t.x,y:t.y+t.height/2,width:t.width,height:t.height/2},i,n):h.result},e.exports=r},function(e,t,i){"use strict";var r={},n=i(78);r.lineIntersect=function(e,t,i,r){var o,a=new n,s=e.x,h=e.y,c=t.x,l=t.y,u=i.x,d=i.y,f=r.x,p=r.y,m=1e-7;o=c==s?(l-h)/(c-s+m):(l-h)/(c-s);var v;return v=f==u?(p-d)/(f-u+m):(p-d)/(f-u),a.x=o==v?(o*s-v*u+d-h)/(o-v+m):(o*s-v*u+d-h)/(o-v),a.y=o*a.x-o*s+h,a},r.isParallel=function(e,t,i,r){var n=t.x-e.x,o=t.y-e.y,a=r.x-i.x,s=r.y-i.y;return Math.abs(n*s-o*a)<.01},r.containsPoint=function(e,t,i){var n=t.x-e.x,o=t.y-e.y,a=i.x-e.x,s=i.y-e.y;return!!r.isParallel(t,e,i,e)&&n*a+o*s<=1e-10},e.exports=r},function(e,t,i){"use strict";var r={};r.sub=function(e,t){return e.x-=t.x,e.y-=t.y,e},e.exports=r},function(e,t,i){"use strict";function r(){var e=JSON.parse(JSON.stringify(g)),t=arguments[arguments.length-1];if("object"==(void 0===t?"undefined":v(t))&&t.constructor!=Array){var i=t;e.result=i.result||e.result,e.hex=void 0!==i.hex?i.hex:e.hex,arguments.length--}var r=[];r=arguments[0].constructor==Array&&"number"!=typeof arguments[0][0]?arguments[0]:arguments;for(var o=[],s=0,c=r.length;s<c;s++){var l=r[s];"string"==typeof l&&(l=a(l)),o.push(l)}var u=n(o);return"rgb"==e.result&&(u=p(u)),e.hex&&(u=h(u)),u}function n(e){for(var t=0,i=0,r=0,n=0,o=e.length;n<o;n++){var a=e[n];t+=a[0],i+=a[1],r+=a[2]}var s=Math.max(t,i,r),h=Math.min(s,255);return[Math.floor(t/s*h),Math.floor(i/s*h),Math.floor(r/s*h)]}function o(e,t){var i=t.concat([]);return i.sort(function(t,i){var r=a(t),n=a(i),o=a(e);return r=s(r),n=s(n),o=s(o),Math.sqrt(Math.pow(o[0]-r[0],2)+Math.pow(o[1]-r[1],2)+Math.pow(o[2]-r[2],2))-Math.sqrt(Math.pow(o[0]-n[0],2)+Math.pow(o[1]-n[1],2)+Math.pow(o[2]-n[2],2))}),i[0].replace("#","")}function a(e){var e=e.replace("#","");return[parseInt(e.substr(0,2),16),parseInt(e.substr(2,2),16),parseInt(e.substr(4,2),16)]}function s(e){var t,i,r,n,o,a=e[0]/255,s=e[1]/255,h=e[2]/255,c=Math.max(a,s,h),l=c-Math.min(a,s,h),u=function(e){return(c-e)/6/l+.5};return 0==l?n=o=0:(o=l/c,t=u(a),i=u(s),r=u(h),a===c?n=r-i:s===c?n=1/3+t-r:h===c&&(n=2/3+i-t),n<0?n+=1:n>1&&(n-=1)),[Math.round(360*n),Math.round(100*o),Math.round(100*c)]}function h(e){var t=Math.round(e[0]).toString(16);t=1==t.length?"0"+t:t;var i=Math.round(e[1]).toString(16);i=1==i.length?"0"+i:i;var r=Math.round(e[2]).toString(16);return r=1==r.length?"0"+r:r,t+i+r}function c(e,t,i){return t+e*e*(3-2*e)*(i-t)}function l(e,t,i){var r=c(i,1,.163),n=c(i,1,0),o=c(i,1,.5),a=c(i,1,.2),s=c(t,r,n),h=c(t,o,a);return Math.ceil(255*c(e,s,h))}function u(e,t,i){var r=c(i,1,.373),n=c(i,1,.66),o=c(i,0,0),a=c(i,.5,.094),s=c(t,r,n),h=c(t,o,a);return Math.ceil(255*c(e,s,h))}function d(e,t,i){var r=c(i,1,.6),n=c(i,0,.2),o=c(i,0,.5),a=c(i,0,0),s=c(t,r,n),h=c(t,o,a);return Math.ceil(255*c(e,s,h))}function f(e){var t,i,r;"string"==typeof e?(e=parseInt("0x"+e),e=[e],t=e>>16,i=e>>8&255,r=255&e):(t=e[0],i=e[1],r=e[2]);var n=Math.min(t,i,r);t-=n,i-=n,r-=n;var o=Math.max(t,i,r),a=Math.min(i,r);i-=a,r-=a,r&&a&&(r*=2,a*=2),t+=i,a+=i;var s=Math.max(t,a,r);if(s){var h=o/s;t*=h,a*=h,r*=h}return t+=n,a+=n,r+=n,[t,a,r]}function p(e,t){"string"==typeof e&&(e=a(e));var i=e[0]/255,r=e[1]/255,n=e[2]/255,o=l(i,r,n),s=u(i,r,n),c=d(i,r,n),f=[o,s,c];return t&&1==t.hex&&(f=h(f)),f}function m(e){var t=e[0],i=e[1],r=e[2],n=Math.min(t,i,r);t-=n,i-=n,r-=n;var o=Math.max(t,i,r),a=Math.min(t,i);t-=a,i-=a,r&&i&&(r/=2,i/=2),a+=i,r+=i;var s=Math.max(t,a,r);if(s){var h=o/s;t*=h,a*=h,r*=h}return t+=n,a+=n,r+=n,[t,a,r]}var v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y={},g={result:"ryb",hex:!0};y.mix=r,y.rybToRgb=f,y.rgbToRyb=m,y.findNearest=o,e.exports=y},function(e,t,i){"use strict";nb.dumpSolid=function(){},nb.dumpSolid.freeFall=function(e){return ParticleUtil.particles.add_solid_block.texture=e,ParticleUtil.getParticle(ParticleUtil.particles.add_solid_block)},nb.dumpSolid.freeFallSequence=function(e,t,i,r){var n=[],o=r||0;if(e instanceof Array){var a=e[0].y;e.forEach(function(e){a=Math.max(a,e.y)}),e.forEach(function(e){o=Math.random()*e.width/4-e.width/8,n.concat(nb.dumpSolid.freeFallSequence(e,t-e.y+a,i,o))})}else n=[TweenMax.to(e,1,{y:e.y+t-e.height-5,x:e.x+o,rotation:(o-5)*Math.PI/180,ease:Quad.easeIn,delay:o/i}),TweenMax.to(e,.3,{y:e.y+t-e.height+5,rotation:0,ease:Back.easeOut,delay:o/i+.9})];return n},e.exports=nb.dumpSolid},function(e,t,i){"use strict";nb.filterEvent={ON_START:"onStart",ON_STOP:"onStop"},nb.filter=function(){var e=this,t=this.rod.top;t.rotation=Math.PI,t.setTotalCapacity(3);var i=this.filt.buttom;i.rotation=Math.PI,i.setTotalCapacity(2);var r=this.maskFilter;r.y-=r.height;var n=void 0,o=void 0,a=0;t.bindContainer(i);var s=function(e){if(e.initProperty){n=e;var i=e.getColor();t.setColor(i.color,i.alpha/2)}},h=function(e){if(e.initProperty){o=e;var t=e.getColor();i.setColor(t.color,t.alpha/3)}};this.setFromToContainer=function(e,t){s(e),h(t),n&&o&&n.bindContainer(o)},this.on(nb.filterEvent.ON_START,function(){a=1,TweenMax.to(r,2,{y:r.y+r.height,ease:Quad.easeIn,onComplete:function(){e.parent.on("update",function(){1===a&&(t.setCurrentCapacity(100),i.setCurrentCapacity(100)),n.getCurrentCapacity()<=.01&&(a=0,r.y-=r.height)})}})}),this.getFromContainer=function(){return n},this.getToContainer=function(){return o}},e.exports=nb.filter},function(e,t,i){"use strict";var r=40,n=.3;nb.simpleBurette=function(){function e(){if(c)for(var e=c.getBounds(),t=0;t<s.length;t++){var i=s[t];i.background||(i.background=c.clone(),i.background.alpha=0);var r=i.suckContainer.getBounds();i.suckContainer.parent.addChild(i.background);var o=e.width-e.x>>1,a=r.x+r.width/2-o,h=r.y-e.height-50,l=i.suckContainer.parent.toLocal({x:a,y:h});i.background.visible=!0,i.background.x=l.x+i.offsetX,i.background.y=l.y+i.offsetY,TweenMax.to(i.background,.4,{alpha:n})}}function t(){for(var e=!1,t=0;t<s.length;t++){var i=s[t];i.background&&(this.hitTest(i.background)&&!e?(e=!0,TweenMax.to(i.background,.3,{alpha:.6})):TweenMax.to(i.background,.3,{alpha:n}))}}function i(){for(var e=0;e<s.length;e++)!function(e){var t=s[e];t.background&&TweenMax.to(t.background,.4,{alpha:0,onComplete:function(){t.background.visible=!1}})}(e);var t=void 0,i=void 0,n=void 0;if(s.forEach(function(e){if(!t){var r=e.suckContainer;(r.hitTest(a)||r.background&&r.background.hitTest(a))&&(t=r,i=e.dropContainer,n=e)}}),t){NBDrag.removeDrag(this),a.updateTransform();var h=t.getBounds(),c=a.getBounds(),l=h.x+h.width/2-c.width/2,u=h.y-c.height-r,d=new TimelineMax,f=a.parent.toLocal({x:l,y:u});d.add(GlobalEffect.bezierTo(a,1,{x:f.x,y:f.y}));var p=t.liquidVertex.concat().sort(function(e,t){return e.y<t.y}),m=p[0].y,v=p[p.length-1].y,y=(m+v)/2-c.height,g=l;f=a.parent.toLocal({x:g,y:y}),d.add(TweenMax.to(a,1.2,{onStart:function(){var e=t.parent.getChildIndex(t);a.parent.addChildAt(a,e)},x:f.x,y:f.y,onComplete:function(){var e=a.getCurrentCapacity(),r=n.liquidRatio||.8,s=a.getTotalCapacity()*r;TweenMax.to(a,1,{onUpdate:function(){var r=this.progress(),h=e+(s-e)*r,c=h-a.getCurrentCapacity(),l=t.getCurrentCapacity();t.getCurrentCapacity()<c&&(c=t.getCurrentCapacity(),TweenMax.killTweensOf(a),o(i,n)),t.setCurrentCapacity(l-c),a.addCapacity(c)},onComplete:function(){o(i,n)}})}}))}}function o(e,t){function i(){if(a.getCurrentCapacity()>0){if(++f>5)return void(f=0);var t=a.getCurrentCapacity(),i=d*(1-this.progress()),r=t-i;e.addCapacity(r),a.setCurrentCapacity(i);var n=new PIXI.Graphics;h.push(n),n.beginFill(a._color,a._alpha),n.drawEllipse(0,0,6,12),a.stepRoot.addChild(n);var o=a.getBounds(),s=a.stepRoot.toLocal({x:o.x+o.width/2,y:o.y+o.height});n.x=s.x,n.y=s.y,n.destory=function(){this.parent&&(TweenMax.killTweensOf(this),this.parent.removeChild(this),h.splice(this,1))},TweenMax.to(n,1.5,{y:n.y+800,alpha:0,onComplete:function(e){e.destory()},onCompleteParams:[n],onUpdate:function(){var t=e.liquidVertex;if(t){var i=t[t.length-1];this.target.toGlobal({x:0,y:0}).y>i.y&&(this.target.destory(),e.addCapacity(r))}}})}}if(e){var n=e.getBounds(),o=a.getBounds(),s=new TimelineMax,c=n.x+n.width/2-o.width/2,l=n.y-o.height-r,u=a.parent.toLocal({x:c,y:l});s.add(GlobalEffect.bezierTo(a,1,{x:u.x,y:u.y})),s.add(TweenMax.to(a,1,{onUpdate:i,onComplete:function(){NBDrag.addDrag(a),a.emit("complete",t)}}));var d=a.getCurrentCapacity(),f=0}}var a=this,s=[],h=[],c=void 0;this.background&&(c=this.background,c.visible=!1,c.alpha=0),NBDrag.addDrag(this),this.on(NBDrag.event.START_DRAG,e),this.on(NBDrag.event.DRAG_MOVE,t),this.on(NBDrag.event.STOP_DRAG,i),this.setTotalCapacity(10),this.clearContainer=function(){s.length=0},this.removeContainer=function(e){for(var t=0;t<s.length;t++){var i=s[t];if(e instanceof PIXI.DisplayObject){if(i.suckContainer===e){s.splice(t,1);break}}else if(i===e){s.splice(t,1);break}}},this.addContainer=function(e){if(e instanceof Array){var t=this;e.forEach(function(e){t.addContainer(e)})}else e.offsetX=e.offsetX||0,e.offsetY=e.offsetY||0,s.push(e)},this.getBottom=function(){var e=this.getBounds();return{x:e.x+e.width/2,y:e.y}}},e.exports=nb.simpleBurette},function(e,t,i){"use strict";nb.simpleButton=function(){function e(){this.gotoAndStop(1)}function t(){this.gotoAndStop(0)}this.addEventListener(TouchEvent.TOUCH_BEGIN,e),this.addEventListener(TouchEvent.TOUCH_END,t),this.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,t)},e.exports=nb.simpleButton},function(e,t,i){"use strict";(function(t){var i=t.nb,r=.3;i.simpleDrag=function(){function e(e){var t,i=[],r=1,n=0;do{if(t=e+"Target"+n,!(r=s[t]))break;var o,h=new PIXI.Sprite,c=!1;a.totalFrames>0?(c=!0,o=a[0],o.reverse()):(o=a.children.concat(),a.background instanceof PIXI.DisplayObject&&(o=[a.background])),o.forEach(function(e){if(e instanceof PIXI.DisplayObject||(e=e.dis),!e.mask)if(c){if(e.dis instanceof PIXI.Text)return;var t=e.clone();t&&h.addChild(t)}else{if(e instanceof PIXI.Text)return;var i=e.clone();i&&h.addChild(i)}}),r.addChild(h),h.x=0,h.y=0,r=h,r.alpha=0,r.name=t,i[n]=r,n++}while(r);return i}function t(){if(!this.dragging){if(a.txt&&!0===a.txt.visible&&(a.txt.visible=!1),-1===d)l=a.width,u=a.height,d=e(a.name),0===d.length&&console.warn(d);else if(0===d.length)return;f=0;for(var t=0;t<d.length;t++)TweenMax.to(d[t],.5,{alpha:r});a.addEventListener(NBDrag.event.DRAG_MOVE,n),a.addEventListener(NBDrag.event.STOP_DRAG,o),a.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,o),a.emit(i.simpleDrag.event.START_DRAG),this.dragging=!0}}function n(){TweenMax.killTweensOf(a);for(var e=0;e<d.length;e++)a.hitTest(d[e].parent)?(TweenMax.to(d[e],.5,{alpha:.6}),a.emit(i.simpleDrag.event.ON_HITTED,d[e].name.valueOf())):TweenMax.to(d[e],.5,{alpha:r})}function o(){var e=-1,r=-1,s=0;a.removeEventListener(NBDrag.event.START_DRAG,t),a.removeEventListener(NBDrag.event.DRAG_MOVE,n),a.removeEventListener(NBDrag.event.STOP_DRAG,o),a.removeEventListener(TouchEvent.TOUCH_END_OUDSIDE,o),NBDrag.removeDrag(a);for(var l=0;l<d.length;l++)TweenMax.to(d[l],.5,{alpha:0}),!1!==(s=a.hitTest(d[l].parent))&&(f=1,(-1===e||r<s)&&(e=l,r=s),console.log(r+l.toString()));if(1!==f)return this.dragging=!1,console.log(""+f+""),a.emit(i.simpleDrag.event.NOT_REACH_TARGET,f),a.txt&&(a.txt.visible=!0),NBDrag.addDrag(a),a.addEventListener(NBDrag.event.START_DRAG,t),void(f=0);a.emit(i.simpleDrag.event.REACH_TARGET_HITTED,d[e].name.valueOf()),TweenMax.to(a.scale,.5,{x:c,y:c}),TweenMax.to(a,.5,{x:d[e].parent.x,y:d[e].parent.y,rotation:h*Math.PI/180,onComplete:function(){return this.target.dragging=!1,console.log(" "),a.emit(i.simpleDrag.event.REACH_TARGET,d[e].name.valueOf()),d.splice(e,1),0===d.length?void a.emit(i.simpleDrag.event.FINISH_DRAG):(f=0,NBDrag.addDrag(a),a.addEventListener(NBDrag.event.START_DRAG,t),void(a.interactive=!1))}})}var a=arguments[0]||this,s=a.parent,h=arguments[1]||0;this.setRotation=function(e){h=e};var c=arguments[2]||1;this.setScale=function(e){c=e};var l=void 0,u=void 0,d=-1,f=0;NBDrag.addDrag(a),a.addEventListener(NBDrag.event.START_DRAG,t),a.removeSimpleDrag=function(){a.removeEventListener(NBDrag.event.START_DRAG,t)},a.resetSimpleDrag=function(){d=-1,a.dragging=!1,a.removeSimpleDrag(),NBDrag.addDrag(a),a.addEventListener(NBDrag.event.START_DRAG,t)}},i.simpleDrag.event={START_DRAG:"startSimpleDrag",ON_HITTED:"hitted",REACH_TARGET_HITTED:"onReachHitted",REACH_TARGET:"onReachTarget",NOT_REACH_TARGET:"notReachTarget",FINISH_DRAG:"finishDrag"},e.exports=i.simpleDrag}).call(t,i(1))},function(e,t,i){"use strict";nb.simpleThermometer=function(e){function t(e){e?s.set(Math.min(Math.max(e,n),o)):s.set(a)}var i=e||this,r=i.pointer,n=10,o=100,a=20,s={get:function(){return r.scale.y},set:function(e){r.scale.y=e}};i.setTemperature=function(e){t(e)},i.tweensToTemperature=function(e,t){return TweenMax.to(r.scale,t,{y:e})}},e.exports=nb.simpleThermometer},function(e,t,i){"use strict";(function(t){var i=t.nb;i.spirit=function(e){function t(){if(u.removeEventListener(i.spirit.event.LIGHT,t),f.parent===u){var e=new TimelineMax({repeat:0,onComplete:function(){u.emit(i.spirit.event.ON_LIGHT_UP)}});S=i.spirit.state.ON,w.visible=!1,w.x+=T.x,w.y+=T.y,l(),e.add(TweenMax.to(f,1,{y:f.y-50,alpha:0})),e.add(GlobalEffect.fadeIn(w)),e.add(GlobalEffect.bezierTo(w,1,{x:w.x-T.x,y:w.y-T.y,angle:30*-Math.PI/180,ease:Quad.easeOut,onComplete:function(){h()}})),e.add(GlobalEffect.fadeOut(w))}}function r(){u.removeEventListener(i.spirit.event.PUTOFF,r),p=f.clone(),d.addChild(p),p.x=u.x+m.x,p.y=u.y+m.y,GlobalEffect.fadeIn(p),NBDrag.addDrag(p),p.addEventListener(NBDrag.event.START_DRAG,n)}function n(){f.x=E.x,f.y=E.y,p.addEventListener(NBDrag.event.STOP_DRAG,o),TweenMax.to(f,.1,{alpha:.2})}function o(){p.removeEventListener(NBDrag.event.STOP_DRAG,o),TweenMax.to(f,.1,{alpha:0}),TweenMax.killTweensOf(p),p.hitTest(u)&&(NBDrag.removeDrag(p),p.removeEventListener(NBDrag.event.START_DRAG,n),a())}function a(){var e=new TimelineMax({repeat:0,onComplete:c});e.add(TweenMax.to(p,.5,{x:u.x+E.x+v.x,y:u.y+E.y+v.y,rotation:y})),e.add(TweenMax.to(p,.5,{x:u.x+E.x,delay:-.5,rotation:0,onComplete:function(){s(g,.95),s(b,.95)}})),e.add(TweenMax.to(p,.5,{y:u.y+E.y,delay:-.3,ease:Quad.easeOut,onUpdate:function(){s(g,.95),s(b,.95)}}))}function s(e,t){e.scale.x*=t,e.scale.y*=t}function h(){g&&b||(g=ParticleUtil.getParticle(ParticleUtil.particles.outSide_fire),u.addChild(g),g.bind(u,x.x-5,x.y-5),g.alpha=.6,g.visible=!0,g.scale.x=1.2,g.scale.y=1.1,b=ParticleUtil.getParticle(ParticleUtil.particles.spirit_fire_blue),u.addChild(b),b.bind(u,x.x+15,x.y-5),b.alpha=.2,b.visible=!0,b.scale.x=.7)}function c(){g&&(g.visible=!1,g.destroy(),g=null),b&&(b.visible=!0,b.destroy(),b=null)}function l(){_||(_=ParticleUtil.getParticle(ParticleUtil.particles.match_fire),w.addChild(_),_.bind(w,3,5),_.alpha=.2,_.visible=!0)}var u=this||e,d=u.parent,f=u.cover,p=void 0,m={x:700,y:250},v=(u.body,{x:100,y:-120}),y=45*Math.PI/180,g=void 0,b=void 0,x={x:56,y:20},w=u.stick;w.visible=!1;var _=void 0,T={x:300,y:100},E={x:f.x,y:f.y},S=i.spirit.state.COVERED;u.render=function(){return S===i.spirit.state.ON&&(g&&g.render(),b&&b.render(),_&&_.render(),!0)},u.autoLightUp=function(){S=i.spirit.state.ON,!0!==f.visible&&1!==f.alpha||GlobalEffect.fadeOut(f),h()},u.autoPutOff=function(){c(),S=i.spirit.state.OFF},u.setLightUpWithMatch=function(){u.addEventListener(i.spirit.event.LIGHT,t)},u.setPutOffWithCover=function(){u.addEventListener(i.spirit.event.PUTOFF,r)}},i.spirit.event={LIGHT:"light",PUTOFF:"putOff",ON_LIGHT_UP:"onLightUp"},i.spirit.state={ON:"on",OFF:"off",COVERED:"covered"},e.exports=i.spirit}).call(t,i(1))},function(e,t,i){"use strict";nb.testtube=function(){this.shake=function(e){}}},function(e,t,i){"use strict";var r=100,n=i(216);nb.timelineProcessing=function(e){function t(e){return Math.floor((e-P)/C*r)}function i(e){if("mouseup"===e.type||"touchend"===e.type||"touchendoutside"===e.type||"mouseupoutside"===e.type)G.dragEnd();else if("None"!==G.current){var t=B;B=e.data.global.x-e.target.worldTransform.tx,"Dragging"===G.current&&(E=t-B>=3?-1:t-B<=-3?1:0),G.doDrag(e)}}function o(){N.clear(),N.beginFill(16777215,1,0),N.drawRect(S.x,g.y,C,A)}function a(){return U=-1,M.forEach(function(e,t,i){Math.abs(i[t].x-S.x)<=I&&i[t].x>=S.x?U=t:i[t].x<S.x?i[t].stateDone.alpha=1:i[t].stateDone.alpha=0}),-1!==U}function s(e){return e>=P+C-.3}function h(e){return e<=P}function c(e){TweenMax.killTweensOf(S),s(e)?e=P+C:h(e)&&(e=P),TweenMax.to(S,0,{x:e,y:R}),o()}function l(){_.rotation+=F*z*E,T.rotation+=O*z*E}function u(){var e=j;j=(new Date).valueOf(),z=j-e}function d(){G.activitiesDone()}function f(){G.initState(),L&&x.addEventListener(TouchEvent.TOUCH_BEGIN,i)}function p(){G.reset()}var m=this||e;m.getProgress=function(){return H()/r};for(var v=m.parent,y=/frame\d+/;v;){if(!v)return void console.error(" step");if(y.exec(v.name))break;v=v.parent}var g=m.timelineBar,b=g.timelineBottom,x=m.shade,w=m.timelineClock,_=w.timelineClockMinite,T=w.timelineClockHour,E=1,S=m.timelineTimePointer;S.stateOn.alpha=0;var M=[],C=g.width,A=g.height,D=6e3,k=C/D,I=2;this.setDuration=function(e){D=e;var t=k;k=C/D,I*=k/t};var P=S.x,R=S.y,F=.01,O=F/60,L=!0;this.setDragable=function(e){L=e},M=function(){for(var e=[],i=0,r=/^timelineMileStone.+/,n=/timelineMileStone/,o=0;o<m.children.length;o++){var a=m.getChildAt(o);r.exec(a.name)&&(a.timeStamp=t(a.x),a.textValue=a.name.split(n)[1],TweenMax.to(a,0,{y:R}),a.stateDone.alpha=0,e[i]=a,i++)}return e}();var B=0,N=new PIXI.Graphics;N.clear(),N.beginFill(16777215,1,0),N.drawRect(S.x,g.y,C,A),b.addChild(N),b.mask=N;var U=-1,H=function(){return t(S.x)},j=void 0;j=(new Date).valueOf();var z=0;m.currentProgress=function(){return H()/r};var G=new n.create({initial:"None",events:[{name:"initState",from:"None",to:"Playing"},{name:"doDrag",from:["Playing","Waiting","Completed","Dragging"],to:"Dragging"},{name:"dragEnd",from:"Dragging",to:"Ready"},{name:"reachMileStone",from:"Playing",to:"Waiting"},{name:"activitiesDone",from:"Waiting",to:"Ready"},{name:"doComplete",from:["Playing","Ready"],to:"Completed"},{name:"setPlay",from:"Ready",to:"Playing"},{name:"setWait",from:"Ready",to:"Waiting"},{name:"reset",from:"Completed",to:"None"}],callbacks:{onenterNone:function(e,t,i){c(P),_.rotation=0,T.rotation=0},onenterPlaying:function(){m.emit(nb.timelineProcessing.event.ON_START_PLAY)},onPlaying:function(e,t,i){x.interactive=!0,c(k*z+S.x),l()},onenterWaiting:function(e,t,i){TweenMax.to(S.stateOn,.4,{alpha:1}),S.x=M[U].x,m.emit(nb.timelineProcessing.event.ON_REACHMILESTONE,M[U].textValue)},onleaveWaiting:function(e,t,i){U=-1,TweenMax.to(S.stateOn,.4,{alpha:0}),"doDrag"===e&&m.emit(nb.timelineProcessing.event.ON_STOP_WAIT)},onenterCompleted:function(e,t,i){x.interactive=!0,m.addEventListener(nb.timelineProcessing.event.ON_RESET,p),m.emit(nb.timelineProcessing.event.ON_COMPLETE)},onleaveCompleted:function(e,t,i){m.removeEventListener(nb.timelineProcessing.event.ON_RESET,p)},onDragging:function(e,t,i){a(),l()},onenterDragging:function(e,t,r){x.addEventListener(TouchEvent.TOUCH_MOVE,i),x.addEventListener(TouchEvent.TOUCH_END,i),x.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,i)},onleaveDragging:function(e,t,r){E=1,x.removeEventListener(TouchEvent.TOUCH_MOVE,i),x.removeEventListener(TouchEvent.TOUCH_END,i),x.removeEventListener(TouchEvent.TOUCH_END_OUDSIDE,i)},onenterReady:function(){x.interactive=!1,s(S.x)?G.doComplete():G.setPlay()},onReady:function(e,t,i){},ondoDrag:function(e,t,i){c(B)}}});v.on("update",function(){switch(u(),TweenMax.to(S,0,{y:R}),m.emit(nb.timelineProcessing.event.ON_PLAY,H()/r),G.current){case"None":m.on(nb.timelineProcessing.event.ON_INIT,f);break;case"Playing":G.onPlaying(),s(S.x)&&G.doComplete(),a()&&G.reachMileStone();break;case"Dragging":G.onDragging();break;case"Waiting":m.on(nb.timelineProcessing.event.ON_ACTIVITIESDONE,d);break;case"Ready":G.onReady();break;case"Completed":break;default:throw""+G.current}})},nb.timelineProcessing.event={ON_REACHMILESTONE:"onReachMilestone",ON_COMPLETE:"onComplete",ON_PLAY:"onPlay",ON_ACTIVITIESDONE:"onActivitiesDone",ON_STOP_WAIT:"onStopWait",ON_INIT:"onInit",ON_RESET:"onResetTimeline",ON_START_PLAY:"onStartPlay"},nb.timelineProcessing.milestoneState={UNREACHED:-1,ON:0,PASSED:1},e.exports=nb.timelineProcessing},function(e,t,i){!function(){var i={VERSION:"2.4.0",Result:{SUCCEEDED:1,NOTRANSITION:2,CANCELLED:3,PENDING:4},Error:{INVALID_TRANSITION:100,PENDING_TRANSITION:200,INVALID_CALLBACK:300},WILDCARD:"*",ASYNC:"async",create:function(e,t){var r="string"==typeof e.initial?{state:e.initial}:e.initial,n=e.terminal||e.final,o=t||e.target||{},a=e.events||[],s=e.callbacks||{},h={},c={},l=function(e){var t=Array.isArray(e.from)?e.from:e.from?[e.from]:[i.WILDCARD];h[e.name]=h[e.name]||{};for(var r=0;r<t.length;r++)c[t[r]]=c[t[r]]||[],c[t[r]].push(e.name),h[e.name][t[r]]=e.to||t[r];e.to&&(c[e.to]=c[e.to]||[])};r&&(r.event=r.event||"startup",l({name:r.event,from:"none",to:r.state}));for(var u=0;u<a.length;u++)l(a[u]);for(var d in h)h.hasOwnProperty(d)&&(o[d]=i.buildEvent(d,h[d]));for(var d in s)s.hasOwnProperty(d)&&(o[d]=s[d]);return o.current="none",o.is=function(e){return Array.isArray(e)?e.indexOf(this.current)>=0:this.current===e},o.can=function(e){return!this.transition&&void 0!==h[e]&&(h[e].hasOwnProperty(this.current)||h[e].hasOwnProperty(i.WILDCARD))},o.cannot=function(e){return!this.can(e)},o.transitions=function(){return(c[this.current]||[]).concat(c[i.WILDCARD]||[])},o.isFinished=function(){return this.is(n)},o.error=e.error||function(e,t,i,r,n,o,a){throw a||o},o.states=function(){return Object.keys(c).sort()},r&&!r.defer&&o[r.event](),o},doCallback:function(e,t,r,n,o,a){if(t)try{return t.apply(e,[r,n,o].concat(a))}catch(t){return e.error(r,n,o,a,i.Error.INVALID_CALLBACK,"an exception occurred in a caller-provided callback function",t)}},beforeAnyEvent:function(e,t,r,n,o){return i.doCallback(e,e.onbeforeevent,t,r,n,o)},afterAnyEvent:function(e,t,r,n,o){return i.doCallback(e,e.onafterevent||e.onevent,t,r,n,o)},leaveAnyState:function(e,t,r,n,o){return i.doCallback(e,e.onleavestate,t,r,n,o)},enterAnyState:function(e,t,r,n,o){return i.doCallback(e,e.onenterstate||e.onstate,t,r,n,o)},changeState:function(e,t,r,n,o){return i.doCallback(e,e.onchangestate,t,r,n,o)},beforeThisEvent:function(e,t,r,n,o){return i.doCallback(e,e["onbefore"+t],t,r,n,o)},afterThisEvent:function(e,t,r,n,o){return i.doCallback(e,e["onafter"+t]||e["on"+t],t,r,n,o)},leaveThisState:function(e,t,r,n,o){return i.doCallback(e,e["onleave"+r],t,r,n,o)},enterThisState:function(e,t,r,n,o){return i.doCallback(e,e["onenter"+n]||e["on"+n],t,r,n,o)},beforeEvent:function(e,t,r,n,o){if(!1===i.beforeThisEvent(e,t,r,n,o)||!1===i.beforeAnyEvent(e,t,r,n,o))return!1},afterEvent:function(e,t,r,n,o){i.afterThisEvent(e,t,r,n,o),i.afterAnyEvent(e,t,r,n,o)},leaveState:function(e,t,r,n,o){var a=i.leaveThisState(e,t,r,n,o),s=i.leaveAnyState(e,t,r,n,o);return!1!==a&&!1!==s&&(i.ASYNC===a||i.ASYNC===s?i.ASYNC:void 0)},enterState:function(e,t,r,n,o){i.enterThisState(e,t,r,n,o),i.enterAnyState(e,t,r,n,o)},buildEvent:function(e,t){return function(){var r=this.current,n=t[r]||(t[i.WILDCARD]!=i.WILDCARD?t[i.WILDCARD]:r)||r,o=Array.prototype.slice.call(arguments);if(this.transition)return this.error(e,r,n,o,i.Error.PENDING_TRANSITION,"event "+e+" inappropriate because previous transition did not complete");if(this.cannot(e))return this.error(e,r,n,o,i.Error.INVALID_TRANSITION,"event "+e+" inappropriate in current state "+this.current);if(!1===i.beforeEvent(this,e,r,n,o))return i.Result.CANCELLED;if(r===n)return i.afterEvent(this,e,r,n,o),i.Result.NOTRANSITION;var a=this;this.transition=function(){return a.transition=null,a.current=n,i.enterState(a,e,r,n,o),i.changeState(a,e,r,n,o),i.afterEvent(a,e,r,n,o),i.Result.SUCCEEDED},this.transition.cancel=function(){a.transition=null,i.afterEvent(a,e,r,n,o)};var s=i.leaveState(this,e,r,n,o);return!1===s?(this.transition=null,i.Result.CANCELLED):i.ASYNC===s?i.Result.PENDING:this.transition?this.transition():void 0}}};void 0!==e&&e.exports&&(t=e.exports=i),t.StateMachine=i}()},function(e,t,i){"use strict";(function(t){var r=i(79),n=i(77),o=t.nb;o.microscopeWithThree=function(e,i,s){function c(){ye&&($("#nbTable")&&$("#nbTable").hide(),instance.menu&&instance.menu.setVisible(!1),instance.backBtn&&(instance.backBtn.visible=!1))}function l(){if(!L&&!q){le.visible=!1;Q.blur=Math.abs(H.position.y-.45)/1.193;var t=X.rotation.y/(2*Math.PI/5)%5,i=ne[Math.abs(oe)],r=i;Math.abs(oe-t)<.4?r*=1-Math.abs(oe-t)/.4:r=0;var n=z.localToWorld(new THREE.Vector3(0,0,0)),o=z.localToWorld(new THREE.Vector3(0,1,0)),a=(new THREE.Vector3).subVectors(n,o),s=(new THREE.Vector3).subVectors(ae,n),h=a.angleTo(s),c=(new THREE.Vector3).crossVectors(s,a);c.normalize();var l=s.clone();l.applyAxisAngle(c,2*h),l.add(n);var u=new THREE.Line3(Y.worldToLocal(n.clone()),Y.worldToLocal(l.clone())),d=new THREE.Plane(new THREE.Vector3(0,1,0)),f=d.intersectLine(u);xe.vertices[0]=ae,xe.vertices[1]=n;var p=1;if(f){var m=f.length();p=m>3?0:p<.6?1:1-m/2.4,xe.vertices[2]=Y.localToWorld(f)}else xe.vertices[2]=n,p=0;xe.verticesNeedUpdate=!0;var v,y=(W.rotation.y/(2*Math.PI/3)-1)%3,g=Math.round(y);switch(g){case 0:case 3:case-3:v=0;break;case 1:case-2:v=1;break;case 2:case-1:v=2}-1!==Q.mult&&(Q.mult=v);var b=g-y;(isNaN(b)||b<.001)&&(b=0);var x=Math.atan2(e.camera.position.z,e.camera.position.x);Q.rotation=x,Q.brightness=p/(v+1),P.multiable||(Q.brightness*=3),ee.update(Q)}}function u(e,t){if(null==Ee[e])return void console.log("");var i=Ee[e];P.slide&&P.slide==i||Se.open&&TweenLite.to(i.position,.5,{y:t?-7.5:-8.5})}function d(t){Se.open&&(B.lockX=B.lockY=!1,Se.open=!1,o.slidesList.hide(),P.showSight(),P.showTips(),_e=!1,e.tweenTo(e.camera,O.camera,{timer:1}),B.lookAtTarget(new THREE.Vector3),v(t),i.emit("clickPian"),setTimeout(function(){Se.closeBox()},1500),B.zoomSpeed=1)}function f(){function t(t){function r(){i.emit("openBox"),B.isLookingAtTarget()||L||Se.open||0==Se.open&&(ee.setInteractive(!1),P.hideTips(),TweenLite.to(a.rotation,.5,{y:-1.7}),e.tweenTo(e.camera,Ce,{timer:1,onComplete:function(){P.hideSight(),o.slidesList.show(),_e=!0}}),B.lookAtTarget(s,{timer:1}),B.lockX=B.lockY=!0,Se.open=!0,B.zoomSpeed=0)}O.add(Se),Se.scale.set(.87,.87,.87),Se.position.set(2.5,-8.5,-10),Se.open=!1;var a=Se.getObjectByName("gaizi"),s=Se.position.clone();s.y+=2,n.addGesture(Se,n.gesture.TAP,r),Se.openBox=function(){TweenLite.to(a.rotation,.5,{y:-1.7,onStart:function(){ee.setInteractive(!1),P.hideSight()}})},Se.closeBox=function(){TweenLite.to(a.rotation,.5,{y:0,onComplete:function(){P.showSight()}})},m(),p(Ae)}Se=e.loadNBSFile({id:"0022/model",callback:t})}function p(e){Ae=e,Se&&(Se.visible=e)}function m(){if(null==Te)return void console.log("addSlides");for(var t=0;t<Te.length;t++){var i=function(t){function i(i){if(this.conf.notInBox){if(this.onTable)return;TweenLite.to(this.position,.5,{x:0,onComplete:function(){e.add3DDrag({mesh:a,n:new THREE.Vector3(0,1,0),nBounds:{xMin:-se,xMax:se,yMin:0,yMax:0,zMin:-se,zMax:se},scale:.1}),a.defaultPos=a.position.clone(),a.addEventListener(NBDrag.event.DRAG_MOVE,k),a.addEventListener(NBDrag.event.STOP_DRAG,I),P.slide=a}}),this.onTable=!0,TweenLite.to(Z.rotation,.5,{y:-.4}),TweenLite.to(J.rotation,.5,{y:.4})}else t.backBox()}var r=t.conf;if(t.name=r.slID,O.add(t),t.position.set(2.36+.14*t.slidesIndex,-8.5,-10),t.rotation.set(0,0,-1.57),"0145/model_slide1"==r.nbsID){var s;s=r.slID?r.newSlide?o.config.URI_PREFIX+"slides_new/"+r.slID+"/"+r.slTexture:o.config.URI_PREFIX+"slides/"+r.slID+"/"+r.slTexture:o.config.MODEL_URI_PREFIX+"models/eq0145/3.png";var h=new THREE.MeshPhongMaterial({map:THREE.ImageUtils.loadTexture(s),transparent:!0});t.children[0].material=h}else if("0145/model_slide2"==r.nbsID)t.scale.set(2,2,2),t.children[0].translateY(.26),t.children[1].translateY(.26),t.children[2].translateY(.26),t.children[0].translateX(-.5),t.children[1].translateX(-.5),t.children[2].translateX(-.5),t.getChildByName("pasted__pasted__pasted__pCylinder3").material.map.image.src=o.config.MODEL_URI_PREFIX+"models/eq0145/yuan.png";else if("1006/model"==r.nbsID){var c=t.getChildByName("polySurface3").material;c.shading=1}r.notInBox&&(Se.visible=!1,t.position.set(8,-1.75,0),t.rotation.set(0,0,0)),t.inboxPosition=t.position.clone(),n.addGesture(t,n.gesture.TAP,i),t.backBox=function(){if(this.onTable){Se.openBox(),b();var i=N.localToWorld(ke.clone());O.add(t),t.position.copy(i),t.rotation.z=N.rotation.z,ee.removeSlides();var r=new TimelineLite;r.to(t.position,.5,{z:-10},0),r.to(t.position,.5,{x:2.36+.14*t.slidesIndex,onComplete:function(){Z.isUp&&x()}},1),r.to(t.rotation,.3,{z:-1.57},1),r.to(t.position,.5,{y:-8.5,onComplete:function(){t.onTable=!1,Se.closeBox()}},1),P.slide=null,P.slide=void 0,e.remove3DDrag(this),t.removeEventListener(NBDrag.event.DRAG_MOVE,k),t.removeEventListener(NBDrag.event.STOP_DRAG,I)}}},r=Te[t],a=e.loadNBSFile({id:r.nbsID,callback:i});a.slidesIndex=t,a.conf=r,Ee.push(a)}}function v(i){if(null==Ee[i])return void console.log("");var r=Ee[i];if(!P.slide||P.slide!=r){P.slide&&P.slide.backBox();var n=N.localToWorld(ke.clone());console.log(n);var o=new TimelineLite;o.to(r.position,.5,{y:n.y},0),o.to(r.position,.5,{z:n.z,onComplete:function(){b()}},.5),o.to(r.rotation,.4,{z:0},.3),o.to(r.position,.5,{x:n.x,onComplete:function(){x(),r.onTable=!0,N.add(r),r.position.copy(ke),t.g=r,P.slide=r,e.add3DDrag({mesh:r,n:new THREE.Vector3(0,1,0),nBounds:{xMin:-se,xMax:se,yMin:0,yMax:0,zMin:-se,zMax:se},scale:.1}),r.defaultPos=r.position.clone(),r.addEventListener(NBDrag.event.DRAG_MOVE,k),r.addEventListener(NBDrag.event.STOP_DRAG,I),s[i].container?ee.changeSlides(s[i].container,Q):ee.changeSlides(s[i].slID,Q)}},.5)}}function y(e,t){return function(){var i=2*Math.PI/t,r=e.rotation.y%i;Math.abs(r)<i/2?TweenMax.to(e.rotation,.5,{y:e.rotation.y-r}):r<0?TweenMax.to(e.rotation,.5,{y:e.rotation.y-i-r}):TweenMax.to(e.rotation,.5,{y:e.rotation.y+(i-r)})}}function g(){0!=this.matrixAutoUpdate&&(Z.isUp=!Z.isUp,TweenMax.to(Z.rotation,.5,{z:Z.isUp?.12:0}),J.isUp=!J.isUp,TweenMax.to(J.rotation,.5,{z:J.isUp?.12:0}))}function b(){Z.isUp=J.isUp=!0,TweenMax.to(Z.rotation,.5,{z:.12}),TweenMax.to(J.rotation,.5,{z:.12})}function x(){Z.isUp=J.isUp=!1,TweenMax.to(Z.rotation,.5,{z:0}),TweenMax.to(J.rotation,.5,{z:0})}function _(e){Ie=e.angle}function T(e){Pe=e.angle}function E(e){Re=e.angle}function S(){i.toLocal({x:o.stem.STEMMain.W,y:o.stem.STEMMain.H},instance.stage),i.toLocal({x:o.stem.W,y:0},instance.stage)}function M(e){var t=[X,Z,J,W,G,V,U,N,j,z,H];TweenLite.to(N.rotation,.6,{x:0,y:0,z:0,onStart:function(){t.forEach(function(e){e.defaultMatrixUpdate=e.matrixAutoUpdate,e.matrixAutoUpdate=!0})},onComplete:function(){l(),t.forEach(function(e){e.matrixAutoUpdate=e.defaultMatrixUpdate})}}),TweenLite.to(j.rotation,.5,{x:0,y:0,z:0}),TweenLite.to(z.rotation,.5,{x:0,y:0,z:.15}),TweenLite.to(X.rotation,.5,{x:0,y:1.2566,z:0}),TweenLite.to(G.rotation,.5,{x:0,y:0,z:3.14-Pe}),TweenLite.to(V.rotation,.5,{x:0,y:0,z:0-Re}),TweenLite.to(H.position,.5,{y:.45}),P.multiable&&TweenLite.to(W.rotation,.5,{y:2*Math.PI/3}),G.changeRangeAngle(3.14),V.changeRangeAngle(0),N.changeRangeAngle(0)}function C(e){e&&(Te=e,o.slidesList.init(Te,d,u,i),e.length>0&&f())}function A(){te&&(te.defaultVisible=te.visible,te.visible=!1),me=le.localToWorld(new THREE.Vector3(0,5,0)),ve=le.localToWorld(new THREE.Vector3(0,2,0)),ue=e.camera.position.clone(),e.controls.enabled=!1,L=!0,new TimelineMax({onComplete:function(){var t=r.vertoc3ToPoint(le.position,e.camera);console.log("------\x3e>>>>",t),console.log(i.name),i.emit("startObserve"),ee.changeState(t)}}).to(e.camera.position,1,{x:me.x,y:me.y,z:me.z,onComplete:function(){}})}function D(){TweenMax.to(e.camera.position,1,{x:ue.x,y:ue.y,z:ue.z,onComplete:function(){L=!1,te&&(console.log("slidesContainer----\x3e",te),te.visible=!0),e.controls.enabled=!0,i.emit("endObserve")}})}function k(){if(void 0!==P.slide&&null!==P.slide){-1===Q.mult?4:re[(Q.mult+1)%3];var e=(this.position.x-this.defaultPos.x)/se,t=(this.position.z-this.defaultPos.z)/se;void 0!==ee.view&&(ee.view.pivot.y=h/2-h/2*e,ee.view.pivot.x=w/2+w/2*t),Q.offsetX=e,Q.offsetY=-t}}function I(){void 0!==P.slide&&null!==P.slide&&P.slide.conf.newSlide&&console.log(P.slide.conf.newSlide)}var P=this,R=null;P.multiable=!0;var F=P.jingbi.shoubi.jingtong_observe.children[0];F&&"Mesh"==F.type&&(F.material.map=THREE.ImageUtils.loadTexture(o.config.MODEL_URI_PREFIX+"models/eq0145/logoe.jpg"));var i=e.frame2D,O=e.scene;t.system=e;var L=!1,B=e.controls;O.camera0.position.set(50,12,0),e.tweenTo(e.camera,O.camera0),window.scene=O;var N=P.jingbi,U=N.shoubi.jingbi_observe,H=N.shoubi.jingtong_observe,j=N.fanguangjing_observe,z=j.fanguangjing.mirror,G=N.shoubi.cuzhunjiaoluoxuan_observe,V=N.shoubi.xizhunjiaoluoxuan_observe,X=N.zheguangqi_observe,Y=N.zaiwutai.zaiwutai_observe,W=H.convertorGroup_observe.group,q=!1,K=H.mujing_observe;K.add(H.polySurface153),K.add(H.polySurface106),H.jingtong1_observe.children[0].material.side=2;var Z=N.zaiwutai.iron_sheet_L,J=N.zaiwutai.iron_sheet_R;Z.isUp=!1,J.isUp=!1;var Q={rotation:0,offsetX:0,offsetY:0,brightness:.3,blur:0,mult:0};t.sightconfig=Q;var ee=new o.eyepiece(i,Q);ee.on("optimum",M),ee.on("observeslide",A),ee.on("goback",D);var te=null,ie=10,re=[40,4,10],ne=[.5,1.2,1,.8,.7],oe=0,ae=new THREE.Vector3(20,10,0),se=.1,he=new THREE.BoxGeometry(.1,.1,.1),ce=new THREE.MeshBasicMaterial({color:0}),le=new THREE.Mesh(he,ce);le.position.set(0,19,.03),window.cube=le,N.add(le),le.scale.set(10,10,10),le.visible=!1,le.ref=!0;var ue,de=(new PIXI.Point,new THREE.SphereGeometry(2)),fe=new THREE.MeshBasicMaterial({color:10066329}),pe=new THREE.Mesh(de,fe);N.add(pe),pe.scale.set(.25,1e-6,.25),pe.position.set(5,1.4,0),t.c=pe;var me,ve,ye=!1;window.addEventListener("resize",c);var ce=Y.children[0].material;ce.color.setHex(1184274),ce.emissive.setHex(0),ce.specular.setHex(1118481),ce.shininess=30,ce=W.wujingzhuanhuanqi.children[0].material,ce.color.setHex(2302755),ce.specular.setHex(4473924),ce.shininess=120;for(var ge=W.wujingzhuanhuanqi.wujing40_observe.children[0].material,be=0;be<ge.materials.length;be++)"jinshu6"===ge.materials[be].name&&(ge.materials[be].side=2);var xe=new THREE.Geometry;xe.vertices.push(new THREE.Vector3,new THREE.Vector3,new THREE.Vector3);var we=new THREE.Line(xe,new THREE.LineBasicMaterial({color:16711680}));we.visible=!1,O.add(we);i.on("update",l);var _e=!1;i.onPause=function(){o.slidesList.hide(1)},i.onResume=function(){_e&&o.slidesList.show(1)};var Te,Ee=[];O.camera0&&(O.camera=O.camera0,O.camera.position.set(50.23,10.64,0),O.add(O.camera));var Se,Me=new THREE.Vector3(7,-5.5,-10),Ce={position:Me},Ae=!0;this.setBoxVisible=p;var De=new THREE.Vector3(4.75,2.2,0),ke=De.clone();e.add3DRotation({collideObj:U,rotateObj:N,axis:new THREE.Vector3(0,0,1),pivot:N.position,startAngle:-.1,endAngle:.8,onComplete:_});var Ie=0;e.add3DRotation({collideObj:j,rotateObj:j,axis:new THREE.Vector3(1,0,0),pivot:j.position}),e.add3DRotation({collideObj:z,rotateObj:z,axis:new THREE.Vector3(0,0,1),pivot:z.position}),e.add3DRotation({collideObj:W,rotateObj:W,axis:new THREE.Vector3(0,1,0),useMatrix:!1,onStart:function(){TweenMax.killTweensOf(W.rotation),q=!0},onComplete:function(){q=!1,y(W,6)}}),W.rotation.y=2*Math.PI/3,this.lockWujingMult=function(e){W.rotation.y=2*Math.PI/3+e*Math.PI*2/3,P.multiable=!1,W.matrixAutoUpdate=!1},e.add3DRotation({collideObj:Z,rotateObj:Z,axis:new THREE.Vector3(0,1,0),useMatrix:!1,startAngle:-Math.PI/2,endAngle:.2}),e.add3DRotation({collideObj:J,rotateObj:J,axis:new THREE.Vector3(0,1,0),useMatrix:!1,startAngle:-.2,endAngle:Math.PI/2}),e.add3DRotation({collideObj:X,rotateObj:X,axis:new THREE.Vector3(0,1,0),useMatrix:!1,onStart:function(){TweenMax.killTweensOf(X.rotation)},onComplete:y(X,5)}),e.add3DRotation({collideObj:G,rotateObj:G,axis:new THREE.Vector3(0,0,1),pivot:G.position,startAngle:0,endAngle:10*Math.PI,onUpdate:function(e){H.position.y+=.1*e.offset},onComplete:T});var Pe=0;e.add3DRotation({collideObj:V,rotateObj:V,axis:new THREE.Vector3(0,0,1),pivot:V.position,startAngle:0,endAngle:30*Math.PI,onUpdate:function(e){H.position.y+=.001*e.offset},onComplete:E});var Re=0;n.addGesture(Z,n.gesture.TAP,g),n.addGesture(J,n.gesture.TAP,g),this.addSlides=C,this.setEyepieceZoom=function(e){ie=e},this.hideSight=function(){ee.hide(),ee.setInteractive(!1)},this.showSight=function(){ee.show(),ee.setInteractive(!0)},this.setObjectivesZoom=function(e){re[0]=e[0]||40,re[1]=e[1]||4,re[2]=e[2]||10},this.showLightHelper=function(e){we.visible=e},window.addEventListener("resize",S),S(),this.toBestObserve=M,M(),this.updateFrame=function(){i.removeEventListener("update",l),i=e.frame2D,Fe&&(i.addChild(Fe),Fe.visible?Fe.play():Fe.gotoAndStop(0)),i.onPause=function(){o.slidesList.hide(1)},i.onResume=function(){_e&&o.slidesList.show(1)},i.on("update",l),e.show(),o.slidesList.changeStep(i),ee.changeStep(i),te&&(i.addChildWithSamePos(te),te.x=1e3,te.y=800,te.visible=!1)},this.addSlides=function(){C(),f()},this.addSlides=function(){C(s)},this.addContainerSlides=function(t){R=t,te||(te=new PIXI.Container,i.addChild(te),te.x=600,te.y=500);for(var r=0;r<R.length;r++){var a=R[r],s=PIXI.Sprite.fromFrame(a.texture);s.conf=a,s.x=300,s.y=50*r,s.index=r;var h=new PIXI.Text(a.name,{font:"20px Microsoft Yahei",fill:16777215});h.pivot.x=h.width/2,s.addChild(h),h.x=120,h.y=50,s.addEventListener(TouchEvent.TAP,function(t){function r(){P.slide=c,P.slide.conf=h.conf,N.add(c),c.position.set(12,2.261,0),TweenMax.to(c.position,1,{x:5,onComplete:function(){x(),e.add3DDrag({mesh:c,n:new THREE.Vector3(0,1,0),nBounds:{xMin:-se,xMax:se,yMin:0,yMax:0,zMin:-se,zMax:se},scale:.1}),c.defaultPos=c.position.clone(),c.addEventListener(NBDrag.event.DRAG_MOVE,k),c.addEventListener(NBDrag.event.STOP_DRAG,I)}})}function a(t){c.removeEventListener(NBDrag.event.DRAG_MOVE,k),c.removeEventListener(NBDrag.event.STOP_DRAG,I),e.remove3DDrag(P.slide),ee.removeSlides(),TweenMax.to(P.slide.position,1,{x:12}),TweenMax.to(P.slide,1,{alpha:0,onComplete:function(){P.slide.parent&&P.slide.parent.remove(P.slide),P.slide=null,P.slide=void 0}})}function s(){if(i.emit("loadSlide",{index:h.index}),"0145/model_slide1"==h.conf.nbsID&&h.conf.slTexture){var e,t=h.conf;e=t.slID?t.newSlide?o.config.URI_PREFIX+"slides_new/"+t.slID+"/"+t.slTexture:o.config.URI_PREFIX+"slides/"+t.slID+"/"+t.slTexture:o.config.URI_PREFIX+"models/eq0145/"+t.slTexture,c.children[0].material.map.image.src=e}if("0145/model_slide2"==h.conf.nbsID){c.scale.set(2,2,2),c.children[0].translateY(.26),c.children[1].translateY(.26),c.children[2].translateY(.26),c.children[0].translateX(-.5),c.children[1].translateX(-.5),c.children[2].translateX(-.5);var e=o.config.URI_PREFIX+"models/eq0145/"+h.conf.slTexture;c.getChildByName("pasted__pasted__pasted__pCylinder3").material.map.image.src=o.config.MODEL_URI_PREFIX+"models/eq0145/yuan.png"}}var h=this,c=e.loadNBSFile({id:this.conf.nbsID,callback:s});void 0!=P.slide?(e.remove3DDrag(P.slide),ee.removeSlides(),TweenMax.to(P.slide.position,1,{x:12}),TweenMax.to(P.slide,1,{alpha:0,onComplete:function(){P.slide.parent&&P.slide.parent.remove(P.slide),r()}})):r(),n.addGesture(c,n.gesture.TAP,a),Q.mult=h.conf.mult?0:-1,ee.changeSlides(h.conf.container,Q)}),te.addChild(s),te.visible=!1}},this.showSlidesList=function(){te&&(te.visible=!0)},this.showFish=function(r){function a(e){function a(t){n.removeGesture(e,n.gesture.TAP),i.unBindDisplayFromMesh(e);var o=new TimelineMax({onComplete:function(){N.add(e),e.position.set(5,2.3,0),ee.setInteractive(!0),h.defaultPos=h.position.clone(),P.slide=h,Q.mult=-1,ee.changeSlides(r,Q)}});o.add(TweenMax.to(this.position,.5,{x:7,ease:Back.easeOut})),o.add(TweenMax.to(this.position,.5,{y:-1.7,z:0,ease:Sine.easeInOut}),"-=0.3"),o.add([TweenMax.to(this.position,.5,{x:0,ease:Sine.easeInOut}),TweenMax.to(Z.rotation,.5,{y:-.4}),TweenMax.to(J.rotation,.5,{y:.4})]),this.onTable=!0}e.conf;e.name="fish",O.add(e),t.obj=e,e.position.set(2.5,-9.4,-10),e.rotation.set(0,0,0),e.children[0].translateY(.26),e.children[1].translateY(.26),e.children[2].translateY(.26),e.children[0].translateX(-.5),e.children[1].translateX(-.5),e.children[2].translateX(-.5),e.getChildByName("pasted__pasted__pasted__pCylinder3").material.map.image.src=o.config.MODEL_URI_PREFIX+"models/eq0145/yuan.png";var s={mesh:e};ee.setInteractive(!1),i.bindDisplayToMesh(s);n.addGesture(e,n.gesture.TAP,a)}var s={texture:"slide3",name:"",nbsID:"0145/model_slide2",slID:"sl0000",notInBox:!0},h=e.loadNBSFile({id:s.nbsID,callback:a});Ee.push(h)},this.deleteSlide=function(){P.slide&&(P.slide.backBox?P.slide.backBox():(e.remove3DDrag(P.slide),ee.removeSlides(),TweenMax.to(P.slide.position,1,{x:12}),TweenMax.to(P.slide,1,{alpha:0,onComplete:function(){P.slide.parent&&P.slide.parent.remove(P.slide),P.slide=void 0}})))};var Fe=instance.createChildFromData(i,a);Fe.visible=!1,Fe.animationSpeed=.5,Fe.x*=.5,Fe.x+=200,Fe.y*=.5,Fe.y+=100,Fe.scale.x=Fe.scale.y=.5,P.hideTips=function(){Fe.visible=!1,Fe.gotoAndStop(0)},P.showTips=function(){Fe.visible=!1,Fe.play()},i.emit("microscopeLoaded")},e.exports=o.microscopeWithThree;var a={0:{0:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:225.2,y:119.55,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:24},1:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},2:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px 'Microsoft Yahei'",c:"#FFFFFF",elementID:115},3:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:4},1:{0:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:219.15,y:124.15,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:26},1:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},2:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},3:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:4},2:{0:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:213.05,y:128.75,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:27},1:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},2:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},3:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:4},3:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:23},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:207,y:133.35,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:28},2:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},3:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},4:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:5},4:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:23},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:200.9,y:138,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:29},2:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},3:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},4:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:5},5:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:23},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:194.85,y:142.6,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:30},2:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},3:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},4:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:5},6:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:23},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:188.75,y:147.2,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:31},2:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},3:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},4:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:5},7:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:23},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:182.7,y:151.8,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:32},2:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},3:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},4:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:5},8:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:23},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:176.65,y:156.4,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:33},2:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},3:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},4:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:5},9:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:23},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:170.55,y:161,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:34},2:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},3:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},4:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:5},10:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:23},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:164.5,y:165.6,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:35},2:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},3:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},4:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:5},11:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:23},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:158.4,y:170.25,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:36},2:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},3:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},4:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:5},12:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:23},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:152.35,y:174.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:37},2:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},3:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},4:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:5},13:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:23},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:146.25,y:179.45,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:38},2:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},3:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},4:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:5},14:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:23},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:140.2,y:184.05,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:39},2:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},3:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},4:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},5:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:6},15:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:23},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:140.2,y:184.05,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:39},2:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},3:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},4:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},5:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:6},16:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:23},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:140.2,y:184.05,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:39},2:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},3:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},4:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},5:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:6},17:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:23},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:140.2,y:184.05,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:39},2:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},3:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},4:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},5:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:6},18:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:23},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:140.2,y:184.05,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:39},2:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},3:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},4:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},5:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:6},19:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:23},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:140.2,y:184.05,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:39},2:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},3:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},4:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},5:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:6},20:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:23},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:140.2,y:184.05,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:39},2:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},3:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},4:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},5:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:6},21:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:23},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:140.2,y:184.05,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:39},2:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},3:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},4:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},5:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:6},22:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:140.2,y:184.05,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:39},2:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},3:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},4:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},5:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:6},23:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:140.2,y:184.05,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:39},2:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},3:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},4:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},5:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:6},24:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:140.2,y:184.05,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:39},2:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},3:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},4:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},5:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:6},25:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:140.2,y:184.05,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:39},2:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},3:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},4:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},5:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:6},26:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:140.2,y:184.05,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:39},2:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},3:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},4:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},5:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:6},27:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:140.2,y:184.05,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:39},2:{type:"shape",path:[255,227.8,235.55,2,227.8,180.8,2,227.8,180.8,1],elementID:86},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},28:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:145.8,y:184.45,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:40},2:{type:"shape",path:[255,227.8,235.55,2,227.8,180.8,2,227.8,180.8,1],elementID:86},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},29:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:151.45,y:184.9,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:41},2:{type:"shape",path:[255,227.8,235.55,2,227.8,180.8,2,227.8,180.8,1],elementID:86},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},30:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:157.05,y:185.3,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:42},2:{type:"shape",path:[255,227.8,235.55,2,227.8,180.8,2,227.8,180.8,1],elementID:86},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},31:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:162.65,y:185.75,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:43},2:{type:"shape",path:[255,227.8,235.55,2,227.8,180.8,2,227.8,180.8,1],elementID:86},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},32:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:168.25,y:186.15,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:44},2:{type:"shape",path:[255,227.8,235.55,2,227.8,180.8,2,227.8,180.8,1],elementID:86},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},33:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:173.9,y:186.6,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:45},2:{type:"shape",path:[255,227.8,235.55,2,227.8,180.8,2,227.8,180.8,1],elementID:86},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},34:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:179.5,y:187,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:46},2:{type:"shape",path:[255,227.8,235.55,2,227.8,180.8,2,227.8,180.8,1],elementID:86},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},35:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:185.1,y:187.4,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:47},2:{type:"shape",path:[255,227.8,235.55,2,227.8,180.8,2,227.8,180.8,1],elementID:86},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},36:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:190.75,y:187.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:48},2:{type:"shape",path:[255,227.8,235.55,2,227.8,180.8,2,227.8,180.8,1],elementID:86},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},37:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:196.35,y:188.25,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:49},2:{type:"shape",path:[255,227.8,235.55,2,227.8,180.8,2,227.8,180.8,1],elementID:86},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},38:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:201.95,y:188.7,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:50},2:{type:"shape",path:[255,227.8,235.55,2,227.8,180.8,2,227.8,180.8,1],elementID:86},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},39:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:207.55,y:189.1,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:51},2:{type:"shape",path:[255,227.8,235.55,2,227.8,180.8,2,227.8,180.8,1],elementID:86},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},40:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:213.2,y:189.55,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:52},2:{type:"shape",path:[255,227.8,235.55,2,227.8,180.8,2,227.8,180.8,1],elementID:86},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},41:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:218.8,y:189.95,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:53},2:{type:"shape",path:[255,227.8,235.55,2,227.8,180.8,2,227.8,180.8,1],elementID:86},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},42:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:224.4,y:190.35,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:54},2:{type:"shape",path:[255,227.8,235.55,2,227.8,180.8,2,227.8,180.8,1],elementID:86},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},43:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:230.05,y:190.8,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:55},2:{type:"shape",path:[255,227.8,235.55,2,227.8,180.8,2,227.8,180.8,1],elementID:86},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},44:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:235.65,y:191.2,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:56},2:{type:"shape",path:[255,227.8,235.55,2,227.8,180.8,2,227.8,180.8,1],elementID:86},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},45:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:241.25,y:191.65,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:57},2:{type:"shape",path:[255,227.8,235.55,2,227.8,180.8,2,227.8,180.8,1],elementID:86},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},46:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:246.85,y:192.05,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:58},2:{type:"bitmap",libName:"Bitmap 5",x:156.9,y:173.3,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:87},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},47:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:25},x:252.5,y:192.5,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:59},2:{type:"bitmap",libName:"Bitmap 6",x:127.8,y:173.3,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:88},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},48:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:61},x:258.1,y:192.9,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:60},2:{type:"bitmap",libName:"Bitmap 7",x:127.8,y:173.3,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:89},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},49:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:61},x:256.95,y:199.8,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:62},2:{type:"bitmap",libName:"Bitmap 8",x:127.8,y:173.3,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:90},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},50:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:61},x:255.4,y:206.65,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:63},2:{type:"bitmap",libName:"Bitmap 9",x:127.8,y:173.3,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:91},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},51:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:61},x:253.45,y:213.4,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:64},2:{type:"bitmap",libName:"Bitmap 10",x:127.8,y:173.3,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:92},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},52:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:61},x:251.1,y:220.05,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:65},2:{type:"bitmap",libName:"Bitmap 11",x:127.8,y:173.3,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:93},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},53:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:61},x:248.4,y:226.55,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:66},2:{type:"bitmap",libName:"Bitmap 12",x:127.8,y:173.3,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:94},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},54:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:61},x:245.3,y:232.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:67},2:{type:"bitmap",libName:"Bitmap 13",x:127.8,y:173.3,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:95},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},55:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:61},x:241.8,y:239,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:68},2:{type:"bitmap",libName:"Bitmap 14",x:127.8,y:173.3,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:96},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},56:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:61},x:238,y:244.95,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:69},2:{type:"bitmap",libName:"Bitmap 15",x:127.8,y:173.3,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:97},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},57:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:61},x:233.9,y:250.65,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:70},2:{type:"bitmap",libName:"Bitmap 16",x:127.8,y:173.3,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:98},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},58:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:61},x:229.45,y:256.1,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:71},2:{type:"bitmap",libName:"Bitmap 17",x:127.8,y:173.3,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:99},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},59:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:61},x:224.75,y:261.35,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:72},2:{type:"bitmap",libName:"Bitmap 18",x:127.75,y:173.3,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:100},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},60:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:61},x:219.8,y:266.35,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:73},2:{type:"bitmap",libName:"Bitmap 19",x:127.85,y:173.3,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:101},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},61:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:61},x:214.65,y:271.1,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:74},2:{type:"bitmap",libName:"Bitmap 20",x:127.8,y:173.3,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:102},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},62:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:61},x:209.25,y:275.6,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:75},2:{type:"bitmap",libName:"Bitmap 21",x:127.85,y:173.3,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:103},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},63:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:61},x:203.65,y:279.8,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:76},2:{type:"bitmap",libName:"Bitmap 22",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:104},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},64:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:61},x:197.85,y:283.65,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:77},2:{type:"bitmap",libName:"Bitmap 23",x:127.8,y:173.3,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:105},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},65:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:61},x:191.8,y:287.25,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:78},2:{type:"bitmap",libName:"Bitmap 24",x:127.85,y:173.3,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:106},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},66:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:61},x:185.55,y:290.45,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:79},2:{type:"bitmap",libName:"Bitmap 25",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:107},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},67:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:61},x:179.1,y:293.25,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:80},2:{type:"bitmap",libName:"Bitmap 26",x:127.85,y:173.3,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:108},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},68:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:61},x:172.5,y:295.7,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:81},2:{type:"bitmap",libName:"Bitmap 28",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:109},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},69:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:61},x:165.8,y:297.8,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:82},2:{type:"bitmap",libName:"Bitmap 29",x:127.85,y:173.25,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:110},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},70:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:61},x:158.95,y:299.45,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:83},2:{type:"bitmap",libName:"Bitmap 30",x:127.85,y:173.25,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:111},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},71:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:85},x:152.05,y:300.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:84},2:{type:"bitmap",libName:"Bitmap 31",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:112},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},72:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:85},x:152.05,y:300.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:84},2:{type:"bitmap",libName:"Bitmap 31",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:112},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},73:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:85},x:152.05,y:300.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:84},2:{type:"bitmap",libName:"Bitmap 31",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:112},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},74:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:85},x:152.05,y:300.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:84},2:{type:"bitmap",libName:"Bitmap 31",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:112},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},75:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:85},x:152.05,y:300.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:84},2:{type:"bitmap",libName:"Bitmap 31",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:112},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},76:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:85},x:152.05,y:300.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:84},2:{type:"bitmap",libName:"Bitmap 31",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:112},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},77:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:85},x:152.05,y:300.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:84},2:{type:"bitmap",libName:"Bitmap 31",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:112},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},78:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:85},x:152.05,y:300.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:84},2:{type:"bitmap",libName:"Bitmap 31",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:112},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},79:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:85},x:152.05,y:300.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:84},2:{type:"bitmap",libName:"Bitmap 31",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:112},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},80:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:85},x:152.05,y:300.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:84},2:{type:"bitmap",libName:"Bitmap 31",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:112},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},81:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:85},x:152.05,y:300.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:84},2:{type:"bitmap",libName:"Bitmap 31",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:112},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},82:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:85},x:152.05,y:300.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:84},2:{type:"bitmap",libName:"Bitmap 31",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:112},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},83:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:85},x:152.05,y:300.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:84},2:{type:"bitmap",libName:"Bitmap 31",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:112},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},84:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:85},x:152.05,y:300.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:84},2:{type:"bitmap",libName:"Bitmap 31",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:112},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},85:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:85},x:152.05,y:300.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:84},2:{type:"bitmap",libName:"Bitmap 31",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:112},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},86:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:85},x:152.05,y:300.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:84},2:{type:"bitmap",libName:"Bitmap 31",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:112},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},87:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:85},x:152.05,y:300.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:84},2:{type:"bitmap",libName:"Bitmap 31",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:112},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},88:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:85},x:152.05,y:300.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:84},2:{type:"bitmap",libName:"Bitmap 31",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:112},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},89:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:85},x:152.05,y:300.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:84},2:{type:"bitmap",libName:"Bitmap 31",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:112},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},90:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:85},x:152.05,y:300.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:84},2:{type:"bitmap",libName:"Bitmap 31",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:112},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},91:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:85},x:152.05,y:300.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:84},2:{type:"bitmap",libName:"Bitmap 31",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:112},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},92:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:85},x:152.05,y:300.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:84},2:{type:"bitmap",libName:"Bitmap 31",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:112},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},93:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:85},x:152.05,y:300.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:84},2:{type:"bitmap",libName:"Bitmap 31",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:112},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},94:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:85},x:152.05,y:300.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:84},2:{type:"bitmap",libName:"Bitmap 31",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:112},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},95:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:85},x:152.05,y:300.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:84},2:{type:"bitmap",libName:"Bitmap 31",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:112},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},96:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:85},x:152.05,y:300.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:84},2:{type:"bitmap",libName:"Bitmap 31",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:112},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},97:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:85},x:152.05,y:300.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:84},2:{type:"bitmap",libName:"Bitmap 31",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:112},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},98:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:85},x:152.05,y:300.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:84},2:{type:"bitmap",libName:"Bitmap 31",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:112},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},99:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:85},x:152.05,y:300.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:84},2:{type:"bitmap",libName:"Bitmap 31",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:112},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},100:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:85},x:152.05,y:300.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:84},2:{type:"bitmap",libName:"Bitmap 31",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:112},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},101:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:85},x:152.05,y:300.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:84},2:{type:"bitmap",libName:"Bitmap 31",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:112},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},102:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:85},x:152.05,y:300.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:84},2:{type:"bitmap",libName:"Bitmap 31",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:112},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},103:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:85},x:152.05,y:300.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:84},2:{type:"bitmap",libName:"Bitmap 31",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:112},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},104:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:85},x:152.05,y:300.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:84},2:{type:"bitmap",libName:"Bitmap 31",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:112},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},105:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:85},x:152.05,y:300.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:84},2:{type:"bitmap",libName:"Bitmap 31",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:112},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},106:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:85},x:152.05,y:300.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:84},2:{type:"bitmap",libName:"Bitmap 31",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:112},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},107:{0:{x:145.55,y:80.85,w:76.5,h:43.2,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:22},1:{0:{type:"bitmap",libName:"Bitmap 4",x:-14.5,y:-16,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:85},x:152.05,y:300.85,name:"",type:"sprite",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:84},2:{type:"bitmap",libName:"Bitmap 31",x:127.85,y:173.35,r:0,sx:1,sy:1,skewX:0,skewY:0,elementID:112},3:{type:"shape",path:[255,144.9,161.05,156.75,172.05,173.15,172.05,3,173.15,172.05,190.45,172.05,202.65,159.8,3,202.65,159.8,214.9,147.6,214.9,130.3,3,214.9,130.3,214.9,113,202.65,100.75,3,202.65,100.75,190.45,88.55,173.15,88.55,3,173.15,88.55,156.75,88.55,144.9,99.5,3,144.9,99.5,144.25,100.1,143.6,100.75,3,143.6,100.75,131.4,113,131.4,130.3,3,131.4,130.3,131.4,147.6,143.6,159.8,3,143.6,159.8,144.25,160.45,144.9,161.05,3,.2980392156862745,16777215,33],elementID:113},4:{type:"bitmap",libName:".png",x:21.7,y:29.85,r:0,sx:.83538818359375,sy:.83538818359375,skewX:0,skewY:0,elementID:114},5:{x:42.85,y:312.9,w:189,h:32,name:"",type:"text",r:0,txt:"",a:"center",f:"28px ' '",c:"#FFFFFF",elementID:115},6:{type:"shape",path:[255,32.35,264.15,2,340.35,264.15,360.35,264.15,360.35,244.15,3,360.35,244.15,2,360.35,18.15,360.35,-1.85,340.35,-1.85,3,340.35,-1.85,2,32.35,-1.85,12.35,-1.85,12.35,18.15,3,12.35,18.15,2,12.35,244.15,12.35,264.15,32.35,264.15,3,1,6710886,1.85,32,1,3223861,33],elementID:116},index:7},x:1650.95,y:955.7,name:"",type:"nbMovie",r:0,sx:1,sy:1,a:1,skewX:0,skewY:0,elementID:21}}).call(t,i(1))},function(e,t,i){"use strict";function r(){PIXI.Container.apply(this);var e=PIXI.Sprite.fromFrame("observe_close");this.addChild(e)}r.prototype=Object.create(PIXI.Container.prototype),r.constructor=r,e.exports=r},function(e,t,i){"use strict";function r(e){for(var t=e.split("\n"),i=[],r=0;r<t.length;r++)i[r]={},i[r].question=t[r].substring(t[r].indexOf("")+1,t[r].lastIndexOf("")+1),i[r].expend=!1,i[r].answer=t[r].substring(t[r].indexOf("[")+1,t[r].lastIndexOf("]"));return i}function n(e){var t=e.split("\n"),i=[];if(t.length>1)for(var r=0;r<t.length;r++)i[r]={},i[r].text=t[r].substring(t[r].indexOf("")+1);else i[0]={},i[0].text=t[0].replace(/(^\s*)|(\s*$)/g,"");return i}var o={};o.getInfo=function(e){var t={"":"purpose","":"conclusion","":"experimentStep","":"equipment"},i={};i.headerTitle=e.info.title,i.principle=e.principle;for(var o=0;o<e.menu.length;o++){var a=e.menu[o];if(t[a.name])switch(a.name){case"":var s={};i[t[a.name]]=s,s.icon="./libs/framework/images/btn-shiyanmudi.png",s.name=a.name+"&nbsp;:",s.menu=n(a.params.text);break;case"":var h={};i[t[a.name]]=h,h.icon="./libs/framework/images/btn-taolundian.png",h.name=a.name+"&nbsp;:",h.menu=r(a.params.text);break;case"":case"":var c={menu:[]};i[t[a.name]]=c,c.icon="./libs/framework/images/btn-shiyanqicai.png",c.name="&nbsp;:";var l="./courses/biology3027/res/images/";$.getJSON(l+"config.json",function(e){$.each(e,function(e,t){var i={};i.imgSrc=l+"/"+t.path+".png",i.name=t.name,c.menu.push(i)})});break;case"":ex={},i[t[a.name]]=ex,ex.name=a.name,ex.goto=a.goto,ex.steps=[],ex.steps=a.items}}return i},e.exports=o},function(e,t,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),o=void 0,a=function(){function e(){r(this,e),this.html='\n        <div id="DNALoading" style="color:#EEE; width:80px; height:80px; left:0px; right:0px; top:0px; bottom:0px; position:absolute; margin:auto;">\n            <p style="    \n            position: inherit;\n            left: 42px;\n            top: 58px;"\n            ></p>\n        </div>';var t=this;this.count=0,this.total=0,$.getJSON(nb.config.URI_PREFIX+"assets/loadingFirst/DNA.json",function(e){o=e;var i=o.frames;for(var r in i)t.total++})}return n(e,[{key:"progress",value:function(e){var t=Math.round(100*e);0===t?this.progressValue="":100===t?this.hide():this.progressValue=t+"%"}},{key:"show",value:function(){if(this.element){if("block"===this.element.css("display"))return}else this.element=$(this.html),$("body").append(this.element),this.element=$(this.element),this.t=this.element.find("p");this.element.fadeIn(),clearInterval(this.intervalID),this.intervalID=setInterval(this.playAnimation.bind(this),40)}},{key:"hide",value:function(){this.element.fadeOut(),this.element.find("p").html("0%"),clearInterval(this.intervalID)}},{key:"playAnimation",value:function(){this.count=this.count%this.total;var e=this.count,t="f00"+(e<9?"0"+(e+1):e+1)+".png",i=nb.config.URI_PREFIX+"assets/loadingFirst/DNA.png",r=o.frames[t].frame,n=-r.x+"px",a=-r.y+"px";this.element.css("background","url("+i+") "+n+" "+a),this.t.html(this.progressValue),this.count++}}]),e}();e.exports=a},function(e,t,i){"use strict";function r(){var e=new PIXI.Container;return $(document.body).append("\n    <div class = 'model'></div>\n    "),$(document.body).append('\n    <div id="colPanel" ondragstart="return false">\n        <img src = \''+n+"'></img>\n        <p class = 'textCon'><p>\n    </div>"),e.setText=function(e){$(".textCon").html(e)},e.setTextAlign=function(e){$(".textCon").css({textAlign:e.textAlign||"center",paddingTop:e.paddingTop||"",lineHeight:e.lineHeight||"1.5rem"})},e}i(178),i(223);var n=i(225);e.exports=r},function(e,t,i){t=e.exports=i(26)(void 0),t.push([e.i,"@media (min-width: 320px){  \n    html{\n          font-size: 13px;\n      }\n  }  \n\n@media (min-width: 375px) {\n    html{\n        font-size: 14px;\n    }\n}\n\n@media (min-width: 550px){  \n    html{\n        font-size: 15px;\n    }\n}  \n\n\n@media (min-width: 768px){  \n    html{\n        font-size: 17px;\n    }\n}  \n\n@media (min-width: 960px){\n    html{\n        font-size: 20px;\n    }\n}\n\n@media (min-width: 1100px){\n    html{\n        font-size: 22px;\n    }\n}\n@media (min-width: 1200px){\n    html{\n        font-size: 24px;\n    }\n}\n@media (min-width: 1300px){\n    html{\n        font-size: 28px;\n    }\n}",""])},function(e,t,i){var r=i(224);"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0};n.transform=void 0;i(27)(r,n);r.locals&&(e.exports=r.locals)},function(e,t,i){t=e.exports=i(26)(void 0),t.push([e.i,"*{\n    margin: 0;\n    padding: 0;\n}\n#colPanel{\n    width: 25%;\n    min-width: 232px;\n    position: absolute;\n    left: 50%;\n    transform: translateY(-120%) translateX(-50%);\n    \n}\n\n#colPanel img{\n    width: 100%;\n}\n#colPanel .textCon{\n    color: #fff;\n    width: 80%;\n    height: 75%;\n    /* font-size: 28px; */\n    font-size: 1rem;\n    position: absolute;\n    /* padding: 80px 20px 10px 20px; */\n    /* padding: 2rem .5rem .25rem .5rem; */\n    left: 10%;\n    top: 25%;\n    box-sizing: border-box;\n    \n}\n.model{\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background: rgb(0, 0, 0);\n    opacity: 0;\n    left:0;\n    top:0;\n    z-index: -1;\n}\n\n",""])},function(e,t,i){e.exports=i.p+"2557be032db3f2de0004b698277b87de.png"},function(e,t,i){"use strict";function r(){var e=new PIXI.Container,t=void 0;return $(document.body).append("\n    <div class = 'NBDown_tip'>\n        <img src = '"+n+"'></img>\n        <p class = 'tipText'><p>\n    </div>\n    "),e.setText=function(e){$(".NBDown_tip .tipText").html(e)},e.setTextAlign=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"center";$(".NBDown_tip .tipText").css({"text-align":e})},e.showTip=function(e){e&&$(".NBDown_tip .tipText").html(e),clearTimeout(t),$(".NBDown_tip").stop().animate({top:0},500,function(){clearTimeout(t),t=setTimeout(function(){$(".NBDown_tip").stop().animate({top:-115},500)},3e3)})},e.hideTip=function(){$(".NBDown_tip").stop().animate({top:-115},500,function(){})},e}i(178),i(227);var n=i(229);e.exports=r},function(e,t,i){var r=i(228);"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0};n.transform=void 0;i(27)(r,n);r.locals&&(e.exports=r.locals)},function(e,t,i){t=e.exports=i(26)(void 0),t.push([e.i,"div, p{\n    margin: 0;\n    padding: 0;\n}\n.NBDown_tip {\n    text-align: center;\n    position: absolute;\n    left: 50%;\n    top: -100%;\n    transform: translateX(-50%);\n    width: 40%;\n    min-width: 200px;\n}\n.NBDown_tip img {\n    width: 100%;\n}\n.NBDown_tip .tipText{\n    position: absolute;\n    color: #fff;\n    font-family: 'Microsoft Yahei';\n    font-size: 1rem;\n    text-align: center;\n    width:100%;\n    top: 50%;\n    transform: translateY(-70%);\n    /* line-height: 2rem; */\n    letter-spacing: 0.1em;\n}",""])},function(e,t,i){e.exports=i.p+"aa6a1cf968a0727f1ffc146735ddd3b3.png"},function(e,t,i){"use strict";function r(){var e=new PIXI.Container;return $(document.body).append("\n        <div class = 'tip'>\n            <img src = '"+n+"' class = 'img1' ondragstart = 'return false'></img>\n            <p class = 'tipText'><p>\n        </div>\n        "),e.setText=function(e){$(".tipText").html(e)},e.setTextAlign=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"center";$(".tipText").css({"text-align":e})},e.showTip=function(e){var t=void 0;e&&($(".tipText").html(e),t=e.length>10?10:5),TweenMax.to($(".tip"),.5,{top:-8,onComplete:function(){TweenMax.killTweensOf($(".tip")),TweenMax.to($(".tip"),.5,{top:-110,delay:t})}})},e.hideTip=function(){TweenMax.to($(".tip"),.5,{top:-110})},e.showORhide=function(){arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?$(".tip").hide():$(".tip").show()},e.visibleHide=function(){$(".tip").css({display:"none"})},e}i(231);var n=i(234);e.exports=r},function(e,t,i){var r=i(232);"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0};n.transform=void 0;i(27)(r,n);r.locals&&(e.exports=r.locals)},function(e,t,i){t=e.exports=i(26)(void 0),t.push([e.i,".tip {\n    text-align: center;\n    position: absolute;\n    left: 50%;\n    /* top: -115px; */\n    top: -100%;\n    transform: translateX(-50%);\n    min-width: 200px;\n}\n.tip .img1 {\n    width: 100%;\n}\n.tip .tipText{\n    box-sizing: border-box;\n    white-space: nowrap;\n    position: absolute;\n    color: #fff;\n    font-family: 'Microsoft Yahei';\n    font-size: 1rem;\n    text-align: center;\n    top: 50%;\n    left: 50%;\n    /* transform: translateY(85%); */\n    transform: translate(-50%, -62%);\n    letter-spacing: 0.1em;\n    background: url("+i(233)+") 0 0 no-repeat;\n    /* background-position: 0.8rem  1.3rem; */\n    /* background-position: 5rem 0px; */\n    padding-left: 2em;\n    background-size:1em;\n\n}",""])},function(e,t,i){e.exports=i.p+"8825fac1f93df379cc01e5177efe9b2f.png"},function(e,t,i){e.exports=i.p+"cef1beb6ae7975d1deb9d0cf1effad9f.png"},function(e,t,i){"use strict";function r(e){if(void 0===e)throw"type. : ConfigLoader.TYPE.PHY ";return a[e]?new Promise(function(t,i){t(a[e])}):new Promise(function(t,i){var r=new XMLHttpRequest;r.onreadystatechange=function(r){if(4===this.readyState)if(200===this.status){var s=JSON.parse(r.target.responseText);if(a[e]=s,s.loginAuth){try{s.loginAuth=o("aes128","17D2E2B6297FA",s.loginAuth)}catch(r){}s.authAction=s.authAction||{},s.auth=function(e){if(!(e=e||window.$))throw"jquery,  data.auth($)";return new Promise(function(t,i){e.ajax({url:s.loginAuth,jsonp:"jsoncallback",dataType:"jsonp",data:"pid="+s.pid,success:function(e){e.success?t(1!==parseInt(e.obj.vip)?!1:!0):i(e)},error:function(e){i({readyState:e.readyState,status:e.status})}})})},s.autoAuth=function(){s.auth().then(function(e){if(e)return e;var t;t="object"===n(s.authAction.notVip)?s.authAction.notVip.redirectURL:s.authAction.notVip,window.location.href=t||"http://www.nobook.com.cn/buy.html"}).catch(function(e){if(3018===e.errcode){var t;t="object"===n(s.authAction.notLogin)?s.authAction.notLogin.redirectURL:s.authAction.notLogin,window.location.href=(t||"https://passport.nobook.com/?return_url=")+encodeURIComponent(window.location.href)}return e})}}else s.auth=function(){throw"nbconfig/conf.jsonloginAuth"};t(s)}else i()},r.open("GET","nbconfig/conf.json",!0),r.send()})}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=i(236).decrypt,a={},s={PHY:2,CHE:3,BIO_CZ:0,BIO_GZ:1,SCI:4,NB_PHY:20};window.nb&&(window.nb.ConfigLoader={loadConfig:r,TYPE:s}),e.exports={loadConfig:r,TYPE:s}},function(e,t,i){function r(e,t,i){var r="",n=o.createCipher(e,t);return r+=n.update(i,"binary","hex"),r+=n.final("hex")}function n(e,t,i){var r="",n=o.createDecipher(e,t);return r+=n.update(i,"hex","binary"),r+=n.final("binary")}const o=i(42);e.exports={encrypt:r,decrypt:n}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=document.createElement("div");e.setAttribute("class","nbScience_platform_backBtn"),e.innerHTML="<div class = 'nbScience_backBtn_img'></div>",$(document.body).append(e),window.onmessage=function(t){var i=t.data;if(i){if("science.message.update.button.styles"===i.type){var r=i.styles;r&&!$.isEmptyObject(r)&&$(e).css(r)}}},$(e).off(".exit.fullscreen").on("click.exit.fullscreen",function(e){try{window.parent.parent.postMessage({type:"science.message.click.button"},"*")}catch(e){console.warn("top is not find...")}}),$(document).ready(function(){console.log("readyhahahh-----");try{window.parent.parent.postMessage({type:"science.message.lab.onload"},"*")}catch(e){console.warn("top is not find...")}})},i(238)},function(e,t,i){var r=i(239);"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0};n.transform=void 0;i(27)(r,n);r.locals&&(e.exports=r.locals)},function(e,t,i){t=e.exports=i(26)(void 0),t.push([e.i,".nbScience_platform_backBtn {\n    width: 70px;\n    height: 70px;\n    position: absolute;\n    z-index: 1000;\n    left: 20px;\n    bottom: 20px;\n    visibility: hidden;\n}\n.nbScience_platform_backBtn .nbScience_backBtn_img {\n    width: 100%;\n    height: 100%;\n    background-image: url("+i(179)+");\n    background-repeat: no-repeat;\n    background-position: -71px, 0px;\n    /* transition: all .2s; */\n}\n.nbScience_platform_backBtn .nbScience_backBtn_img:hover {\n    background-image: url("+i(179)+");\n    background-position: 0px, 0px;\n}",""])},function(e,t,i){"use strict";function r(e,t){-1!==e.indexOf("?")&&(e=e.substr(e.indexOf("?")+1));for(var i=null,r=[],n=e.split("&"),o=0;o<n.length;o++)r=n[o].split("="),r[0]===t&&(i=decodeURIComponent(r[1]));return i}function n(e,t,i){var r="",n=o.createDecipher(e,t);return r+=n.update(i,"hex","binary"),r+=n.final("binary")}var o=i(42),a=["4001","4007","4014","4021","0664","0661","0015","4288","4148","4155","0683","0007","0557","4027","4034","0002","0561","0562","0616","0640","0641","0124","0022","0619","0629","0033","4062","0593","4076","0688","4210","4212","4213","4220","0056","0064","0066","0580","0582","4108","0646","0103","0104","0109","0110","0654","0207","0581","4132","0603"];e.exports={isFreeCourseInJKVersion:function(e){var t=i(241).k,o=r(e,"course");try{return o=n("aes128",t,o),-1!==a.indexOf(o)}catch(e){console.log("")}return!1}}},function(e,t){e.exports={k:"nobook-science!@#"}},function(e,t,i){"use strict";function r(){PIXI.Container.call(this);var e=new PIXI.Graphics;e.beginFill(16711680,1),e.drawRect(0,0,5,5),TweenMax.to(e,1,{rotation:2*Math.PI,repeat:-1}),this.addChild(e)}r.prototype=Object.create(PIXI.Container.prototype),r.constructor=r,r.prototype.destory=function(){this.parent.removeChild(this),TweenMax.killTweensOf(this.loading)},e.exports=r},function(e,t,i){"use strict";(function(t){nb.eyepiece=function(e){function r(){var e=new PIXI.Point;return e.x=_/(80/m[D._config.mult]),e.y=T/(80/m[D._config.mult]),e}function n(){function i(e){var t=D._config.mult;if(e){t=e.target.multValue}var i=!0,r=!1,n=void 0;try{for(var o,a=q[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){var s=o.value,h=s.icon,c=s.bg;c.clear(),t===s.multValue?(c.beginFill(299767,1),c.drawRoundedRect(0,0,X,X,8),h.alpha=1):(c.beginFill(16777215,.4),c.drawRoundedRect(0,0,X,X,8),h.alpha=.5)}}catch(e){r=!0,n=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw n}}T.text.text=m[t]+"",T.text.x=(_.width-T.text.width)/2,t!==D._config.mult&&D.update({mult:t})}function n(){if(D.state=x.MIDDLE,d.removeEventListener(TouchEvent.TAP,n),S.removeEventListener("mapMove",a),q&&q.length){var e=!0,t=!1,r=void 0;try{for(var l,u=q[Symbol.iterator]();!(e=(l=u.next()).done);e=!0){l.value.removeEventListener(TouchEvent.TAP,i)}}catch(e){t=!0,r=e}finally{try{!e&&u.return&&u.return()}finally{if(t)throw r}}}V&&GlobalEffect.fadeOut(V),M&&(M.removeEventListener(TouchEvent.TOUCH_BEGIN,s),M.removeEventListener(TouchEvent.TOUCH_MOVE,h),M.removeEventListener(TouchEvent.TOUCH_END,c),M.removeEventListener(TouchEvent.TOUCH_END_OUDSIDE,c)),T.parent.removeChild(T),GlobalEffect.fadeOut(d);var f=new TimelineMax({onComplete:o});f.add([TweenMax.to(F.scale,1.5,{x:0,y:0,ease:Sine.easeInOut}),TweenMax.to(k,.8,{alpha:0,ease:Sine.easeInOut})]);var p=[R,N];f.to(p,.5,{alpha:1,ease:Sine.easeInOut,onStart:function(){F.x=0,F.y=0,F.scale.x=1,F.scale.y=1,O.x=R.width/2,O.y=R.height/2,D.addChild(F),R.addChild(O),A.fadeIn()},onComplete:function(){nb.commonFunc.setArg(p,"interactive",!0),D.emit("goback")}})}function a(){if(w.length){var e=r(),t=S.pivot.x-e.x,i=S.pivot.y-e.y,n=80*i/(E*m[D._config.mult]),o=80*t/(E*m[D._config.mult]);Object.assign(D._config,{offsetX:n,offsetY:o}),L&&TweenMax.to(L,v,{x:C.x+o*g,y:C.y+n*g})}}D.state=x.LARGE,S.addEventListener("mapMove",a);var l=PIXI.Sprite.fromFrame("backButton"),d=new PIXI.Container;d.pivot.x=l.width/2,d.pivot.y=l.height/2,d.addChild(l),d.alpha=0,e.addChild(d),d.x=f-l.width,d.y=p-l.height,d.scale.set(.5,.5),TweenMax.to(d,.5,{alpha:1}),d.addEventListener(TouchEvent.TAP,n);var _=PIXI.Sprite.fromFrame("win"),T=new PIXI.Container;T.addChild(_),e.addChild(T),T.x=-500,T.y=200;var C={x:-y/2+_.width/2,y:-y/2+_.height/2-25},I={x:_.width/2,y:_.height/2-22},P=new PIXI.Text(m[D._config.mult]+"",{font:"bold 28pt Microsoft YaHei",fill:16777215,align:"center"});P.x=(_.width-P.width)/2,P.y=I.y+110,T.addChild(P),T.text=P;var L=null,B=new PIXI.Graphics;B.beginFill(),B.fillColor=16711680,B.drawRect(-140,-100,280,200),B.x=I.x,B.y=I.y,T.addChild(B);var U=!1;if(w.length){U=!0;var H=nb.config.MODEL_URI_PREFIX+"slides_new/"+w+"/sl.png",j=PIXI.Texture.fromImage(H);L=new PIXI.Sprite(j),L.x=C.x+D._config.offsetY*g,L.y=C.y+D._config.offsetX*g}else M&&M._slideConfig.smallMap&&(U=!0,L=M._slideConfig.smallMap,u(),L.visible=!1);if(U){T.visible=!0,T.addChild(L),L.mask=B;var z=new PIXI.Graphics;z.beginFill(16777215,0),z.lineStyle(3,16711680,.8),z.drawRect(-b/2,-b/2,b,b),z.x=I.x,z.y=I.y,T.addChild(z),t.hh=z}else T.visible=!1;if(w.length||M&&-1!==M._slideConfig.mult){var G=PIXI.Sprite.fromFrame("btnGroupBg"),V=new PIXI.Container;V.addChild(G),e.addChild(V),V.x=d.x-V.width,V.y=d.y-V.height/4,V.scale.set(.5,.5);for(var X=48,Y=(G.width-3*X)/4,W=(G.height-X)/2-20,q=[],$=0;$<3;$++){var K=new PIXI.Container,Z=new PIXI.Graphics;Z.beginFill(299767,1),Z.drawRoundedRect(0,0,X,X,8),K.x=Y*($+1)+X*$,K.y=W,V.addChild(K),K.addChild(Z),K.bg=Z;var J=m[$],Q=PIXI.Sprite.fromFrame("icon_"+J+"x_selected.png"),ee=new PIXI.Container;ee.x=(X-Q.width)/2,ee.y=(X-Q.height)/2,ee.addChild(Q),K.addChild(ee),K.icon=ee;var te=new PIXI.Text(J+"",{font:"bold 15pt Microsoft YaHei",fill:16777215,align:"center"});te.x=(X-te.width)/2,te.y=X+5,K.addChild(te),K.text=te,K.multValue=$,q.push(K),K.addEventListener(TouchEvent.TAP,i)}i()}}function o(){D.state=x.SMALL,S.interactive=!1}function a(e,t){M=e,M._slideConfig=Object.assign({mult:-1,smallMap:null,fouceSize:50},t),L.removeChild(S),L.addChild(e),e.x=0,e.y=0,e.visible=!0,t.smallMap&&(e.addEventListener(TouchEvent.TOUCH_BEGIN,s),e.addEventListener(TouchEvent.TOUCH_MOVE,h),e.addEventListener(TouchEvent.TOUCH_END,c),e.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,c)),-1!==M._slideConfig.mult&&D.update({mult:D._config.mult})}function s(e){M.__touchPoint=Object.assign({},e.data.global),console.log("start")}function h(e){if(M.__touchPoint){var t=e.data.global,i=t.x-M.__touchPoint.x,r=t.y-M.__touchPoint.y;M.__touchPoint=Object.assign({},t),console.log({dx:i,dy:r});var n=M,o=n.width,a=n.height,s=Math.max(o,a)/2;console.log({width:o,height:a});var h=D._config.offsetX-r/s,c=D._config.offsetY-i/s;console.log({offsetX:h,offsetY:c}),D.update({offsetX:h,offsetY:c}),u()}}function c(){M.__touchPoint=null,console.log("end")}function l(e){if(!(M._slideConfig.mult<0)){var t=m[e],i=m[M._slideConfig.mult],r=t/i;M.scale.x=r,M.scale.y=r}}function u(){var e=M._slideConfig,t=e.fouceSize,i=e.smallMap;i.x=155+t*D._config.offsetY,i.y=130+t*D._config.offsetX}var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=nb.canvasWidth,p=nb.canvasHeight,m=[4,10,40],v=.3,y=618,g=50,b=30,x={SMALL:"small",MIDDLE:"middle",LARGE:"large"},w="",_=0,T=0,E=0,S=new nb.mapViewer,M=null,C=$(".player-controls")[0];C&&C.setAttribute("style","display: none");var A=$("#nb-biology-op-id"),D=new PIXI.Container;D._config={rotation:0,offsetX:0,offsetY:0,brightness:1,blur:0,mult:0},D.state=x.SMALL;var k=new PIXI.Graphics;k.beginFill(),k.fillColor=0,k.drawRect(-f,-p,3*f,3*p),e.addChild(k),D.bgb=k,k.alpha=0;var I=f-97.5-200;Object.assign(D,{x:I,y:97.5}),e.pivot.set(f/2,p/2),e.x=f/2,e.y=p/2,e.addChild(D),D.scale.set(.5,.5),Object.assign(D._config,d);var P=PIXI.Sprite.fromFrame("ocular"),R=new PIXI.Container;R.pivot.x=P.width/2,R.pivot.y=P.height/2,R.addChild(P),D.addChild(R);var F=new PIXI.Graphics;F.beginFill(),F.fillColor=10027008,F.drawCircle(0,0,97.5),D.addChild(F),D.inner=F;var O=new PIXI.Container;O.x=R.width/2,O.y=R.height/2,O.mask=F,R.addChild(O),D.sl=O;var L=new PIXI.Graphics;L.beginFill(),L.fillColor=15134719,L.drawRect(1.5*-f,1.5*-p,3*f,3*p),O.addChild(L),O.bgw=L,L.addChild(S),S.init(),S.interactive=!1,S.changeCenterObj({x:0,y:0},L),S.update();var B=PIXI.Sprite.fromFrame("button"),N=new PIXI.Container;N.pivot.x=B.width/2,N.pivot.y=B.height/3,N.addChild(B),e.addChild(N),N.x=f-97.5-200,N.y=195,N.scale.set(.5,.5);var U=new PIXI.Text("",{fontFamily:"Microsoft YaHei",fontSize:28,fill:16777215,align:"center"});U.x=B.width/2-84+2,U.y=B.height/3-14+2,N.addChild(U),N.addEventListener(TouchEvent.TAP,function(t){D.emit("optimum",t),e.emit("autoBtn")}),F.addEventListener(TouchEvent.TAP,function(){if(e.emit("last"),A.hide(),x.SMALL===D.state){D.state=x.MIDDLE;var t=[R,N];nb.commonFunc.setArg(t,"interactive",!1),TweenMax.to(t,.5,{alpha:0,ease:Sine.easeInOut,onComplete:function(){D.emit("observeslide")}})}}),D.changeState=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.updateTransform();var i=e.worldTransform,r=Object.assign({x:f/2+i.tx,y:p/2},t);e.addChild(F),O.alpha=0,e.addChild(O),F.x=O.x=r.x-i.tx,F.y=O.y=r.y-i.ty,F.scale.x=F.scale.y=.01;var o=new TimelineMax({onComplete:function(){S.interactive=!0,n()}});TweenMax.to(k,.8,{alpha:1,ease:Sine.easeInOut}),D._config.brightness&&o.add(TweenMax.to(O,.6,{alpha:D._config.brightness,ease:Sine.easeInOut})),o.add(TweenMax.to(F.scale,1.5,{x:25,y:25,ease:Sine.easeInOut}))},D.update=function(e){if(e){if(Object.assign(D._config,e),TweenMax.killTweensOf(D),void 0!==e.rotation&&(D.rotation=D._config.rotation),void 0!==e.brightness&&(e.brightness>=1?D._config.brightness=1:e.brightness<=0&&(D._config.brightness=0),TweenMax.killTweensOf(D.sl),TweenMax.to(D.sl,v,{alpha:D._config.brightness})),void 0!==e.blur){e.blur<0?D._config.blur=0:e.blur>1&&(D._config.blur=1);var t=1;if(0===e.blur)O.children[0].filters=null;else{var i=new PIXI.filters.BlurFilter;O.children[0].filters=[i],i.blur=20*D._config.blur,t=Math.sqrt(1-e.blur)}if(!S.visible)return;var n=M||S;TweenMax.killTweensOf(n),TweenMax.to(n,v,{alpha:.7*t})}if(void 0!==e.mult){if(D._config.mult=Math.round(D._config.mult),D._config.mult<0?D._config.mult=0:D._config.mult>2&&(D._config.mult=2),M)return void l(D._config.mult);if(!S.visible)return;w.length&&S.changeMult(D._config.mult+1)}if(w.length&&S&&(void 0!==e.offsetX||void 0!==e.offsetY)){var o=r();if(TweenMax.killTweensOf(S.pivot),void 0!==e.offsetX){var a=e.offsetX*E*m[D._config.mult]/80;TweenMax.to(S.pivot,v,{y:o.y+a,onComplete:function(){S.updatePivot(),S.update()}})}if(void 0!==e.offsetY){var s=e.offsetY*E*m[D._config.mult]/80;TweenMax.to(S.pivot,v,{x:o.x+s,onComplete:function(){S.updatePivot(),S.update()}})}}else if(M){var h=M,c=h.width,u=h.height,d=Math.max(c,u)/2;void 0!==e.offsetX&&(M.pivot.y=d*e.offsetX/M.scale.y),void 0!==e.offsetY&&(M.pivot.x=d*e.offsetY/M.scale.x)}S.visible&&S.update&&S.update()}};var H=i(244);return D.changeSlides=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(D.removeSlides(),"string"!=typeof e)a(e,t);else{var i=H.default[e];if(!i)return void console.error(e+"");_=i.width,T=i.height,E=Math.max(_,T),w=e,S.changeSlide(e,_,T)}D.update(Object.assign({offsetX:0,offsetY:0,mult:D._config.mult},t)),S.visible=!0},D.removeSlides=function(){M&&(M.parent.removeChild(M),M.scale={x:1,y:1},M.pivot={x:1,y:1},M.alpha=1,M.filters=null,M=null),S.visible=!1},D.hide=function(e){D.visible=!1,N.visible=!1,1===e&&(D.visible=!0)},D.show=function(e){D.visible=!0,N.visible=!0,1===e&&(D.visible=!1)},D.changeStep=function(t){e=t,nb.commonFunc.setArg(e.children,"visible",!1),e.addChild(k),e.addChild(D),e.addChild(N)},D.setInteractive=function(e){var t=!!e;D.interactive=t,N.interactive=t,F.interactive=t},D.update(D._config),window.vision=D,D},e.exports=nb.eyepiece}).call(t,i(1))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={sl0001:{width:12176,height:18281},sl0002:{width:32100,height:33203},sl0003:{width:9648,height:18202},sl0007:{width:22856,height:17718},sl0011:{width:12348,height:37155},sl0012:{width:17448,height:13524},sl0013:{width:16276,height:16256},sl0017:{width:15700,height:15983},sl0018:{width:42372,height:34229},sl0019:{width:42308,height:12537},sl0020:{width:30296,height:21851},sl0022:{width:22480,height:21544},sl0023:{width:26180,height:30196},sl0024:{width:30116,height:44779},sl0025:{width:31372,height:27354},sl0026:{width:15008,height:21259},sl0027:{width:8484,height:7181},sl0028:{width:21764,height:16052},sl0030:{width:30564,height:14104},sl0031:{width:43580,height:35670},sl0032:{width:13036,height:13853},sl0035:{width:10604,height:10138},sl0038:{width:10440,height:28106},sl0040:{width:13148,height:15208},sl0041:{width:11944,height:12198},sl0042:{width:9912,height:9010},sl0043:{width:18148,height:14956},sl0044:{width:22480,height:20277},sl0045:{width:24036,height:15513},sl0048:{width:9756,height:6759},sl0049:{width:8056,height:7181},sl0050:{width:26964,height:8852},sl0053:{width:26912,height:23762},sl0054:{width:42464,height:22005},sl0055:{width:41984,height:30412},sl0057:{width:18456,height:17867},sl0058:{width:5088,height:5914},sl0059:{width:4240,height:3802},sl0060:{width:24076,height:15217},sl0061:{width:17332,height:17028},sl0062:{width:38984,height:30462},sl0063:{width:26288,height:11776},sl0064:{width:21208,height:17320},sl0065:{width:20464,height:20169},sl0077:{width:4184,height:4184},sl0078:{width:4773,height:4773},sl0079:{width:4773,height:4773},sl0080:{width:4773,height:4773},sl0081:{width:4773,height:4734},sl0082:{width:4773,height:4734},sl0083:{width:4773,height:4734},sl0085:{width:15268,height:12673},sl0086:{width:47524,height:42322},sl0088:{width:9170,height:41384}};t.default=r},function(e,t,i){"use strict";function r(e,t){var i=n.random(1,1)*o,r=Math.abs(Math.atan2(e.y-t.y,e.x-t.x)%i);return r>i/2&&(r=i-r),Math.random()>.5&&(r*=-1),r}var n=i(83),o=Math.PI/4,a=Math.PI/4,s={};s.fadeIn=function(e){if(e instanceof Array){var t=[];return e.forEach(function(e){t=t.concat(s.fadeIn(e))}),t}return e.visible=!1,e.alpha=0,e.scale.x=e.scale.y=.85,[TweenMax.to(e,.8,{alpha:1,onStart:function(){e.visible=!0}}),TweenMax.to(e.scale,.8,{x:1,y:1})]},s.fadeOut=function(e){if(e instanceof Array){var t=[];return e.forEach(function(e){t.push(s.fadeOut(e))}),t}return e.visible=!0,TweenMax.to(e,.8,{alpha:0,onComplete:function(){e.parent&&e.parent.removeChild(e)}})},s.shake=function(e,t){return t=t||{},TweenMax.to(e,.05,{x:"+= "+(10*(+Math.random()-.5)+4),y:"+= "+(10*(+Math.random()-.5)+4),repeat:t.repeat||50,delay:.1,ease:Expo.easeInOut})},s.stir=function(e,t){var i=t||{repeat:6,radius:20};return TweenMax.to(e,.5,{x:"+="+i.radius,yoyo:!0,repeat:i.repeat,ease:Sine.easeInOut})},s.bezierFrom=function(e,t,i){i=i||{};var s=i.angle||a;s*=r(e,i)/o;var h=n.rotaPoint(i,e,s);h.x-=e.x,h.y-=e.y,h=n.normalize(h);var c=n.distance(i,e)/(2*Math.cos(s))*.95;h.x*=c,h.y*=c,h.x+=e.x,h.y+=e.y;var l,u=[{x:e.x,y:e.y},h,{x:i.x,y:i.y}];return l=isNaN(h.x)?{}:{bezier:{type:"thru",values:u},ease:Power2.easeInOut},delete i.x,delete i.y,TweenMax.from(e,t,Object.assign(l,i))},s.bezierTo=function(e,t,i){i=i||{};var s=i.angle||a;s*=r(e,i)/o;var h=n.rotaPoint(i,e,s);h.x-=e.x,h.y-=e.y,h=n.normalize(h);var c=n.distance(i,e)/(2*Math.cos(s))*.95;h.x*=c,h.y*=c,h.x+=e.x,h.y+=e.y;var l,u=[{x:e.x,y:e.y},h,{x:i.x,y:i.y}];return l=isNaN(h.x)?{}:{bezier:{type:"quadratic",values:u}},delete i.x,delete i.y,TweenMax.to(e,t,Object.assign(l,i))},s.dumpLiquids=function(e,t){var i=e.rotation,r=[];t=t*Math.PI/180;var n=(t-i)/3;return r[0]=TweenMax.to(e,1,{rotation:e.rotation+n,ease:Quad.easeIn}),r[1]=TweenMax.to(e,1.5,{rotation:e.rotation+n,delay:1}),r[2]=TweenMax.to(e,1,{rotation:e.rotation+n,ease:Quad.easeOut,delay:2.5}),r},e.exports=s},function(e,t,i){"use strict";var r=function(){function e(){if(r._auto_&&!r.drag.isDragging){var e=i-t;"vertical"===n?(r.drag.y+=r._speed_,r.drag.y>e&&(r.drag.y=e)):(r.drag.x+=r._speed_,r.drag.x>e&&(r.drag.x=e)),c()}}for(var t,i,r=this,n=this.a0.x===this.a1.x?"vertical":"horizontal",o=0,a=0;a<int.MAX_VALUE;a++){var s=this["a"+a];if(void 0===s){i="vertical"===n?this["a"+(a-1)].y:this["a"+(a-1)].x,o=a;break}0===a&&(t="vertical"===n?s.y:s.x),s.addEventListener(TouchEvent.TAP,function(){"vertical"===n?TweenMax.to(r.drag,.5,{y:this.y,onUpdate:c,onComplete:l}):TweenMax.to(r.drag,.5,{x:this.x,onUpdate:c,onComplete:l})})}var h;h="vertical"==n?{x:this.drag.x,y:this.drag.y,width:0,height:i}:{x:this.drag.x,y:this.drag.y,width:i,height:0},NBDrag.addDrag(r.drag,h),r.drag.addEventListener(NBDrag.event.STOP_DRAG,function(){if(!1!==r._align_){var e=o-1;if("vertical"===n){var a=Math.round((this.y-t)/(i-t)*e);a<0&&(a=0),TweenMax.to(this,.5,{y:a*(i-t)/e,onUpdate:c,onComplete:l})}else{var a=Math.round((this.x-t)/(i-t)*e);a<0&&(a=0),TweenMax.to(this,.5,{x:a*(i-t)/e,onUpdate:c,onComplete:l})}}}),r.drag.addEventListener(NBDrag.event.DRAG_MOVE,function(){c()});var c=function(){if("vertical"===n){var e=(r.drag.y-t)/(i-t);r.emit("change",{time:e})}else{var e=(r.drag.x-t)/(i-t);r.emit("change",{time:e})}},l=function(){var e=o-1;if("vertical"===n){var a=(r.drag.y-t)/(i-t),s=Math.round(a*e);r.emit("change",{index:s,time:a})}else{var a=(r.drag.x-t)/(i-t),s=Math.round(a*e);r.emit("change",{index:s,time:a})}};this.getNodeCount=function(){return o};var u=new PIXI.ticker.Ticker;u.add(e),u.start(),this.destory=function(){u.remove(e)},this.setAutoPlay=function(e,t){this._auto_=e,this._speed_=t||.1},this.setAutoAlign=function(e){this._align_=e},this.setMomentsPause=function(e,t,i){function r(r){if("drag"==r.target.name){if("vertical"===n&&h-5<=r.target.y&&h+5>=r.target.y)return;if("horizontal"===n&&c-5<=r.target.x&&c+5>=r.target.x)return}e&&(clearTimeout(a),this.parent.setAutoPlay(!1,i),a=setTimeout(function(){s.setAutoPlay(!0,i)},t))}var a,s=this;if("vertical"===n)var h;else var c;this.drag.addEventListener(TouchEvent.TOUCH_BEGIN,function(e){"vertacal"===n?h=e.target.y:c=e.target.x});for(var l=0;l<o;l++)this["a"+l].removeEventListener(TouchEvent.TAP,r),this["a"+l].addEventListener(TouchEvent.TAP,r);this.drag.removeListener(NBDrag.event.STOP_DRAG,r),this.drag.addEventListener(NBDrag.event.STOP_DRAG,r)}};e.exports=r},function(e,t,i){"use strict";function r(e){function t(){var e=instance.renderer.view;i.x=e.width-nb.stackPosX-(e.width-nb.canvasWidth)/2-c,i.y=nb.stem.STEMMain.H-h>>1}PIXI.Sprite.call(this);for(var i=this,r=new PIXI.Sprite,n=function(e){var t=instance.stage;r.texture=this.texture;var i=this.toGlobal({x:0,y:0});t.addChild(r),r.x=i.x,r.y=i.y,r.alpha=.5,NBDrag.addDrag(r),r.emit(TouchEvent.TOUCH_BEGIN,e),this.addEventListener(TouchEvent.TOUCH_END,o),this.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,o)},o=function e(t){this.removeEventListener(TouchEvent.TOUCH_END,e),this.removeEventListener(TouchEvent.TOUCH_END_OUDSIDE,e);var n=i.getRoot().getHitObject3D(r);r.parent&&r.parent.removeChild(r),n.object&&(n.type="hit",n.object.dispatchEvent(n))},a=0;a<e.length;a++){var s=new PIXI.Sprite.fromFrame(e[a].texture);s.width=128,s.width=128,s.addEventListener(TouchEvent.TOUCH_BEGIN,n),this.addChild(s)}var h=500,c=300,l=new PIXI.Graphics;l.lineStyle(3,10066329,1),l.beginFill(15658734,.2),l.drawRect(0,0,c,h),this.addChild(l),t(),window.addEventListener("resize",t),this.getRoot=function(){return this.parent.stepRoot}}r.KNIFE={texture:"ToolsMenu.KNIFE"},r.SCALPEL={texture:"ToolsMenu.SCALPEL"},r.prototype=Object.create(PIXI.Sprite.prototype),r.constructor=r,r.prototype.addTool=function(e){},r.prototype.removeTool=function(e){},e.exports=r},function(e,t,i){"use strict";var r=window.nb;r.MovieClip=function(){var e=0;this.animationSpeed=1;var t=r.MovieClip.ticker;this.totalFrames=0,this._currentTime=0,this.loop=!0,this.playing=!1,this.play=function(e){if(void 0!==e)return void TweenMax.to(this,this.totalFrames/60,{ease:Linear.easeNone,currentFrame:this.totalFrames,repeat:e});this.playing||(this.playing=!0,t.add(this.update,this))},this.stop=function(){this.playing&&(t.remove(this.update,this),this.playing=!1)},this.update=function(){if(this.__end__)return this.__end__=!1,this.__gotoAndStop__(0),void(this.__decimal__=0);this.__floor__=e+this.animationSpeed+(this.__decimal__||0);var t=Math.floor(this.__floor__);this.__decimal__=this.__floor__%1,t<0?this.loop?this.__gotoAndStop__(t):(this.__gotoAndStop__(0),this.onComplete&&this.onComplete()):t<=this.totalFrames-1?(this.loop?this.__gotoAndStop__(t):(this.__gotoAndStop__(t),t===this.totalFrames-1&&this.stop()),t===this.totalFrames-1&&(this.onComplete&&this.onComplete(),this.loop&&this.__decimal__+this.animationSpeed>=1&&(this.__end__=!0))):t>this.totalFrames-1&&(this.__gotoAndStop__(this.totalFrames-1),this.onComplete&&this.onComplete(),!1===this.loop&&this.stop())},this.insertDisplayObjectToFrame=function(e,t,i){void 0===this[t]&&(this[t]=[],t>=this.totalFrames&&(this.totalFrames=t+1)),this[t].push({dis:e,tweenTransform:i}),e.visible=!1},this.gotoAndStop=function(e){e=Math.round(e),this._currentTime=e,this.stop(),this.__gotoAndStop__(e)},this.gotoAndPlay=function(e){e=Math.round(e),this._currentTime=e,this.gotoAndStop(e),this.play()},this.__gotoAndStop__=function(t){var i,r;if(-1!==e&&void 0!==(i=this[e]))for(r=0;r<i.length;r++)i[r].dis.visible=!1;if(t>=this.totalFrames&&(t=this.totalFrames-1),e=t,void 0!==(i=this[t]))for(r=0;r<i.length;r++){var n=i[r].dis;if(n.visible=!0,n.parent&&(n.parent.addChildAt(n,0),i[r].tweenTransform)){var o=i[r].tweenTransform;0!=o.r?n.setTransform(o.x,o.y,o.sx,o.sy,o.r):n.setTransform(o.x,o.y,o.sx,o.sy,0,o.skewX,o.skewY)}}this.updateTransform()},this.stop=function(){this.playing&&(this.playing=!1,t.remove(this.update,this))},Object.defineProperty(this,"currentFrame",{get:function(){return e},set:function(e){this.gotoAndStop(Math.floor(e))}});var i=!1;Object.defineProperty(this,"reverse",{get:function(){return i},set:function(t){if(i!==t){-1!==e&&this.__gotoAndStop__(this.totalFrames-1-e);for(var r=Math.floor(this.totalFrames/2),n=0;n<r;n++){var o=this[n];this[n]=this[this.totalFrames-1-n],this[this.totalFrames-1-n]=o}i=t}}}),this.clone=function(){var e=instance.createChildFromData(this.parent,this._nbData_);return this.name&&""!==this.name&&(this.parent[this.name]=this),delete this.name,e}},r.MovieClip.ticker=new PIXI.ticker.Ticker,r.MovieClip.ticker.start(),e.exports=r.MovieClip},function(e,t,i){"use strict";(function(t){var i=t.nb;i.iconList=function(){function e(e){TweenMax.to(e,.5,{y:100*e.indexNum})}for(var t=this,i=[],r=[],n=0;n<1e4;n++)t["item"+n]&&(i.push(t["item"+n]),r.push(t["item"+n]));t.allList=i,t.showList=r,t.getNum=function(){for(var e=0;e<r.length;e++)r[e].indexNum=e},t.getNum();for(var n=0;n<i.length;n++)i[n].rm=function(){var e=this;r.splice(e.indexNum,1),t.getNum(),e.hide({time:.5,callback:function(){t.sortList(!0)}})},i[n].addTo=function(e){var i=this;if(e||0===e){var e=e;r.splice(e,0,i)}else r.push(i);t.getNum(),i.show({time:.5}),t.sortList(!0)};t.sortList=function(t){for(var i=0;i<r.length;i++)t?e(r[i]):r[i].y=100*r[i].indexNum}},e.exports=i.iconList}).call(t,i(1))},function(e,t,i){"use strict";(function(t){var i=t.nb;i.clock=function(){var e=0,t=!1;this.txt.text="00:00:00",this.render=function(i,r,n){if(!t){void 0===i&&(i=1/60),r=r||1;for(var o=0;o<r;o++){e+=i,void 0!=n&&e>=n&&(e=n,t=!0);var a=Math.floor(e/60);a=a<10?"0"+a:a;var s=Math.floor(e%60);s=s<10?"0"+s:s;var h=Math.floor(e%1*100);h=h<10?"0"+h:h,this.txt.text=a+":"+s+":"+h}}},this.reset=function(){e=0,t=!1,this.txt.text="00:00:00"},this.pause=function(){t=!0},this.resume=function(){t=!1}},e.exports=i.clock}).call(t,i(1))},function(e,t,i){"use strict";(function(t){var r=t.nb,n=i(41);r.matches=function(){function e(){i.visible=!1,t.putFire()}SoundManager.register({src:n.config.URI_PREFIX+"assets/sounds/match.mp3",id:"0010/match"});var t=this,i=this.parent.match;i.visible=!1,NBDrag.addDrag(i);var r=null;this.addEventListener(TouchEvent.TOUCH_BEGIN,function(e){var t=this.getBounds();i.visible=!0,i.alpha=1,i.x=this.x-(t.x-e.data.global.x)-100,i.y=this.y-(t.y-e.data.global.y),null==r&&(r=ParticleUtil.getParticle(ParticleUtil.particles.match_fire),r.alpha=.4,this.stepRoot.addChild(r),r.bind(i,0,50)),r.visible=!0,TouchEvent.simulateTouchDown(i,e),i.sound=SoundManager.play("0010/match")}),this.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,function(t){e()}),i.addEventListener(NBDrag.event.STOP_DRAG,function(t){e()}),this.render=function(){1==i.visible&&r&&r.render()};var o=[];this.addSpiritLamp=function(e){-1==o.indexOf(e)&&o.push(e)},i.addEventListener(TouchEvent.TOUCH_MOVE,function(e){this.parent&&this.parent.spiritLamp&&this.fireArea.hitTest(this.parent.spiritLamp.head)&&this.parent.spiritLamp.lightFire();for(var t=0;t<o.length;t++){var i=o[t];this.parent&&i&&this.fireArea.hitTest(i.head)&&i.lightFire()}}),this.putFire=function(){null!=r&&(r.visible=!1,r.destroy(),r=null),i.sound&&(i.sound.stop(),i.sound=null)},this.hideMatch=e,this.isBurning=function(){return null!=r}},e.exports=r.matches}).call(t,i(1))},function(e,t,i){"use strict";(function(t){var i=t.nb;i.box2dSwitchComponent=function(e){var t=0;e&&(t=e.type||0);for(var i=[],r=0;r<this.timeline.getNodeCount();r++){var n=this["step"+r];i.push(n),n.alpha=0,n.visible=!1}var o=this.step0;o.visible=!0,o.alpha=1;var a=0;this.timeline.on("change",function(e){if(0==t){if(void 0!==e.index&&e.index!=a){var r;r=e.index>a?1200:-1200,TweenMax.to(o,.6,{x:r,alpha:0,onComplete:function(e){e.visible=!1},onCompleteParams:[o],ease:Expo.easeOut}),a=e.index,o=i[a],o.visible=!0,o.x=-r,TweenMax.to(o,1,{x:0,alpha:1,ease:Expo.easeOut})}}else if(1==t&&void 0!==e.index&&e.index!=a){var r;r=e.index>a?1200:-1200,o.x=r,o.alpha=0,o.visible=!1,a=e.index,o=i[a],o.visible=!0,o.x=-r,o.x=0,o.alpha=1}}),this.onUpdate=function(){o.onUpdate&&o.onUpdate()}},e.exports=i.box2dSwitchComponent}).call(t,i(1))},function(e,t,i){"use strict";(function(t){var i=t.nb;i.drawPicture=function(e,t){function r(e){if(s.ref.addEventListener(TouchEvent.TOUCH_MOVE,a),(!s.pen||0!=s.pen.currentFrame)&&0==h){x=[];var i=new PIXI.Graphics;s.addChild(i);for(var r=0;r<t;r++)s.addChild(s["w"+r]);b.push(i),i.lineStyle(c,s.drawColor,l);var o=s.toLocal({x:e.data.global.x,y:e.data.global.y});y=o.x,g=o.y,s.ref.addEventListener(TouchEvent.TOUCH_MOVE,n)}}function n(e){var t=s.toLocal({x:e.data.global.x,y:e.data.global.y}),i=b.length-1;b[i].moveTo(y,g),b[i].lineTo(t.x,t.y),x.push({x:e.data.global.x,y:e.data.global.y}),b[i].bounds=x,y=t.x,g=t.y}function o(){for(var e=0;e<b.length;e++)b[e].clear(),b.splice(e,1),e--;s.pen.currentFrame=0}function a(e){if(1==h)for(var t=0;t<b.length;t++){if(void 0==b[t])return;var i=b[t].getBounds();if(e.data.global.x>i.x&&e.data.global.x<i.x+i.width&&e.data.global.y>i.y&&e.data.global.y<i.y+i.height)for(var r=0;r<b[t].bounds.length;r++){var n=b[t].bounds[r];if(NBPoint.distance(e.data.global,n)<20){b[t].clear(),b.splice(t,1),t--;break}}}}var s=e;s.drawColor=0,t=void 0===t?11:t;var h=!1,c=4,l=1,u=.5,d=[],f=[];if(t>0)for(var p=0;p<t;p++)d.push(s["w"+p].x),f.push(s["w"+p].y);s.setLineColor=function(e){s.drawColor=e},s.setLineWidth=function(e){c=e},s.setLineAlpha=function(e){l=e},s.setSpeed=function(e){u=e};var m=s.toLocal({x:0,y:0},instance.stage);if(s.ref.x=m.x,s.ref.y=m.y,s.ref.width=i.stem.STEMMain.W,s.ref.height=i.stem.STEMMain.H,t>0)for(var p=0;p<t;p++){var v=s["w"+p];NBDrag.addDrag(v),v.addEventListener(NBDrag.event.START_DRAG,function(e){var t=e;return function(){s.addChild(s["w"+t])}}(p))}s.ref.addEventListener(TouchEvent.TOUCH_BEGIN,r),s.ref.addEventListener(TouchEvent.TOUCH_END,function(){s.ref.removeListener(TouchEvent.TOUCH_MOVE,n),s.ref.removeListener(TouchEvent.TOUCH_MOVE,a)}),s.ref.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,function(){s.ref.removeListener(TouchEvent.TOUCH_MOVE,n),s.ref.removeListener(TouchEvent.TOUCH_MOVE,a)});var y=0,g=0,b=[],x=[];if(s.clear.addEventListener(TouchEvent.TOUCH_BEGIN,function(){s.clear.gotoAndStop(1)}),s.clear.addEventListener(TouchEvent.TOUCH_END,function(){s.clear.gotoAndStop(0)}),s.clear.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,function(){s.clear.gotoAndStop(0)}),s.clear.addEventListener(TouchEvent.TAP,o),s.pen){var w=function(e){s.pen.currentFrame=!s.pen.currentFrame,s.eraser.gotoAndStop(0),h=!1,0==s.pen.currentFrame&&o()};s.pen.addEventListener(TouchEvent.TAP,w)}s.eraser.addEventListener(TouchEvent.TAP,function(){!0===h?(h=!1,s.eraser.gotoAndStop(0)):(h=!0,s.eraser.gotoAndStop(1)),s.pen.currentFrame=0}),s.onUpdate=function(){0==b.length&&(h=!1,s.eraser.gotoAndStop(0))},s.drawUpdate=function(){0==b.length&&(h=!1,s.eraser.gotoAndStop(0))},s.btn&&s.btn.addEventListener(TouchEvent.TAP,function(){for(var e=0;e<t;e++)TweenMax.to(s["w"+e],u,{x:d[e],y:f[e]});for(var e=0;e<b.length;e++)b[e].clear(),b.splice(e,1),e--})},e.exports=i.drawPicture}).call(t,i(1))},function(e,t,i){"use strict";(function(t){var i=t.nb;i.judgebox=function(){var e=new PIXI.Container,t=new PIXI.Sprite.fromFrame("judge1"),i=new PIXI.Sprite.fromFrame("judge2");return e.addChild(t),e.addChild(i),e.changeValue=function(e){t.visible=!1,i.visible=!1,0==e?t.visible=!0:1==e&&(i.visible=!0)},e.changeValue(-1),e.desdroy=function(){e.removeChild(t),e.removeChild(i),e.destroy()},e},e.exports=i.judgebox}).call(t,i(1))},function(e,t,i){"use strict";(function(t){var i=t.nb;i.longRuler=function(){function e(){root.ruler.txt.text=((root.ruler.bar.x-15)/c).toFixed(1)+"cm",root.ruler.txt.x=root.ruler.bar.x,root.ruler.rightMc.x=root.ruler.bar.x+.8}function t(e){this.globalData={x:e.data.global.x,y:e.data.global.y},h.addEventListener(TouchEvent.TOUCH_END,r),h.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,r),h.addEventListener(TouchEvent.TOUCH_MOVE,i)}function i(e){root.ruler.x+=e.data.global.x-this.globalData.x,root.ruler.y+=e.data.global.y-this.globalData.y,this.globalData.x=e.data.global.x,this.globalData.y=e.data.global.y}function r(e){h.removeEventListener(TouchEvent.TOUCH_END,r),h.removeEventListener(TouchEvent.TOUCH_MOVE,i),h.removeEventListener(TouchEvent.TOUCH_END_OUDSIDE,r)}function n(e){this.globalData={x:e.data.global.x},root.ruler.bar.addEventListener(TouchEvent.TOUCH_END,a),root.ruler.bar.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,a),root.ruler.bar.addEventListener(TouchEvent.TOUCH_MOVE,o)}function o(e){this.x+=e.data.global.x-this.globalData.x,this.x<320&&(this.x=320),this.x>1528&&(this.x=1528),this.globalData.x=e.data.global.x,s()}function a(e){root.ruler.bar.removeEventListener(TouchEvent.TOUCH_END,a),root.ruler.bar.removeEventListener(TouchEvent.TOUCH_MOVE,o),root.ruler.bar.removeEventListener(TouchEvent.TOUCH_END_OUDSIDE,a)}root=this.parent;var s=function(){var t=root.ruler.m.getChildAt(0);t.clear(),t.beginFill(16711680,1),t.drawRect(0,0,root.ruler.bar.x,82),e()},h=root.ruler.m;root.ruler.bar.alpha=0,root.ruler.bar.getChildAt(0).x=-32;var c=30;h.addEventListener(TouchEvent.TOUCH_BEGIN,t),root.ruler.bar.addEventListener(TouchEvent.TOUCH_BEGIN,n),root.ruler.ruler_bg.mask=root.ruler.m.getChildAt(0),s()},e.exports=i.longRuler}).call(t,i(1))},function(e,t,i){"use strict";(function(t){var i=t.nb;i.whiteScene=function(e){function t(e,t,r,o,a,s){var h=new THREE.Mesh(new THREE.PlaneBufferGeometry(a,s),new THREE.MeshPhongMaterial({color:10066329,map:THREE.ImageUtils.loadTexture("assets/whitescene/"+e),transparent:!0}));h.position.set(t,r,o),h.lookAt(n.position),i.add(h)}var i=e.scene,r=new THREE.Mesh(new THREE.PlaneBufferGeometry(300,300),new THREE.MeshPhongMaterial({color:16777215,specular:1052688}));i.add(r),r.rotation.x=-Math.PI/2,r.receiveShadow=!0;var n=new THREE.Mesh(new THREE.BoxGeometry(5,5,5),new THREE.MeshLambertMaterial({color:16711680}));i.add(n),n.visible=!1,t("ye1.png",30,2,0,7,2),t("ye1.png",-30,2,0,7,2),t("ye2.png",0,2,50,7,3),t("ye2.png",30,2,-50,4,2),t("shu1.png",100,21,-100,95,36),t("shu2.png",-100,23.5,-50,124,40),t("shu1.png",-100,23.5,100,95,36),i.fog=new THREE.Fog(16777215,2,1e3)},e.exports=i.whiteScene}).call(t,i(1))},function(e,t,i){"use strict";(function(t){var i=t.nb;i.injector=function(){function e(){l.clear(),l.beginFill(c.fluidColor,c.fluidAlpha),l.drawRect(-d/2,0,d,u),l.endFill()}function t(t){var r=i();console.log(u,t),t>0&&((u+=t)<0||(u=0)),t<0&&r&&(u+=t),e()}function i(){for(var e=0;e<f.length;e++){var t=injectArrp[e];if(c.head.hitTest(t))return t}return null}function r(e){this.globalData={x:e.data.global.x,y:e.data.global.y},this.nowy=this.y,c.bar.addEventListener(TouchEvent.TOUCH_END,o),c.bar.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,o),c.bar.addEventListener(TouchEvent.TOUCH_MOVE,n)}function n(e){this.y+=e.data.global.y-this.globalData.y,this.y>=-148&&(this.y=-148),this.y<-320&&(this.y=-320),t(this.y-this.nowy),this.nowy=this.y,this.globalData.y=e.data.global.y}function o(e){c.bar.removeEventListener(TouchEvent.TOUCH_END,o),c.bar.removeEventListener(TouchEvent.TOUCH_MOVE,n),c.bar.removeEventListener(TouchEvent.TOUCH_END_OUDSIDE,o)}function a(e){this.globalData={x:e.data.global.x,y:e.data.global.y},p.addEventListener(TouchEvent.TOUCH_END,h),p.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,h),p.addEventListener(TouchEvent.TOUCH_MOVE,s)}function s(e){c.x+=e.data.global.x-this.globalData.x,c.y+=e.data.global.y-this.globalData.y,this.globalData.x=e.data.global.x,this.globalData.y=e.data.global.y}function h(e){p.removeEventListener(TouchEvent.TOUCH_END,h),p.removeEventListener(TouchEvent.TOUCH_MOVE,s),p.removeEventListener(TouchEvent.TOUCH_END_OUDSIDE,h)}var c=this;this.fluidColor=16711680,this.fluidAlpha=.5;var l=new PIXI.Graphics;l.y=-148,this.addChildAt(l,0);var u=0,d=50,f=[];this.addInjectObj=function(e){f.push(e)},c.bar.addEventListener(TouchEvent.TOUCH_BEGIN,r);var p=c.front;p.addEventListener(TouchEvent.TOUCH_BEGIN,a)},e.exports=i.injector}).call(t,i(1))},function(e,t,i){"use strict";(function(t){var i=t.nb;i.thermometer=function(){function e(e){s.binded=!1}function t(e){s.emit("this_end_touch")}function i(){var e=s.temp/r,t=e*n;s.waterColumn.height+=(t-s.waterColumn.height)*a;var i=e*o;s.big.bigTemp.y+=(i-s.big.bigTemp.y)*a,s.big.bigTemp.waterColumn&&(s.big.bigTemp.waterColumn.height=3.027*s.waterColumn.height+22)}this.binded=!1;var r=100,n=340,o=1024;this.temp=20;var a=.1;this.setSpeed=function(e){a=e};var s=this;NBDrag.addDrag(this),s.addEventListener(TouchEvent.TOUCH_BEGIN,e),s.addEventListener(TouchEvent.TOUCH_END,t),s.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,t);var h=new PIXI.Graphics;h.beginFill(0,1),h.drawCircle(0,0,142),h.endFill(),h.y=73,h.x=4,s.big.addChild(h),s.big.bigTemp.mask=h,this.getTemp=function(){return s.temp},this.setTemp=function(e){s.temp=e},this.update=function(){i()},s.big.qs1.visible=!1},e.exports=i.thermometer}).call(t,i(1))},function(e,t,i){"use strict";var r=function(){function e(e){function i(e){s=!0;var t=this.parent;this.x;t.progress.center.width=this.x;var i=this.x/n;t.emit("change",{time:i});var a=r.parent.toLocal({x:e.data.global.x,y:e.data.global.y});h.x-o<=n&&h.x-o>=0&&(h.x+=a.x-h._data.x,h._data=a),h.x-o<0&&(h.x=0),h.x-o>n&&(h.x=n)}function a(){t(),h.removeEventListener(TouchEvent.TOUCH_MOVE,i),h.removeEventListener(TouchEvent.TOUCH_END,a),h.removeEventListener(TouchEvent.TOUCH_END_OUDSIDE,a)}var h=this,c=r.parent.toLocal({x:e.data.global.x,y:e.data.global.y});h._data=c,h.addEventListener(TouchEvent.TOUCH_MOVE,i),h.addEventListener(TouchEvent.TOUCH_END,a),h.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,a)}function t(){s=!0,r.setMomentsPause(r._time_)}function i(e){var i=this.toLocal({x:e.data.global.x,y:e.data.global.y});i.x>0&&i.x<n&&(s=!1,TweenMax.to(this.clock,.1,{x:i.x,onUpdate:function(){s=!1,r.render(r._speed)},onComplete:function(){t()}}))}var r=this,n=this.progress.width,o=this.clock.x;this.clock.addEventListener(TouchEvent.TOUCH_BEGIN,e),r.reset=function(){r.clock.x=0,r.progress.center.width=0,r.setAutoPlay(!0)},this.progress.center.width=0;var a;r.setMomentsPause=function(e){r._time_=e,clearTimeout(a),a=setTimeout(function(){s=!1},e)},NBGesture.addGesture(r,NBGesture.gesture.TAP,i),this.setOperation=function(e){e?(this.clock.interactive=!0,NBGesture.addGesture(r,NBGesture.gesture.TAP,i)):(this.clock.interactive=!1,NBGesture.removeGesture(r,NBGesture.gesture.TAP,i))};var s=!1;this.setAutoPlay=function(e){s=!e},this.flagChange=function(){this.clock.interactive=!1,NBGesture.removeGesture(this,NBGesture.gesture.TAP)},this.render=function(e){if(!s){var t=this.progress;if(this.clock.x>t.front.width&&this.clock.x<n){var i=this.clock.x-t.front.width;t.center.width=i}else t.center.width=0;var r=this.clock.x/n;if(this.emit("change",{time:r}),e=e||1,this._speed=e,this.visible&&this.clock.x<=n&&(this.clock.x+=e),this.clock.x>n){this.clock.x=n;var i=this.clock.x-t.front.width;t.center.width=i,s=!0,this.emit("change",{time:1}),this.emit("complete"),this.complete=!0,console.log("")}}}};e.exports=r},function(e,t,i){"use strict";(function(t){var i=t.nb;i.magGlass=function(e,t,i,r,n,o,a){function s(){d.x=e.x,d.y=e.y;var r=o.toLocal(x,g),n=e.x-r.x,a=e.y-r.y;t.x=e.x-n*b,t.y=e.y-a*b,i.x=t.x,i.y=t.y,h()}function h(){for(var r=i.ab.children.length,n=0;n<r;n++){var o=i.ab.getChildAt(n),a=i[o.name];o.name.substr(1,1)==t.currentFrame?e.hit.hitTest(o)?(a.visible=!0,TweenLite.to(a.scale,.5,{x:1,y:1,ease:Back.easeOut})):TweenLite.to(a.scale,.2,{x:0,y:0}):a.visible=!1}}function c(e){g=e,b=t.width/g.width}var l={};if(t.scale.x=n,t.scale.y=n,i.scale.x=n,i.scale.y=n,void 0===a||1==a){var u=new PIXI.Graphics;u.beginFill(13421823,1),u.drawRect(r.x,r.y,520,740),u.endFill(),o.addChild(u),o.small.mask=u}var d=new PIXI.Graphics;d.beginFill(2960672,1),d.drawCircle(2,2,231),d.endFill();var f=d.clone();e.addChild(f),o.addChild(d),t.mask=d;for(var p=i.ab.children.length,m=0;m<p;m++){var v=i.ab.getChildAt(m),y=i[v.name];y.scale.x=0,y.scale.y=0,v.alpha=0}var g=r.p1,b=t.width/g.width,x=new PIXI.Point,w={x:r.x,y:r.y};return l.switchSmall=function(e){var i=r["p"+e];TweenLite.to(r,.5,{x:w.x-i.x}),t.gotoAndStop(e-1),c(i)},l.glass=e,l.updataBig=s,l.changeSmall=c,l},e.exports=i.magGlass}).call(t,i(1))},function(e,t,i){"use strict";(function(t){var i=function(){function e(e){h.lockClick(e)}function t(e){this.canDrag&&(this.globalData={x:e.data.global.x,y:e.data.global.y},d.addEventListener(TouchEvent.TOUCH_END,r),d.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,r),d.addEventListener(TouchEvent.TOUCH_MOVE,i))}function i(e){s.x+=e.data.global.x-this.globalData.x,s.y+=e.data.global.y-this.globalData.y,this.globalData.x=e.data.global.x,this.globalData.y=e.data.global.y}function r(e){d.removeEventListener(TouchEvent.TOUCH_END,r),d.removeEventListener(TouchEvent.TOUCH_MOVE,i),d.removeEventListener(TouchEvent.TOUCH_END_OUDSIDE,r)}function n(e){this.globalData={x:e.data.global.x},h.addEventListener(TouchEvent.TOUCH_END,a),h.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,a),h.addEventListener(TouchEvent.TOUCH_MOVE,o)}function o(e){h.islock||(this.x+=e.data.global.x-this.globalData.x,this.x<s.leftX+s.offX&&(this.x=s.leftX+s.offX),this.x>s.rightX+s.offX&&(this.x=s.rightX+s.offX),s.update(),this.globalData.x=e.data.global.x)}function a(e){h.removeEventListener(TouchEvent.TOUCH_END,a),h.removeEventListener(TouchEvent.TOUCH_MOVE,o),h.removeEventListener(TouchEvent.TOUCH_END_OUDSIDE,a)}var s=this,h=this.body_top,c=this.body_bottom,l=this.bg;h.scal.visible=!1,h.ten.alpha=!1,h.fifty.alpha=!1,h.islock=!1,this.offX=-240,this.leftX=0,this.rightX=510,this.bottomDx=c.x-this.leftX-this.offX,this.canDrag=!1,this.resetValue=function(e){TweenLite.to(h,.5,{x:e+this.offX})},this.bindObj=function(e){h.islock||(e?(TweenLite.to(e,.5,{x:s.x-330,y:s.y+110}),h.x-this.offX>=e.width||s.resetValue(e.width+200),s.leftX=e.width):(s.resetValue(0),s.leftX=0))},this.update=function(){c.x=h.x+s.bottomDx},this.getValue=function(){return h.showValue(!0)},h.txt=new PIXI.Text("",{font:"24px Arial",fill:16777215,align:"center"}),h.addChild(h.txt),h.txt.x=h.lock.x+40,h.txt.y=h.lock.y,h.graphics=new PIXI.Graphics,h.scal.addChildAt(h.graphics,1),h.graphics.x=-87,h.graphics.y=-102;var u={};u.getNumToInt=function(e){var t=e+"",i=t.indexOf(".");return(t=t.slice(0,i))-0},u.getNumJie=function(e,t){void 0===t&&(t=0);var i=Math.pow(10,t);return Math.round(e*i)/i},h.lock.addEventListener(TouchEvent.TAP,e),h.lockClick=function(e){this.islock=!this.islock,this.islock?(this.scal.visible=!0,this.lock.gotoAndStop(1),this.showValue()):(this.scal.visible=!1,this.lock.gotoAndStop(0),this.txt.text="")},h.showValue=function(e){var t,i,r=0,n=0;1==this.ten.alpha&&(t=this.ten.x,r=1,n=1),1==this.twenty.alpha&&(t=this.twenty.x,r=2,n=2),1==this.fifty.alpha&&(t=this.fifty.x,r=3,n=2);var o=this.parent.bg.x+this.x+t,a=o+320;(i=u.getNumJie(a/3,n))<0&&(i=0);var s;s=100*i%10,2==r?s<5?s=0:s>5&&(s=5):3==r&&s%2!=0&&s--,i=u.getNumJie(i,1)+.01*s;var h=u.getNumJie(i,n);if(e)return h;this.txt.text=h+"mm",h=h.toFixed(2),console.log(r,h),this.draw(r,h)},h.draw=function(e,t){this.graphics.removeChildren(),this.graphics.clear(),this.graphics.lineStyle(4,0);var i=t-0;i*=.1;var r=u.getNumToInt(i),n=u.getNumToInt(10*(i-r)),o=0,a=0,s=0,h=0,c=0;n>=5&&(a=5),1==e?(o=24,s=a+15,h=10,c=.9*o):2==e?(o=14.4,s=a+25,h=20,c=19*o/20):3==e&&(o=360/55,s=a+55,h=50,c=49*o/50);var l,d=0,f=0,p=0==a?r:r+1;for(l=a;l<=s;l++){var m=0;if(l%5==0&&l%10!=0)m=0+d*o,this.graphics.moveTo(m,0),this.graphics.lineTo(m,-24);else if(l%10==0){if(m=0+d*o,this.graphics.moveTo(m,0),this.graphics.lineTo(m,-34),p<=15){var v=this.getTxt(p);this.graphics.addChild(v),v.x=m-v.width/2,v.y=-60}p++}else m=0+d*o,this.graphics.moveTo(m,0),this.graphics.lineTo(m,-19);if(d++,l==n){var y=t;f=m+o*(y-u.getNumToInt(y))}}if(p=0,1==e||2==e)for(l=0;l<=h;l++)if(l%5==0&&l%10!=0){var g=f+l*c;this.graphics.moveTo(g,0),this.graphics.lineTo(g,24)}else if(l%10==0){var g=f+l*c;this.graphics.moveTo(g,0),this.graphics.lineTo(g,34);var v=this.getTxt(p);this.graphics.addChild(v),v.x=g-v.width/2,v.y=40,p+=10}else{var g=f+l*c;this.graphics.moveTo(g,0),this.graphics.lineTo(g,19)}else for(l=0;l<=h;l++)if(l%5==0){var g=f+l*c;this.graphics.moveTo(g,0),this.graphics.lineTo(g,34);var v=this.getTxt(p);this.graphics.addChild(v),v.x=g-v.width/2,v.y=40,p++}else{var g=f+l*c;this.graphics.moveTo(g,0),this.graphics.lineTo(g,19)}},h.getTxt=function(e){return new PIXI.Text(e,{font:"25px Arial",fill:0,align:"center"})};var d=l;d.addEventListener(TouchEvent.TOUCH_BEGIN,t),h.addEventListener(TouchEvent.TOUCH_BEGIN,n)},r=t.nb;r.VernierCaliper=i,e.exports=r.VernierCaliper}).call(t,i(1))},function(e,t,i){"use strict";(function(t){var i=t.nb;i.SetSquaresAndRuler=function(){function e(e){a.canDrag&&(this.globalData={x:e.data.global.x,y:e.data.global.y},s.addEventListener(TouchEvent.TOUCH_END,i),s.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,i),s.addEventListener(TouchEvent.TOUCH_MOVE,t))}function t(e){a.x+=e.data.global.x-this.globalData.x,a.y+=e.data.global.y-this.globalData.y,this.globalData.x=e.data.global.x,this.globalData.y=e.data.global.y}function i(e){s.removeEventListener(TouchEvent.TOUCH_END,i),s.removeEventListener(TouchEvent.TOUCH_MOVE,t),s.removeEventListener(TouchEvent.TOUCH_END_OUDSIDE,i)}function r(e){this.globalData={x:e.data.global.x},h.addEventListener(TouchEvent.TOUCH_END,o),h.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,o),h.addEventListener(TouchEvent.TOUCH_MOVE,n)}function n(e){this.x+=e.data.global.x-this.globalData.x,this.x<a.leftX+a.offX&&(this.x=a.leftX+a.offX),this.x>a.rightX+a.offX&&(this.x=a.rightX+a.offX),this.globalData.x=e.data.global.x}function o(e){h.removeEventListener(TouchEvent.TOUCH_END,o),h.removeEventListener(TouchEvent.TOUCH_MOVE,n),h.removeEventListener(TouchEvent.TOUCH_END_OUDSIDE,o)}var a=this;this.offX=20,this.leftX=0,this.rightX=450,this.canDrag=!1;var s=a.bottom,h=a.chi,c=this.rightX/15;this.resetValue=function(e){TweenLite.to(h,.5,{x:e+this.offX})},this.bindObj=function(e){e?(TweenLite.to(e,.5,{x:a.x+24,y:a.y+54}),h.x-this.offX>=e.width||a.resetValue(e.width+200),a.leftX=e.width):(a.resetValue(0),a.leftX=0)};var l=new PIXI.Sprite;this.addChild(l),l.addChild(s),l.addChild(h),this.small=l;var u=new PIXI.Sprite;a.addChild(u);var d=new PIXI.Sprite;u.addChild(d);var f=s.clone();d.addChild(f);var p=h.clone();d.addChild(p);d.scale.x=d.scale.y=3;var m=new PIXI.Graphics;m.beginFill(0),m.drawRoundedRect(-100,20,400,200,20),m.endFill(),u.addChild(m),d.mask=m,u.y=-230;var v=new PIXI.Text("",{font:"30px Aria"});u.addChild(v),v.y=180,this.update=function(){p.x=h.x,m.x=3*h.x,u.x=3*-h.x+h.x,v.text=((h.x-this.offX)/c).toFixed(2)+"cm",v.x=m.x+20},s.addEventListener(TouchEvent.TOUCH_BEGIN,e),h.addEventListener(TouchEvent.TOUCH_BEGIN,r)},e.exports=i.SetSquaresAndRuler}).call(t,i(1))},function(e,t,i){"use strict";(function(t){var i=t.nb;i.setDefaultAsHide=function(){this.visible=!1},e.exports=i.setDefaultAsHide}).call(t,i(1))},function(e,t,i){"use strict";nb=window.nb,nb.balance=function(){function e(e){TweenMax.killTweensOf(o.scal),TweenMax.to(o.scal,.3,{alpha:1});var i=(this.x,o.toLocal({x:0,y:0},this));f.x=i.x,f.y=i.y-40,dy=c.y,o.niezi.visible=!0,this.globalData={x:e.data.global.x,y:e.data.global.y},this.nowx=this.x,c.addEventListener(TouchEvent.TOUCH_END,r),c.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,r),c.addEventListener(TouchEvent.TOUCH_MOVE,t)}function t(e){var t=o.toLocal({x:0,y:0},this);f.x=t.x,f.y=t.y-40;var i=e.data.global.x-this.globalData.x;if(0!=i){Math.abs(i)<3&&(i=i/Math.abs(i)*.5),this.x+=i;this.x;this.x>=u&&(this.x=u,o.niezi.x=h+u-i),
//!!! Y;
o.niezi.y=d+(c.x+l)/(l+u)*12,this.x>-l&&this.x<u&&(o.niezi.x=-193+this.x+150,o.scal.chizi.biaochi.x=2.675*-(this.x+150)),this.x<-l&&(this.x=-l,o.niezi.x=h);var r=this.x-this.nowx,n=r/(u+l)*5;o.left.y-=r/(u+l)*22,o.left.number&&(a[o.left.number].y-=r/(u+l)*22),o.right.y+=r/(u+l)*22,o.rot.rotation+=n*Math.PI/180,this.nowx=this.x,this.globalData.x=e.data.global.x,this.globalData.y=e.data.global.y}}function i(){if(o.niezi.x=-193+c.x+150,o.scal.chizi.biaochi.x=2.675*-(c.x+150),m=(c.x+l)/(u+l),o.scal.txt.text=(5*m).toFixed(2),void 0!=p){var e=o.scal.txt.text-0;e>p-.1&&e<p+.1&&(o.scal.txt.style.fill="#FFFF00",o.scal.txt.text.replace("g",""),o.scal.txt.text+="g"),e==p&&(o.scal.txt.style.fill="#FF0000",o.scal.txt.text.replace("g","")),(e<=p-.1||e>=p+.1)&&(o.scal.txt.style.fill="#FFFFFF",o.scal.txt.text.replace("g",""),o.scal.txt.text+="g")}else o.scal.txt.text=(Math.round(5*m*100)/100).toFixed(2)+"g";o.txt.text=0,o.txt.text=o.scal.txt.text,o.txt.style.fill=o.scal.txt.style.fill}function r(e){TweenMax.killTweensOf(o.scal),TweenMax.to(o.scal,.3,{alpha:0}),o.niezi.visible=!1,c.removeEventListener(TouchEvent.TOUCH_END,r),c.removeEventListener(TouchEvent.TOUCH_MOVE,t),c.removeEventListener(TouchEvent.TOUCH_END_OUDSIDE,r)}function n(){var e=this,t=e.name.substr(1,1);0==o.refL.getBounds().width&&(o.refL._bounds.width=354.2,o.refL._bounds.height=457.4),o.left.number&&e.hitTest(o.refL)&&(o.parent.addChildWithSamePos(a[o.left.number]),TweenMax.to(a[o.left.number],.3,{x:s[o.left.number].x,y:s[o.left.number].y})),e.hitTest(o.refL)||TweenMax.to(a[t],.3,{x:s[t].x,y:s[t].y}),e.hitTest(o.refL)&&(p=e.mass-0,NBDrag.removeDrag(e),o.addChildWithSamePos(e),o.addChildAt(e,0),TweenMax.to(e,.3,{x:o.left.x+180,y:o.left.y+10,onComplete:function(){o.left.info=!0,v=e.mass/5*22,y=e.mass/5*5,o.left.number&&(NBDrag.addDrag(a[o.left.number]),v=(e.mass-a[o.left.number].mass)/5*22,y=Math.floor((e.mass-a[o.left.number].mass)/5*5*100)/100),o.left.number=t,TweenMax.to(e,.3,{y:e.y+v}),TweenMax.to(o.left,.3,{y:o.left.y+v}),TweenMax.to(o.right,.3,{y:o.right.y-v}),TweenMax.to(o.rot,.3,{rotation:o.rot.rotation-y*Math.PI/180})}}))}var o=this;o.niezi.visible=!1,this.setMass=function(e,t){e.mass=t};var a=[],s=[];this.init=function(e){for(var t=0;t<e.length;t++){var i=e[t];s.push({x:i.x,y:i.y}),NBDrag.addDrag(i),i.on(NBDrag.event.STOP_DRAG,n),a.push(i)}},this.scal.chizi.mask=this.scal.m.getChildAt(0);var h=o.niezi.x,c=this.rot.drag,l=(c.x,150.35),u=174.85,d=o.niezi.y;c.addEventListener(TouchEvent.TOUCH_BEGIN,e);var f=this.scal;f.alpha=0;var p,m=0;this.update=i;var v=0,y=0},e.exports=nb.balance},function(e,t,i){"use strict";function r(){function e(){}var t=this;PIXI.Container.call(this),this.x=BiologyMain.STACK_WIDTH>>1,window.addEventListener("resize",e),this.drawColor=16777215,this.lineWidth=6,this.lineAlpha=1,PIXI.loader.reset(),PIXI.loader.add(nb.config.URI_PREFIX+"assets/components/DrawUtil/assets.json").load(function(){PIXI.loader.reset(),$.getJSON(nb.config.URI_PREFIX+"assets/components/DrawUtil/resource.json",function(e){var i=instance.createChildFromData(t,e[0]);t.initComplete(i)})}),this.ifShowIntro=!0,this.intro_title="",this.intro_info="",this.loaded=!1}r.constructor=r,r.prototype=Object.create(PIXI.Container.prototype),r.prototype.initComplete=function(e){function t(){if(m.parent){var t=m.parent.toLocal({x:0,y:BiologyMain.H},instance.stage);m.y=t.y-200}y.width=BiologyMain.W,y.height=BiologyMain.H;var i=e.toLocal(new PIXI.Point,instance.stage);v.position.copy(i)}function i(e){v.removeEventListener(TouchEvent.TOUCH_END,i),v.removeEventListener(TouchEvent.TOUCH_END_OUDSIDE,i),v.addEventListener(TouchEvent.TOUCH_BEGIN,r),v.removeEventListener(TouchEvent.TOUCH_MOVE,n),v.removeEventListener(TouchEvent.TOUCH_MOVE,a)}function r(e){if(0!=g.drawing()&&(v.removeEventListener(TouchEvent.TOUCH_BEGIN,r),v.addEventListener(TouchEvent.TOUCH_END,i),v.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,i),v.addEventListener(TouchEvent.TOUCH_MOVE,a),0==g.step)){_=[];var t=new PIXI.Graphics;v.addChild(t),w.push(t),t.blendMode=PIXI.BLEND_MODES.EXCLUSION,t.lineStyle(g.lineWidth,g.drawColor,g.lineAlpha);var o=v.toLocal({x:e.data.global.x,y:e.data.global.y});b=o.x,x=o.y,v.addEventListener(TouchEvent.TOUCH_MOVE,n)}}function n(e){var t=v.toLocal({x:e.data.global.x,y:e.data.global.y}),i=w.length-1;w[i].moveTo(b,x),w[i].lineTo(t.x,t.y),_.push({x:e.data.global.x,y:e.data.global.y}),w[i].bounds=_,b=t.x,x=t.y}function o(t){for(var i=0;i<w.length;i++)w[i].clear(),w.splice(i,1),i--;e.pen.currentFrame=0,v.visible=!1,t&&t.stopPropagation(),E.visible=!1}function a(e){if(1==g.step)for(var t=0;t<w.length;t++){if(void 0==w[t])return void(v.visible=!1);if(0==w[t].graphicsData.length){w[t].clear(),w.splice(t,1),t--;break}var i=w[t].getBounds();if(e.data.global.x>i.x&&e.data.global.x<i.x+i.width&&e.data.global.y>i.y&&e.data.global.y<i.y+i.height)for(var r=0;r<w[t].bounds.length;r++){var n=w[t].bounds[r];if(NBPoint.distance(e.data.global,n)<20){w[t].clear(),w.splice(t,1),t--;break}}}}function s(e){this.currentFrame=1}function h(e){this.currentFrame=0,m.emit("fangda")}function c(e){this.currentFrame=1}function l(e){this.currentFrame=0,m.emit("suoxiao")}function u(t){this.currentFrame=!this.currentFrame,e.sl.visible=this.currentFrame,t.stopPropagation()}function d(e){var t=e.color;m.setLineColor(t)}function f(){m.emit("back")}function p(t){var i=this==e.x4?0:this==e.x10?1:2;console.log(i),m.emit("changeMult",{mult:i})}var m=this,v=new PIXI.Graphics,y=new PIXI.Graphics;y.beginFill(16777215,0),y.drawRect(0,0,BiologyMain.W,BiologyMain.H),y.endFill(),v.addChild(y);instance.getCurrentFrame();e.addChildAt(v,0),$(window).resize(t),t();var g=this;g.component=e,g.step=!1,v.visible=!1,v.addEventListener(TouchEvent.TOUCH_BEGIN,r);var b=0,x=0,w=[],_=[];if(this.drawArr=w,e.clear.addEventListener(TouchEvent.TOUCH_BEGIN,function(){e.clear.gotoAndStop(1)}),e.clear.addEventListener(TouchEvent.TOUCH_END,function(){e.clear.gotoAndStop(0)}),e.clear.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,function(){e.clear.gotoAndStop(0)}),e.clear.addEventListener(TouchEvent.TAP,o),e.pen){var T=function(i){e.pen.currentFrame=!e.pen.currentFrame,e.eraser.gotoAndStop(0),g.step=!1,0==e.pen.currentFrame?o():(v.visible=!0,t(),E.visible=!0),i.stopPropagation()};e.pen.addEventListener(TouchEvent.TAP,T)}e.eraser.addEventListener(TouchEvent.TAP,function(t){!0===g.step?(g.step=!1,e.eraser.currentFrame=0,o()):(g.step=!0,e.eraser.currentFrame=1),e.pen.currentFrame=0,t.stopPropagation()}),e.fangda.addEventListener(TouchEvent.TOUCH_BEGIN,s),e.fangda.addEventListener(TouchEvent.TOUCH_END,h),e.suoxiao.addEventListener(TouchEvent.TOUCH_BEGIN,c),e.suoxiao.addEventListener(TouchEvent.TOUCH_END,l),e.sl.visible=!1,e.sl.infoTxt=new PIXI.Text("",{font:"50px Microsoft YaHei",fill:16777215,align:"left",wordWrap:!0,wordWrapWidth:560}),e.sl.addChild(e.sl.infoTxt),e.intro.addEventListener(TouchEvent.TAP,u),this.ifShowIntro||(e.intro.visible=!1),e.sl.title.style.font="80px 'Microsoft YaHei'";var E=new nb.colorSelector;this.addChild(E),E.addEventListener("change",d),E.rotation=-Math.PI/2,E.visible=!1,E.x=e.pen.x-450,E.y=e.pen.y,this.colors=E,this.loaded=!0,e.back.addEventListener(TouchEvent.TAP,f),e.x4.addEventListener(TouchEvent.TAP,p),e.x10.addEventListener(TouchEvent.TAP,p),e.x40.addEventListener(TouchEvent.TAP,p),this.allArr=[e.pen,e.eraser,e.intro,e.fangda,e.suoxiao,e.clear,e.back,e.x4,e.x10,e.x40],this.showInModels(),this.emit("initComplete")},r.prototype.showInModels=function(){if(this.loaded){var e=this.component,t=[e.pen,e.eraser,e.intro,e.clear];this.showSome(t)}},r.prototype.setMult=function(e){var t=4==e?0:10==e?1:2;if(this.loaded)for(var i=this.component,r=[i.x4,i.x10,i.x40],n=0;n<=2;n++){var o=r[n];o.currentFrame=t==n?1:0}},r.prototype.showInVideo=function(){if(this.loaded){var e=this.component,t=[e.pen,e.eraser,e.clear];this.showSome(t)}},r.prototype.showInMicApp=function(){if(this.loaded){var e=this.component,t=[e.x4,e.x10,e.x40,e.back];this.showSome(t)}},r.prototype.showInMicroscope=function(){if(this.loaded){var e=this.component,t=[e.pen,e.eraser,e.x4,e.x10,e.x40,e.clear,e.back];this.showSome(t)}},r.prototype.showInOldMicroscope=function(){if(this.loaded){var e=this.component,t=[e.pen,e.eraser,e.clear,e.back];this.showSome(t)}},r.prototype.showSome=function(e){if(this.loaded){for(var t=0;t<this.allArr.length;t++){var i=this.allArr[t];i.visible=!1}for(var t=0;t<e.length;t++){var i=e[t];i.visible=!0,i.x=50+115*t,i.y=50}}},r.prototype.showIntro=function(e,t){this.intro_title=e,this.intro_info=t},r.prototype.setIfShowIntro=function(e){this.ifShowIntro=e,this.component&&(this.component.intro.visible=e)},r.prototype.render=function(){this.drawArr&&0==this.drawArr.length&&(this.step=!1,this.component.eraser.gotoAndStop(0)),this.component&&(this.component.sl.title.text=this.intro_title,this.component.sl.infoTxt.text="    "+this.intro_info,this.component.sl.y=-this.component.sl.infoTxt.height)},r.prototype.drawing=function(){return!!this.component&&(1==this.component.pen.currentFrame||1==this.component.eraser.currentFrame)},r.prototype.setLineColor=function(e){this.drawColor=e},r.prototype.setLineWidth=function(e){this.lineWidth=e},r.prototype.setLineAlpha=function(e){this.lineAlpha=e},e.exports=r},function(e,t,i){"use strict";function r(){function e(){t.resize()}PIXI.Container.call(this);var t=this;PIXI.loader.add(nb.config.URI_PREFIX+"assets/components/SlideSwitch/assets.json").load(function(){PIXI.loader.reset(),$.getJSON(nb.config.URI_PREFIX+"assets/components/SlideSwitch/resource.json",function(e){var i=instance.createChildFromData(t,e[0]);t.initComplete(i)})}),window.addEventListener("resize",e),this.addEventListener("add",e),this.zoom=0,this.sl_img_url=""}r.constructor=r,r.prototype=Object.create(PIXI.Container.prototype),r.prototype.initComplete=function(e){function t(e){i(this.id)}function i(e){for(var t=0;t<o.length;t++){var i=o[t];i.id==e?0==i.alpha&&(i.alpha=1,r.emit("change",{m:e})):i.alpha=0}}var r=this;this.resize(),this.slideName=e.slideName,this.slideName.visible=!1,this.sl=e.sl,this.sl.interactive=!1,this.con=e.con,this.con.interactive=!1;var n=e.maskSp;this.con.mask=n.getChildAt(0),this.beishu=e.bTxt;var o=[e.b1,e.b2,e.b3];e.b1.alpha=1,e.b2.alpha=0,e.b3.alpha=0;for(var a=0;a<o.length;a++){var s=o[a];s.id=a,s.addEventListener(TouchEvent.TAP,t),s.visible=!1}this.sl_img=new PIXI.Sprite,this.con.addChild(this.sl_img),this.sl_img.pivot.set(309,309),this.sl_img.scale.set(.7,.7)},r.prototype.changeSlideImage=function(e){var t=nb.config.MODEL_URI_PREFIX+"slides_new/"+e.slID+"/"+e.slTexture;this.sl_img_url!=t&&(this.sl_img_url=t,this.sl_img.texture=PIXI.Texture.fromImage(t))},r.prototype.repositionSl=function(e,t){this.con&&(this.con.x=this.sl.x-50*e,this.con.y=this.sl.y-50*t)},r.prototype.setSlideName=function(e){this.slideName&&(this.slideName.text=e)},r.prototype.setMult=function(e){this.beishu&&(this.beishu.text=e+" X 10")},r.prototype.resize=function(){var e=this;if(e.parent){var t=e.parent.toLocal({x:0,y:0},instance.stage);e.x=t.x+2,e.y=t.y+2}},e.exports=r},function(e,t,i){"use strict";function r(){function e(e){var t=this.toLocal(e.data.global,instance.stage),i=Math.floor((t.y+this.r)/this.space);this.emit("change",{color:this.colorArr[i]}),this.c=i,this.reset()}PIXI.Container.call(this),this.colorArr=[16777215,171618,2452214,8267254,16767673,16131463,16143909],this.c=0,this.r=25,this.space=60,this.g=new PIXI.Graphics,this.addChild(this.g),this.reset(),this.addEventListener(TouchEvent.TOUCH_BEGIN,e)}r.constructor=r,r.prototype=Object.create(PIXI.Container.prototype),r.prototype.reset=function(){var e=this.g,t=this.r,i=this.colorArr,r=this.c;e.clear();for(var n=0;n<i.length;n++)e.beginFill(i[n],1),e.drawCircle(0,n*this.space,t);e.endFill(),e.lineStyle(3,16777215),e.drawCircle(0,r*this.space,t)},e.exports=r},function(e,t,i){"use strict";(function(t){var i=t.nb;i.pictureView=function(e,t,i,r,n,o,a,s){var h=e,c=o,l=o.length,t=t||8.5;n||(n=0),h.infoText&&(h.infoText.alpha=0),n=n;var u=new nbBio.plguin.THREE(h,{camera1:new THREE.OrthographicCamera(-10,10,8,-8,1,1e3)}),d=u.controls,f=u.scene;u.camera.lookAt(new THREE.Vector3),u.camera.position.set(20,0,0),u.camera.fov=i,d.enabled=!1;var p=new THREE.Object3D;f.add(p);for(var m=0;m<l;m++){var v,y,g;!function(){function e(e,n,o,a){var s=new THREE.PlaneGeometry(n,o),c=new THREE.MeshBasicMaterial({map:e,side:2});c.transparent=!0;var d=new THREE.Mesh(s,c),f=a/l*Math.PI*2;d.pp=a;var m=!1;NBGesture.addGesture(d,NBGesture.gesture.TAP,function(){this.pp;m?(TweenMax.to(u.camera,.6,{onUpdate:function(){u.camera.updateProjectionMatrix()},fov:i}),h.infoText&&TweenLite.to(h.infoText,.6,{alpha:0})):(TweenMax.to(u.camera,.6,{onUpdate:function(){u.camera.updateProjectionMatrix()},fov:r}),h.infoText&&TweenLite.to(h.infoText,.6,{alpha:1})),m=!m}),d.geometry.rotateY(-2*Math.PI/l*a+Math.PI/2),p.add(d),d.position.x=Math.cos(f)*t,d.position.z=Math.sin(f)*t}s?(v=document.createElement("video"),v.loop=!0,v.src=instance.baseURI+c[m],y=new THREE.VideoTexture(v),y.minFilter=THREE.LinearFilter,y.format=THREE.RGBFormat,y.generateMipmaps=!1,e(y,4,2.25,m)):(g=new THREE.TextureLoader,g.load(instance.baseURI+c[m]+"?id="+m,function(t){var i=t.image.src.indexOf("?id="),r=t.image.src.substring(i+4);console.log(r);var n=t.image.width,o=t.image.height,a=n/o;e(t,3*a,3,r)}))}()}var b=new PIXI.Graphics;instance.stage.addChildAt(b,0),b.beginFill(16777215,0),b.drawRect(0,0,BiologyMain.W,BiologyMain.H),b.addEventListener(TouchEvent.TOUCH_BEGIN,function(e){function t(e){_=(e.data.global.x-r)/500,w=x+_}function i(e){b.removeEventListener(TouchEvent.TOUCH_MOVE,t),b.removeEventListener(TouchEvent.TOUCH_END,i),b.removeEventListener(TouchEvent.TOUCH_END_OUDSIDE,i);var r=Math.round(w/(2*Math.PI/l));w=r*(2*Math.PI/l)}var r=e.data.global.x;x=p.rotation.y,b.addEventListener(TouchEvent.TOUCH_MOVE,t),b.addEventListener(TouchEvent.TOUCH_END,i),b.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,i)});var x=0,w=0,_=0,T=0;h.onUpdate=function(){u.render(),p.rotation.y+=.1*(w-p.rotation.y);var e=Math.round(p.rotation.y/(2*Math.PI/l)),i=e%l;T=Math.abs(i>=0?i:l+i),a&&h.infoText&&(h.infoText.text=a[T],h.infoText.y=BiologyMain.H-h.infoText.height-20);for(var i=0;i<l;i++){var r=p.children[i];if(void 0===r)break;var n=r.position.clone();if(p.localToWorld(n),r.material.opacity=(n.x+t)/(2*t),s){var o=r.material.map.image;if(isNaN(o.duration))return;T==i?1==o.paused&&o.play():0==o.paused&&o.pause()}}}},e.exports=i.pictureView}).call(t,i(1))},function(e,t,i){"use strict";(function(t){var i=t.nb;i.pictureView2=function(e,t,r,n,o,a,s,h){var c=e,l=a,u=a.length;o||(o=0),c.infoText&&(c.infoText.alpha=0,c.infoText.style.wordWrapWidth=700,c.infoText.style.align="left");var d=5,f=5,p=2,m=5,v=5,y=3,g=null,b=Sine.easeInOut;o=o;var x=new nbBio.plguin.THREE(c,{camera:new THREE.PerspectiveCamera(120,1.25,1,1e3)});c.addEventListener("update",function(){});var w=x.controls,_=x.scene;x.camera.lookAt(new THREE.Vector3),x.camera.position.set(0,0,4),x.camera.fov=r,w.enabled=!1;var T=new THREE.Object3D;_.add(T);for(var E=[],S=!1,M=(THREE.ImageUtils.loadTexture(i.config.URI_PREFIX+"assets/video_loading.png"),0);M<u;M++){var C,A,D;!function(){function e(e,t,i,r){var n=new THREE.PlaneGeometry(t,i),o=new THREE.MeshBasicMaterial({map:e,side:2});o.transparent=!0;var a=new THREE.Mesh(n,o);Math.PI;a.pp=r,E.push(a);var s=!1;NBGesture.addGesture(a,NBGesture.gesture.TAP,function(){g=this,k=this.pp;var e=new TimelineLite;if(s?c.infoText&&e.to(c.infoText,.6,{alpha:0},0):c.infoText&&e.to(c.infoText,.6,{alpha:1},.9),s=!s,S){S=!1;var t=new TimelineLite,i=this,r=a.pp;i.pp%y<=1?(t.to(i.rotation,.4,{y:Math.PI+Math.PI/36,ease:b},0),t.to(i.position,.4,{z:p/2,ease:b},0),t.to(i.position,.5,{x:r%y*5-m,y:v-5*Math.floor(r/y),z:0,ease:b},.4),t.to(i.rotation,.5,{y:0,ease:b},.4),t.to(i.rotation,.2,{y:-Math.PI/36,ease:b},.9),t.to(i.rotation,.2,{y:0,ease:b},1.1)):(t.to(i.rotation,.4,{y:-Math.PI-Math.PI/36,ease:b},0),t.to(i.position,.4,{z:p/2,ease:b},0),t.to(i.position,.5,{x:r%y*5-m,y:v-5*Math.floor(r/y),z:0,ease:b},.4),t.to(i.rotation,.5,{y:0,ease:b},.4),t.to(i.rotation,.2,{y:Math.PI/36,ease:b},.9),t.to(i.rotation,.2,{y:0,ease:b},1.1));for(var n=0;n<u;n++)E[n].pp!=i.pp&&(E[n].visible=!0,t.to(E[n].material,.5,{opacity:1},0),t.to(E[n].position,.2,{z:.5,ease:b},.9),t.to(E[n].position,.5,{z:0,ease:Elastic.easeOut},1.1))}else{S=!0;var i=this,t=new TimelineLite;i.pp%y<=1?(t.to(i.position,.4,{x:i.position.x-2,ease:b},0),t.to(i.position,1.5,{x:0,y:-0,z:p,ease:b},0),t.to(i.rotation,.4,{y:-Math.PI/36,ease:b},0),t.to(i.position,.4,{x:i.position.x-2,ease:b},0),t.to(i.position,.7,{x:0,y:-0,z:p,ease:b},.4),t.to(i.rotation,.7,{y:Math.PI+Math.PI/30,ease:b},.4),t.to(i.rotation,.4,{y:Math.PI,ease:b},1.1)):(t.to(i.rotation,.4,{y:Math.PI/36,ease:b},0),t.to(i.position,.4,{x:i.position.x+2,ease:b},0),t.to(i.position,.7,{x:0,y:0,z:p,ease:b},.4),t.to(i.rotation,.7,{y:-Math.PI-Math.PI/30,ease:b},.4),t.to(i.rotation,.4,{y:-Math.PI,ease:b},1.1));for(var n=0;n<u;n++)E[n].pp!=i.pp&&(t.to(E[n].material,.5,{opacity:0,onComplete:function(){x.camera.lookAt(g.position)}},0),t.to(E[n].position,.5,{z:-1,ease:Elastic.easeOut,onComplete:function(e){var t=e;return function(){E[t].visible=!1}}(n)},0))}}),T.add(a);var h=a.pp;a.position.x=h%y*d-m,a.position.y=v-Math.floor(h/y)*f}h?(C=document.createElement("video"),C.loop=!0,C.autoplay=!0,C.src=instance.baseURI+l[M],A=new THREE.VideoTexture(C),A.minFilter=THREE.LinearFilter,A.format=THREE.RGBFormat,A.generateMipmaps=!1,e(A,4,2.25,M)):(D=new THREE.TextureLoader,D.load(instance.baseURI+l[M]+"?id="+M,function(t){var i=t.image.src.indexOf("?id="),r=t.image.src.substring(i+4),n=t.image.width,o=t.image.height,a=n/o;e(t,3*a,3,r)}))}()}var k=0;c.onUpdate=function(){x.render(),T.rotation.y+=.1*(0-T.rotation.y);for(var e=0;e<u;e++){var t=T.children[e];if(void 0===t)break;E[e].position.z==p&&(k=E[e].pp);var r=t.position.clone();if(T.localToWorld(r),h){var n=t.material.map.image;if(isNaN(n.duration))return;k==e?1==n.paused&&n.play():0==n.paused&&n.pause()}}s&&c.infoText&&(c.infoText.text=s[k],c.infoText.x=i.stem.STEMMain.W/2-c.infoText.width+500,c.infoText.y=i.stem.STEMMain.H/2-c.infoText.height/2)},console.log(c.parent),window.addEventListener("mousewheel",function(e){if(e=e||window.event,e.wheelDelta){if(e.wheelDelta>0)for(var t=0;t<u;t++)E[t].position.y+=.3;if(e.wheelDelta<0)for(var t=0;t<u;t++)E[t].position.y-=.3}else e.detail&&(e.detail,e.detail)})},e.exports=i.pictureView2}).call(t,i(1))},function(e,t,i){"use strict";(function(t){var i=t.nb,r={};i.picTransform=function(e){if(void 0==r.once){r.once=!0;var t=document.createElement("div");t.id="scroll",t.className="scrollbar",$("body").append(t);var i=document.createElement("div");i.id="nbPic",i.className="clearfix",i.innerHTML=e,$("#scroll").append(i);var n=$("#scroll");n.css({position:"absolute",left:$(window).width()/2-210+"px",top:"100px","-webkit-user-select":"none","-moz-user-select":"none","user-select":"none",cursor:"pointer"}),n.css("position","absolute"),n.css("position","absolute"),n.css("left",$(window).width()/2-210+"px"),n.css("top",100)}},e.exports=i.picTransform}).call(t,i(1))},function(e,t,i){"use strict";var r=function(e,t,i,r){function n(){if(!X){j.removeEventListener("mousewheel",d),j.removeEventListener("mousedown",h),j.removeEventListener("mousemove",c),$(".scrollbar").mCustomScrollbar("disable"),D=(A-C)/2,_=$(".mCSB_container").css("top").replace("px","")-0,T=this.id.substr(3,2),F=T,S=Math.floor((T-0)/2);var e=Math.floor((-_-100)/P);-1==e&&(e=0),M=-P*e-_+I,S==e+1&&(k=-P*e-_-I-R),S==e+2&&(k=-P*(e+1)-_-I-R),S==e&&(k=M),console.log(":"+S,"Y:"+k,":"+e,":"+_,":"+T%2,"translate_X:"+D),D=T%2==0?D-O-10:-D-O,$(".divP").css({visibility:"hidden"}),$(".imgB").css({visibility:"hidden"});var t=w[this.id];$("#"+t.name).css({visibility:"visible"}),$("#imgB"+T).css({visibility:"visible"}),E||(E=!0,a(t)),t.com&&(s(t),p.infoText&&TweenLite.to(p.infoText,.6,{alpha:0}));var r=i[F].indexOf("");b.innerHTML=i[F].slice(r+1),N.innerHTML=U[F]}}function o(e){var t=["translate3d("+e.transform.translate.x+"px, "+e.transform.translate.y+"px, 0)","scale("+e.transform.scaleX+", "+e.transform.scaleY+")","rotateY("+e.transform.ry+"deg)"];t=t.join(" "),e.style.webkitTransform=t,e.style.mozTransform=t,e.style.transform=t}function a(e){var t=e._domDIV;TweenMax.to(t.transform.translate,1.8,{ease:Back.easeInOut,easeParams:[3],x:D,y:k,onUpdateParams:[t],onUpdate:function(e){o(e)},onComplete:function(){e.com=!0,p.infoText&&TweenLite.to(p.infoText,.6,{alpha:1}),$("#nbPic").append(B),$("#text").addClass("text"),$("#text").append(N),$("#text").append(b),$("#_h").css({color:"#ffffff"}),$("#_p").css({color:"yellow",position:"relative"}),$("#text").css({top:-_+$("#img"+T).height()-$("#text").height()+240+"px",left:$("#nbPic").width()-(800-x[T])/2/L-O+"px"})}}),TweenMax.to(t.transform,1.8,{ease:Back.easeInOut,easeParams:[3],ry:180,onUpdateParams:[t],onUpdate:function(e){var t=e.id.substr(3,2);e.transform.ry>=90&&$("#imgB"+t).css({zIndex:"1"}),o(e)}});var i=x[T]/300/L;TweenMax.to(t.transform,.6,{ease:Linear.easeNone,easeParams:[3],scaleY:2/L,scaleX:i,onUpdateParams:[t],onUpdate:function(e){o(e)}})}function s(e){$("#text").remove(),e.com=!1;var t=e._domDIV;TweenMax.to(t.transform.translate,1.8,{ease:Back.easeInOut,easeParams:[3],x:0,y:0,onUpdateParams:[t],onUpdate:function(e){o(e)},onComplete:function(){E=!1,j.addEventListener("mousedown",h),j.addEventListener("mousewheel",d)}}),TweenMax.to(t.transform,1.8,{ease:Back.easeInOut,easeParams:[3],ry:0,onUpdateParams:[t],onUpdate:function(e){o(e);var t=e.id.substr(3,2);e.transform.ry<=90&&($("#imgB"+t).css({zIndex:"-1"}),$(".divP").css({visibility:"visible"}),$(".scrollbar").mCustomScrollbar("update"))}}),TweenMax.to(t.transform,.6,{ease:Linear.easeNone,easeParams:[3],scaleY:1,scaleX:1,onUpdateParams:[t],onUpdate:function(e){o(e)}})}function h(e){X=!1,z=e.clientY,e.touches&&(z=e.touches[0].clientY),j.addEventListener("mousemove",c),j.addEventListener("touchmove",function(e){c(e)},!0),j.addEventListener("mouseup",l)}function c(e){var t=e.clientY-z;if(e.touches)var t=e.touches[0].clientY-z;Math.abs(t)>2&&(X=!0);var i=$("#mCSB_1").height(),r=$("#nbPic").height(),n=r-i;$(".mCSB_container").css("top").replace("px","");V+=t,V>0&&(V=0),V<-n&&(V=-n),console.log(V),z=e.clientY,e.touches&&(z=e.touches[0].clientY),console.log(i,r,r-i)}function l(){j.removeEventListener("mousemove",c)}function u(){j.removeEventListener("mousemove",c),console.log("mouseout")}function d(e){var t=$("#mCSB_1").height(),i=$("#nbPic").height(),r=i-t;console.log(e.deltaY),V-=e.deltaY,V>0&&(V=0),V<-r&&(V=-r)}function f(){$("#scroll").css({left:$(window).width()/2-210+"px"})}var p=e,m="",v=nb.config.URI_PREFIX+"pictures/"+r+"/front/",y=nb.config.URI_PREFIX+"pictures/"+r+"/back/";t=t||20;for(var g=0;g<t;g++)m+='<div class="pull-left divP" id="img'+g+'"><img src="'+v+(g+1)+'.jpg" id="imgF'+g+'" class="imgF" draggable="false"/><img src="'+y+(g+1)+'.jpg" id="imgB'+g+'" class="imgB" draggable="false"/></div>';var b=nb.picTransform(m);$("#nbPic").addClass("div");for(var x=[],g=0;g<t;g++)x.push("");$(".imgB").load(function(){var e=this.id;this.loadedW=this.width;var t=e.replace("imgB","");x[t]=this.loadedW,$("#"+this.id).css({width:"300px",height:"300px",visibility:"visible"})}),console.log(x);for(var w={},g=0;g<t;g++){var e={};e.name="img"+g,e._domDIV=document.querySelector("#img"+g),e._domDIV.transform={translate:{x:0,y:0},scaleX:1,scaleY:1,angle:0,ry:0},w[e.name]=e}$(".scrollbar").mCustomScrollbar({mouseWheel:!1,callbacks:{onCreate:function(){$(".mCSB_container").css({height:"auto"}),$(".mCSB_draggerContainer").hide(),$(".mCustomScrollBox, .mCSB_container").css({overflow:"visible"}),$(".mCSB_draggerContainer").hide()}}});var _=$(".mCSB_container").css("top").replace("px","")-0,T=0,E=!1,S=0,M=0,C=300,A=$("#nbPic").css("width").replace("px","")-0,D=($("#nbPic").css("height").replace("px",""),(A-C)/2),k=0,I=100,P=340,R=140,F=0;$(".divP").mouseup(n);var O=120,L=1.2,B=document.createElement("div");B.id="text";var b=document.createElement("p");b.id="_p";var N=document.createElement("h1");N.id="_h";for(var U=[],g=0;g<t;g++){if(-1!=i[g].indexOf(""))var H=i[g].split("");else var H=[""];U.push(H[0])}var j=document.getElementById("scroll"),z=0;j.addEventListener("mousedown",h),j.addEventListener("touchstart",function(e){h(e)},!0);var G=0,V=0,X=!1;this.setSroll=function(){G+=.1*(V-G),$(".mCSB_container").css("top",G),$(".scrollbar").mCustomScrollbar("update")},$(".scrollbar").mouseleave(u),j.addEventListener("mousewheel",d),$(window).resize(f),this.hide=function(){console.log("hide")},this.show=function(){console.log("show")}},n={};e.exports=function(e,t,i,o){return void 0===e.name&&(e.name=id++),n[e.name]?n[e.name]:(n[e.name]=new r(e,t,i,o),n[e.name])}},function(e,t,i){"use strict";(function(t){var i=t.nb;i.wallOfVideo=function(e,t,r,n){function o(){if(!B){R.removeEventListener("mousewheel",f),R.removeEventListener("mousedown",c),R.removeEventListener("mousemove",l),$(".scrollbar").mCustomScrollbar("disable"),M=(S-E)/2,b=$(".mCSB_container").css("top").replace("px","")-0,x=this.id.substr(3,2),k=x,console.log(k),_=Math.floor((x-0)/2);var e=Math.floor(-b/D);T=-D*e-b+A,_==e+1&&(C=-D*e-b+A-D),_==e+2&&(C=-D*(e+1)-b+A-D),_==e+3&&(C=-D*(e+2)-b+A-D),_==e&&(C=T),console.log(":"+_,"Y:"+C,":"+e,":"+b,":"+x%2,"translate_X:"+M),M=x%2==0?M:-M,$(".divP").css({visibility:"hidden"});var t=g[this.id];$("#"+t.name).css({visibility:"visible"}),w||(w=!0,s(t)),t.com&&h(t)}}function a(e){var t=["translate3d("+e.transform.translate.x+"px, "+e.transform.translate.y+"px, 0)","scale("+e.transform.scaleX+", "+e.transform.scaleY+")","rotateY("+e.transform.ry+"deg)"];t=t.join(" "),e.style.webkitTransform=t,e.style.mozTransform=t,e.style.transform=t}function s(e){var t=BiologyMain.isPC?".mp4":"_720.mp4";I.src=i.config.MODEL_URI_PREFIX+"video/"+r+"/"+(x-0+1)+t,I.id="_video",I.loop="loop",$("#img"+x).append(I),$("#_video").addClass("video");var n=e._domDIV;window._global_lg&&(P.src="./assets/logoPicture.png",P.id="_img",$(P).css({width:"300px",position:"absolute",transform:"scaleX(-1)","z-index":"-1"}),$(".video").css({position:"absolute"}),$("#img"+x).append(P)),TweenMax.to(n.transform.translate,1.8,{ease:Back.easeInOut,easeParams:[3],x:M,y:C,onUpdateParams:[n],onUpdate:function(e){a(e)},onComplete:function(){document.getElementById("_video").play(),e.com=!0}}),TweenMax.to(n.transform,1.8,{ease:Back.easeInOut,easeParams:[3],ry:180,onUpdateParams:[n],onUpdate:function(e){e.transform.ry>=90&&($("#_video").css({zIndex:"1"}),$("#_img").css({zIndex:"2"})),a(e)}}),TweenMax.to(n.transform,.6,{ease:Linear.easeNone,easeParams:[3],scaleY:2.5,scaleX:2.5,onUpdateParams:[n],onUpdate:function(e){a(e)}})}function h(e){e.com=!1;var t=e._domDIV;TweenMax.to(t.transform.translate,1.8,{ease:Back.easeInOut,easeParams:[3],x:0,y:0,onUpdateParams:[t],onUpdate:function(e){a(e)},onComplete:function(){R.addEventListener("mousedown",c),R.addEventListener("mousewheel",f),w=!1}}),TweenMax.to(t.transform,1.8,{ease:Back.easeInOut,easeParams:[3],ry:0,onUpdateParams:[t],onUpdate:function(e){a(e);e.id.substr(3,2);e.transform.ry<=90&&($("#_video").css({zIndex:"-1"}),$("#_img").css({zIndex:"-2"}),$(".divP").css({visibility:"visible"}),$(".scrollbar").mCustomScrollbar("update"))}}),TweenMax.to(t.transform,.6,{ease:Linear.easeNone,easeParams:[3],scaleY:1,scaleX:1,onUpdateParams:[t],onUpdate:function(e){a(e)}})}function c(e){B=!1,F=e.clientY,R.addEventListener("mousemove",l),R.addEventListener("mouseup",u)}function l(e){var t=e.clientY-F;Math.abs(t)>2&&(B=!0);var i=$("#mCSB_1").height(),r=$("#nbPic").height(),n=r-i;$(".mCSB_container").css("top").replace("px","");L+=t,L>0&&(L=0),L<-n&&(L=-n),console.log(L),F=e.clientY,console.log(i,r,r-i)}function u(){R.removeEventListener("mousemove",l)}function d(){R.removeEventListener("mousemove",l),console.log("mouseout")}function f(e){var t=$("#mCSB_1").height(),i=$("#nbPic").height(),r=i-t;console.log(e.deltaY),L-=e.deltaY,L>0&&(L=0),L<-r&&(L=-r)}function p(){$("#scroll").css({left:$(window).width()/2-280+"px"})}var m="",v=i.config.URI_PREFIX+"pictures/"+r+"/front/";if(t=t||20,window._global_lg)for(var y=0;y<t;y++)m+='<div class="pull-left divP" id="img'+y+'"><img src="'+v+(y+1)+'.jpg" id="imgF'+y+'" class="imgF" draggable="false"/><img src="./assets/logoPicture.png" style="position:absolute; width: 100%"></div>';else for(var y=0;y<t;y++)m+='<div class="pull-left divP" id="img'+y+'"><img src="'+v+(y+1)+'.jpg" id="imgF'+y+'" class="imgF" draggable="false"/></div>';i.picTransform(m);$("#nbPic").addClass("div");for(var g={},y=0;y<t;y++){var e={};e.name="img"+y,e._domDIV=document.querySelector("#img"+y),e._domDIV.transform={translate:{x:0,y:0},scaleX:1,scaleY:1,angle:0,ry:0},g[e.name]=e}$(".scrollbar").mCustomScrollbar({mouseWheel:!1,callbacks:{onCreate:function(){$(".mCSB_container").css({height:"auto"}),$(".mCSB_draggerContainer").hide(),$(".mCustomScrollBox, .mCSB_container").css({overflow:"visible"})}}});var b=$(".mCSB_container").css("top").replace("px","")-0,x=0,w=!1,_=0,T=0,E=300,S=$("#nbPic").css("width").replace("px","")-0,M=(S-E)/2,C=0,A=240,D=220.75;$(".imgF").css({height:n+"px"});var k=0;$(".divP").click(o);var I=document.createElement("video");$("body").append(I);var P=document.createElement("img"),R=document.getElementById("scroll"),F=0;R.addEventListener("mousedown",c);var O=0,L=0,B=!1;this.setSroll=function(){O+=.1*(L-O),$(".mCSB_container").css("top",O),$(".scrollbar").mCustomScrollbar("update")},$(".scrollbar").mouseleave(d),R.addEventListener("mousewheel",f),p(),$(window).resize(p),this.hide=function(){console.log("hide")},this.show=function(){console.log("show")}},e.exports=i.wallOfVideo}).call(t,i(1))},function(e,t,i){"use strict";nb.slidesList=function(){},nb.slidesList.init=function(e,t,i){function r(e,t){return $("<li class='clearfix'><span class='pull-left table-title'>"+e+"</span><span class='pull-left table-name'>"+t+"</span></li>")}var n=document.createElement("div");n.id="slidesList",$("body").append(n);var o=$("#slidesList");o.css("position","absolute"),o.css("left",$(window).width()/2-100),o.css("top",$(window).height()/2-50);var a=$("<ul class='table-menu'></ul>");o.append(a);var s=r("","");a.append(s);for(var h=0;h<e.length;h++){var c=e[h],l=r(h+1,c.name);a.append(l),l[0].id="index"+h,l.on("click",function(e){console.log(this.id,this.id.substring(5)),t&&t(this.id.substring(5))}),l.hover(function(){i(this.id.substring(5),!0)},function(){i(this.id.substring(5),!1)}),l.addClass("li_hover")}$("#slidesList").hide(),$("#slidesList").css("height","220px"),$(window).resize(function(){o.css("left",$(window).width()/2-100),o.css("top",$(window).height()/2-50)})},nb.slidesList.show=function(e){$("#slidesList").fadeIn(e||300)},nb.slidesList.hide=function(e){$("#slidesList").fadeOut(e||300)},nb.slidesList.constructor=nb.slidesList,e.exports=nb.slidesList},function(e,t,i){"use strict";function r(e,t,i){function r(e){0!=this.candragMove&&(h.copy(e.data.global),this.removeEventListener(TouchEvent.TOUCH_BEGIN,r),this.addEventListener(TouchEvent.TOUCH_MOVE,n),this.addEventListener(TouchEvent.TOUCH_END,o))}function n(e){var t=e.data.global.x-h.x,i=e.data.global.y-h.y;h.copy(e.data.global),a.x+=t,a.y+=i,this.moving=!0,this.updatePivot()}function o(e){this.addEventListener(TouchEvent.TOUCH_BEGIN,r),this.removeEventListener(TouchEvent.TOUCH_MOVE,n),this.removeEventListener(TouchEvent.TOUCH_END,o),this.moving=!1,this.updatePivot(),this.update()}PIXI.Sprite.call(this);var a=this;this.pathArr=[],this.ijArr=[],this.slID=e,this.oscale=4,this.w=512,this.dscale=this.oscale,this.zf=3,this.now_width=0,this.now_height=0,this.candragMove=!0,this.mapdate={},this.centerObject={point:new PIXI.Point(nb.stem.STEMMain.W/2,nb.stem.STEMMain.H/2),from:instance.stage};var s=new PIXI.Sprite;this.oimag=s,e&&(this.addChildAt(s,0),this.changeSlide(e,t,i)),this.moving=!1;var h=new PIXI.Point;this.addEventListener(TouchEvent.TOUCH_BEGIN,r)}r.constructor=r,r.prototype=Object.create(PIXI.Sprite.prototype),r.prototype.init=function(){if(null==this.parent)return void console.error("map");this.updatePivot(),this.update()},r.prototype.changeCenterObj=function(e,t){this.centerObject.point=t.toGlobal(e),this.centerObject.from=t,this.updatePivot(),this.update()},r.prototype.xorEncryption=function(e,t){for(var i="",r=t.length,n=0,o=0;o<e.length;o++){var a=t.charCodeAt(n%r);n++;var s=e.charCodeAt(o)^a;i+=String.fromCharCode(s)}return i},r.prototype.getMapJSON=function(e){if(-1!=window.location.href.indexOf("android")||window.require){var t=this,i=!0,r=this;if(!t.hasMap&&i&&window.require){i=!1;var n=window.require("fs"),o=n.readFileSync("public/slides_new/map");o=o.toString();var a=JSON.parse(r.xorEncryption(o,"nbMap"));t.hasMap=a,setTimeout(function(){i=!0},5e3)}}},r.prototype.changeSlide=function(e,t,i){this.slID=e,this.getMapJSON(e);var r=nb.config.MODEL_URI_PREFIX+"slides_new/"+e+"/";this.imagePath=r,this.imagePathAndroid="/_slides_new/"+e+"/";var n=this.oimag;this.addChildAt(n,0),n.texture=PIXI.Texture.fromImage(r+e+".jpg"),n.max_width=t||3e4,n.max_height=i||3e4,this.now_width=n.max_width*(this.dscale/40),this.now_height=n.max_height*(this.dscale/40),n.width=this.now_width,n.height=this.now_height;var o=this.w;this.max_x=Math.ceil(n.width/o),this.max_y=Math.ceil(n.height/o),this.update()},r.prototype.readImage=function(){var e=this;if(PIXI.loader.reset(),this.moving)return this.pathArr.length=0,void(this.ijArr.length=0);if(this.pathArr&&this.pathArr.length>0){var t=this.pathArr.pop(),i=this.ijArr.pop(),r=i.i,n=i.j,o=i.key,a=PIXI.loader;PIXI.loader.resources[t]?e.loadImage():(a.add(t),a.load(function(){var i=PIXI.Texture.fromImage(t),a=new PIXI.Sprite(i);a.cacheAsBitmap=!0,e.addChild(a),a.x=r*e.w,a.y=n*e.w,e.mapdate[o]=a,e.mapDataLoad[o]=t,e.readImage()}))}else console.log("")},r.prototype.update=function(){if(!this.moving){var e=this.toLocal(this.centerObject.point,this.centerObject.from),t=Math.floor(e.x/this.w),i=Math.floor(e.y/this.w);this.getMapJSON(this.slID);for(var r=t-this.zf;r<=t+this.zf;r++){for(var n=i-this.zf;n<=i+this.zf;n++){var o=r+"_"+n+"_"+this.dscale+"_"+this.slID;if(void 0===this.mapdate[o]&&r>=0&&r<this.max_x&&n>=0&&n<this.max_y){var a=-1!=window.location.href.indexOf("android");if(nb.stem.STEMMain.isAndroid&&window.NbFile&&a){if(this[this.slID+"map"+this.dscale]){var s=r+"x"+n+".jpg",h=this[this.slID+"map"+this.dscale],c=h[s].start,l=h[s].end,u=this.imagePathAndroid+"out_"+this.dscale+"/"+r+"x"+n+".jpg?"+c+"&"+l,d={i:r,j:n,key:o};this.pathArr.push(u),this.ijArr.push(d)}}else if(window.require){if(this.hasMap){var s=r+"x"+n+".jpg",f=r+"x"+n+"_jpg",h=this.hasMap["slides_new_"+this.slID+"_out_"+this.dscale+"_"+f],c=h.start,l=h.end,u=nb.config.MODEL_URI_PREFIX+"slides_new/over?bytes="+c+"-"+l,p=PIXI.Texture.fromImage(u),m=new PIXI.Sprite(p);this.addChild(m),m.x=r*this.w,m.y=n*this.w,this.mapdate[o]=m}}else{var u=this.imagePath+"out_"+this.dscale+"/"+r+"x"+n+".jpg",p=PIXI.Texture.fromImage(u),m=new PIXI.Sprite(p);this.addChild(m),m.x=r*this.w,m.y=n*this.w,this.mapdate[o]=m}}}this.children.length>=4&&(null==this.texture.baseTexture.source&&(this.texture.baseTexture.source=new Image),this.texture.baseTexture.updateSourceImage(this.oimag.texture.baseTexture.source.src),this.texture.trim=new PIXI.Rectangle(0,0,20,20))}nb.stem.STEMMain.isAndroid&&window.NbFile&&a&&this.readImage();for(var m in this.mapdate){var v=m.split("_"),y=v[0],g=v[1],b=v[2],x=v[3];if(Math.abs(y-t)>5||Math.abs(g-i)>5||b!=this.dscale||x!=this.slID){var w=this.mapdate[m];this.removeChild(w),w.texture.baseTexture.source.remove(),w.texture.baseTexture.destroy(),w.texture.destroy(),w.destroy(),delete this.mapdate[m]}}}},r.prototype.updatePivot=function(){var e=this.centerObject.from.toGlobal(this.centerObject.point),t=this.toLocal(e);this.pivot.x=t.x,this.pivot.y=t.y;var i=this.parent.toLocal(this.centerObject.point,this.centerObject.from);this.x=i.x,this.y=i.y},r.prototype.changeMult=function(e){var t,i=this;switch(e){case 1:t=4;break;case 2:t=10;break;case 3:t=40;break;default:t=e}if(t!=this.dscale){this.dscale;i.dscale=t;var r=i.oimag.toLocal(this.centerObject.point,this.centerObject.from);i.scale.set(1,1),i.updateTransform(),i.now_width=i.oimag.max_width*(i.dscale/40),i.now_height=i.oimag.max_height*(i.dscale/40),i.oimag.width=i.now_width,i.oimag.height=i.now_height,i.max_x=Math.ceil(i.oimag.width/i.w),i.max_y=Math.ceil(i.oimag.height/i.w);var n=i.oimag.toGlobal(r),o=i.centerObject.from.toGlobal(i.centerObject.point),a=n.x-o.x,s=n.y-o.y;i.x-=a,i.y-=s,i.updatePivot(),i.update()}},e.exports=r},function(e,t,i){"use strict";e.exports={VREvent:i(182),ModelController:i(276)}},function(e,t,i){"use strict";function r(e,t){if(e){var i=e.backBtn,r=t.frame2D;t.vrSelector.registerListener(i,VREvent.EYES_HANG_ON,function(e){if(window.parent!=window){window.parent.instance.goback()}else location.href="index-vr.html"}),r.addEventListener("update",function(){i.lookAt(t.leftCamera.position)})}}e.exports=r},function(e,t,i){"use strict";(function(t){var i=t.nb;i.cuvette=function(){function e(){if(p.clear(),p.beginFill(r,n),t.rotation>=0&&t.rotation<=.5*Math.PI){var e=o*Math.tan(t.rotation);if(h=a-e/2,c=a+e/2,h>0&&c>s&&t.rotation-l>0){c=s;var i=s-e;u=(2*i+e)/2,a=a>u?u:a}else if(h<=0&&c>s&&t.rotation-l>0){var d=o*a,f=Math.sqrt(2*d/Math.tan(t.rotation)),m=s/Math.tan(t.rotation);u=m*s/2/o,a=a>u?u:a}h<0?(d=o*a,f=Math.sqrt(2*d/Math.tan(t.rotation)),m=f*Math.tan(t.rotation),p.moveTo(o-f,0),p.lineTo(o,-m),p.lineTo(o,0)):(p.moveTo(0,-h),p.lineTo(o,-c),p.lineTo(o,0),p.lineTo(0,0))}else t.rotation<0&&t.rotation>=-.5*Math.PI?(e=o*Math.tan(t.rotation),h=a-e/2,c=a+e/2,h>s&&c>0&&t.rotation-l<0?(e=Math.abs(e),h=s,i=s-e,u=(2*i+e)/2,a=a>u?u:a):h>s&&c<=0&&t.rotation-l<0&&(d=o*a,f=Math.sqrt(Math.abs(2*d/Math.tan(t.rotation))),m=Math.abs(s/Math.tan(t.rotation)),u=m*s/2/o,a=a>u?u:a),c>0?(p.moveTo(0,-h),p.lineTo(o,-c),p.lineTo(o,0),p.lineTo(0,0)):(d=o*a,f=Math.sqrt(Math.abs(2*d/Math.tan(t.rotation))),m=Math.abs(f*Math.tan(t.rotation)),p.moveTo(f,0),p.lineTo(0,-m),p.lineTo(0,0))):a=0;l=t.rotation}var t=this,i=t.shapeMask;i.alpha=0;var r=16711680,n=.5;t.timeNumH=0,t.timeNumA=0,t.timeNumC=0,t.timeNumS=0;var o=i.width,a=i.height,s=i.height,h=i.height,c=a,l=(t.rotation,t.rotation),u=0,d=t.hand0,f=t.hand1;d.visible=!1,f.visible=!1;var p=new PIXI.Graphics;t.addChild(p),t.addChildAt(p,0),p.y+=a+80,p.x+=10,this.graphicWater=p,this.resetGWToMask=function(){p.x=t.trueMask.x,p.y=t.trueMask.y},this.changeWaterIndex=function(e){t.addChildAt(p,e)},p.mask=t.trueMask.getChildAt(0),t.setWaterColor=function(t){r=t,e()},t.setWaterAlpha=function(t){n=t,e()},t.setWater=function(t,i){r=t,n=i,e()},t.drop=function(i,r,n){TweenMax.to(t,i,{rotation:r,onUpdate:function(){e()},onComplete:function(){n&&n()}})},t.shake=function(e,i,r){d.visible=!0,f.visible=!0;var n=i||.03;TweenMax.to(t,e,{timeNumS:6e3,onUpdate:function(){t.rotation+=n,t.rotation>Math.PI/36&&(n=-Math.abs(n)),t.rotation<-Math.PI/36&&(n=Math.abs(n))},onComplete:function(){t.rotation=0,t.timeNumS=0,d.visible=!1,f.visible=!1,r&&r()}})},t.setCapacity=function(t){a=i.height*t,h=a,c=a,u=a,e()},t.setCapacity(.2),t.changeWater=function(e,o){function s(e){for(var t=function(e){for(var t=[],i=0;i<e.length;i++)t[i]=e.charAt(i);return t}("0123456789ABCDEF"),i="";0!=e;){i=t[15&e]+i,e>>=4}return i}var h=(e.color,e.alpha||n),c=e.height||i.height/a,l=e.time||1,u=e.color||r;0==e.alpha&&(h=e.alpha),0==e.color&&e.alpha,0==e.height&&(c=e.height);var d=0;if(c!=i.height/a){var f=a/i.height,p=f;TweenMax.to(t,l,{timeNumH:6e3,onUpdate:function(){p+=(c-f)/(60*l),t.setCapacity(p)},onComplete:function(){t.timeNumH=0,t.setCapacity(c),o&&d<1&&(d++,o())}})}if(h!=n){var m=n,v=m;TweenMax.to(t,l,{timeNumA:6e3,onUpdate:function(){v+=(h-m)/(60*l),t.setWaterAlpha(v)},onComplete:function(){t.timeNumA=0,o&&d<1&&(d++,o())}})}if(u!=r){var y=r,g=y>>16,b=y>>8&255,x=255&y,w=u>>16,_=u>>8&255,T=255&u,E=g,S=b,M=x;TweenMax.to(t,l,{timeNumC:6e3,onUpdate:function(){E+=(w-g)/(60*l),S+=(_-b)/(60*l),M+=(T-x)/(60*l);var e="0x"+s(E)+s(S)+s(M);e=E<<16|S<<8|M,t.setWaterColor(e)},onComplete:function(){t.timeNumC=0,o&&d<1&&(d++,o())}})}}},e.exports=i.cuvette}).call(t,i(1))},function(e,t,i){"use strict";function r(e,t,i,r,n){function o(e){var e=e||window.event;i();var t=!0;if(t=e.wheelDelta?e.wheelDelta<0:e.detail>0,0!=e.wheelDelta){if(console.log(t),t){if(f>=n)return void(d.style.fontSize=r*n+"px");d.style.fontSize=parseFloat(d.style.fontSize)+1+"px"}else{if(f<=1)return void(d.style.fontSize=r+"px");d.style.fontSize=parseFloat(d.style.fontSize)-1+"px"}return f=parseFloat(d.style.fontSize)/r,console.log(f),e.preventDefault&&e.preventDefault(),!1}}function a(e,t,i){e.addEventListener(t,i,!1)}function s(e){var t=e.touches;e.preventDefault();parseFloat(d.style.marginLeft),parseFloat(d.style.marginTop);switch(t.length){case 2:m.push(l(t[0])),m.push(l(t[1]));var i=m[0].pageX-m[1].pageX,r=m[0].pageY-m[1].pageY;g=y=Math.sqrt(i*i+r*r)}}function h(e){i();var t=e.touches;switch(e.preventDefault(),t.length){case 2:for(var r,n,o=0;o<t.length;o++)t[o].identifier==m[0].identifier?r=t[o]:t[o].identifier==m[1].identifier&&(n=t[o]);if(!r||!n)return;var a=r.pageX-n.pageX,s=r.pageY-n.pageY;g=Math.sqrt(a*a+s*s);u(g/y)}}function c(e){e.preventDefault();var t=e.touches;switch(t.length){case 0:setTimeout(function(){$(e.target).click()},0);break;case 1:m=[];break;case 2:m=[],m.push(l(t[0])),m.push(l(t[1]));var i=m[0].pageX-m[1].pageX,r=m[0].pageY-m[1].pageY;g=y=Math.sqrt(i*i+r*r)}p=f}function l(e){return{identifier:e.identifier,pageX:e.pageX,pageY:e.pageY}}function u(e){v=e,f=p*e,f>n&&(f=n),f<1&&(f=1),d.style.fontSize=r*f+"px"}var d=e;if(0!=t){var r=r,n=n;d.style.fontSize=r+"px";var f=1,p=f;!function(){window.addEventListener("touchstart",s,!1),window.addEventListener("touchend",c,!1),window.addEventListener("touchmove",h,!1)}(),a(window,"mousewheel",o),a(window,"DOMMouseScroll",o);var m=[],v=1,y=0,g=0}else{d.removeEventListener("mousewheel",o),d.removeEventListener("DOMMouseScroll",o),window.removeEventListener("touchstart",s),window.removeEventListener("touchend",c),window.removeEventListener("touchmove",h);var f=1,p=f}}e.exports=r},function(e,t,i){"use strict";e.exports={Menu:i(176),TipAnimation:i(180),PopUpTip:i(183)}},function(e,t,i){"use strict";e.exports={THREE:i(281),ThreeObjParseUtils:i(187),NBGroup:i(80),box2d:i(304),BlendCharacter:i(188),InteractiveManager:i(177)}},function(e,t,i){"use strict";function r(){if(null==n){var e=s.W,t=s.H,i=instance.get3DCanvas();try{n=new THREE.WebGLRenderer({antialias:!0,alpha:!0,canvas:i})}catch(e){var r;r=window.require?confirm("webGL,3D!!"):nb.stem.isAndroid?confirm("webGL,3D!!"):confirm("webGL,3D!"),r&&updateBrowser(),n=new THREE.CanvasRenderer({antialias:!0,alpha:!0,canvas:i})}n.shadowMap.enabled=!0,n.shadowMapType=THREE.PCFSoftShadowMap,n.shadowMap.cullFace=THREE.CullFaceBack,n.domElement.id="threeJS",n.setClearColor(0,0),n.setSize(e,t);n.domElement.style.position="absolute",document.body.insertBefore(n.domElement,instance.canvas)}}var n,o=(i(282),i(294)),a=i(171),s=i(39),h=i(295),c=i(79),l=i(187),u=i(172),d=i(80),f=i(296),p=i(297),m=a(Object,{textureMap:{},init:function(e,t){if(void 0===e)return void console.warn(" frame");THREE.ImageUtils.crossOrigin=nb.config.crossOrigin,t=t||{},this._config=t;var o=s.W,a=s.H;instance.get3DCanvas();r(),this.observeManager=new h(this),this.canvasRenderer=this.canvas=n;var l=new THREE.PerspectiveCamera(80,o/a,nb.CAMERA_NEAR,3e3);this.camera=l;var u=new THREE.Scene;l.position.set(0,0,100),l.updateProjectionMatrix(),this.scene=u,window.addEventListener("resize",onresize),window.onresize=function(){var e=$(window).width(),t=$(window).height();nb.stem.isIOS&&window.parent&&(e=$(window.parent).width(),t=$(window.parent).height());var i=e/t,r=nb.canvasWidth/nb.canvasHeight,o=n.domElement;i>r?(o.width=nb.canvasWidth*(i/r),o.height=nb.canvasHeight):(o.width=nb.canvasWidth,o.height=nb.canvasHeight/(i/r));var a=(o.width,o.height,s.W),h=s.H,c=a/2-(a-nb.stackPosX)/2-nb.stackPosX;l.setViewOffset&&l.setViewOffset(a,h,c,0,a,h),n.setSize(a,h),l.updateProjectionMatrix(),o.style.width=e+"px",o.style.height=t+"px"},setTimeout(onresize,10);var d=i(298),p=t.controls||{minDistance:200,maxDistance:500,noZoom:!1,noPan:!0,enabled:!0},m=new d(l,instance.canvas);m.noZoom=void 0!=p.noZoom&&p.noZoom,m.noRotate=void 0!=p.noRotate&&p.noRotate,m.noPan=void 0==p.noPan||p.noPan,m.enabled=void 0==p.enabled||p.enabled,this.controls=m,e.threeSystem=this,this.frame2D=e,c.apply(e);for(var v=0;v<e.children.length;v++){var y=e.children[v],g=y.threeData;if(void 0!==g){var b=g.linkage,x=null;if(-1!==b.indexOf("nb.three.Plane"))x=this.addPlane(instance.baseURI+g.url);else if(-1!==b.indexOf("nb.three.Box")){var w=[instance.baseURI+g.right.url,instance.baseURI+g.left.url,instance.baseURI+g.top.url,instance.baseURI+g.bottom.url,instance.baseURI+g.front.url,instance.baseURI+g.behind.url];x=this.addBox(w,g)}y.name&&""!==y.name&&null!==x&&(e[y.name]=x),x.position.copy(this.convertPixiPostionToLocal(y)),y.parent.removeChild(y),y.destroy(),v--}}this.parseNBSConf(e,t);var _=this;this.scope=_,e.addEventListener("onResume",this.frameOnResume.bind(this)),e.addEventListener("onPause",this.frameOnPause.bind(this)),this.vrSelector=new f(this)},setVRMode:function(e){this.vrMode=e,void 0===this.vrConf&&this.setVRConfig();var t=this.getEyesHorizDirection();this.leftEyeDirection=t.left,this.rightEyeDirection=t.right,instance.menu.setVisible(!e)},getEyesHorizDirection:function(){var e={},t=new THREE.Vector3(0,1,0),i=(new THREE.Vector3).subVectors(this.controls.target,this.camera.position);return i.projectOnPlane(t),e.left=i.clone().applyAxisAngle(t,Math.PI/2).normalize(),e.right=i.clone().applyAxisAngle(t,-Math.PI/2).normalize(),e},setVRConfig:function(e){if(e=e||{},(void 0===e.eyeDistance||e.eyeDistance<0)&&(e.eyeDistance=1),(void 0===e.accelerationScale||e.accelerationScale<0)&&(e.accelerationScale=100),e.useOrientation=void 0!==e.useOrientation&&e.useOrientation,e.isLookAtTarget=void 0!==e.isLookAtTarget&&e.isLookAtTarget,e.useZoomIn=void 0!==e.useZoomIn&&e.useZoomIn,e.showVRSelector=void 0!==e.showVRSelector&&e.showVRSelector,e.showVRSelector?this.frame2D.addChild(this.vrSelector):this.frame2D.removeChild(this.vrSelector),this.vrConf=e,e.useOrientation&&void 0===this.hasOrientationListener){var t=this;this.hasOrientationListener=!0;var i=0,r=0,n=0;this.deviceAccelerationQueue=[],window.addEventListener("deviceorientation",function(e){void 0===t.orientationEuler&&(t.orientationEuler=new THREE.Euler),i=e.alpha/180*Math.PI,r=e.beta/180*Math.PI,n=e.gamma/180*Math.PI,t.orientationEuler.set(r,i,-n,"YXZ")})}},loadNBSFile:function(e){var t=new d,r=i(299);e.scene=this.scene;var n=e.callback,o=this;e.callback=function(t){t.traverse(function(i){if(void 0!==e.children){var r=e.children[i.name];if(t===i&&(r=e),void 0!=r){if(void 0===o._config||i.parent instanceof THREE.Scene||i instanceof THREE.Light){var n=r.m.elements;for(var a in n)i.matrix.elements[a]=n[a];i.matrix.decompose(i.position,i.quaternion,i.scale)}i.visible=r.v,i.castShadow=r.castShadow,i.receiveShadow=r.receiveShadow,i.system=o}if(i.material){var s=i.material.uuid;if(!e.scene.materialConfMap)return;var h=e.scene.materialConfMap,c=h[s];if(void 0===c){console.warn(s+",");var l=!0;for(var a in h)if(i.material.name&&h[a].name===i.material.name&&""!==i.material.name){l=!1,i.material.uuid=a,c=h[a];break}if(l)return void console.warn(s+"")}var u=i.material;if(void 0===u.isParsed){var d=function(t,i){if(null!=i){if(i.sourceFile){var r=THREE.ImageUtils.loadTexture(e.basePath+i.sourceFile);r.sourceFile=i.sourceFile,u[t]=r}r=u[t],r&&(i.rx&&(r.repeat.x=i.rx),i.ry&&(r.repeat.y=i.ry),i.ws&&(r.wrapS=i.ws),i.wt&&(r.wrapT=i.wt))}};u.isParsed=!0,u.color.setHex(c.color),u.emissive.setHex(c.emissive),u.specular.setHex(c.specular),u.shininess=c.shininess,u.skinning=c.skinning,u.side=c.side,u.shading=c.shading,u.blending=c.blending,u.opacity=c.opacity,u.transparent=c.transparent,u.alphaTest=c.alphaTest,u.wireframe=c.wireframe,u.bumpScale=c.bumpScale,u.displacementScale=c.displacementScale,d("map",c.map),d("alphaMap",c.alphaMap),d("bumpMap",c.bumpMap),d("normalMap",c.normalMap),d("displacementMap",c.displacementMap),d("specularMap",c.specularMap),d("envMap",c.envMap),d("lightMap",c.lightMap),d("aoMap",c.aoMap)}}}}),o.observeManager&&e.observe&&o.observeManager.parseScene(t,Object.create(e.observe)),n&&n(t),window.editor&&window.editor.addObject(t)};var a=new r;return e.group=t,a.load(e),t},parseNBSConf:function(e,t){function r(){e.removeChild(a),console.log("============end load============="),e.nbsLoadComplete&&($("#loading-bar-spinner").fadeOut(function(){$("#loading-bar-spinner").remove()}),e.nbsLoadComplete(),instance.firstCircle=!0)}var n=e.nbsConf;if(void 0!==n){var o=i(303),a=new o;e.addChild(a);var s=e.toLocal({x:nb.stem.STEMMain.W/2,y:nb.stem.STEMMain.H/2});a.x=s.x,a.y=s.y,console.log("==========start load============="),n=JSON.parse(e.nbsConf);for(var h=n.length,c=0,u=function(){++c==h&&r()},d={},f=function(e){d[e.url]=e;var t=0,i=0;for(var r in d)t+=d[r].total,i+=d[r].loaded;a.setPercent(i/t)},p=t.iosModels||[],m=0;m<h;m++){var v=n[m];if(!v.name||"6666/model"!=v.name||nb.stem.isPC)if(void 0==v.type){if(v.callback=u,v.observe=t.observe,v.progressCallback=f,nb.stem.isIOS||nb.stem.MicApp||!nb.stem.isPC)if(-1!=p.indexOf(v.id))if(v.id.endsWith(".dae")){var y=v.id.split(".dae")[0];v.id=y+"_ios.dae"}else-1===v.id.indexOf("/")&&(v.id=v.id+"/dat_ios");else"0145/model.dae"==v.id&&(v.id="0145/model_ios.dae");var g=this.loadNBSFile(v);this.scene.add(g)}else l.parse(v,this.scene),c++;else c++,this.scene.fog=null}c===h&&setTimeout(r,500)}},convertPixiPostionToLocal:function(e){var t=s.STACK_WIDTH,i=s.H,r=-(t/2-e.x),n=i/2-e.y;return new THREE.Vector3(r,n,0)},addPlane:function(e,t){t=t||{},t.position=t.position||new THREE.Vector3;var i=this.scene;o.loadTexture(e,function(e){var t=new THREE.PlaneGeometry(e.image.width,e.image.height);e.minFilter=THREE.LinearFilter;var n=new THREE.MeshBasicMaterial({map:e,wireframe:!1,side:THREE.DoubleSide});r.geometry=t,r.material=n,i.add(r)});var r=new THREE.Mesh;return r.position.set(t.position.x,t.position.y,t.position.z),r},addBox:function(e,t){t=t||{};for(var i=[],r=0,n=this,a=0;a<e.length;a++){var s={},h=new THREE.MeshLambertMaterial(s);o.loadTexture(e[a],function(o){return function(a){if(r===e.length-1){var s=new THREE.MeshFaceMaterial(i),h=new THREE.BoxGeometry(t.w||300,t.h||300,t.d||300);h.uvsNeedUpdate=!0,h.dynamic=!0,c.geometry=h,c.material=s,h.faceVertexUvs[0][10]=[new THREE.Vector2(1,0),new THREE.Vector2(1,1),new THREE.Vector2(0,0)],h.faceVertexUvs[0][11]=[new THREE.Vector2(1,1),new THREE.Vector2(0,1),new THREE.Vector2(0,0)],n.add(c)}r++,o.map=a,a.minFilter=THREE.LinearFilter}}(h)),i.push(h)}var c=new THREE.Mesh;return c},add:function(e){this.scene.add(e),e.threeSystem=this},remove:function(e){delete e.threeSystem,this.scene.remove(e)},render:function(){if(!1!==this.renderable)if(this.vrMode){this.canvas.setClearColor(0,0),this.controls.update(),void 0===this.leftCamera&&(this.leftCamera=this.camera.clone(),this.rightCamera=this.camera.clone(),this.scene.add(this.leftCamera),this.scene.add(this.rightCamera));var e=this.vrConf.eyesDistance/2;if(this.vrConf.useOrientation){var t=this.orientationEuler;if(!t)return;var i=new THREE.Quaternion;i.setFromEuler(t);var r=new THREE.Quaternion(-Math.sqrt(.5),0,0,Math.sqrt(.5)),o=Math.PI*-window.orientation/360,a=new THREE.Quaternion(0,Math.sin(o),0,Math.cos(o));if(i.multiply(a).multiply(r),this.vrConf.isLookAtTarget){var h=(new THREE.Vector3).subVectors(this.camera.position,this.controls.target);h.applyQuaternion(i),h.add(this.controls.target);var c=this.getEyesHorizDirection(),l=c.left.multiplyScalar(e),u=c.right.multiplyScalar(e);this.vrConf.useZoomIn?(this.leftCamera.position.copy(l).add(this.camera.position).add(h),this.rightCamera.position.copy(u).add(this.camera.position).add(h)):(this.leftCamera.position.copy(l).add(h),this.rightCamera.position.copy(u).add(h)),this.leftCamera.lookAt(this.controls.target),this.rightCamera.lookAt(this.controls.target)}else{this.leftCamera.rotation.setFromQuaternion(i),this.rightCamera.rotation.setFromQuaternion(i),this.camera.rotation.setFromQuaternion(i);var d=this.leftEyeDirection.clone().multiplyScalar(e),f=this.rightEyeDirection.clone().multiplyScalar(e);d.applyQuaternion(i),f.applyQuaternion(i),d.add(this.camera.position),f.add(this.camera.position),this.leftCamera.position.copy(d),this.rightCamera.position.copy(f)}}else{var c=this.getEyesHorizDirection(),l=c.left.multiplyScalar(e),u=c.right.multiplyScalar(e);this.leftCamera.position.copy(l).add(this.camera.position),this.rightCamera.position.copy(u).add(this.camera.position),this.leftCamera.lookAt(this.controls.target),this.rightCamera.lookAt(this.controls.target)}var p=nb.stem.STEMMain.W,m=nb.stem.STEMMain.H,v=0,y=0,g=.5*p,b=m;n.setViewport(v,y,g,b),n.setScissor(v,y,g,b),n.setScissorTest(!0),this.leftCamera.aspect=g/b,this.leftCamera.updateProjectionMatrix(),n.render(this.scene,this.leftCamera),v=.5*p,y=0,g=.5*p,b=m,n.setViewport(v,y,g,b),n.setScissor(v,y,g,b),n.setScissorTest(!0),this.rightCamera.aspect=g/b,this.rightCamera.updateProjectionMatrix(),n.render(this.scene,this.rightCamera)}else n.setViewport(0,0,s.W,s.H),n.setScissor(0,0,s.W,s.H),this.controls&&this.controls.update(),this.scene.fog?this.canvas.setClearColor(this.scene.fog.color):this.canvas.setClearColor(0,0),this.canvas.render(this.scene,this.camera)},isLoaded:function(){return o.isLoaded()},rotateCamera:function(e,t,i,r,n,o){null==o&&(o=this.camera.position);var a=o.clone(),s=this;n=n||{};var h=this.camera;this.__r__=0,n.__r__=1,n.onUpdate=function(){var r=a.clone(),n=s.__r__;e&&r.applyAxisAngle(new THREE.Vector3(1,0,0),e*n),t&&r.applyAxisAngle(new THREE.Vector3(0,1,0),t*n),i&&r.applyAxisAngle(new THREE.Vector3(0,0,1),i*n),h.position.copy(r),h.lookAt(new THREE.Vector3(0,0,0))};TweenMax.to(this,r,n)},hide:function(){this.controls.active=!1,this.scene.visible=!1,this.render()},addAmbientLight:function(e){var t=new THREE.AmbientLight(e||4210752);return this.add(t),t},addShadow:function(){for(var e=0;e<arguments.length;e++){arguments[e].traverse(function(e){e instanceof THREE.Mesh&&(e.castShadow=!0)})}},addReceiveShadow:function(){for(var e=0;e<arguments.length;e++){arguments[e].traverse(function(e){e instanceof THREE.Mesh&&(e.receiveShadow=!0)})}},tweenTo:function(e,t,i){i=i||{};var r=void 0===i.timer?2:i.timer,n=t.position,o=this;if(e instanceof THREE.Camera){TweenMax.killTweensOf(e),TweenMax.killTweensOf(e.position);var a=function(){i.onComplete&&i.onComplete(),o.controls.resetZoom(),console.log("reset zoom value")};if(i.through instanceof Array&&i.through.length>0){var s=new TimelineMax,h=i.through.concat();h.push(t.position);for(var c=0;c<h.length;c++){var l=h[c];s.append(TweenMax.to(e.position,r/h.length,{delay:i.delay,x:l.x,y:l.y,z:l.z}))}TweenMax.to(e,r,{fov:t.fov,near:nb.CAMERA_NEAR,far:t.far,onUpdate:function(){i.onUpdate&&i.onUpdate(),e.updateProjectionMatrix()},onComplete:a})}else TweenMax.to(e.position,r,{delay:i.delay,x:n.x,y:n.y,z:n.z,onComplete:a,onUpdate:i.onUpdate}),TweenMax.to(e,r,{fov:t.fov,near:nb.CAMERA_NEAR,far:t.far,onUpdate:function(){e.updateProjectionMatrix()}})}else TweenMax.to(e.position,r,{delay:i.delay,x:n.x,y:n.y,z:n.z,onComplete:i.onComplete,onUpdate:i.onUpdate})},show:function(){this.controls&&(this.controls.active=!0),this.scene.visible=!0,this.render()},remove3DDrag:function(e){e.__touchBegin__&&(e.removeEventListener(TouchEvent.TOUCH_BEGIN,e.__touchBegin__),e.__touchEnd__&&e.__touchEnd__(null,!1),delete e.__touchEnd__)},add3DRotation:function(e){function t(e){if(0!=this.matrixAutoUpdate&&!1!==f.enabled){e.stopPropagation(),v&&v();var t=h.parent.localToWorld(h.position.clone());a.position.copy(t);var s=h.position.clone();s.add(l),s=h.parent.localToWorld(s),a.lookAt(s),d.render();var u=m.getInteractiveObject(e.data.global,[a]);if(u&&u.point){a.worldToLocal(u.point),n=u.point,o=Math.atan2(n.y,n.x),d.scene.addEventListener(TouchEvent.TOUCH_MOVE,i),d.scene.addEventListener(TouchEvent.TOUCH_END,r),d.scene.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,r),f.enabled=!1,d.frame2D.addChild(S);var p=c.obj3DVecToDisPoint(a,new THREE.Vector3,d.camera,d.frame2D);S.x=p.x,S.y=p.y,S.startListener(e)}}}function i(e){var t=m.getInteractiveObject(e.data.global,[a]);if(t&&t.point){a.worldToLocal(t.point),n=t.point;var i=Math.atan2(n.y,n.x),r=i-o;if(o=i,r>Math.PI?r-=2*Math.PI:r<-Math.PI&&(r=2*Math.PI+r),_+=r,T>_&&(_-=r,r=T-_,_+=r),E<_&&(_-=r,r=E-_,_+=r),0!==r&&y&&y({offset:r}),b){h.applyMatrix(x);var s=new THREE.Matrix4;s.makeRotationAxis(l,r),h.applyMatrix(s),h.applyMatrix(w)}else h.rotation.x+=l.x*r,h.rotation.y+=l.y*r,h.rotation.z+=l.z*r}}function r(e){f.enabled=!0,d.scene.removeEventListener(TouchEvent.TOUCH_MOVE,i),d.scene.removeEventListener(TouchEvent.TOUCH_END,r),d.scene.removeEventListener(TouchEvent.TOUCH_END_OUDSIDE,r),S.end(),g&&g({angle:_})}var n,o,a=this.createRefPanel(),s=e.collideObj,h=e.rotateObj,l=e.axis?e.axis:new THREE.Vector3(1,0,0),u=e.pivot?e.pivot:new THREE.Vector3,d=this,f=this.controls,m=instance.interactiveManager,v=e.onStart,y=e.onUpdate,g=e.onComplete,b=void 0===e.useMatrix||e.useMatrix,x=new THREE.Matrix4;x.makeTranslation(-u.x,-u.y,-u.z);var w=x.clone();w=w.getInverse(w);var _=0,T=void 0!==e.startAngle?e.startAngle:NaN,E=void 0!==e.endAngle?e.endAngle:NaN,S=new p;s.addEventListener(TouchEvent.TOUCH_BEGIN,t),s.addEventListener(MouseEvent.MOUSE_OVER,function(){}),h.changeRangeAngle=function(e){_=e},h.change3DRotantion_StartAngle=function(e){T=e},h.change3DRotantion_EndAngle=function(e){E=e}},add3DDrag:function(e){var t=e.mesh,i=e.n,r=e.v,n=this.controls,o=this.scene,a=instance.interactiveManager,s=this.camera,h=this,c=this.createRefPanel(),l=e.scale||1,d=(new THREE.Vector3,e.nBounds);if(d)var f=t.position.clone().add(new THREE.Vector3(d.xMin,d.yMin,d.zMin)),p=t.position.clone().add(new THREE.Vector3(d.xMax,d.yMax,d.zMax));var m=(new THREE.Vector3,new THREE.Vector3,function(e){if(!1!==n.enabled){c.lookAt(s.position),c.position.copy(this.position),h.render();var m=a.getInteractiveObject(e.data.global,[c]),v=function(e){var n=a.getInteractiveObject(e.data.global,[c]);if(i){var o=n.point.clone().sub(m.point);o.multiplyScalar(l),m=n,o.projectOnPlane(i),void 0===d?t.position.add(o):(t.position.add(o),t.position.x>p.x?t.position.x=p.x:t.position.x<f.x&&(t.position.x=f.x),t.position.y>p.y?t.position.y=p.y:t.position.y<f.y&&(t.position.y=f.y),t.position.z>p.z?t.position.z=p.z:t.position.z<f.z&&(t.position.z=f.z))}else{var o=n.point.clone().sub(m.point);m=n,o.projectOnVector(r),t.position.add(o)}t.dispatchEvent({type:u.event.DRAG_MOVE})},y=function e(i,r){o.removeEventListener(TouchEvent.TOUCH_MOVE,v),o.removeEventListener(TouchEvent.TOUCH_END,e),n.enabled=!0,void 0!==r&&!0!==r||t.dispatchEvent({type:u.event.STOP_DRAG}),delete t.__touchEnd__};n.enabled=!1,o.addEventListener(TouchEvent.TOUCH_MOVE,v),o.addEventListener(TouchEvent.TOUCH_END,y),t.__touchEnd__=y,t.dispatchEvent({type:u.event.START_DRAG})}});t.addEventListener(TouchEvent.TOUCH_BEGIN,m),t.__touchBegin__=m},cloneToCamera:function(e){this.camera.position.copy(e.position),this.camera.rotation.copy(e.rotation),this.camera.fov=e.fov,this.camera.near=e.near,this.camera.far=e.far;var t=ThreeUtil.getCameraLookDir(e);this.controls.target=t,this.camera.updateProjectionMatrix()},addPhyDrag:function(e,t){this.addDrag(e,{phySystem:{world:t}})},createRefPanel:function(){var e=this.scene;if(void 0==e.__refPlane__){var t=new THREE.Mesh(new THREE.PlaneBufferGeometry(200*s.W,200*s.H,2,2),new THREE.MeshBasicMaterial({color:0,opacity:.25,transparent:!0,visible:!1,side:THREE.DoubleSide}));e.add(t),t.name="nbRef_Plane",e.__refPlane__=t}return e.__refPlane__},addDrag:function(e,t){var i=this;if(void 0===this.scene.refPlane){var r=function(e,t,i){b.position.set(e,t,i),l.update()},n=function(){y.removeConstraint(l),l=!1},o=function(e,t,i,r){v=r;var n=new CANNON.Vec3(e,t,i).vsub(v.position),o=v.quaternion.inverse(),a=o.vmult(n);b.position.set(e,t,i),l=new CANNON.PointToPointConstraint(v,a,b,new CANNON.Vec3(0,0,0)),y.addConstraint(l)};t=t||{};var a=this.camera,h=this.scene,c=new THREE.Mesh(new THREE.PlaneBufferGeometry(2*s.W,2*s.H,8,8),new THREE.MeshBasicMaterial({color:0,opacity:.25,transparent:!0}));c.visible=!1,h.add(c),h.dragObj=[],h.refPlane=c;var l,u=null,d=h.dragObj,f=new THREE.Vector2,p=new THREE.Vector3,m=new THREE.Raycaster;if(void 0!==t.phySystem){var v,y=t.phySystem.world,g=new CANNON.Sphere(.1),b=new CANNON.Body({mass:0});b.addShape(g),b.collisionFilterGroup=0,b.collisionFilterMask=0,y.add(b)}var x=function(e){if(!1!==h.visible){e.preventDefault(),w(f,e),m.setFromCamera(f,a);var r=m.intersectObjects(d);if(r.length>0){if(u=r[0].object,c.position.copy(u.position),e instanceof TouchEvent&&i.render(),r=m.intersectObject(c),r.length>0&&p.copy(r[0].point).sub(c.position),t.phySystem){var n=u.position;o(n.x,n.y,n.z,u.body)}p.z=0,instance.canvas.addEventListener(TouchEvent.TOUCH_MOVE,_),instance.canvas.addEventListener(MouseEvent.TOUCH_MOVE,_),instance.canvas.addEventListener(TouchEvent.TOUCH_END,T),instance.canvas.addEventListener(MouseEvent.TOUCH_END,T),instance.canvas.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,T),instance.canvas.addEventListener(MouseEvent.TOUCH_END_OUDSIDE,T)}}},w=function(e,t){var i=$("#threeJS").width(),r=$("#threeJS").height();if(t instanceof MouseEvent)var n=t.offsetX,o=t.offsetY;else{var a=t.touches[t.touches.length-1];n=a.pageX,o=a.pageY}e.x=n/i*2-1,e.y=-o/r*2+1},_=function(e){if(e.preventDefault(),w(f,e),m.setFromCamera(f,a),u){var i=m.intersectObject(c);if(i.length>0){var n=i[0].point.sub(p);t.phySystem?r(n.x,n.y,n.z):u.position.copy(n)}}},T=function e(i){i.preventDefault(),u=null,instance.canvas.removeEventListener(TouchEvent.TOUCH_MOVE,_),instance.canvas.removeEventListener(MouseEvent.TOUCH_MOVE,_),instance.canvas.removeEventListener(TouchEvent.TOUCH_END,e),instance.canvas.removeEventListener(MouseEvent.TOUCH_END,e),instance.canvas.removeEventListener(TouchEvent.TOUCH_END_OUDSIDE,e),instance.canvas.removeEventListener(MouseEvent.TOUCH_END_OUDSIDE,e),t.phySystem&&n()};instance.canvas.addEventListener(TouchEvent.TOUCH_BEGIN,x),instance.canvas.addEventListener(MouseEvent.TOUCH_BEGIN,x);var E=function(e){if(!1!==h.visible&&null==u){event.preventDefault(),w(f,event),m.setFromCamera(f,a);var t=m.intersectObjects(d);t.length>0&&c.position.copy(t[0].object.position)}};instance.canvas.addEventListener(TouchEvent.TOUCH_MOVE,E),instance.canvas.addEventListener(MouseEvent.TOUCH_MOVE,E)}this.scene.dragObj.push(e)},dataTrans:function(e){this.frame2D.removeEventListener("onResume",this.frameOnResume),this.frame2D.removeEventListener("onPause",this.frameOnPause),e.threeSystem=this,instance.threeSystem=this,this.frame2D=e,c.apply(e),e.addEventListener("onResume",this.frameOnResume.bind(this)),e.addEventListener("onPause",this.frameOnPause.bind(this)),this.vrSelector.frame2D=this.frame2D},frameOnResume:function(e){var t=this;this.threeFog&&(this.scene.fog=this.threeFog),setTimeout(function(){t.show()},1e3)},frameOnPause:function(e){this.threeFog=scene.fog,this.scene.fog=null,this.hide(),this.scope.render()}});e.exports=m},function(e,t,i){(function(e){var r=i(283),n=i(286),o=i(287),a=i(288),s=t;s.request=function(t,i){t="string"==typeof t?a.parse(t):n(t);var o=-1===e.location.protocol.search(/^https?:$/)?"http:":"",s=t.protocol||o,h=t.hostname||t.host,c=t.port,l=t.path||"/";h&&-1!==h.indexOf(":")&&(h="["+h+"]"),t.url=(h?s+"//"+h:"")+(c?":"+c:"")+l,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var u=new r(t);return i&&u.on("response",i),u},s.get=function(e,t){var i=s.request(e,t);return i.end(),i},s.Agent=function(){},s.Agent.defaultMaxSockets=4,s.STATUS_CODES=o,s.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(t,i(1))},function(e,t,i){(function(t,r,n){function o(e,t){return s.fetch&&t?"fetch":s.mozchunkedarraybuffer?"moz-chunked-arraybuffer":s.msstream?"ms-stream":s.arraybuffer&&e?"arraybuffer":s.vbArray&&e?"text:vbarray":"text"}function a(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}}var s=i(184),h=i(0),c=i(284),l=i(20),u=i(285),d=c.IncomingMessage,f=c.readyStates,p=e.exports=function(e){var i=this;l.Writable.call(i),i._opts=e,i._body=[],i._headers={},e.auth&&i.setHeader("Authorization","Basic "+new t(e.auth).toString("base64")),Object.keys(e.headers).forEach(function(t){i.setHeader(t,e.headers[t])});var r,n=!0;if("disable-fetch"===e.mode||"timeout"in e)n=!1,r=!0;else if("prefer-streaming"===e.mode)r=!1;else if("allow-wrong-content-type"===e.mode)r=!s.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");r=!0}i._mode=o(r,n),i.on("finish",function(){i._onFinish()})};h(p,l.Writable),p.prototype.setHeader=function(e,t){var i=this,r=e.toLowerCase();-1===m.indexOf(r)&&(i._headers[r]={name:e,value:t})},p.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},p.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},p.prototype._onFinish=function(){var e=this;if(!e._destroyed){var i=e._opts,o=e._headers,a=null;"GET"!==i.method&&"HEAD"!==i.method&&(a=s.blobConstructor?new r.Blob(e._body.map(function(e){return u(e)}),{type:(o["content-type"]||{}).value||""}):t.concat(e._body).toString());var h=[];if(Object.keys(o).forEach(function(e){var t=o[e].name,i=o[e].value;Array.isArray(i)?i.forEach(function(e){h.push([t,e])}):h.push([t,i])}),"fetch"===e._mode)r.fetch(e._opts.url,{method:e._opts.method,headers:h,body:a||void 0,mode:"cors",credentials:i.withCredentials?"include":"same-origin"}).then(function(t){e._fetchResponse=t,e._connect()},function(t){e.emit("error",t)});else{var c=e._xhr=new r.XMLHttpRequest;try{c.open(e._opts.method,e._opts.url,!0)}catch(t){return void n.nextTick(function(){e.emit("error",t)})}"responseType"in c&&(c.responseType=e._mode.split(":")[0]),"withCredentials"in c&&(c.withCredentials=!!i.withCredentials),"text"===e._mode&&"overrideMimeType"in c&&c.overrideMimeType("text/plain; charset=x-user-defined"),"timeout"in i&&(c.timeout=i.timeout,c.ontimeout=function(){e.emit("timeout")}),h.forEach(function(e){c.setRequestHeader(e[0],e[1])}),e._response=null,c.onreadystatechange=function(){switch(c.readyState){case f.LOADING:case f.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(c.onprogress=function(){e._onXHRProgress()}),c.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{c.send(a)}catch(t){return void n.nextTick(function(){e.emit("error",t)})}}}},p.prototype._onXHRProgress=function(){var e=this;a(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress())},p.prototype._connect=function(){var e=this;e._destroyed||(e._response=new d(e._xhr,e._fetchResponse,e._mode),e._response.on("error",function(t){e.emit("error",t)}),e.emit("response",e._response))},p.prototype._write=function(e,t,i){this._body.push(e),i()},p.prototype.abort=p.prototype.destroy=function(){var e=this;e._destroyed=!0,e._response&&(e._response._destroyed=!0),e._xhr&&e._xhr.abort()},p.prototype.end=function(e,t,i){var r=this;"function"==typeof e&&(i=e,e=void 0),l.Writable.prototype.end.call(r,e,t,i)},p.prototype.flushHeaders=function(){},p.prototype.setTimeout=function(){},p.prototype.setNoDelay=function(){},p.prototype.setSocketKeepAlive=function(){};var m=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"]}).call(t,i(3).Buffer,i(1),i(8))},function(e,t,i){(function(e,r,n){var o=i(184),a=i(0),s=i(20),h=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},c=t.IncomingMessage=function(t,i,n){function a(){c.read().then(function(e){if(!h._destroyed){if(e.done)return void h.push(null);h.push(new r(e.value)),a()}}).catch(function(e){h.emit("error",e)})}var h=this;if(s.Readable.call(h),h._mode=n,h.headers={},h.rawHeaders=[],h.trailers={},h.rawTrailers=[],h.on("end",function(){e.nextTick(function(){h.emit("close")})}),"fetch"===n){h._fetchResponse=i,h.url=i.url,h.statusCode=i.status,h.statusMessage=i.statusText,i.headers.forEach(function(e,t){h.headers[t.toLowerCase()]=e,h.rawHeaders.push(t,e)});var c=i.body.getReader();a()}else{h._xhr=t,h._pos=0,h.url=t.responseURL,h.statusCode=t.status,h.statusMessage=t.statusText;if(t.getAllResponseHeaders().split(/\r?\n/).forEach(function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var i=t[1].toLowerCase();"set-cookie"===i?(void 0===h.headers[i]&&(h.headers[i]=[]),h.headers[i].push(t[2])):void 0!==h.headers[i]?h.headers[i]+=", "+t[2]:h.headers[i]=t[2],h.rawHeaders.push(t[1],t[2])}}),h._charset="x-user-defined",!o.overrideMimeType){var l=h.rawHeaders["mime-type"];if(l){var u=l.match(/;\s*charset=([^;])(;|$)/);u&&(h._charset=u[1].toLowerCase())}h._charset||(h._charset="utf-8")}}};a(c,s.Readable),c.prototype._read=function(){},c.prototype._onXHRProgress=function(){var e=this,t=e._xhr,i=null;switch(e._mode){case"text:vbarray":if(t.readyState!==h.DONE)break;try{i=new n.VBArray(t.responseBody).toArray()}catch(e){}if(null!==i){e.push(new r(i));break}case"text":try{i=t.responseText}catch(t){e._mode="text:vbarray";break}if(i.length>e._pos){var o=i.substr(e._pos);if("x-user-defined"===e._charset){for(var a=new r(o.length),s=0;s<o.length;s++)a[s]=255&o.charCodeAt(s);e.push(a)}else e.push(o,e._charset);e._pos=i.length}break;case"arraybuffer":if(t.readyState!==h.DONE||!t.response)break;i=t.response,e.push(new r(new Uint8Array(i)));break;case"moz-chunked-arraybuffer":if(i=t.response,t.readyState!==h.LOADING||!i)break;e.push(new r(new Uint8Array(i)));break;case"ms-stream":if(i=t.response,t.readyState!==h.LOADING)break;var c=new n.MSStreamReader;c.onprogress=function(){c.result.byteLength>e._pos&&(e.push(new r(new Uint8Array(c.result.slice(e._pos)))),e._pos=c.result.byteLength)},c.onload=function(){e.push(null)},c.readAsArrayBuffer(i)}e._xhr.readyState===h.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(t,i(8),i(3).Buffer,i(1))},function(e,t,i){var r=i(3).Buffer;e.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(r.isBuffer(e)){for(var t=new Uint8Array(e.length),i=e.length,n=0;n<i;n++)t[n]=e[n];return t.buffer}throw new Error("Argument must be a Buffer")}},function(e,t){function i(){for(var e={},t=0;t<arguments.length;t++){var i=arguments[t];for(var n in i)r.call(i,n)&&(e[n]=i[n])}return e}e.exports=i;var r=Object.prototype.hasOwnProperty},function(e,t){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(e,t,i){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function n(e,t,i){if(e&&c.isObject(e)&&e instanceof r)return e;var n=new r;return n.parse(e,t,i),n}function o(e){return c.isString(e)&&(e=n(e)),e instanceof r?e.format():r.prototype.format.call(e)}function a(e,t){return n(e,!1,!0).resolve(t)}function s(e,t){return e?n(e,!1,!0).resolveObject(t):t}var h=i(289),c=i(290);t.parse=n,t.resolve=a,t.resolveObject=s,t.format=o,t.Url=r;var l=/^([a-z0-9.+-]+:)/i,u=/:[0-9]*$/,d=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,f=["<",">",'"',"`"," ","\r","\n","\t"],p=["{","}","|","\\","^","`"].concat(f),m=["'"].concat(p),v=["%","/","?",";","#"].concat(m),y=["/","?","#"],g=/^[+a-z0-9A-Z_-]{0,63}$/,b=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,x={javascript:!0,"javascript:":!0},w={javascript:!0,"javascript:":!0},_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},T=i(291);r.prototype.parse=function(e,t,i){if(!c.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),n=-1!==r&&r<e.indexOf("#")?"?":"#",o=e.split(n),a=/\\/g;o[0]=o[0].replace(a,"/"),e=o.join(n);var s=e;if(s=s.trim(),!i&&1===e.split("#").length){var u=d.exec(s);if(u)return this.path=s,this.href=s,this.pathname=u[1],u[2]?(this.search=u[2],this.query=t?T.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var f=l.exec(s);if(f){f=f[0];var p=f.toLowerCase();this.protocol=p,s=s.substr(f.length)}if(i||f||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===s.substr(0,2);!E||f&&w[f]||(s=s.substr(2),this.slashes=!0)}if(!w[f]&&(E||f&&!_[f])){for(var S=-1,M=0;M<y.length;M++){var C=s.indexOf(y[M]);-1!==C&&(-1===S||C<S)&&(S=C)}var A,D;D=-1===S?s.lastIndexOf("@"):s.lastIndexOf("@",S),-1!==D&&(A=s.slice(0,D),s=s.slice(D+1),this.auth=decodeURIComponent(A)),S=-1;for(var M=0;M<v.length;M++){var C=s.indexOf(v[M]);-1!==C&&(-1===S||C<S)&&(S=C)}-1===S&&(S=s.length),this.host=s.slice(0,S),s=s.slice(S),this.parseHost(),this.hostname=this.hostname||"";var k="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!k)for(var I=this.hostname.split(/\./),M=0,P=I.length;M<P;M++){var R=I[M];if(R&&!R.match(g)){for(var F="",O=0,L=R.length;O<L;O++)R.charCodeAt(O)>127?F+="x":F+=R[O];if(!F.match(g)){var B=I.slice(0,M),N=I.slice(M+1),U=R.match(b);U&&(B.push(U[1]),N.unshift(U[2])),N.length&&(s="/"+N.join(".")+s),this.hostname=B.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),k||(this.hostname=h.toASCII(this.hostname));var H=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+H,this.href+=this.host,k&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!x[p])for(var M=0,P=m.length;M<P;M++){var z=m[M];if(-1!==s.indexOf(z)){var G=encodeURIComponent(z);G===z&&(G=escape(z)),s=s.split(z).join(G)}}var V=s.indexOf("#");-1!==V&&(this.hash=s.substr(V),s=s.slice(0,V));var X=s.indexOf("?");if(-1!==X?(this.search=s.substr(X),this.query=s.substr(X+1),t&&(this.query=T.parse(this.query)),s=s.slice(0,X)):t&&(this.search="",this.query={}),s&&(this.pathname=s),_[p]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var H=this.pathname||"",Y=this.search||"";this.path=H+Y}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",i=this.pathname||"",r=this.hash||"",n=!1,o="";this.host?n=e+this.host:this.hostname&&(n=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&c.isObject(this.query)&&Object.keys(this.query).length&&(o=T.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||_[t])&&!1!==n?(n="//"+(n||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):n||(n=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),i=i.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),a=a.replace("#","%23"),t+n+i+a+r},r.prototype.resolve=function(e){return this.resolveObject(n(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(c.isString(e)){var t=new r;t.parse(e,!1,!0),e=t}for(var i=new r,n=Object.keys(this),o=0;o<n.length;o++){var a=n[o];i[a]=this[a]}if(i.hash=e.hash,""===e.href)return i.href=i.format(),i;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),h=0;h<s.length;h++){var l=s[h];"protocol"!==l&&(i[l]=e[l])}return _[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(e.protocol&&e.protocol!==i.protocol){if(!_[e.protocol]){for(var u=Object.keys(e),d=0;d<u.length;d++){var f=u[d];i[f]=e[f]}return i.href=i.format(),i}if(i.protocol=e.protocol,e.host||w[e.protocol])i.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),i.pathname=p.join("/")}if(i.search=e.search,i.query=e.query,i.host=e.host||"",i.auth=e.auth,i.hostname=e.hostname||e.host,i.port=e.port,i.pathname||i.search){var m=i.pathname||"",v=i.search||"";i.path=m+v}return i.slashes=i.slashes||e.slashes,i.href=i.format(),i}var y=i.pathname&&"/"===i.pathname.charAt(0),g=e.host||e.pathname&&"/"===e.pathname.charAt(0),b=g||y||i.host&&e.pathname,x=b,T=i.pathname&&i.pathname.split("/")||[],p=e.pathname&&e.pathname.split("/")||[],E=i.protocol&&!_[i.protocol];if(E&&(i.hostname="",i.port=null,i.host&&(""===T[0]?T[0]=i.host:T.unshift(i.host)),i.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),b=b&&(""===p[0]||""===T[0])),g)i.host=e.host||""===e.host?e.host:i.host,i.hostname=e.hostname||""===e.hostname?e.hostname:i.hostname,i.search=e.search,i.query=e.query,T=p;else if(p.length)T||(T=[]),T.pop(),T=T.concat(p),i.search=e.search,i.query=e.query;else if(!c.isNullOrUndefined(e.search)){if(E){i.hostname=i.host=T.shift();var S=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@");S&&(i.auth=S.shift(),i.host=i.hostname=S.shift())}return i.search=e.search,i.query=e.query,c.isNull(i.pathname)&&c.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i}if(!T.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var M=T.slice(-1)[0],C=(i.host||e.host||T.length>1)&&("."===M||".."===M)||""===M,A=0,D=T.length;D>=0;D--)M=T[D],"."===M?T.splice(D,1):".."===M?(T.splice(D,1),A++):A&&(T.splice(D,1),A--);if(!b&&!x)for(;A--;A)T.unshift("..");!b||""===T[0]||T[0]&&"/"===T[0].charAt(0)||T.unshift(""),C&&"/"!==T.join("/").substr(-1)&&T.push("");var k=""===T[0]||T[0]&&"/"===T[0].charAt(0);if(E){i.hostname=i.host=k?"":T.length?T.shift():"";var S=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@");S&&(i.auth=S.shift(),i.host=i.hostname=S.shift())}return b=b||i.host&&T.length,b&&!k&&T.unshift(""),T.length?i.pathname=T.join("/"):(i.pathname=null,i.path=null),c.isNull(i.pathname)&&c.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=e.auth||i.auth,i.slashes=i.slashes||e.slashes,i.href=i.format(),i},r.prototype.parseHost=function(){var e=this.host,t=u.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,i){(function(e,r){var n;!function(o){function a(e){throw new RangeError(P[e])}function s(e,t){for(var i=e.length,r=[];i--;)r[i]=t(e[i]);return r}function h(e,t){var i=e.split("@"),r="";return i.length>1&&(r=i[0]+"@",e=i[1]),e=e.replace(I,"."),r+s(e.split("."),t).join(".")}function c(e){for(var t,i,r=[],n=0,o=e.length;n<o;)t=e.charCodeAt(n++),t>=55296&&t<=56319&&n<o?(i=e.charCodeAt(n++),56320==(64512&i)?r.push(((1023&t)<<10)+(1023&i)+65536):(r.push(t),n--)):r.push(t);return r}function l(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=O(e>>>10&1023|55296),e=56320|1023&e),t+=O(e)}).join("")}function u(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:w}function d(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function f(e,t,i){var r=0;for(e=i?F(e/S):e>>1,e+=F(e/t);e>R*T>>1;r+=w)e=F(e/R);return F(r+(R+1)*e/(e+E))}function p(e){var t,i,r,n,o,s,h,c,d,p,m=[],v=e.length,y=0,g=C,b=M;for(i=e.lastIndexOf(A),i<0&&(i=0),r=0;r<i;++r)e.charCodeAt(r)>=128&&a("not-basic"),m.push(e.charCodeAt(r));for(n=i>0?i+1:0;n<v;){for(o=y,s=1,h=w;n>=v&&a("invalid-input"),c=u(e.charCodeAt(n++)),(c>=w||c>F((x-y)/s))&&a("overflow"),y+=c*s,d=h<=b?_:h>=b+T?T:h-b,!(c<d);h+=w)p=w-d,s>F(x/p)&&a("overflow"),s*=p;t=m.length+1,b=f(y-o,t,0==o),F(y/t)>x-g&&a("overflow"),g+=F(y/t),y%=t,m.splice(y++,0,g)}return l(m)}function m(e){var t,i,r,n,o,s,h,l,u,p,m,v,y,g,b,E=[];for(e=c(e),v=e.length,t=C,i=0,o=M,s=0;s<v;++s)(m=e[s])<128&&E.push(O(m));for(r=n=E.length,n&&E.push(A);r<v;){for(h=x,s=0;s<v;++s)(m=e[s])>=t&&m<h&&(h=m);for(y=r+1,h-t>F((x-i)/y)&&a("overflow"),i+=(h-t)*y,t=h,s=0;s<v;++s)if(m=e[s],m<t&&++i>x&&a("overflow"),m==t){for(l=i,u=w;p=u<=o?_:u>=o+T?T:u-o,!(l<p);u+=w)b=l-p,g=w-p,E.push(O(d(p+b%g,0))),l=F(b/g);E.push(O(d(l,0))),o=f(i,y,r==n),i=0,++r}++i,++t}return E.join("")}function v(e){return h(e,function(e){return D.test(e)?p(e.slice(4).toLowerCase()):e})}function y(e){return h(e,function(e){return k.test(e)?"xn--"+m(e):e})}var g=("object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType,"object"==typeof r&&r);var b,x=2147483647,w=36,_=1,T=26,E=38,S=700,M=72,C=128,A="-",D=/^xn--/,k=/[^\x20-\x7E]/,I=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},R=w-_,F=Math.floor,O=String.fromCharCode;b={version:"1.4.1",ucs2:{decode:c,encode:l},decode:p,encode:m,toASCII:y,toUnicode:v},void 0!==(n=function(){return b}.call(t,i,t,e))&&(e.exports=n)}()}).call(t,i(62)(e),i(1))},function(e,t,i){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,i){"use strict";t.decode=t.parse=i(292),t.encode=t.stringify=i(293)},function(e,t,i){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,i,o){t=t||"&",i=i||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var h=1e3;o&&"number"==typeof o.maxKeys&&(h=o.maxKeys);var c=e.length;h>0&&c>h&&(c=h);for(var l=0;l<c;++l){var u,d,f,p,m=e[l].replace(s,"%20"),v=m.indexOf(i);v>=0?(u=m.substr(0,v),d=m.substr(v+1)):(u=m,d=""),f=decodeURIComponent(u),p=decodeURIComponent(d),r(a,f)?n(a[f])?a[f].push(p):a[f]=[a[f],p]:a[f]=p}return a};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,i){"use strict";function r(e,t){if(e.map)return e.map(t);for(var i=[],r=0;r<e.length;r++)i.push(t(e[r],r));return i}var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,i,s){return t=t||"&",i=i||"=",null===e&&(e=void 0),"object"==typeof e?r(a(e),function(a){var s=encodeURIComponent(n(a))+i;return o(e[a])?r(e[a],function(e){return s+encodeURIComponent(n(e))}).join(t):s+encodeURIComponent(n(e[a]))}).join(t):s?encodeURIComponent(n(s))+i+encodeURIComponent(n(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=Object.keys||function(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.push(i);return t}},function(e,t,i){"use strict";nb.THREE.TextureUtils=function(){function e(){for(var e in t)if(0!==t[e].callbacks.length)return;i=!0}var t={},i=!1;nb.THREE.TextureUtils={isLoaded:function(){return i},loadTexture:function(r,n){if(void 0===t[r])t[r]={callbacks:[n]},i=!1,THREE.ImageUtils.loadTexture(r,{},function(i){t[r].texture=i;for(var n=t[r].callbacks;;){var o=n.pop();if(void 0===o)break;nb.THREE.TextureUtils.loadTexture(r,o),e()}});else if(void 0===t[r].texture)t[r].callbacks.push(n);else{var o=t[r].texture;n.apply(null,[o])}}}},nb.THREE.TextureUtils()},function(e,t,i){"use strict";(function(t){function r(e){a=new THREE.MeshBasicMaterial({map:THREE.ImageUtils.loadTexture("assets/textures/bg_2.jpg")}),this.system=e,this.observeArray=[],this.tipControlor=h}function n(e,t){for(var i=0;i<t.length;i++)if(""!==t[i]&&-1!==e.name.indexOf(t[i]))return!0;return!1}function o(){for(var e=this.parent,t=e;;)if(!(t=t.parent)||t instanceof THREE.Scene)break;this.showByType=function(e){switch(e){case THREE.OBSERVE_TYPE_HIDE:this.showBrothers();break;case THREE.OBSERVE_TYPE_HIGH_LIGHT:this.stopHighLightBrothers();break;case THREE.OBSERVE_TYPE_EDGES:this.setBrothersFromEdges();break;case THREE.OBSERVE_TYPE_EDGES_NEW:this.setBrothersFromEdges2()}},this.hideByType=function(e){switch(e){case THREE.OBSERVE_TYPE_HIDE:this.hideBrothers();break;case THREE.OBSERVE_TYPE_HIGH_LIGHT:this.highLightBrothers();break;case THREE.OBSERVE_TYPE_EDGES:this.setBrothersToEdges();break;case THREE.OBSERVE_TYPE_EDGES_NEW:this.setBrothersToEdges2()}},this.overByType=function(e){switch(e){case THREE.OBSERVE_TYPE_HIDE:this.over_hide();break;case THREE.OBSERVE_TYPE_HIGH_LIGHT:this.over_high_light()}},this.outByType=function(e){switch(e){case THREE.OBSERVE_TYPE_HIDE:this.out_hide();break;case THREE.OBSERVE_TYPE_HIGH_LIGHT:this.out_high_light()}},this.setBrothersToEdges2=function(){function i(e){if(e!=o){if(e instanceof THREE.Mesh){n(e)?(e.visible=!0,void 0===e.__edges__&&(e.__edges__=new THREE.EdgesHelper(e,THREE.EAGES_LINE_COLOR)),t.remove(e.__edges__)):(e.visible=!1,void 0===e.__edges__&&(e.__edges__=new THREE.EdgesHelper(e,THREE.EAGES_LINE_COLOR)),t.add(e.__edges__))}if(e.children.length>0)for(var a=0;a<e.children.length;a++)i(e.children[a])}else r(o)}function r(e){if(e instanceof THREE.Mesh&&(e.visible=!0,void 0===e.__edges__&&(e.__edges__=new THREE.EdgesHelper(e,THREE.EAGES_LINE_COLOR)),t.remove(e.__edges__)),e.children.length>0)for(var i=0;i<e.children.length;i++)r(e.children[i])}function n(e){function t(e){if(e.children.length>0)for(var r=0;r<e.children.length;r++){var n=e.children[r];if(n==o){i=!0;break}t(n)}}var i=!1;return t(e),i}for(var o=this,a=this,s=e;;){if(s instanceof THREE.Scene)break;a=s,s=s.parent}i(a)},this.setBrothersFromEdges2=function(){function i(e){if(e instanceof THREE.Mesh&&(e.visible=!0,void 0===e.__edges__&&(e.__edges__=new THREE.EdgesHelper(e,THREE.EAGES_LINE_COLOR)),t.remove(e.__edges__)),e.children.length>0)for(var r=0;r<e.children.length;r++)i(e.children[r])}for(var r=this,n=e;;){if(n instanceof THREE.Scene)break;r=n,n=n.parent}i(r)},this.setBrothersToEdges=function(){function i(e){if(e instanceof THREE.Mesh){if(r.combineMeshes&&-1!==r.combineMeshes.indexOf(e))return;if(!0===e.ref)return;e.visible=!1,void 0===e.__edges__&&(e.__edges__=new THREE.EdgesHelper(e,THREE.EAGES_LINE_COLOR)),t.add(e.__edges__)}else for(var n=0;n<e.children.length;n++)i(e.children[n])}for(var r=this,n=e;;){for(var o=0;o<n.children.length;o++){var a=n.children[o];a!=r&&i(a)}if(n instanceof l||n instanceof THREE.Scene)break;r=n,n=n.parent}},this.setBrothersFromEdges=function(){function i(e){if(e instanceof THREE.Mesh)void 0===e.combineMeshes&&(e.visible=!0,e.__edges__&&t.remove(e.__edges__));else for(var r=0;r<e.children.length;r++)i(e.children[r])}for(var r=e;;){for(var n=0;n<r.children.length;n++){i(r.children[n])}if(r instanceof l||r instanceof THREE.Scene)break;r,r=r.parent}},this.highLightBrothers=function(){for(var t=0;t<e.children.length;t++){var i=e.children[t];i!=this&&i.material&&i.material!=a&&(i._defaultMaterial_=i.material,i.material=a)}},this.stopHighLightBrothers=function(){for(var t=0;t<e.children.length;t++){var i=e.children[t];i.material&&i._defaultMaterial_&&(i.material=i._defaultMaterial_,delete i._defaultMaterial_)}},this.over_hide=function(){var e=this;this.parent.children.forEach(function(t){t!=e&&TweenMax.to(t,.5,{alpha:.25})})},this.out_hide=function(){var e=this;this.parent.children.forEach(function(t){t!=e&&TweenMax.to(t,.5,{alpha:1})})},this.over_high_light=function(){},this.out_high_light=function(){},this.hideBrothers=function(){for(var t=0;t<e.children.length;t++){var i=e.children[t];i!=this&&(i.material?(0==i.alpha&&(i.visible=!1),i.material.alphaTest=.02,TweenMax.to(i,1,{alpha:0,onComplete:function(e){e.visible=!1},onCompleteParams:[i]})):i.visible=!1)}},this.showBrothers=function(){for(var t=0;t<e.children.length;t++){var i=e.children[t];i.visible=!0,TweenMax.to(i,1,{alpha:1})}}}void 0===t.THREE&&(t.THREE={}),t.THREE.OBSERVE_TYPE_HIDE=1,t.THREE.OBSERVE_TYPE_HIGH_LIGHT=2,t.THREE.OBSERVE_TYPE_NONE=3,t.THREE.OBSERVE_TYPE_EDGES=4,t.THREE.OBSERVE_TYPE_EDGES_NEW=5,t.THREE.EAGES_LINE_COLOR=16777215;var a,s=i(77),h=i(181),c=i(185),l=i(80);Object.defineProperty(r.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled=e}}),r.prototype.parseScene=function(e,t){if(t){var i=this.system.scene,r=this.system.controls,a=(this.system.camera,this.system.frame2D),l=e.children,u=this.system,d=this,f=a.addObserveButton();if(t.type=void 0==t.type?THREE.OBSERVE_TYPE_HIDE:t.type,t.lineColor=void 0==t.lineColor?16777215:t.lineColor,void 0==t.level){if(t.level=0,this.enabled=void 0===t.enabled||t.enabled,void 0==t.filter&&(t.filter="observe"),void 0===t.interactive&&(t.interactive=!0),void 0===t.mouseEnabled&&(t.mouseEnabled=!0),void 0===t.meshClick&&(t.meshClick=!0),void 0===t.ifObserveClose&&(t.ifObserveClose=!0),t.filterArray=t.filter.split("|"),void 0===a._isUseObserve_){a._isUseObserve_=!0,f.toggle=!1,f.addEventListener(TouchEvent.TAP,function(e){null==d._currentObserveObject&&(f.toggle=!f.toggle,f.toggle?h.showAllTips(u):h.hideAllTips(u))});var p=$('.timeline-time[goto="'+a.name+'"]');p[0]&&$(p[0]).click(function(){a.execCloseFunc()}),c.addEventListener(nb.event.OBSERVE,function(e){for(var t=0;t<d.observeArray.length;t++){var i=d.observeArray[t];if(-1!==i.name.indexOf(e.data.name)){i.tip.emit(s.gesture.TAP),flag=!0;break}}t==d.observeArray.length&&a.execCloseFunc()}),a.addEventListener("closeObserve",function(e){console.log("xx")})}var m=instance.findDataByLabel(a.name);if(m&&m.items)for(var v=m.items,y=0;y<v.length;y++){var g=v[y];if(g.click===nb.event.OBSERVE&&-1!=g.clickParams.name.indexOf("|")){var b=g.clickParams.name.split("|"),x=null,w=[];if(e.traverse(function(e){for(var t=0;t<b.length;t++)if(e.name===b[t]){if(null==x)x=new THREE.Box3,x.setFromObject(e);else{var i=new THREE.Box3;i.setFromObject(e),x.union(i)}w.push(e)}}),null!=x){console.log(x);var _=x.max.x-x.min.x,T=x.max.y-x.min.y,E=x.max.z-x.min.z,S=new THREE.BoxGeometry(_,T,E),M=new THREE.Mesh(S,new THREE.LineBasicMaterial({}));M.visible=!1;var C=(x.max.x+x.min.x)/2,A=(x.max.y+x.min.y)/2,D=(x.max.z+x.min.z)/2;M.position.set(C,A,D),M.combineMeshes=w,M.ref=!0,e.add(M),M.name=g.clickParams.name}}}}for(var k="",I="",P=l.length,y=0;y<P;y++){var R=l[y];if(n(R,t.filterArray)){for(var F,O=function(){if((1!==arguments.length||!1!==t.mouseEnabled)&&!1!==d._enabled){if(this instanceof h)e=this.bindTarget;else var e=this;if(d._currentObserveObject!=e){if(BioController.dispatchEvent({type:"observeSomeone",name:e.name}),null!=d._currentObserveObject)return console.log("+++++"),r.lookAtTarget(e),d._currentObserveObject.showByType(t.type),d._currentObserveObject=e,void e.hideByType(t.type);f.toggle&&h.hideAllTips(u),f.hide(),t.ifObserveClose,r.lookAtTarget(e,{savePos:!0}),d._currentObserveObject=e;var n=(e.parent,r.rotateRangeY);a.addCloseFunc(function(){r.rotateRangeY=n,d._currentObserveObject=null,r.lookAtTarget(i),e.showByType(t.type),f.toggle&&h.showAllTips(u),f.show()}),e.tip.hideTip(),e.hideByType(t.type)}}},L=R.name.split(" "),B=0;B<L.length&&void 0==(F=instance.info[L[B]]);B++);if(void 0==F){console.error(""+R.name+"");for(var N=R.name.split(" "),B=0;B<N.length;B++)for(var U=0;U<t.filterArray.length;U++)-1!==N[B].indexOf(t.filterArray[U])&&(k+=N[B]+":{name:''},\n",I+="{name:'', click:nb.event.OBSERVE, clickParams:{name:'"+N[B]+"'}},\n")}else{if(""===F.name)continue;R.scientificName=F.name}d.observeArray.push(R),R.tip=a.createObserveText(R,R.scientificName||"",F&&F.offset||null),-1!==R.name.indexOf("|")&&(R.tip.renderable=!1,R.tip.visible=!1),o.apply(R),t.interactive&&(t.meshClick&&s.addGesture(R,s.gesture.TAP,O),R.tip.addEventListener(TouchEvent.TAP,O),R.addEventListener(MouseEvent.MOUSE_OVER,function(e){null!=d._currentObserveObject||f.toggle||!1!==t.mouseEnabled&&(this.outByType(t.type),this.tip.showTip())}),R.addEventListener(MouseEvent.MOUSE_OUT,function(e){null!=d._currentObserveObject||f.toggle||!1!==t.mouseEnabled&&(this.outByType(t.type),this.tip.hideTip())}))}t.level++,this.parseScene(R,t)}""!=k&&(console.log(k.substr(0,k.length-2)),console.log(I.substr(0,I.length-2)))}},e.exports=r}).call(t,i(1))},function(e,t,i){"use strict";function r(e){PIXI.Container.call(this);var t=new PIXI.Graphics;n(t),this.addChild(t);var i=new PIXI.Graphics;n(i),this.addChild(i),this.leftSelector=t,this.rightSelector=i,this.addEventListener("added",this.updatePosition);var r=this;window.addEventListener("resize",function(){setTimeout(r.updatePosition.bind(r),0)}),this.selectorObjects=[],this.system=e,this.frame2D=e.frame2D,this.intersectObj=null,this.hangOnTriggerTime=3,this.hangOnTimer=0}function n(e){e.clear(),e.lineStyle(0,1),e.beginFill(a,s),e.drawCircle(0,0,h)}var o=i(182),a=16777215,s=.3,h=13;r.prototype=Object.create(PIXI.Container.prototype),r.constructor=r,r.prototype.updatePosition=function(){if(this.parent){!1===this.hasEventListener("update")&&this.frame2D.addEventListener("update",this.render.bind(this));var e=BiologyMain.W,t=BiologyMain.H,i={x:e/4,y:t/2},r={x:e/4*3,y:t/2};i=this.parent.toLocal(i),r=this.parent.toLocal(r),this.leftSelector.x=i.x,this.leftSelector.y=i.y,this.rightSelector.x=r.x,this.rightSelector.y=r.y,this.raycaster=new THREE.Raycaster}},r.prototype.setPercent=function(e){e>1&&(e=1),e<0&&(e=0);for(var t=[this.leftSelector,this.rightSelector],i=0;i<t.length;i++){var r=t[i];n(r);var o=2/180*Math.PI,a=h+4,s=h+8;r.moveTo(Math.cos(0)*a,Math.sin(0)*a);for(var c=e*Math.PI*2,l=0;l<c;l+=o)r.lineTo(Math.cos(l)*a,Math.sin(l)*a);for(l=c;l>0;l-=o)r.lineTo(Math.cos(l)*s,Math.sin(l)*s)}},r.prototype.registerListener=function(e,t,i){-1===this.selectorObjects.indexOf(e)&&this.selectorObjects.push(e),e.addEventListener(t,i)},r.prototype.render=function(e){if(!1!==this.system.renderable){var t=this.system.leftCamera,i=this.raycaster,r={x:0,y:0};i.setFromCamera(r,t);var n=i.intersectObjects(this.selectorObjects,!0),a=n[0];if(!a)return void(this.intersectObj&&(this.intersectObj.dispatchEvent({type:o.EYES_OUT}),this.intersectObj=null,this.hangOnTimer=0,this.setPercent(0)));var s=a.object;if(null==this.intersectObj)this.intersectObj=s,s.dispatchEvent({type:o.EYES_OVER}),this.hangOnTimer=0;else if(this.intersectObj===s){if(-1!=this.hangOnTimer){this.hangOnTimer+=e.step/1e3;var h=this.hangOnTimer/this.hangOnTriggerTime;h>1&&(this.hangOnTimer=-1,s.dispatchEvent({type:o.EYES_HANG_ON})),this.setPercent(h)}}else this.intersectObj!==s&&(this.intersectObj.dispatchEvent({type:o.EYES_OUT}),this.intersectObj=s,s.dispatchEvent({type:o.EYES_OVER}))}},r.prototype.removeListener=function(e,t,i){if(e.removeEventListener(t,i),!1===e.hasEventListenter(t)){var r=this.selectorObjects.indexOf(e);-1!=r&&this.selectorObjects.splice(r,1)}},e.exports=r},function(e,t,i){"use strict";function r(){PIXI.Container.call(this),this.shape=new PIXI.Graphics,this.addChild(this.shape)}var n=i(79);r.prototype=Object.create(PIXI.Container.prototype),r.constructor=r,r.prototype.startListener=function(e){this.isMove=!1,TweenMax.killTweensOf(this.shape.scale),TweenMax.killTweensOf(this),this.globalPos=this.toGlobal({x:0,y:0});var t=n.canvasPoint2DisPoint(e.data.global);this.touchDownAngle=this.startAngle=Math.atan2(this.globalPos.y-t.y,this.globalPos.x-t.x),this.totalAngle=0,this.addEventListener(TouchEvent.TOUCH_MOVE,this.touchMove)},r.prototype.touchMove=function(e){!1===this.isMove&&(this.isMove=!0,this.shape.scale.x=this.shape.scale.y=.001,TweenMax.to(this.shape.scale,1,{x:1,y:1,ease:Elastic.easeOut})),this.tempGlobalPos={x:e.data.global.x,y:e.data.global.y},this.render(e.data.global,100)},r.prototype.render=function(e,t){var i=Math.atan2(this.globalPos.y-e.y,this.globalPos.x-e.x),r=i-this.startAngle;r>Math.PI?r-=2*Math.PI:r<-Math.PI&&(r=2*Math.PI+r),this.totalAngle+=r,this.totalAngle%=2*Math.PI,this.startAngle=i,this.shape.clear();var n=NBPoint.distance(e,this.globalPos);if(this.shape.beginFill(16603276,.3),this.shape.moveTo(0,0),this.totalAngle>0)for(var o=0;o<this.totalAngle;o+=.02){var a=this.touchDownAngle+o+Math.PI;this.shape.lineTo(Math.cos(a)*n,Math.sin(a)*n)}else for(var o=0;o>this.totalAngle;o-=.02){var a=this.touchDownAngle+o+Math.PI;this.shape.lineTo(Math.cos(a)*n,Math.sin(a)*n)}this.shape.lineStyle(3,10066329,.5),this.shape.beginFill(16777215,.2),this.shape.drawCircle(0,0,t),this.shape.endFill()},r.prototype.end=function(){var e=this,t=this.totalAngle;if(0===t)e.parent.removeChild(e);else var i=TweenMax.to(this,.6,{onUpdate:function(){var r=1-i.progress();e.render(e.tempGlobalPos||e.globalPos,100*Back.easeOut.getRatio(r)),e.totalAngle=t*Back.easeOut.getRatio(r),e.totalAngle>2*Math.PI?e.totalAngle=2*Math.PI-1e-5:e.totalAngle<2*-Math.PI&&(e.totalAngle=2*-Math.PI+1e-5)},onComplete:function(){e.parent&&e.parent.removeChild(e)}});this.removeEventListener(TouchEvent.TOUCH_MOVE,this.touchMove)},e.exports=r},function(e,t,i){"use strict";var r=i(172),n=function(e,t){function i(e){!1!==d.active&&!1!==d.enabled&&(window.removeEventListener("keydown",i),v=m,m===f.NONE&&(e.keyCode!==d.keys[f.ROTATE]||d.noRotate?e.keyCode!==d.keys[f.ZOOM]||d.noZoom?e.keyCode!==d.keys[f.PAN]||d.noPan||(m=f.PAN):m=f.ZOOM:m=f.ROTATE))}function n(e){!1!==d.active&&!1!==d.enabled&&(m=v,window.addEventListener("keydown",i,!1))}function o(e){!1!==d.active&&!1!==d.enabled&&(e.preventDefault(),e.stopPropagation(),m===f.NONE&&(m=e.button),m!==f.ROTATE||d.noRotate?m!==f.ZOOM||d.noZoom?m!==f.PAN||d.noPan||(M.copy(I(e.pageX,e.pageY)),C.copy(M)):(_.copy(I(e.pageX,e.pageY)),T.copy(_)):(b.copy(P(e.pageX,e.pageY)),g.copy(b)),document.addEventListener("mousemove",a,!1),document.addEventListener("mouseup",s,!1),d.dispatchEvent(D))}function a(e){!1!==d.active&&!1!==d.enabled&&(r.isDragging()||(e.preventDefault(),e.stopPropagation(),m!==f.ROTATE||d.noRotate?m!==f.ZOOM||d.noZoom?m!==f.PAN||d.noPan||C.copy(I(e.pageX,e.pageY)):T.copy(I(e.pageX,e.pageY)):(g.copy(b),b.copy(P(e.pageX,e.pageY)))))}function s(e){!1!==d.active&&!1!==d.enabled&&(e.preventDefault(),e.stopPropagation(),m=f.NONE,document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",s),d.dispatchEvent(k))}function h(e){if(!1!==d.active&&!1!==d.enabled){e.preventDefault(),e.stopPropagation();var t=0;e.wheelDelta?t=e.wheelDelta/40:e.detail&&(t=-e.detail/3),t>2?t=2:t<-2&&(t=-2),_.y+=.01*t,d.dispatchEvent(D),d.dispatchEvent(k)}}function c(e){if(!1!==d.active&&!1!==d.enabled&&void 0!==e.touches){var t=e.changedTouches[0];switch(e.touches.length){case 1:V[t.identifier]={moveCurr:P(e.touches[0].pageX,e.touches[0].pageY),movePrev:P(e.touches[0].pageX,e.touches[0].pageY)},m=f.TOUCH_ROTATE;break;case 2:m=f.TOUCH_ZOOM_PAN;var i=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY;S=E=Math.sqrt(i*i+r*r);var n=(e.touches[0].pageX+e.touches[1].pageX)/2,o=(e.touches[0].pageY+e.touches[1].pageY)/2;M.copy(I(n,o)),C.copy(M);break;default:m=f.NONE}d.dispatchEvent(D)}}function l(e){if(!1!==d.active&&!1!==d.enabled&&!r.isDragging()&&void 0!==e.touches){var t=e.changedTouches[0];switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:var i=V[t.identifier];i&&(g.copy(i.moveCurr),b.copy(P(e.touches[0].pageX,e.touches[0].pageY)),i.movePrev.copy(g),i.moveCurr.copy(b));break;case 2:var i=V[0];i&&(V[0]={moveCurr:P(e.touches[0].pageX,e.touches[0].pageY),movePrev:P(e.touches[0].pageX,e.touches[0].pageY)});var n=e.touches[0].pageX-e.touches[1].pageX,o=e.touches[0].pageY-e.touches[1].pageY;S=Math.sqrt(n*n+o*o);var a=(e.touches[0].pageX+e.touches[1].pageX)/2,s=(e.touches[0].pageY+e.touches[1].pageY)/2;C.copy(I(a,s));break;default:m=f.NONE}}}function u(e){if(!1!==d.active&&!1!==d.enabled&&void 0!==e.touches){var t=e.changedTouches[0];switch(delete V[t.identifier],e.touches.length){case 1:break;case 2:E=S=0;var i=(e.touches[0].pageX+e.touches[1].pageX)/2,r=(e.touches[0].pageY+e.touches[1].pageY)/2;C.copy(I(i,r)),M.copy(C)}m=f.NONE,d.dispatchEvent(k)}}var d=this,f={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4};this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.active=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=6.5,this.zoomSpeed=1.01,this.panSpeed=.3,this.zoomValue=1,this.minZoom=.8,this.maxZoom=1.2,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.lockX=!1,this.lockY=!1,this.keys=[65,83,68],this.target=new THREE.Vector3;var p=new THREE.Vector3,m=f.NONE,v=f.NONE,y=new THREE.Vector3,g=new THREE.Vector2,b=new THREE.Vector2,x=new THREE.Vector3,w=0,_=new THREE.Vector2,T=new THREE.Vector2,E=0,S=0,M=new THREE.Vector2,C=new THREE.Vector2;this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone();var A={type:"change"},D={type:"start"},k={type:"end"};this.resetZoom=function(){this.zoomValue=1,this.rotateRangeY=0,_=new THREE.Vector2,T=new THREE.Vector2},this.setZoom=function(e,t){this.minZoom=e,this.maxZoom=t},this.handleResize=function(){if(this.domElement===document)this.screen.left=0,this.screen.top=0,this.screen.width=window.innerWidth,this.screen.height=window.innerHeight;else{var e=this.domElement.getBoundingClientRect(),t=this.domElement.ownerDocument.documentElement;this.screen.left=e.left+window.pageXOffset-t.clientLeft,this.screen.top=e.top+window.pageYOffset-t.clientTop,this.screen.width=e.width,this.screen.height=e.height}},this.bindCameraToPos=function(e){this.bindCameraPos=e},this.bindLookAtTargetToPos=function(e){this.lookAtTargetPos=e},this.handleEvent=function(e){"function"==typeof this[e.type]&&this[e.type](e)},this.setCameraScenePos=function(e){this.object.position.copy(e),this.object.scenePos=e.clone(),this.object.sceneRota=this.object.rotation.clone(),this.object.upPos=this.object.up.clone(),this.object.lookAtPos=this.target.clone()},this.lookAtTarget=function(e,t){var i=new THREE.Vector3;t=t||{};var r=t.timer||1.5,n=t.ease||Sine.easeInOut;if(e instanceof THREE.Scene){var o=this.object.scenePos||new THREE.Vector3(500,400,250);if(TweenMax.to(this.object.position,r,{ease:n,x:o.x,y:o.y,z:o.z}),this.object.sceneRota){var a=this.object.sceneRota;TweenMax.to(this.object.rotation,r,{ease:n,x:a.x,y:a.y,z:a.z});var s=this.object.upPos;TweenMax.to(this.object.up,r,{ease:n,x:s.x,y:s.y,z:s.z}),i.copy(this.object.lookAtPos)}}else if(e instanceof THREE.Object3D){var h,c=new THREE.Box3;c.setFromObject(e),h=c.getBoundingSphere(),!0===t.savePos&&this.setCameraScenePos(d.object.position);var l=h.center,u=h.radius;i.set(l.x,l.y,l.z);var f=d.object.position.clone();this.object.scenePos&&(f=this.object.scenePos.clone());var p=i.clone().sub(f).length(),m=d.object.fov/2,v=new THREE.Vector3;e.localToWorld(v);var y=u/Math.sin(m/180*Math.PI),g=(new THREE.Vector3).lerpVectors(i,f,y/p);TweenMax.to(d.object.position,r,{ease:n,x:g.x,y:g.y,z:g.z})}else e instanceof THREE.Vector3&&i.copy(e);TweenMax.to(this.target,r,{ease:n,x:i.x,y:i.y,z:i.z,onComplete:t.onComplete})},this.isLookingAtTarget=function(){return TweenMax.isTweening(this.target)};var I=function(){var e=new THREE.Vector2;return function(t,i){return e.set((t-d.screen.left)/d.screen.width,(i-d.screen.top)/d.screen.height),e}}(),P=function(){var e=new THREE.Vector2;return function(t,i){return e.set((t-.5*d.screen.width-d.screen.left)/(.5*d.screen.width),(d.screen.height+2*(d.screen.top-i))/d.screen.width),e}}(),R=0;this.setRotateType=function(e,t){R=e,t=t||{},0==R||(1==R?(F=0,L=void 0!==t.maxRotaX?t.maxRotaX:.2,B=void 0!==t.maxRotaY?t.maxRotaY:.2,delete y.offsetX):2==R&&(N=void 0===t.maxRangeY?1:t.maxRangeY,U=void 0===t.minRangeY?-1:t.minRangeY,H=void 0!==t.autoRotate&&t.autoRotate,j=void 0!==t.vr&&t.vr))};var F=0,O=0,L=.2,B=.2,N=1,U=-1,H=!1,j=!1,z=0,G=0;this.rotateRangeY=0,this.rotateCamera_mouse_offsetVec2=new THREE.Vector2,this.rotateCamera=function(){var t,i=new THREE.Vector3,r=new THREE.Quaternion,n=new THREE.Vector3,o=new THREE.Vector3,a=new THREE.Vector3,s=new THREE.Vector3,h=0,c=0,l=0;return function(){var u=b.x-g.x,f=b.y-g.y;if(isNaN(u)&&(u=0),isNaN(f)&&(f=0),this.rotateCamera_mouse_offsetVec2.set(u,f),!0===d.lockX&&(u=0),!0===d.lockY&&(f=0),!TweenMax.isTweening(e)){if(0==R)s.set(u,f,0),t=s.length(),t?(y.copy(d.object.position).sub(d.target),n.copy(y).normalize(),o.copy(d.object.up).normalize(),a.crossVectors(o,n).normalize(),o.setLength(f),a.setLength(u),s.copy(o.add(a)),i.crossVectors(s,y).normalize(),t*=d.rotateSpeed,r.setFromAxisAngle(i,t),y.applyQuaternion(r),d.object.up.applyQuaternion(r),x.copy(i),w=t):!d.staticMoving&&w&&(w*=Math.sqrt(1-d.dynamicDampingFactor),y.copy(d.object.position).sub(d.target),r.setFromAxisAngle(x,w),y.applyQuaternion(r),d.object.up.applyQuaternion(r));else if(1==R){var p=d.object.position.clone();p.sub(d.target).length();if(0==u&&0==f)return;u*=this.rotateSpeed,f*=this.rotateSpeed,F+=-u,F>L?F=L:F<-L&&(F=-L),O+=-f,O>B?O=B:O<-B&&(O=-B),y.copy(d.object.position).sub(d.target),void 0==y.offsetX&&(y.offsetX=0,y.offsetY=0),c=y.offsetX;y.offsetX+=.15*(F-y.offsetX),y.applyAxisAngle(new THREE.Vector3(0,1,0),y.offsetX-c),l=y.offsetY,y.offsetY+=.15*(O-y.offsetY),y.applyAxisAngle(new THREE.Vector3(1,0,0),-(y.offsetY-l))}else if(2==R){!0===j?s.set(u,-f,0):s.set(u,f,0),t=s.length(),t?(c=-u*d.rotateSpeed,l=-f*d.rotateSpeed):(c*=Math.sqrt(1-d.dynamicDampingFactor),l*=Math.sqrt(1-d.dynamicDampingFactor)),this.rotateRangeY+=l,this.rotateRangeY>N?(this.rotateRangeY-=l,l=0):this.rotateRangeY<U&&(this.rotateRangeY-=l,l=0);var m=d.target;if(y.subVectors(d.object.position,m),r.setFromAxisAngle(new THREE.Vector3(0,1,0),c),y.applyQuaternion(r),0!=l&&(i=(new THREE.Vector3).crossVectors(y,new THREE.Vector3(0,1,0)),i.normalize(),r.setFromAxisAngle(i,l),y.applyQuaternion(r)),Math.abs(c)<1e-4&&Math.abs(l)<1e-4){if(++h>=120&&!0===H){r.setFromAxisAngle(new THREE.Vector3(0,1,0),.001),y.applyQuaternion(r);var v=(N-U)/4.1;if(d.lockY&&(v=0),120===h){var _=(N+U)/2;z=_>this.rotateRangeY?Math.PI:0,G=Math.cos(z)*v}else{z+=.003;var T=Math.cos(z)*v,E=T-G;G=T,i=(new THREE.Vector3).crossVectors(y,new THREE.Vector3(0,1,0)),i.normalize(),r.setFromAxisAngle(i,E),y.applyQuaternion(r),this.rotateRangeY+=E}}}else h=0}g.copy(b)}}}(),this.zoomCamera=function(){var e;if(m===f.TOUCH_ZOOM_PAN){if(e=E/S,E=S,this.zoomValue*=e,this.zoomValue<this.minZoom&&e<1){this.zoomValue/=e;var t=50*Math.abs(this.zoomValue-this.minZoom);t<1&&(t=1),e=Math.pow(e,1/t),isNaN(e)&&(e=1),this.zoomValue*=e}else this.zoomValue>this.maxZoom&&e>1&&(this.zoomValue/=e,t=25*Math.abs(this.zoomValue-this.minZoom),t<1&&(t=1),e=Math.pow(e,1/t),isNaN(e)&&(e=1),this.zoomValue*=e);y.multiplyScalar(e)}else if(1!==(e=1+(T.y-_.y)*d.zoomSpeed)&&e>0){if(this.zoomValue*=e,this.zoomValue<this.minZoom){var i=.3/(this.zoomValue/this.minZoom),r=(this.minZoom-this.zoomValue)*i+this.zoomValue;this.zoomValue/=e;var n=r/this.zoomValue;this.zoomValue*=n,e=n}else this.zoomValue>this.maxZoom&&(i=.3/(this.zoomValue/this.maxZoom),r=(this.maxZoom-this.zoomValue)*i+this.zoomValue,this.zoomValue/=e,n=r/this.zoomValue,this.zoomValue*=n,e=n);y.multiplyScalar(e),d.staticMoving?_.copy(T):_.y+=(T.y-_.y)*this.dynamicDampingFactor}else if(this.zoomValue<this.minZoom){var o=this.zoomValue;this.zoomValue=.15*(this.minZoom-this.zoomValue)+this.zoomValue,e=this.zoomValue/o,y.multiplyScalar(e)}else this.zoomValue>this.maxZoom&&(o=this.zoomValue,this.zoomValue=.15*(this.maxZoom-this.zoomValue)+this.zoomValue,e=this.zoomValue/o,y.multiplyScalar(e))},this.panCamera=function(){var e=new THREE.Vector2,t=new THREE.Vector3,i=new THREE.Vector3;return function(){e.copy(C).sub(M),e.lengthSq()&&(e.multiplyScalar(y.length()*d.panSpeed),i.copy(y).cross(d.object.up).setLength(e.x),i.add(t.copy(d.object.up).setLength(e.y)),d.object.position.add(i),d.target.add(i),d.staticMoving?M.copy(C):M.add(e.subVectors(C,M).multiplyScalar(d.dynamicDampingFactor)))}}(),this.checkDistances=function(){d.noZoom&&d.noPan||(y.lengthSq()>d.maxDistance*d.maxDistance&&d.object.position.addVectors(d.target,y.setLength(d.maxDistance)),y.lengthSq()<d.minDistance*d.minDistance&&d.object.position.addVectors(d.target,y.setLength(d.minDistance)))},this.update=function(){if(this.bindCameraPos instanceof THREE.Vector3){var t=new THREE.Vector3;t.subVectors(this.bindCameraPos,this.object.position),t.multiplyScalar(.07),this.object.position.add(t)}if(this.lookAtTargetPos instanceof THREE.Vector3){var t=new THREE.Vector3;t.subVectors(this.lookAtTargetPos,this.target),t.multiplyScalar(.07),this.target.add(t)}y.subVectors(d.object.position,d.target),TweenMax.isTweening(e)||this.isLookingAtTarget()||(d.noRotate||d.rotateCamera(),d.noZoom||d.zoomCamera(),d.noPan||d.panCamera()),d.object.position.addVectors(d.target,y),d.checkDistances(),d.object.lookAt(d.target),p.distanceToSquared(d.object.position)>1e-6&&(d.dispatchEvent(A),p.copy(d.object.position))},this.reset=function(){m=f.NONE,v=f.NONE,d.target.copy(d.target0),d.object.position.copy(d.position0),d.object.up.copy(d.up0),y.subVectors(d.object.position,d.target),d.object.lookAt(d.target),d.dispatchEvent(A),p.copy(d.object.position)};var V={};this.domElement.addEventListener("contextmenu",function(e){e.preventDefault()},!1),this.domElement.addEventListener("mousedown",o,!1),this.domElement.addEventListener("mousewheel",h,!1),this.domElement.addEventListener("DOMMouseScroll",h,!1),this.domElement.addEventListener("touchstart",c,!1),this.domElement.addEventListener("touchend",u,!1),this.domElement.addEventListener("touchmove",l,!1),window.addEventListener("keydown",i,!1),window.addEventListener("keyup",n,!1),this.handleResize(),this.update(),this.destoryListener=function(){this.domElement.removeEventListener("mousedown",o,!1),this.domElement.removeEventListener("mousewheel",h,!1),this.domElement.removeEventListener("DOMMouseScroll",h,!1),this.domElement.removeEventListener("touchstart",c,!1),this.domElement.removeEventListener("touchend",u,!1),this.domElement.removeEventListener("touchmove",l,!1),window.removeEventListener("keydown",i,!1),window.removeEventListener("keyup",n,!1)}};n.prototype=Object.create(THREE.EventDispatcher.prototype),n.prototype.constructor=n,e.exports=n},function(e,t,i){"use strict";(function(t){function r(){var e=new THREE.OBJMTLLoader;this.loader=e}i(300);var n=i(41),o=i(80);r.cache={},r.prototype.load=function(e){var t=e.url,i=n.config.MODEL_URI_PREFIX+(e.relativePath||"");t=void 0===t?-1===e.id.indexOf("/")?i+"models/eq"+e.id+"/dat":i+"models/eq"+e.id:t.endsWith(".nbs")?instance.baseURI+t.replace(".nbs",""):instance.baseURI+t,e.basePath=t.substr(0,t.lastIndexOf("/")+1);var a=function(t){function i(e){void 0!=e.parent[e.name]?console.warn(t.name+" ."):e.parent[e.name]=e,void 0===e.alpha&&(e._alpha=1,Object.defineProperty(e,"alpha",{get:function(){return this._alpha},set:function(e){0===e&&(e=1e-4);var t=this.material;if(void 0!=t){void 0===t.isCloned&&(t=this.material=this.material.clone(),this.material.isCloned=!0),t.transparent=!0;var i=t.opacity/this.alpha;t.opacity=i*e,this._alpha=e}else for(var r=0;r<this.children.length;r++)this.children[r].alpha=e}}));for(var r=e.children,n=0;n<r.length;n++){i(r[n])}}var r=e.scale||1;1!=r&&TweenMax.to(t.scale,1,{x:r,y:r,z:r}),t.name=e.name||e.url||e.id,t.parent&&i(t),e.callback&&e.callback(t)},s=function(t){if(t.lengthComputable){t.loaded,t.total;e.progressCallback&&e.progressCallback({loaded:t.loaded,total:t.total,url:t.srcElement.responseURL})}},h=function(e){console.warn(e)};if(void 0===r.cache[t]){var c=e.group||new o;c.ID=e.id,t.endsWith(".dae")?this.loader.load(t,"",c,a,s,h):this.loader.load(t+".nbs",t+".mtl",c,a,s)}},t.nb&&(t.nb.NBSLoader=r),e.exports=r}).call(t,i(1))},function(e,t,i){"use strict";i(301);var r=(i(186),i(188)),n={},o=i(302),a=i(41);a.lzmaBytesCache=n,THREE.OBJMTLLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.OBJMTLLoader.prototype={constructor:THREE.OBJMTLLoader,load:function(e,t,i,r,s,h){function c(t,i,n){function a(e){if(e.material.name){var t=n.create(e.material.name);t&&(e.material=t)}void 0!=e.parent[e.name]?console.warn(e.name+" "):e.parent[e.name]=e}if(t.charAt&&"{"===t.charAt(0)){t=JSON.parse(t);var s=e.substr(0,e.lastIndexOf("/")+1);t.baseURI=s,"object"===t.metadata.type.toLowerCase()&&l.parseObject(t,i)}else if(t.charAt&&"<"===t.charAt(0)){var h=new THREE.ColladaLoader,c=h.parse(t),u=c.scene,d=[];u.traverse(function(e){if(e instanceof THREE.SkinnedMesh){var t=new THREE.Animation(e,e.geometry.animation);d.push(t),a(e),e.material.skinning=!0}else e instanceof THREE.Mesh&&a(e)});for(var f=u.children;f.length;){var p=f.pop();"Camera"!==p.name&&"Lamp"!==p.name&&i.add(p)}i.movie=new o(d)}else l.parse(t,null,i),i.traverse(function(e){e instanceof THREE.Mesh&&a(e)});r(i)}var l=this,u=new THREE.MTLLoader(e.substr(0,e.lastIndexOf("/")+1));u.crossOrigin=a.config.corssOrigin,t=window.location.href,u.load(t,function(t){var r=t;if(r.preload(),void 0!==n[e])n[e]instanceof Array?n[e].push(function(){c(n[e],i,r)}):c(n[e],i,r);else{var o=new THREE.XHRLoader(l.manager);n[e]=[],o.setCrossOrigin&&o.setCrossOrigin(l.crossOrigin),o.setResponseType("arraybuffer"),THREE.Cache.remove(e),o.load(e,function(t){function o(t){var o=n[e];n[e]=t;for(var a=0;a<o.length;a++){(0,o[a])()}c(t,i,r)}var a=new Int8Array(t);if(93===a[0])throw"lzma";if(21===a[0]||51===a[0]){a=function(e,t){for(var i="",r=t.length,n=0,o=0;o<e.length;o++){var a=e[o],s=t.charCodeAt(n%r);n++;var h=a^s;i+=String.fromCharCode(h)}return i}(a,"nbsw"),o(a)}else if(82===a[0]){a=function(e,t){for(var i="",r=t.length,n=0,o=0;o<e.length;o++){var a=e[o],s=t.charCodeAt(n%r);n++;var h=a^s;i+=String.fromCharCode(h)}return i}(a,"nbsw"),o(a)}else{for(var s="",h=0;h<a.length;h++)s+=String.fromCharCode(a[h]);o(s)}},s,h)}},s,h)},parseObject:function(e,t){var i=new THREE.ObjectLoader;if(i.setCrossOrigin(a.config.corssOrigin),e.images)for(var n=0;n<e.images.length;n++){var o=e.images[n];o.url=e.baseURI+o.url}for(var s=i.parse(e),n=0;n<s.children.length;n++){var h=s.children[n];if(h instanceof THREE.Object3D)if(h.geometry&&h.geometry.animations){var c=new r;c.parse(h),t.add(c)}else t.add(h),n--}if(void 0!=s.animations){var l=new THREE.AnimationMixer(t);t.animations=s.animations;for(var n=0;n<t.animations.length;n++){var u=t.animations[n];l.addAction&&l.addAction(new THREE.AnimationAction(u))}t.createMovie(l)}return t},parse:function(e,t,i){function r(e,t,i){return new THREE.Vector3(e,t,i)}function n(e,t,i,r){return new THREE.Face3(e,t,i,r)}function o(e,t){m.length}function a(e,t,i,r){void 0===r?d.faces.push(n(parseInt(e)-(c+1),parseInt(t)-(c+1),parseInt(i)-(c+1))):d.faces.push(n(parseInt(e)-(c+1),parseInt(t)-(c+1),parseInt(i)-(c+1),[v[parseInt(r[0])-1].clone(),v[parseInt(r[1])-1].clone(),v[parseInt(r[2])-1].clone()]))}function s(e,t,i){d.faceVertexUvs[0].push([y[parseInt(e)-1].clone(),y[parseInt(t)-1].clone(),y[parseInt(i)-1].clone()])}function h(e,t,i){void 0===e[3]?(a(e[0],e[1],e[2],i),void 0!==t&&t.length>0&&s(t[0],t[1],t[2])):(void 0!==i&&i.length>0?(a(e[0],e[1],e[3],[i[0],i[1],i[3]]),a(e[1],e[2],e[3],[i[1],i[2],i[3]])):(a(e[0],e[1],e[3]),a(e[1],e[2],e[3])),void 0!==t&&t.length>0&&(s(t[0],t[1],t[3]),s(t[1],t[2],t[3])))}for(var c=0,l=i||new THREE.Group,u=l,d=new THREE.Geometry,f=new THREE.MeshLambertMaterial,p=new THREE.Mesh(d,f),m=[],v=[],y=[],g=/v( +[\d|\.|\+|\-|e]+)( +[\d|\.|\+|\-|e]+)( +[\d|\.|\+|\-|e]+)/,b=/vn( +[\d|\.|\+|\-|e]+)( +[\d|\.|\+|\-|e]+)( +[\d|\.|\+|\-|e]+)/,x=/vt( +[\d|\.|\+|\-|e]+)( +[\d|\.|\+|\-|e]+)/,w=/f( +\d+)( +\d+)( +\d+)( +\d+)?/,_=/f( +(\d+)\/(\d+))( +(\d+)\/(\d+))( +(\d+)\/(\d+))( +(\d+)\/(\d+))?/,T=/f( +(\d+)\/(\d+)\/(\d+))( +(\d+)\/(\d+)\/(\d+))( +(\d+)\/(\d+)\/(\d+))( +(\d+)\/(\d+)\/(\d+))?/,E=/f( +(\d+)\/\/(\d+))( +(\d+)\/\/(\d+))( +(\d+)\/\/(\d+))( +(\d+)\/\/(\d+))?/,S=e.split("\n"),M=0;M<S.length;M++){var C=S[M];C=C.trim();var A;if(0!==C.length&&"#"!==C.charAt(0))if(null!==(A=g.exec(C)))m.push(r(parseFloat(A[1]),parseFloat(A[2]),parseFloat(A[3])));else if(null!==(A=b.exec(C)))v.push(r(parseFloat(A[1]),parseFloat(A[2]),parseFloat(A[3])));else if(null!==(A=x.exec(C)))y.push(function(e,t){return new THREE.Vector2(e,t)}(parseFloat(A[1]),parseFloat(A[2])));else if(null!==(A=w.exec(C)))h([A[1],A[2],A[3],A[4]]);else if(null!==(A=_.exec(C)))h([A[2],A[5],A[8],A[11]],[A[3],A[6],A[9],A[12]]);else if(null!==(A=T.exec(C)))h([A[2],A[6],A[10],A[14]],[A[3],A[7],A[11],A[15]],[A[4],A[8],A[12],A[16]]);else if(null!==(A=E.exec(C)))h([A[2],A[5],A[8],A[11]],[],[A[3],A[6],A[9],A[12]]);else if(/^o /.test(C))o(),c+=m.length,m=[],u=new THREE.Object3D,u.name=C.substring(2).trim(),l.add(u);else if(/^g /.test(C)){if("g default"==C){d&&m.length>0&&(d.vertices=m,d.mergeVertices(),d.computeFaceNormals(),d.computeBoundingSphere(),p.material=new THREE.MeshLambertMaterial,p.material.name=d._materialName_,p.name=d._meshName_,p.castShadow=!0,p.receiveShadow=!0,u.add(p)),d=new THREE.Geometry,f=new THREE.MeshLambertMaterial,p=new THREE.Mesh(d,f),p.castShadow=!0,p.receiveShadow=!0,m=[],v=[],y=[];continue}var D=S[M+1];/^usemtl /.test(D)?(o(C.substring(2).trim(),D.substring(7).trim()),d._meshName_=C.substring(2).trim(),d._materialName_=D.substring(7).trim(),M++):o(C.substring(2).trim(),void 0)}else if(/^usemtl /.test(C))o(void 0,C.substring(7).trim());else if(/^mtllib /.test(C)){if(t){var k=C.substring(7);k=k.trim(),t(k)}}else/^s /.test(C)||console.log("THREE.OBJMTLLoader: Unhandled line "+C)}return o(void 0,void 0),l}},THREE.EventDispatcher.prototype.apply(THREE.OBJMTLLoader.prototype),e.exports=THREE.OBJMTLLoader},function(e,t,i){"use strict";THREE.MTLLoader=function(e,t,i){this.baseUrl=e,this.options=t,this.crossOrigin=i},THREE.MTLLoader.prototype={constructor:THREE.MTLLoader,load:function(e,t,i,r){function n(e){t(o.parse(e))}var o=this,a=new THREE.XHRLoader;a.setCrossOrigin&&a.setCrossOrigin(this.crossOrigin),a.load(e,n,i,r||function(){n("")})},parse:function(e){for(var t=e.split("\n"),i={},r=/\s+/,n={},o=0;o<t.length;o++){var a=t[o];if(a=a.trim(),0!==a.length&&"#"!==a.charAt(0)){var s=a.indexOf(" "),h=s>=0?a.substring(0,s):a;h=h.toLowerCase();var c=s>=0?a.substring(s+1):"";if(c=c.trim(),"newmtl"===h)i={name:c},n[c]=i;else if(i)if("ka"===h||"kd"===h||"ks"===h){var l=c.split(r,3);i[h]=[parseFloat(l[0]),parseFloat(l[1]),parseFloat(l[2])]}else i[h]=c}}var u=new THREE.MTLLoader.MaterialCreator(this.baseUrl,this.options);return u.crossOrigin=this.crossOrigin,u.setMaterials(n),u}},THREE.MTLLoader.MaterialCreator=function(e,t){this.baseUrl=e,this.options=t,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.side=this.options&&this.options.side?this.options.side:THREE.FrontSide,this.wrap=this.options&&this.options.wrap?this.options.wrap:THREE.RepeatWrapping},THREE.MTLLoader.MaterialCreator.prototype={constructor:THREE.MTLLoader.MaterialCreator,setMaterials:function(e){this.materialsInfo=this.convert(e),this.materials={},this.materialsArray=[],this.nameLookup={}},convert:function(e){if(!this.options)return e;var t={};for(var i in e){var r=e[i],n={};t[i]=n;for(var o in r){var a=!0,s=r[o],h=o.toLowerCase();switch(h){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(s=[s[0]/255,s[1]/255,s[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===s[0]&&0===s[1]&&0===s[1]&&(a=!1);break;case"d":this.options&&this.options.invertTransparency&&(s=1-s)}a&&(n[h]=s)}}return t},preload:function(){for(var e in this.materialsInfo)this.create(e)},getIndex:function(e){return this.nameLookup[e]},getAsArray:function(){var e=0;for(var t in this.materialsInfo)this.materialsArray[e]=this.create(t),this.nameLookup[t]=e,e++;return this.materialsArray},create:function(e){return void 0===this.materials[e]&&(this.materials[e]=new THREE.MeshPhongMaterial({name:e,side:this.side})),this.materials[e]},createMaterial_:function(e){var t=this.materialsInfo[e],i={name:e,side:this.side};for(var r in t){var n=t[r];switch(r.toLowerCase()){case"kd":0===n[0]&&0===n[1]&&0===n[2]&&(n=[.8,.8,.8]),i.diffuse=(new THREE.Color).fromArray(n);break;case"ka":break;case"ks":i.specular=(new THREE.Color).fromArray(n);break;case"map_kd":i.map=this.loadTexture(this.baseUrl+n),i.map.wrapS=this.wrap,i.map.wrapT=this.wrap;break;case"ns":i.shininess=n;break;case"d":n<1&&(i.transparent=!0,i.opacity=n);break;case"map_bump":case"bump":if(i.bumpMap)break;if(-1!=n.indexOf("-bm")){var o=n.split("-bm");n=o[0].trim();var a=parseFloat(o[1])}i.bumpMap=this.loadTexture(this.baseUrl+n),a&&(i.bumpScale=a),i.bumpMap.wrapS=this.wrap,i.bumpMap.wrapT=this.wrap;break;case"side":i.side=parseInt(n)}}return i.diffuse&&(i.color=i.diffuse),this.materials[e]=i,this.materials[e]},loadTexture:function(e,t,i,r){var n,o=THREE.Loader.Handlers.get(e);return null!==o?n=o.load(e,i):(n=new THREE.Texture,o=new THREE.ImageLoader,o.crossOrigin=this.crossOrigin,o.load(e,function(e){n.image=THREE.MTLLoader.ensurePowerOfTwo_(e),n.needsUpdate=!0,i&&i(n)})),void 0!==t&&(n.mapping=t),n}},THREE.MTLLoader.ensurePowerOfTwo_=function(e){if(!THREE.Math.isPowerOfTwo(e.width)||!THREE.Math.isPowerOfTwo(e.height)){var t=document.createElement("canvas");t.width=THREE.MTLLoader.nextHighestPowerOfTwo_(e.width),t.height=THREE.MTLLoader.nextHighestPowerOfTwo_(e.height);return t.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t.width,t.height),t}return e},THREE.MTLLoader.nextHighestPowerOfTwo_=function(e){--e;for(var t=1;t<32;t<<=1)e|=e>>t;return e+1},THREE.EventDispatcher.prototype.apply(THREE.MTLLoader.prototype)},function(e,t,i){"use strict";function r(e){this.animations=e,this.loop=!0,this.timescale=1,this.startFrame=NaN,this.endFrame=NaN}r.prototype.update=function(e){for(var t=this.animations,i=0;i<t.length;i++)t[i].resetBlendWeights();for(i=0;i<t.length;i++){var r=t[i];if(isNaN(r._startTime)||isNaN(r._endTime))r.update(e);else{var n=r._startTime,o=r._duration;if(this._loop){var a=r.currentTime-n+e*this.timescale;(a>o||a<0)&&(a%=o,a<0&&(a+=o),r.currentTime=0,r.reset(),console.log("one_loop"),this.onLoop&&this.onLoop()),r.currentTime=a+n}else r.stop();r.update(0)}}},r.prototype.replay=function(){this.play()},r.prototype.play=function(){for(var e=0;e<this.animations.length;e++)this.animations[e].play()},r.prototype.setPlayingFrameIndex=function(e,t){for(var i=0;i<this.animations.length;i++){var r=this.animations[i],n=r.data;r._startTime=e/n.fps,r._endTime=t/n.fps,r._duration=r._endTime-r._startTime}},r.prototype.stop=function(){for(var e=0;e<this.animations.length;e++){this.animations[e].stop()}},Object.defineProperty(r.prototype,"timescale",{get:function(){return this._timescale},set:function(e){this._timescale=e}}),Object.defineProperty(r.prototype,"loop",{get:function(){return this._loop},set:function(e){this._loop=e;for(var t=0;t<this.animations.length;t++){this.animations[t].loop=e}}}),e.exports=r},function(e,t,i){"use strict";function r(){if(instance.firstCircle=!1,0==instance.isFirstStart){$("#logo").before('<div id="loading-bar-spinner"><div class="spinner-icon"></div><div class="spinner-icon2"></div><div class="spinner-eye0"><div class="eyePoint"></div></div><div class="spinner-eye1"><div class="eyePoint"></div></div><div class="nose"></div><div id="loadingText"></div></div>')}PIXI.Container.call(this);var e=new PIXI.Text("",n);this.t=e,e.x=-e.width>>1,e.y=-e.height>>1,this.shape=new PIXI.Graphics,this.addChild(this.shape),this.addChild(this.t)}var n={font:"24px Arial",fill:0,align:"center",wordWrapWidth:200,wordWrap:!0};r.prototype=Object.create(PIXI.Container.prototype),r.constructor=r;r.prototype.setPercent=function(e){this.shape.clear(),$("#loadingText")&&1!=e&&$("#loadingText").html((100*e>>0)+"%")},e.exports=r},function(e,t,i){"use strict";(function(t){var r=i(171),n=i(39);nb=t.nb;var o=function(e){return e};nb.Box2d=r(Object,{mouseJoint:null,stepAfterExecFuncs:[],init:function(e,t){if(window.particleFlags={b2_solidParticleGroup:1,b2_rigidParticleGroup:2,b2_wallParticle:4,b2_springParticle:8,b2_elasticParticle:16,b2_viscousParticle:32,b2_powderParticle:64,b2_tensileParticle:128,b2_staticPressureParticle:2048},this.frame=e,this.drawLayer=e.drawLayer||new PIXI.Graphics,null==this.drawLayer.parent&&e.addChildAt(this.drawLayer,0),t=t||{},void 0==t.gravityX&&(t.gravityX=0),void 0==t.gravityY&&(t.gravityY=10),this.b2Scale=120,this.useLiquidFun=!1,void 0!=window.Box2D)window.b2Vec2=this.b2Vec2=Box2D.Common.Math.b2Vec2,this.b2BodyDef=Box2D.Dynamics.b2BodyDef,this.b2Body=Box2D.Dynamics.b2Body,this.b2FixtureDef=Box2D.Dynamics.b2FixtureDef,this.b2Fixture=Box2D.Dynamics.b2Fixture,this.b2World=Box2D.Dynamics.b2World,this.b2PolygonShape=Box2D.Collision.Shapes.b2PolygonShape,this.b2CircleShape=Box2D.Collision.Shapes.b2CircleShape,this.b2RevoluteJointDef=Box2D.Dynamics.Joints.b2RevoluteJointDef,this.b2DebugDraw=Box2D.Dynamics.b2DebugDraw,this.b2AABB=Box2D.Collision.b2AABB,this.b2MouseJointDef=Box2D.Dynamics.Joints.b2MouseJointDef,this.b2Joint=Box2D.Dynamics.Joints.b2Joint,this.b2PulleyJointDef=Box2D.Dynamics.Joints.b2PulleyJointDef,this.b2PulleyJoint=Box2D.Dynamics.Joints.b2PulleyJoint,window.b2DistanceJoint=Box2D.Dynamics.Joints.b2DistanceJoint,window.b2DistanceJointDef=Box2D.Dynamics.Joints.b2DistanceJointDef,window.b2ContactListener=this.b2ContactListener=Box2D.Dynamics.b2ContactListener,window.b2MassData=Box2D.Collision.Shapes.b2MassData,this.b2PulleyJoint.b2_minPulleyLength=0,window.b2WeldJointDef=Box2D.Dynamics.Joints.b2WeldJointDef;else if(void 0!=window.b2Vec2||null!=window.box2d){var i=window.box2d||window;if(i===window)this.useLiquidFun=!0;else{this.containsLiquidFun=!0,box2d.DEBUG=!1;for(prop in box2d)0==prop.indexOf("b2")&&(window[prop]=box2d[prop]);i.b2_dynamicBody=box2d.b2BodyType.b2_dynamicBody,i.b2_staticBody=box2d.b2BodyType.b2_staticBody,i.b2_kinematicBody=box2d.b2BodyType.b2_kinematicBody,i.b2_bulletBody=box2d.b2BodyType.b2_bulletBody}this.b2Vec2=i.b2Vec2,this.b2BodyDef=i.b2BodyDef,this.b2Body=i.b2Body,this.b2Body.b2_dynamicBody=i.b2_dynamicBody,this.b2Body.b2_staticBody=i.b2_staticBody,this.b2Body.b2_kinematicBody=i.b2_kinematicBody,this.b2FixtureDef=i.b2FixtureDef,this.b2Fixture=i.b2Fixture,this.b2World=i.b2World,this.b2PolygonShape=i.b2PolygonShape,this.b2CircleShape=i.b2CircleShape,this.b2RevoluteJointDef=i.b2RevoluteJointDef,this.b2DebugDraw=i.b2DebugDraw,this.b2AABB=i.b2AABB,this.b2MouseJointDef=i.b2MouseJointDef,this.b2Joint=i.b2Joint,this.b2PulleyJointDef=i.b2PulleyJointDef,this.b2PulleyJoint=i.b2PulleyJoint,this.b2ContactListener=i.b2ContactListener,this.useLiquidFun&&(i.b2PolygonShape.prototype.SetAsBox=i.b2PolygonShape.prototype.SetAsBoxXY,i.b2Body.prototype.CreateFixture=i.b2Body.prototype.CreateFixtureFromDef),this.b2World.prototype.GetGroundBody=function(){if(void 0==this.__ground__){var e=new b2BodyDef,t=this.CreateBody(e);this.__ground__=t}return this.__ground__}}window.world=this.world=new this.b2World(new this.b2Vec2(t.gravityX,t.gravityY),!0),0==this.useLiquidFun&&this.addContactListener(),this.createWall();var r=this;window.addEventListener("resize",function(){r.createWall()});for(var n=[],o=0;o<e.children.length;o++){var a=e.children[o];if(void 0!=a.b2Data){var s=a.b2Data.linkage;if(0==s.indexOf("b2Joint")){n.push(a);continue}0==s.indexOf("b2Circle")?(a.b2Data.view=a,this.addCircle(a.b2Data)):0==s.indexOf("b2Box")?(a.b2Data.view=a,this.addBox(a.b2Data)):0==s.indexOf("b2Poly")?(a.b2Data.view=a,this.addPoly(a.b2Data)):s.indexOf("b2MultiPolys")&&(a.b2Data.view=a,this.addPolys(a.b2Data));for(var h=0;h<a.children.length;h++)a.children[h]instanceof PIXI.Graphics&&(a.children[h].visible=!1)}}for(o=0;o<n.length;o++){a=n[o];var c=a.b2Data;switch(a.visible=!1,c.type){case"Weld":case"Revolute":a.b2Joint=this.createRevoluteJoint(a,c.type);break;case"Pulley":a.b2Joint=this.createPulleyJoint(a,c);break;case"Rope":case"Distance":a.b2Joint=this.createDistanceJoint(a,e[c.t2]);break;case"Prismatic":a.b2Joint=this.createPrismaticJoint(a,c)}}var l=this;e.on("update",function(){l.render()})},addContactListener:function(){var e=new b2ContactListener,t=this.stepAfterExecFuncs;e.BeginContact=function(e){var i=e.GetFixtureA().GetBody(),r=e.GetFixtureB().GetBody(),n=i.GetUserData(),o=r.GetUserData(),a=function(){null!=n&&n.emit(Box2dEvent.BEGIN_CONTACT,{disA:n,disB:o,bodyA:i,bodyB:r,contact:e}),null!=o&&o.emit(Box2dEvent.BEGIN_CONTACT,{disA:o,disB:n,bodyA:r,bodyB:i,contact:e})};t.push(a)},e.EndContact=function(e){var i=e.GetFixtureA().GetBody(),r=e.GetFixtureB().GetBody(),n=i.GetUserData(),o=r.GetUserData(),a=function(){null!=n&&n.emit(Box2dEvent.END_CONTACT,{disA:n,disB:o,bodyA:i,bodyB:r,contact:e}),null!=o&&o.emit(Box2dEvent.END_CONTACT,{disA:o,disB:n,bodyA:r,bodyB:i,contact:e})};t.push(a)},e.PostSolve=function(e,t){},e.PreSolve=function(e,t){},this.world.SetContactListener(e)},render:function(e,t,i){function r(e){var t=e.GetUserData();if(null!=t){var i=e.GetPosition();t.x=i.x*this.b2Scale,t.y=i.y*this.b2Scale,t.rotation=e.GetAngle()}e.__draw__}for(void 0==t&&(t=20),void 0==i&&(i=20),void 0==e&&(e=1/60),window.world!=this.world&&(window.world=this.world),this.world.Step(e,t,i);this.stepAfterExecFuncs.length;){var n=this.stepAfterExecFuncs.shift();n&&n()}if(null!=this.world.ClearForces&&this.world.ClearForces(),this.useLiquidFun){for(var o=this.world.bodies,a=o.length,s=0;s<a;s++){var h=o[s];r.apply(this,[h])}for(a=this.world.joints.length,s=0;s<a;s++){var c=this.world.joints[s];this.b2PulleyJoint}var l=world.particleSystems.length;for(s=0;s<l;s++)this.drawParticleSystem(world.particleSystems[s])}else{if(!0===this.containsLiquidFun)for(var u=this.world.GetParticleSystemList();u;u=u.GetNext())this.drawParticleSystemContainsLiquidFun(u);for(var h=this.world.GetBodyList();h;h=h.GetNext())r.apply(this,[h]);this.drawLayer.clear();this.drawLayer;this.drawLayer.lineStyle(4,16777215);for(var c=this.world.GetJointList();c;c=c.GetNext())if(!0!==c.disabledDraw)if(c instanceof this.b2PulleyJoint){if(1==c.GetAnchorA.length){var d=new b2Vec2,f=new b2Vec2;c.GetAnchorA(d),c.GetAnchorB(f)}else var d=c.GetAnchorA(),f=c.GetAnchorB();var p=c.GetGroundAnchorA(new b2Vec2),m=c.GetGroundAnchorB(new b2Vec2);this.drawLayer.moveTo(d.x*this.b2Scale,d.y*this.b2Scale),this.drawLayer.lineTo(p.x*this.b2Scale,p.y*this.b2Scale),this.drawLayer.moveTo(m.x*this.b2Scale,m.y*this.b2Scale),this.drawLayer.lineTo(f.x*this.b2Scale,f.y*this.b2Scale)}else if(c instanceof b2DistanceJoint||window.b2RopeJoint&&c instanceof b2RopeJoint){if(1==c.GetAnchorA.length){var d=new b2Vec2,f=new b2Vec2;c.GetAnchorA(d),c.GetAnchorB(f)}else var d=c.GetAnchorA(),f=c.GetAnchorB();var v=NBPoint.distance(d,f);if(v<2/this.b2Scale)continue;if(c._rope_body1&&c._rope_body2){c._rope_body1.SetPosition(new b2Vec2(d.x,d.y)),c._rope_body2.SetPosition(new b2Vec2(f.x,f.y));var y=c._rope_ary,a=y.length;this.drawLayer.moveTo(d.x*this.b2Scale,d.y*this.b2Scale);for(var s=0;s<a;s++){var v=y[s];this.drawLayer.lineTo(v.x,v.y)}this.drawLayer.lineTo(f.x*this.b2Scale,f.y*this.b2Scale)}else this.drawLayer.moveTo(d.x*this.b2Scale,d.y*this.b2Scale),this.drawLayer.lineTo(f.x*this.b2Scale,f.y*this.b2Scale)}}},drawParticleSystem:function(e){var t=e.GetPositionBuffer(),i=t.length;if(void 0==e.particleContainer){var r=new PIXI.ParticleContainer(1e4);e.particleContainer=r,this.frame.addChild(r);for(var n=0;n<i/2;n++){var o=PIXI.Sprite.fromFrame(e.particleTexture);o.anchor.x=.5,o.anchor.y=.5,o.scale.x=.67,o.scale.y=.67,o.alpha=.1,r.addChild(o)}}var r=e.particleContainer;for(n=0;n<t.length;n+=2)r.children[n/2].position.x=t[n]*this.b2Scale,r.children[n/2].position.y=t[n+1]*this.b2Scale},drawParticleSystemContainsLiquidFun:function(e){var t=e.GetPositionBuffer(),i=t.length;if(void 0==e.particleContainer){var r=new PIXI.ParticleContainer(1e4);e.particleContainer=r,this.frame.addChild(r);for(var n=0;n<i;n++){var o=PIXI.Sprite.fromFrame(e.particleTexture);o.anchor.x=.5,o.anchor.y=.5,r.addChild(o)}}var r=e.particleContainer;for(n=0;n<t.length&&t[n];n++)r.children[n].position.x=t[n].x*this.b2Scale,r.children[n].position.y=t[n].y*this.b2Scale},getBodiesAtPoint:function(e,t){function i(e){var i=e.shape||e.GetShape(),r=e.body||e.GetBody();if(r.GetType()!=c.b2_staticBody||t){var n;n=void 0==i.TestPoint?e.TestPoint(a):i.TestPoint(r.GetTransform(),a),n&&h.push(r)}return!0}function r(e){}void 0==t&&(t=!1);var n=e.x/this.b2Scale,o=e.y/this.b2Scale,a=new this.b2Vec2;a.Set(n,o);var s=new this.b2AABB;s.lowerBound.Set(n-.001,o-.001),s.upperBound.Set(n+.001,o+.001);var h=[],c=this.b2Body;if(r.prototype.ReportFixture=i,this.useLiquidFun){var l=new r(a);this.world.QueryAABB(l,s)}else this.world.QueryAABB(i,s);return h},getBodyAtPoint:function(e,t){for(var i=this.getBodiesAtPoint(e,t),r=-1,n=void 0,o=0;o<i.length;o++){var a=i[o].GetUserData(),s=a.parent,h=s.getChildIndex(a);h>r&&(r=h,n=a)}return n?n.b2Body:void 0},addBox:function(e){e instanceof PIXI.Container&&(e={view:e});var t=new this.b2PolygonShape,i=e.view||e.userData;return i&&(void 0==e.w&&(e.w=i.width/2),void 0==e.h&&(e.h=i.height/2)),t.SetAsBox(e.w/this.b2Scale,e.h/this.b2Scale),this.addCommonProperty(e,t)},addPoly:function(e){e instanceof PIXI.Container&&(e={view:e});for(var t=new this.b2PolygonShape,i=[],r=0;r<e.polyData.length;r++){var n=e.polyData[r],o=new this.b2Vec2(n.x/this.b2Scale,n.y/this.b2Scale);t.vertices?t.vertices.push(o):i.push(o)}void 0==t.vertices&&(void 0!=t.SetAsArray?t.SetAsArray(i):t.Set(i)),this.addCommonProperty(e,t)},addPolys:function(e){e instanceof PIXI.Container&&(e={view:e});e.view;throw new""},addCommonProperty:function(e,t){var i=e.view||e.userData;i&&(void 0==e.x&&(e.x=i.x),void 0==e.y&&(e.y=i.y),void 0==e.r&&(e.r=i.rotation));var r=new this.b2BodyDef;"Dynamic"==e.type?r.type=this.b2Body.b2_dynamicBody:"Static"==e.type?r.type=this.b2Body.b2_staticBody:"Kinematic"==e.type?r.type=this.b2Body.b2_kinematicBody:void 0==e.type&&(r.type=this.b2Body.b2_dynamicBody),r.userData=i,r.position.Set(e.x/this.b2Scale,e.y/this.b2Scale),r.bullet="true"==e.bullet,r.allowSleep="true"==e.autoSleep,r.angle=Number(e.r||0);var n=new this.b2FixtureDef,o=Number(e.density||1);if(n.density=Number(o),n.isSensor="true"==e.isSensor,n.friction=Number(e.friction||.2),n.restitution=Number(e.restitution||0),"true"===e.allowDragging&&this.addDrag(e.view),n.shape=t,void 0==e.collideGroup)n.filter.categoryBits=void 0==e.categoryBits?65535:e.categoryBits,n.filter.maskBits=void 0==e.maskBits?65535:e.maskBits;else{for(var a=e.collideGroup,s=0,h=0;h<a.length;h++)s|=1<<a[h];n.filter.categoryBits=s,n.filter.maskBits=s}if(r.angularDamping=Number(e.angularDamping||0),r.fixedRotation="true"==e.fixedRotation,r.angularVelocity=Number(e.angularVelocity||0),r.linearDamping=Number(e.linearDamping||0),"true"===e.useParticleSystem){var c=new b2ParticleGroupDef;c.position=new b2Vec2(e.x/this.b2Scale,e.y/this.b2Scale),c.shape=t,c.flags=e.flags||particleFlags.b2_tensileParticle|particleFlags.b2_colorMixingParticle,c.groupFlags=e.groupFlags||0,c.color.Set(255,0,0,255),null==this.frame.particleSystemMap&&(this.frame.particleSystemMap={});var l=this.frame.particleSystemMap;if(void 0==l[o]){var u=new b2ParticleSystemDef;u.radius=Number(e.particleRadius)||.055,u.dampingStrength=.4,l[o]=world.CreateParticleSystem(u),""==e.particleTexture||void 0===e.particleTexture?l[o].particleTexture="particle.liquid_particle":l[o].particleTexture=e.particleTexture,l[o].SetDensity(o)}e.view.visible=!1,l[o].CreateParticleGroup(c),i.b2ParticleSystem=l[o]}else{var d=this.world.CreateBody(r);d.CreateFixture(n),this.useLiquidFun&&(d.__view__=i,d.GetUserData=function(){return this.__view__}),i&&(i.b2Body=d)}return d},createWall:function(){this.leftWall&&(this.world.DestroyBody(this.leftWall),this.world.DestroyBody(this.rightWall),this.world.DestroyBody(this.topWall),this.world.DestroyBody(this.bottomWall));var e=new PIXI.Point,t=new PIXI.Point(0,BiologyMain.H),i=new PIXI.Point(BiologyMain.W),r=new PIXI.Point(BiologyMain.W,BiologyMain.H),a=this.frame.toLocal(e,instance.stage),s=(this.frame.toGlobal(t,instance.stage),this.frame.toLocal(i,instance.stage));this.frame.toGlobal(r,instance.stage);this.leftWall=this.addBox({x:a.x-50,y:a.y,w:o(100),h:BiologyMain.H,type:"Static"}),this.rightWall=this.addBox({x:s.x+50,y:s.y,w:o(100),h:BiologyMain.H,type:"Static"}),this.topWall=this.addBox({x:(2*n.STACK_WIDTH-n.W)/2,y:-o(100)+a.y,w:n.W,h:o(100),type:"Static"}),this.bottomWall=this.addBox({x:(2*n.STACK_WIDTH-n.W)/2,y:n.H+o(100)+a.y,w:n.W,h:o(100),type:"Static"})},addCircle:function(e){e instanceof PIXI.Container&&(e={view:e});var t=e.view||e.userData;null!=t&&void 0==e.r&&(e.r=t.width/2);var i;this.useLiquidFun?(i=new this.b2CircleShape,i.radius=e.r/this.b2Scale):i=new this.b2CircleShape(e.r/this.b2Scale),this.addCommonProperty(e,i)},removeDrag:function(e){void 0!==e.box2dDragFunc&&(e.removeListener(TouchEvent.TOUCH_BEGIN,e.box2dDragFunc),e.up&&(e.up(),delete e.up),e.box2dDragFunc=void 0)},addDrag:function(e,t){t=t||{},t.maxForce=t.maxForce||3e4,t.changeKinematicToDynamic=void 0===t.changeKinematicToDynamic||t.changeKinematicToDynamic;var i=this.getBodyAtPoint,r=this,n=function(e){var n=this.stepRoot.toLocal(e.data.global,instance.stage),o=i.apply(r,[n]);if(null!=o){var a=new r.b2MouseJointDef;if(a.bodyA=r.world.GetGroundBody(),a.bodyB=o,o.GetType()==r.b2Body.b2_kinematicBody&&t.changeKinematicToDynamic&&(o._lastType=r.b2Body.b2_kinematicBody,o.SetType(r.b2Body.b2_dynamicBody)),o.GetType()==r.b2Body.b2_dynamicBody){a.target.Set(n.x/r.b2Scale,n.y/r.b2Scale),a.maxForce=t.maxForce;var s=r.world.CreateJoint(a)}var h=function e(t){s&&r.world.DestroyJoint(s),void 0!=o._lastType&&(o.SetType(o._lastType),nb.Box2d.freezeBody(o),delete o._lastType),this.removeListener(TouchEvent.TOUCH_END,e),this.removeListener(TouchEvent.TOUCH_END_OUDSIDE,e),this.removeListener(TouchEvent.TOUCH_MOVE,c),t&&this.emit(NBDrag.event.STOP_DRAG,{target:this,data:t.data}),this.isDragging=!1},c=function(e){if(s){var t=this.stepRoot.toLocal(e.data.global,instance.stage),i=new r.b2Vec2(t.x/r.b2Scale,t.y/r.b2Scale);s.SetTarget(i),this.emit(NBDrag.event.DRAG_MOVE,{target:this,data:e.data})}else if(o.GetType()==r.b2Body.b2_kinematicBody){t=this.stepRoot.toLocal(e.data.global,instance.stage);var a=t.x-n.x,h=t.y-n.y,c=o.GetPosition();if(c.Copy)var l=c.Copy();else var l=c.Clone();l.x+=a/r.b2Scale,l.y+=h/r.b2Scale,o.SetPosition(l),n=t}};this.addEventListener(TouchEvent.TOUCH_END,h),this.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,h),this.addEventListener(TouchEvent.TOUCH_MOVE,c),this.emit(NBDrag.event.START_DRAG,{target:this,data:e.data}),this.isDragging=!0,this.up=h}};e.box2dDragFunc=n,e.addEventListener(TouchEvent.TOUCH_BEGIN,n)},createRevoluteJoint:function(e,t){var i,r,n,o=e.b2Data,a=this.getBodiesAtPoint({x:e.x,y:e.y},!0),s=o.t1,h=o.t2;if(s&&h&&this.frame[s]&&this.frame[h]?(i=this.frame[s].b2Body,r=this.frame[h].b2Body,n=new this.b2Vec2(e.x/this.b2Scale,e.y/this.b2Scale)):0==a.length||(1==a.length?(i=this.world.GetGroundBody(),r=a[0],n=new this.b2Vec2(e.x/this.b2Scale,e.y/this.b2Scale)):a.length>1&&(i=a[0],r=a[1],n=new this.b2Vec2(e.x/this.b2Scale,e.y/this.b2Scale))),i&&r){if("Revolute"===t)var c=new this.b2RevoluteJointDef;else{if("Weld"!==t)return;var c=new b2WeldJointDef}if(void 0==c.Initialize)var l=c.InitializeAndCreate(i,r,n);else c.Initialize(i,r,n),l=this.world.CreateJoint(c)}return l},createPulleyJoint:function(e,t){var i,r,n,o,a,s,h=e,c=this.frame[t.t2],l=this.frame[t.ground1],u=this.frame[t.ground2];i=this.getBodyAtPoint({x:h.x,y:h.y},!0),r=this.getBodyAtPoint({x:c.x,y:c.y},!0),a=new this.b2Vec2(h.x/this.b2Scale,h.y/this.b2Scale),s=new this.b2Vec2(c.x/this.b2Scale,c.y/this.b2Scale),n=new this.b2Vec2(l.x/this.b2Scale,l.y/this.b2Scale),o=new this.b2Vec2(u.x/this.b2Scale,u.y/this.b2Scale);var d=new this.b2PulleyJointDef;return void 0==d.Initialize?d.InitializeAndCreate(i,r,n,o,a,s,t.ratio):(d.Initialize(i,r,n,o,a,s,t.ratio),this.world.CreateJoint(d))},createPrismaticJoint:function(e,t){var i,r,n,o,a=e,s=this.frame[t.t2];i=this.getBodyAtPoint({x:a.x,y:a.y},!0),r=this.getBodyAtPoint({x:s.x,y:s.y},!0),n=new this.b2Vec2(a.x/this.b2Scale,a.y/this.b2Scale),o=new this.b2Vec2(s.x/this.b2Scale,s.y/this.b2Scale);var h=new b2PrismaticJointDef;return h.Initialize(i,r,n,o),h.lowerTranslation=-60,h.upperTranslation=60,h.maxMotorForce=100,h.motorSpeed=14,h.enableMotor=!0,this.world.CreateJoint(h)},createDistanceJoint:function(e,t,i,r,n){var a=e.b2Data,s=null;s="Rope"===a.type?new b2RopeJointDef:new b2DistanceJointDef,s.collideConnected="true"===a.collideConnected,isNaN(a.dampingRatio)||(s.dampingRatio=a.dampingRatio),isNaN(a.frequencyHz)||(s.frequencyHz=a.frequencyHz);var h,c;if(e.b2Body&&t.b2Body?(h=e.b2Body,c=t.b2Body):(h=this.getBodyAtPoint({x:e.x,y:e.y},!0),null==(c=this.getBodyAtPoint({x:t.x,y:t.y},!0))&&(c=this.world.GetGroundBody())),h===c)return!1;if(null==h||null==c)return!1;if(null==i)if(e.b2Body===h)i={x:0,y:0};else{var l=h.GetUserData();i={x:e.x-l.x,y:e.y-l.y};var u=-h.GetAngle();i=NBMath.rotaPoint(i,{x:0,y:0},u)}if(null==r)if(t.b2Body===c)r={x:0,y:0};else{var l=c.GetUserData();r={x:t.x-l.x,y:t.y-l.y};var u=-c.GetAngle();r=NBMath.rotaPoint(r,{x:0,y:0},u)}var d={x:e.x+i.x,y:e.y+i.y},f={x:t.x+r.x,y:t.y+r.y};if(d.x/=this.b2Scale,d.y/=this.b2Scale,f.x/=this.b2Scale,f.y/=this.b2Scale,s.localAnchorA=new b2Vec2(i.x/this.b2Scale,i.y/this.b2Scale),c===this.world.GetGroundBody()?s.localAnchorB=new b2Vec2(f.x,f.y):s.localAnchorB=new b2Vec2(r.x/this.b2Scale,r.y/this.b2Scale),s.bodyA=h,s.bodyB=c,null==n?s.length=NBPoint.distance(e,t)/this.b2Scale:(n/=this.b2Scale,s.length=n),0===s.maxLength&&(s.maxLength=s.length,"true"===a.ropeGhost))for(var p,m,v,y=o(2),g=o(20),b=Math.floor(NBPoint.distance(e,t)/g),x={x:e.x,y:e.y},w={x:t.x,y:t.y},_=b2Atan2(w.y-x.y,w.x-x.x),T=[],E=0;E<b;E++){var S=new PIXI.Graphics;if(S.visible=!1,S.rotation=_-Math.PI/2,S.x=x.x+(w.x-x.x)*E/b,S.y=x.y+(w.y-x.y)*E/b,this.frame.addChild(S),type=0==E||E==b-1?"Kinematic":"Dynamic",this.addBox({view:S,w:y,h:g,r:S.rotation,type:type,collideGroup:[15]}),0==E?m=S.b2Body:E==b-1?v=S.b2Body:T.push(S),0!=E){var M=new b2RevoluteJointDef,C=p.b2Body,A=S.b2Body,D=new b2Vec2((p.x+S.x)/2/this.b2Scale,(p.y+S.y)/2/this.b2Scale);M.Initialize(C,A,D),this.world.CreateJoint(M)}p=S}var k=this.world.CreateJoint(s);return C&&A&&(k._rope_body1=m,k._rope_body2=v,k._rope_ary=T),k},resetBox2dData:function(){for(var e=this.frame,t=0;t<e.children.length;t++){var i=e.children[t],r=i.b2Data,n=i.b2Body;void 0!=r&&void 0!=n&&(nb.Box2d.freezeBody(n),n.SetPosition(new b2Vec2(r.x/this.b2Scale,r.y/this.b2Scale)),n.SetAngle(r.r))}}}),nb.Box2d.setBodyScale=function(e,t){this.b2CircleShape=window.Box2D?Box2D.Collision.Shapes.b2CircleShape:window.b2CircleShape;var i=0;void 0==e.__scale__?(e.__scale__=t,i=t):(i=1/e.__scale__*t,e.__scale__=t);var r=e.GetFixtureList().GetShape();if(e.GetFixtureList().GetShape()instanceof this.b2CircleShape)r.SetRadius(r.GetRadius()*i);else for(var n=r.GetVertices(),o=0;o<n.length;o++){var a=n[o];a.Multiply(i)}},nb.Box2d.freezeBody=function(e){e instanceof PIXI.Container&&(e=e.b2Body),e.SetLinearVelocity(new b2Vec2(0,0)),e.SetAngularVelocity(0)},nb.Box2d.destoryBodyJoint=function(e,t){void 0!==e.b2Body&&(e=e.b2Body);for(var i=e.GetJointList(),r=e.GetWorld();i;){for(var n=0;n<t.length;n++)i.joint instanceof t[n]&&r.DestroyJoint(i.joint);i=i.next}},nb.Box2d.updatePos=function(e,t,i,r){nb.Box2d.$updatePos$(e,{x:t,y:i,angle:r})},nb.Box2d.$updatePos$=function(e,t){if(void 0!==e.b2Body&&(e=e.b2Body),t=t||{},t.type=t.type||"update","update"===t.type)var i=new b2Vec2,r=0;else i=e.GetPosition().Clone(),r=e.GetAngle();i.x+=t.x||0,i.y+=t.y||0,r+=t.angle||0,e.SetPosition(i),e.SetAngle(r)},nb.Box2d.appendPos=function(e,t,i,r){nb.Box2d.$updatePos$(e,{x:t,y:i,angle:r,type:"append"})},nb.Box2d.getBodyJoint=function(e,t){void 0!==e.b2Body&&(e=e.b2Body);for(var i=e.GetJointList();i;){if(i.joint instanceof t)return i.joint;i=i.next}return null},nb.Box2d.setMass=function(e,t){e instanceof PIXI.Container&&(e=e.b2Body);var i=new b2MassData;e.GetMassData(i),i.mass=t,e.SetMassData(i)},nb.Box2d.getMass=function(e){e instanceof PIXI.Container&&(e=e.b2Body);var t=new b2MassData;return e.GetMassData(t),t.mass},void 0==window.Box2dEvent&&(window.Box2dEvent={END_CONTACT:"endContact",BEGIN_CONTACT:"beginContact"}),e.exports=nb.Box2d}).call(t,i(1))},function(e,t,i){"use strict";(function(t){function i(){}i.centerGeometry=function(e){var t=e.geometry;t.computeBoundingSphere();var i=t.boundingSphere.center;e.position.add(i),t.center()},t.MeshUtil=i,e.exports=i}).call(t,i(1))},function(e,t,i){"use strict";(function(e,t){var i={};i.hitTest=function(e,t){if(0!=e.visible&&0!=t.visible){var i=e.getBounds(),r=t.getBounds(),n=Math.max(i.x,r.x),o=Math.max(i.y,r.y),a=Math.min(i.x+i.width,r.x+r.width)-n,s=Math.min(i.y+i.height,r.y+r.height)-o;return!(s<=0||a<=0)&&a*s}},e.NBHitTest=i,t.export=i}).call(t,i(1),i(62)(e))},function(e,t,i){"use strict";(function(t){function i(){}i.getCameraLookDir=function(e){return new THREE.Vector3(0,0,-100).applyQuaternion(e.quaternion).add(e.position)},i.creatWater=function(e,t){var i=e.canvas,r=e.scene;if(null==r["6666/model"])return null;var n={width:200,height:200,widthSegments:250,heightSegments:250,depth:1500,param:4,filterparam:1},o=new THREE.TextureLoader;o.setCrossOrigin(nb.config.corssOrigin);var a=o.load(nb.config.MODEL_URI_PREFIX+"models/eq6666/waternormals.jpg");a.wrapS=a.wrapT=THREE.RepeatWrapping;var s=new THREE.Water(i,e.camera,r,{textureWidth:512,textureHeight:512,waterNormals:a,alpha:.7,sunDirection:t.position.clone().normalize(),sunColor:16777215,waterColor:3355443,distortionScale:15}),h=new THREE.Mesh(new THREE.PlaneBufferGeometry(n.width,n.height),s.material);return h.add(s),h.rotation.x=.5*-Math.PI,h.position.y=-7,h.position.x=370,h.position.z=-68,r.add(h),this.mesh=h,this.render=function(){s.material.uniforms.time.value+=1/60,s.render()},this.desdroy=function(){r.remove(h)},this},i.creatFlurView=function(e){SCREEN_WIDTH=$(window).innerWidth(),SCREEN_HEIGHT=$(window).innerHeight();var t=e.canvas,i=e.scene,r={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBFormat,stencilBuffer:!1},n=new THREE.WebGLRenderTarget(SCREEN_WIDTH,SCREEN_HEIGHT,r),o=new THREE.ShaderPass(THREE.HorizontalTiltShiftShader),a=new THREE.ShaderPass(THREE.VerticalTiltShiftShader);o.uniforms.h.value=2/SCREEN_WIDTH,a.uniforms.v.value=2/SCREEN_HEIGHT,o.uniforms.r.value=a.uniforms.r.value=.5,a.renderToScreen=!0;var s=new THREE.RenderPass(i,e.camera),h=new THREE.EffectComposer(t,n);return h.addPass(s),h.addPass(o),h.addPass(a),h},i.sceneFix=function(e){if(null!=e["6666/model"]){var t=e["6666/model"].pPlane18;t&&(t.visible=!1);for(var i=0;i<=13;i++){var r=e["6666/model"]["polySurface"+(3250+i)];r&&(r.material=r.material.clone(),r.material.side=2,r.material.color.setRGB(.8,.8,.8),r.material.needsUpdate=!0)}}},i.showSomeModelsInit=function(e,t){t.showOnly=function(){for(var i=0;i<e.length;i++)console.log(i==t.showIndex),e[i].visible=i==t.showIndex},t.showOnly(),t.showTar=function(){e[t.showIndex].visible=!0}},i.showSomeModels=function(e){function t(t){void 0!=t.index&&(e.showIndex=t.index,e.showTar&&e.showTar())}function i(t){e.showOnly&&e.showOnly()}e.showIndex=0,e.timeline.addEventListener("change",t),e.timeline.addEventListener("TweenComplete",i)},t.ThreeUtil=i,e.exports=i}).call(t,i(1))},function(e,t,i){"use strict";(function(t){var i={};i.getParticle=function(e){var t,i=new PIXI.Container;return"string"==typeof e.texture?t=PIXI.Texture.fromFrame(e.texture):(t=new Array,e.texture.forEach(function(e){t.push(PIXI.Texture.fromFrame(e))})),$.getJSON(nb.config.URI_PREFIX+e.path,function(e,r){"success"==r&&(i.particle=new cloudkid.Emitter(i,t,e),i.emit("particleLoaded"))}),i.render=function(){if(null!=this.particle){if(null!=this.bindObj){if(!this.parent)return;var e=this.parent.toLocal({x:0,y:0},this.bindObj),t={x:e.x+this.bindOffsetX,y:e.y+this.bindOffsetY},i=new PIXI.Matrix,r=Math.cos(this.rotation),n=Math.sin(this.rotation);i.set(this.scale.x*r,this.scale.x*n,-n*this.scale.y,this.scale.y*r,0,0),t=i.applyInverse(t),this.particle.updateOwnerPos(t.x+this.bindOffsetX,t.y+this.bindOffsetY)}var o=Date.now();this.particle.update(.001*(o-this.__timer__||0)),this.__timer__=o}},i.bind=function(e,t,r){i.bindObj=e,i.bindOffsetX=t||0,i.bindOffsetY=r||0},i.destroy=function(){this.parent&&this.parent.removeChild(this),i.bindObj=null,i.particle&&i.particle.destroy.apply(i.particle),delete i.bindObj,i=null,t=null},i.setStyle=function(e,t){i.particle[e]=t},i.getParticle=function(){return new Promise(function(e,t){i.particle?e(i.particle):i.on("particleLoaded",function(){e(i.particle)})})},i},i.particles={spirit_fire:{path:"assets/particles/spirit_fire.json",texture:"particle.spirit_fire"},spirit_fire_blue:{path:"assets/particles/spirit_fire_blue.json",texture:"particle.spirit_fire"},match_fire:{path:"assets/particles/match_fire.json",texture:"particle.spirit_fire"},water_vapor:{path:"assets/particles/water_vapor.json",texture:"particle.spirit_fire"},seed_fire:{path:"assets/particles/seed_fire.json",texture:"particle.spirit_fire"},seed_fire2:{path:"assets/particles/seed_fire2.json",texture:"particle.spirit_fire"},outSide_fire:{path:"assets/particles/outSide_fire.json",texture:"particle.spirit_fire"},huasheng_fire:{path:"assets/particles/huasheng_fire.json",texture:"particle.spirit_fire"},cut_leaf:{path:"assets/particles/cut_leaf.json",texture:"particle.leaf"},add_spices:{path:"assets/particles/add_spices.json",texture:"particle.spices"},add_yeast:{path:"assets/particles/add_yeast.json",texture:"particle.spices"},add_solid_block:{path:"assets/particles/add_solid.json",texture:"particle.spices"},water_boilingBubble:{path:"assets/particles/boiling_water.json",texture:"particle.boilingBubble"},water_boilingBubbleT:{path:"assets/particles/boiling_water_t.json",texture:"particle.boilingBubble"},bottle_gas:{path:"assets/particles/bottle_gas.json",texture:"particle_smoke_5"},bottle_gas2:{path:"assets/particles/bottle_gas.json",texture:["particle_smoke_1","particle_smoke_2","particle_smoke_3","particle_smoke_4","particle_smoke_5","particle_smoke_6"]}},t.ParticleUtil=i,e.exports=i}).call(t,i(1))},function(e,t,i){"use strict";var r={};r.fitMc=function(e,t){var i=e.getChildAt(1),r=i.width/i.height;r>=1?(i.width=t,i.height=t/r):(i.height=t,i.width=t*r),i.x=-i.width/2,i.y=(t-i.height)/2;var n=e.getChildAt(0);return n.x=-n.width/2,n.y=t+30,e},r.setRdmXY=function(e,t,i,r){e.x=Math.cos(Math.random()*Math.PI)*Math.random()*r+t,e.y=Math.sin(Math.random()*Math.PI)*Math.random()*r+i},e.exports=r},function(e,t,i){"use strict";var r={};r.PLANE_W=500,r.PLANE_H=500,r.getFan=function(e,t,i,r,n,o){for(var a=0,s=0,h=0,c=0,l=0;l<e.length;l++){var u,d,f=e[l][0],p=e[l][1];1==t?(u=f/i*n,d=p/r*o):(u=f,d=p);var m=1/u;a+=m,s+=d,h+=m*d,c+=m*m}var v=[[e.length,a],[a,c]],y=[[s],[h]],g=Matrix.inverse(v),b=Matrix.multiply(g,y);return Matrix.traceMatrix(b),b},r.getNiheStrAB=function(e,t,i,r,n,o){for(var a=0,s=0,h=0,c=0,l=0;l<e.length;l++){var u,d,f=e[l][0],p=e[l][1];e[l];t?(u=f/i*n,d=p/r*o):(u=f,d=p),a+=u,s+=d,h+=u*d;c+=u*u}var m=[[e.length,a],[a,c]],v=[[s],[h]],y=Matrix.inverse(m),g=Matrix.multiply(y,v);return Matrix.traceMatrix(g),g},r.getNiheCurABC=function(e,t,i,r,n,o){for(var a=0,s=0,h=0,c=0,l=0,u=0,d=0,f=0;f<e.length;f++){var p,m,v=e[f][0],y=e[f][1];t?(p=v/i*n,m=y/r*o):(p=v,m=y),a+=p,s+=m,h+=p*m;var g=p*p;c+=g,l+=g*m,u+=g*p,d+=g*g}var b=[[e.length,a,c],[a,c,u],[c,u,d]],x=[[s],[h],[l]],w=Matrix.inverse(b),_=Matrix.multiply(w,x);return Matrix.traceMatrix(_),_},r.getSomeData=function(e){if(0!=e.length){for(var t,i,n=0;n<e.length;n++){var o=e[n];0==n?(t=o,i=o):(o[0]>t[0]&&(t=o),o[1]>i[1]&&(i=o))}e=r.lToBArr(e);var a=1,s=1,h=1,c=1,l=t[0],u=i[1],d=r.getMinSec(l,u);return l>u?(u*=d,s=d):u>l&&(l*=d,a=d),console.log("_kxx,_kyy",a,s),l>=u&&(h=c=l/r.PLANE_W),u>=l&&(h=c=u/r.PLANE_H),console.log("_kx,_ky",h,c),[h,c,a,s]}},r.lToBArr=function(e){for(var t=1;t<e.length;t++)for(var i=0;i<e.length-t;i++)e[i][0]>e[i+1][0]&&(temp=e[i],e[i]=e[i+1],e[i+1]=temp);return e},r.getMinSec=function(e,t){if(e==t||0==e||0==t)return 1;for(var i=Math.min(e,t),r=Math.max(e,t),n=r/i,o=0,a=0,s=0;;){var h=i*Math.pow(10,a);if(h>r){s=h/r,s<n&&(n=s,o=a);break}(s=r/h)<n&&(n=s,o=a),a++}return Math.pow(10,o)},e.exports=r},function(e,t,i){"use strict";var r={};r.init=function(){this.renderer=PIXI.autoDetectRenderer(409,409,{transparent:!0}),document.body.appendChild(this.renderer.view),this.stage=new PIXI.Container,this.bunny=new PIXI.Sprite,this.stage.addChild(this.bunny),this.bunny.x=250,this.bunny.y=250,this.bunny.pivot.x=204.5,this.bunny.pivot.y=204.5},r.trimPic=function(e){e.texture=e,this.renderer.render(this.stage)},e.exports=r},function(e,t,i){"use strict";function r(e){function t(e){return e=e.replace(/,/g,""),e=e.replace(/\D\./g,function(e){return"."!==e.substr(0,1)?e.substr(0,1)+"":""}),e=e.replace(/\D\./g,function(e){return"."!==e.substr(0,1)?e.substr(0,1)+"":""}),e=e.replace(/!/g,""),e=e.replace(/\?/g,"")}function i(){for(var e=0,t=0;t<d.children.length;t++){var i=d.children[t];i.x=nb.canvasWidth-f-i.style.wordWrapWidth>>1,i.y=e,e+=i.height}}function r(){p?(z=j,G=$(window).height()-z-60):(z=50,G=$(window).height()-2*z-60);var e={position:"absolute",top:z,width:"630px",height:G,left:$(window).width()/2-120+"px"};H.css(e)}function s(){var e=this,t=this.id.substr(1,1);$("#ap"+t).is(":animated")||(e.isOpen?$("#ap"+t).slideUp("fast"):$("#ap"+t).slideDown("fast"),e.isOpen=!e.isOpen)}function h(){var e=$("#txtDiv").height(),t=$("#disDiv").height(),i=(t-z-e)/2;0==q&&(q=40==M?0+2*M:0+C/2),p?e=q:i<0?e=0:(e=i,console.log(i)),$("#txtDiv").css({marginTop:e+"px",width:"600px"})}function c(e){clearInterval(K)}function l(e){K=setInterval(h,20)}function u(){$("#disDiv").css({top:z,left:$(window).width()/2-120+"px"}),$("#dis_img").css({left:$(window).width()/2-120+S.imgOffsetLeft+"px"})}PIXI.Container.call(this);var d=new PIXI.Container;this.addChild(d);var f=nb.stackPosX+300,p=!0;try{var m=new PIXI.Sprite.fromFrame("discuss.png")}catch(e){var m=new PIXI.Container;p=!1}var v=m.height,y=m.width,g=800;if(y>1300&&(g=1200),v>y){var b=400/v;m.height=400,m.width=b*y}if(y>2*v){var b=g/y;m.width=g,m.height=b*v}if(y<2*v&&v<y){var x=Math.abs(y/v),b=(400+100*x)/y;m.width=400+100*x,m.height=b*v}var w=instance.renderer.view.height/$(instance.renderer.view).height(),_=new PIXI.CanvasRenderer(BiologyMain.W,BiologyMain.H),T=m.generateTexture(_),E=T.getBase64(),S=document.createElement("div");S.id="dis_img",S.innerHTML='<img id="disImg" src="'+E+'" style="position: relative; width: '+m.width/w+"px;height: "+m.height/w+'px;">',$("body").append(S),$("#dis_img").css({position:"absolute"}),m.x=nb.canvasWidth-f-m.width/2>>1;var M=0,C=0;m.height<200?(M=40,m.y=(600-m.height)/2-M,C=(600-m.height)/2):(m.y=(600-m.height)/2,C=(600-m.height)/2);var A=(new PIXI.Sprite.fromFrame("conclusion.replay"),e.text.split(/\n/));for(P=1;P<A.length;P++){var D=A[P];D.length>2&&""!=D.charAt(1)&&(A[P-1]=A[P-1]+"\n"+A[P],A.splice(P,1),P--)}for(var k=[],I=A.length,P=0;P<I;P++){var R=A[P],F=n(),O=/\[([\s\S]*)\]/,L=O.exec(R);null!=L&&(L[1]=t(L[1]),R=R.replace(L[0],""),F.answer=o(),F.answer.text=L[1],F.addEventListener(TouchEvent.TOUCH_BEGIN,function(e){if(null==this.answer.parent){d.getChildIndex(this);this.answer.alpha=0,this.answer.scale.x=0,this.answer.scale.y=0}this.isOpen?(TweenMax.to(this.answer,.4,{alpha:0,onUpdate:i}),TweenMax.to(this.answer.scale,.4,{x:0,y:0})):(TweenMax.to(this.answer,.4,{alpha:1,onUpdate:i}),TweenMax.to(this.answer.scale,.4,{x:1,y:1})),this.isOpen=!this.isOpen})),k.push(R),F.text=R,F.y=d.height}d.x=nb.canvasWidth-f-a>>1,d.y=m.y+m.height+(nb.canvasHeight-m.y-m.height-d.height>>1),$(window).resize(u),u();var B=instance.getCurrentFrame();B.onResume=function(){$("#disDiv").show(),$("#dis_img").show()},B.onPause=function(){$("#disDiv").hide(),$("#dis_img").hide()};var N=document.createElement("div");N.id="disDiv",$($("#logo").get(0)).before(N),$("#disDiv").css({"-webkit-user-select":"none","-moz-user-select":"none","user-select":"none",cursor:"default"});var U=document.createElement("div");U.id="txtDiv";var H=$("#disDiv");H.append(U);var j=(m.y+m.height)/w,z=0,G=0;r(),window.addEventListener("resize",r),S.imgOffsetLeft=(600-$("#dis_img").width())/2,$("#dis_img").css({left:$(window).width()/2-120+S.imgOffsetLeft+"px",top:z-$("#dis_img").height()}),$("#disImg").css("margin-top",(z-$("#disImg").height())/2);for(var P=0;P<I;P++){var V='<div id="txtParentDiv'+P+'" class="txtParentDiv"></div>';k[P]=t(k[P]);var X="<p id='p"+P+"' class='_p'>"+k[P]+"</p>",R=A[P],O=/\[([\s\S]*)\]/,L=O.exec(R);if($("#p"+P).isOpen=!1,null!=L){L[1]=t(L[1]),R=R.replace(L[0],"");var Y=L[1],W="<p id='ap"+P+"' class='answer'>"+Y+"</p>";$("#txtDiv").append(V),$("#txtParentDiv"+P).append(X),$("#txtParentDiv"+P).append(W),$("#p"+P).click(s)}textControl($("#p"+P).get(0),!0,function(){},23,1.5),textControl($("#ap"+P).get(0),!0,function(){},20,1.5)}$(".txtParentDiv").css({"margin-bottom":"20px"}),$("._p").css({margin:0,color:"#FFFFFF",fontSize:"23px",padding:"0px"}),$(".answer").css({color:"#FFFF00",fontSize:"20px",padding:"20px 0 0",margin:"0px",display:"none",textIndent:"2em"});var q=0;h();var K,B=instance.getCurrentFrame();B.addEventListener("onPause",c),B.addEventListener("onResume",l),H.mCustomScrollbar({callbacks:{onCreate:function(){$(".mCSB_container").css({height:"auto"}),console.log("")}}})}function n(){return new PIXI.Text("",{fill:"#FFFFFF",strokeThickness:6,font:'normal 45px "Microsoft Yahei"',wordWrap:!0,wordWrapWidth:a,lineHeight:100})}function o(){return new PIXI.Text("",{fill:"#FFF000",strokeThickness:6,font:'normal 45px "Microsoft Yahei"',wordWrap:!0,wordWrapWidth:a,lineHeight:80})}var a=1050;r.prototype=Object.create(PIXI.Container.prototype),r.constructor=r,r.prototype.setText=function(e){this.text.text=e},e.exports=r},function(e,t,i){"use strict";function r(e){function t(){var e=$(window).width()-u;if($(window).width()>=640){$(window).width()-u>600?$("#_div_").css("width","600px"):$("#_div_").css("width",e);var t=$("#_div_").width();$("#_div_").css({top:$(window).height()/2-n.height()/2,left:u+(e-t)/2})}else $("#_div_").css("width",$(window).width()-10),$("#_div_").css({top:$(window).height()/2-n.height()/2,left:5})}PIXI.Container.call(this);var i=new PIXI.Sprite.fromFrame("frames.purpose");i.x=nb.canvasWidth-nb.stackPosX-i.width>>1,i.y=150,e.text=function(e){return e=e.replace(/,/g,""),e=e.replace(/\D\./g,function(e){return"."!==e.substr(0,1)?e.substr(0,1)+"":""}),e=e.replace(/\D\./g,function(e){return"."!==e.substr(0,1)?e.substr(0,1)+"":""}),e=e.replace(/!/g,""),e=e.replace(/\?/g,""),e=e.replace(/<br>/g,"")}(e.text);new PIXI.Sprite.fromFrame("conclusion.replay");this.text=new PIXI.Text("",{fill:"#FFFFFF",font:'normal 45px "Microsoft Yahei"',wordWrap:!0,wordWrapWidth:1550,lineHeight:100});var r=document.createElement("div");r.id="_div_",$("body").append(r);var n=$("#_div_"),o=instance.getCurrentFrame(),a=$("<div></div>");a.addClass("ft_"+o.name),n.append(a);for(var s=e.text.split("\n"),h=0;h<s.length;h++){var c=s[h];c=c.replace(/(\s|&nbsp;)+/g,"")+"\n";var l='<span id="_txt_" style="position: relative;margin: 50px; width:auto">'+c+"</span><br>";a.append(l)}o.showText=a,o.onResume=function(){$("#_div_").show(),o.showText.show(),t(),textControl(r,!0,t,23,2)},o.onPause=function(){$("#_div_").hide(),o.showText.hide(),textControl(r,!1)},n.css({position:"absolute",width:"600px",margin:0,color:"#FFFFFF",padding:"0px",top:$(window).height()/2-n.height()/2,left:$(window).width()/2-120+"px","z-index":-1});var u=336;$(window).resize(t),t()}r.prototype=Object.create(PIXI.Container.prototype),r.constructor=r,r.prototype.setText=function(e){this.text.text=e,this.text.y=BiologyMain.H-this.text.height>>1},e.exports=r},function(e,t,i){"use strict";(function(t){var i=t.THREE;i.Animation=function(e,t){this.root=e,this.data=i.AnimationHandler.init(t),this.hierarchy=i.AnimationHandler.parse(e),this.currentTime=0,this.timeScale=1,this.isPlaying=!1,this.loop=!0,this.weight=0,this.interpolationType=i.AnimationHandler.LINEAR},i.Animation.prototype={constructor:i.Animation,keyTypes:["pos","rot","scl"],play:function(e,t){this.currentTime=void 0!==e?e:0,this.weight=void 0!==t?t:1,this.isPlaying=!0,this.reset(),i.AnimationHandler.play(this)},stop:function(){this.isPlaying=!1,i.AnimationHandler.stop(this)},reset:function(){for(var e=0,t=this.hierarchy.length;e<t;e++){var i=this.hierarchy[e];void 0===i.animationCache&&(i.animationCache={animations:{},blending:{positionWeight:0,quaternionWeight:0,scaleWeight:0}});var r=this.data.name,n=i.animationCache.animations,o=n[r];void 0===o&&(o={prevKey:{pos:0,rot:0,scl:0},nextKey:{pos:0,rot:0,scl:0},originalMatrix:i.matrix},n[r]=o);for(var a=0;a<3;a++){for(var s=this.keyTypes[a],h=this.data.hierarchy[e].keys[0],c=this.getNextKeyWith(s,e,1);c.time<this.currentTime&&c.index>h.index;)h=c,c=this.getNextKeyWith(s,e,c.index+1);o.prevKey[s]=h,o.nextKey[s]=c}}},resetBlendWeights:function(){for(var e=0,t=this.hierarchy.length;e<t;e++){var i=this.hierarchy[e],r=i.animationCache;if(void 0!==r){var n=r.blending;n.positionWeight=0,n.quaternionWeight=0,n.scaleWeight=0}}},update:function(){var e=[],t=new i.Vector3,r=new i.Vector3,n=new i.Quaternion,o=function(e,t){var i,r,n,o,s,h,c,l,u,d=[],f=[];return i=(e.length-1)*t,r=Math.floor(i),n=i-r,d[0]=0===r?r:r-1,d[1]=r,d[2]=r>e.length-2?r:r+1,d[3]=r>e.length-3?r:r+2,h=e[d[0]],c=e[d[1]],l=e[d[2]],u=e[d[3]],o=n*n,s=n*o,f[0]=a(h[0],c[0],l[0],u[0],n,o,s),f[1]=a(h[1],c[1],l[1],u[1],n,o,s),f[2]=a(h[2],c[2],l[2],u[2],n,o,s),f},a=function(e,t,i,r,n,o,a){var s=.5*(i-e),h=.5*(r-t);return(2*(t-i)+s+h)*a+(-3*(t-i)-2*s-h)*o+s*n+t};return function(a){if(!1!==this.isPlaying&&(this.currentTime+=a*this.timeScale,0!==this.weight)){var s=this.data.length;(this.currentTime>s||this.currentTime<0)&&(this.loop?(this.currentTime%=s,this.currentTime<0&&(this.currentTime+=s),this.reset()):this.stop());for(var h=0,c=this.hierarchy.length;h<c;h++)for(var l=this.hierarchy[h],u=l.animationCache.animations[this.data.name],d=l.animationCache.blending,f=0;f<3;f++){var p=this.keyTypes[f],m=u.prevKey[p],v=u.nextKey[p];if(this.timeScale>0&&v.time<=this.currentTime||this.timeScale<0&&m.time>=this.currentTime){for(m=this.data.hierarchy[h].keys[0],v=this.getNextKeyWith(p,h,1);v.time<this.currentTime&&v.index>m.index;)m=v,v=this.getNextKeyWith(p,h,v.index+1);u.prevKey[p]=m,u.nextKey[p]=v}var y=(this.currentTime-m.time)/(v.time-m.time),g=m[p],b=v[p];if(y<0&&(y=0),y>1&&(y=1),"pos"===p){if(this.interpolationType===i.AnimationHandler.LINEAR){r.x=g[0]+(b[0]-g[0])*y,r.y=g[1]+(b[1]-g[1])*y,r.z=g[2]+(b[2]-g[2])*y;var x=this.weight/(this.weight+d.positionWeight);l.position.lerp(r,x),d.positionWeight+=this.weight}else if(this.interpolationType===i.AnimationHandler.CATMULLROM||this.interpolationType===i.AnimationHandler.CATMULLROM_FORWARD){e[0]=this.getPrevKeyWith("pos",h,m.index-1).pos,e[1]=g,e[2]=b,e[3]=this.getNextKeyWith("pos",h,v.index+1).pos,y=.33*y+.33;var w=o(e,y),x=this.weight/(this.weight+d.positionWeight);d.positionWeight+=this.weight;var _=l.position;if(_.x=_.x+(w[0]-_.x)*x,_.y=_.y+(w[1]-_.y)*x,_.z=_.z+(w[2]-_.z)*x,this.interpolationType===i.AnimationHandler.CATMULLROM_FORWARD){var T=o(e,1.01*y);t.set(T[0],T[1],T[2]),t.sub(_),t.y=0,t.normalize();var E=Math.atan2(t.x,t.z);l.rotation.set(0,E,0)}}}else if("rot"===p)if(i.Quaternion.slerp(g,b,n,y),0===d.quaternionWeight)l.quaternion.copy(n),d.quaternionWeight=this.weight;else{var x=this.weight/(this.weight+d.quaternionWeight);i.Quaternion.slerp(l.quaternion,n,l.quaternion,x),d.quaternionWeight+=this.weight}else if("scl"===p){r.x=g[0]+(b[0]-g[0])*y,r.y=g[1]+(b[1]-g[1])*y,r.z=g[2]+(b[2]-g[2])*y;var x=this.weight/(this.weight+d.scaleWeight);l.scale.lerp(r,x),d.scaleWeight+=this.weight}}return!0}}}(),getNextKeyWith:function(e,t,r){var n=this.data.hierarchy[t].keys;for(this.interpolationType===i.AnimationHandler.CATMULLROM||this.interpolationType===i.AnimationHandler.CATMULLROM_FORWARD?r=r<n.length-1?r:n.length-1:r%=n.length;r<n.length;r++)if(void 0!==n[r][e])return n[r];return this.data.hierarchy[t].keys[0]},getPrevKeyWith:function(e,t,r){var n=this.data.hierarchy[t].keys;for(r=this.interpolationType===i.AnimationHandler.CATMULLROM||this.interpolationType===i.AnimationHandler.CATMULLROM_FORWARD?r>0?r:0:r>=0?r:r+n.length;r>=0;r--)if(void 0!==n[r][e])return n[r];return this.data.hierarchy[t].keys[n.length-1]}},e.exports=i.Animation}).call(t,i(1))},function(e,t,i){"use strict";(function(t){var i=t.THREE;i.AnimationHandler={LINEAR:0,CATMULLROM:1,CATMULLROM_FORWARD:2,add:function(){console.warn("THREE.AnimationHandler.add() has been deprecated.")},get:function(){console.warn("THREE.AnimationHandler.get() has been deprecated.")},remove:function(){console.warn("THREE.AnimationHandler.remove() has been deprecated.")},animations:[],init:function(e){if(!0===e.initialized)return e;for(var t=0;t<e.hierarchy.length;t++){for(var r=0;r<e.hierarchy[t].keys.length;r++)if(e.hierarchy[t].keys[r].time<0&&(e.hierarchy[t].keys[r].time=0),void 0!==e.hierarchy[t].keys[r].rot&&!(e.hierarchy[t].keys[r].rot instanceof i.Quaternion)){var n=e.hierarchy[t].keys[r].rot;e.hierarchy[t].keys[r].rot=(new i.Quaternion).fromArray(n)}if(e.hierarchy[t].keys.length&&void 0!==e.hierarchy[t].keys[0].morphTargets){for(var o={},r=0;r<e.hierarchy[t].keys.length;r++)for(var a=0;a<e.hierarchy[t].keys[r].morphTargets.length;a++){var s=e.hierarchy[t].keys[r].morphTargets[a];o[s]=-1}e.hierarchy[t].usedMorphTargets=o;for(var r=0;r<e.hierarchy[t].keys.length;r++){var h={};for(var s in o){for(var a=0;a<e.hierarchy[t].keys[r].morphTargets.length;a++)if(e.hierarchy[t].keys[r].morphTargets[a]===s){h[s]=e.hierarchy[t].keys[r].morphTargetsInfluences[a];break}a===e.hierarchy[t].keys[r].morphTargets.length&&(h[s]=0)}e.hierarchy[t].keys[r].morphTargetsInfluences=h}}for(var r=1;r<e.hierarchy[t].keys.length;r++)e.hierarchy[t].keys[r].time===e.hierarchy[t].keys[r-1].time&&(e.hierarchy[t].keys.splice(r,1),r--);for(var r=0;r<e.hierarchy[t].keys.length;r++)e.hierarchy[t].keys[r].index=r}return e.initialized=!0,e},parse:function(e){var t=[];if(e instanceof i.SkinnedMesh)for(var r=0;r<e.skeleton.bones.length;r++)t.push(e.skeleton.bones[r]);else!function e(t,i){i.push(t);for(var r=0;r<t.children.length;r++)e(t.children[r],i)}(e,t);return t},play:function(e){-1===this.animations.indexOf(e)&&this.animations.push(e)},stop:function(e){var t=this.animations.indexOf(e);-1!==t&&this.animations.splice(t,1)},update:function(e){for(var t=0;t<this.animations.length;t++)this.animations[t].resetBlendWeights();for(var t=0;t<this.animations.length;t++)this.animations[t].update(e)}},e.exports=i.AnimationHandler}).call(t,i(1))},function(e,t,i){"use strict";(function(t){var i=t.THREE;i.KeyFrameAnimation=function(e){this.root=e.node,this.data=i.AnimationHandler.init(e),this.hierarchy=i.AnimationHandler.parse(this.root),this.currentTime=0,this.timeScale=.001,this.isPlaying=!1,this.isPaused=!0,this.loop=!0;for(var t=0,r=this.hierarchy.length;t<r;t++){var n=this.data.hierarchy[t].keys,o=this.data.hierarchy[t].sids,a=this.hierarchy[t];if(n.length&&o){for(var s=0;s<o.length;s++){var h=o[s],c=this.getNextKeyWith(h,t,0);c&&c.apply(h)}a.matrixAutoUpdate=!1,this.data.hierarchy[t].node.updateMatrix(),a.matrixWorldNeedsUpdate=!0}}},i.KeyFrameAnimation.prototype={constructor:i.KeyFrameAnimation,play:function(e){if(this.currentTime=void 0!==e?e:0,!1===this.isPlaying){this.isPlaying=!0;var t,r,n,o=this.hierarchy.length;for(t=0;t<o;t++){r=this.hierarchy[t],n=this.data.hierarchy[t],void 0===n.animationCache&&(n.animationCache={},n.animationCache.prevKey=null,n.animationCache.nextKey=null,n.animationCache.originalMatrix=r.matrix);var a=this.data.hierarchy[t].keys;a.length&&(n.animationCache.prevKey=a[0],n.animationCache.nextKey=a[1],this.startTime=Math.min(a[0].time,this.startTime),this.endTime=Math.max(a[a.length-1].time,this.endTime))}this.update(0)}this.isPaused=!1,i.AnimationHandler.play(this)},stop:function(){this.isPlaying=!1,this.isPaused=!1,i.AnimationHandler.stop(this);for(var e=0;e<this.data.hierarchy.length;e++){var t=this.hierarchy[e],r=this.data.hierarchy[e];if(void 0!==r.animationCache){var n=r.animationCache.originalMatrix;n.copy(t.matrix),t.matrix=n,delete r.animationCache}}},update:function(e){if(!1!==this.isPlaying){this.currentTime+=e*this.timeScale;var t=this.data.length;!0===this.loop&&this.currentTime>t&&(this.currentTime%=t),this.currentTime=Math.min(this.currentTime,t);for(var i=0,r=this.hierarchy.length;i<r;i++){var n=this.hierarchy[i],o=this.data.hierarchy[i],a=o.keys,s=o.animationCache;if(a.length){var h=s.prevKey,c=s.nextKey;if(c.time<=this.currentTime){for(;c.time<this.currentTime&&c.index>h.index;)h=c,c=a[h.index+1];s.prevKey=h,s.nextKey=c}c.time>=this.currentTime?h.interpolate(c,this.currentTime):h.interpolate(c,c.time),this.data.hierarchy[i].node.updateMatrix(),n.matrixWorldNeedsUpdate=!0}}}},getNextKeyWith:function(e,t,i){var r=this.data.hierarchy[t].keys;for(i%=r.length;i<r.length;i++)if(r[i].hasTarget(e))return r[i];return r[0]},getPrevKeyWith:function(e,t,i){var r=this.data.hierarchy[t].keys;for(i=i>=0?i:i+r.length;i>=0;i--)if(r[i].hasTarget(e))return r[i];return r[r.length-1]}},e.exports=i.KeyFrameAnimation}).call(t,i(1))},function(e,t){THREE.ColladaLoader=function(){function e(e,i,r,n){var o=0;if(document.implementation&&document.implementation.createDocument){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4===a.readyState){if(0===a.status||200===a.status)if(a.responseXML)Ge=i,t(a.responseXML,void 0,e);else if(a.responseText){Ge=i;var s=new DOMParser,h=s.parseFromString(a.responseText,"application/xml");t(h,void 0,e)}else faillCallback?n():console.error("ColladaLoader: Empty or non-existing file ("+e+")")}else 3===a.readyState&&r&&(0===o&&(o=a.getResponseHeader("Content-Length")),r({total:o,loaded:a.responseText.length}))},a.open("GET",e,!0),a.send(null)}else alert("Don't know how to parse XML!")}function t(e,t,i){if(je=e.charAt?jQuery.parseXML(e):e,t=t||Ge,void 0!==i){var o=i.split("/");o.pop(),Ne=(o.length<1?".":o.join("/"))+"/"}r(),Se(),Xe=n("library_images image",k,"image"),$e=n("library_materials material",Z,"material"),Ke=n("library_effects effect",ie,"effect"),qe=n("library_geometries geometry",H,"geometry"),Ze=n("library_cameras camera",he,"camera"),Je=n("library_lights light",le,"light"),We=n("library_controllers controller",I,"controller"),Ye=n("library_animations animation",ne,"animation"),Le=n("library_visual_scenes visual_scene",F,"visual_scene"),Be=n("library_kinematics_models kinematics_model",de,"kinematics_model"),Ue=[],He=[],Pe=a(),ze=new THREE.Group;for(var s=0;s<Pe.nodes.length;s++)ze.add(x(Pe.nodes[s]));ze.scale.multiplyScalar(tt),c(),Re=h(),b();var l={scene:ze,morphs:Ue,skins:He,animations:Fe,kinematics:Oe,dae:{images:Xe,materials:$e,cameras:Ze,lights:Je,effects:Ke,geometries:qe,controllers:We,animations:Ye,visualScenes:Le,visualScene:Pe,scene:Pe,kinematicsModels:Be,kinematicsModel:Re}};return t&&t(l),l}function i(e){Qe=e}function r(){var e=je.querySelectorAll("asset"),t=e[0];if(t&&t.childNodes)for(var i=0;i<t.childNodes.length;i++){var r=t.childNodes[i];switch(r.nodeName){case"unit":var n=r.getAttribute("meter");n&&(tt=parseFloat(n));break;case"up_axis":it=r.textContent.charAt(0)}}}function n(e,t,i){for(var r=je.querySelectorAll(e),n={},o=0,a=r.length,s=0;s<a;s++){var h=r[s],c=(new t).parse(h);c.id&&0!==c.id.length||(c.id=i+o++),n[c.id]=c}return n}function a(){var e=je.querySelectorAll("scene instance_visual_scene")[0];if(e){var t=e.getAttribute("url").replace(/^#/,"");return Le[t.length>0?t:"visual_scene0"]}return null}function h(){var e=je.querySelectorAll("instance_kinematics_model")[0];if(e){var t=e.getAttribute("url").replace(/^#/,"");return Be[t.length>0?t:"kinematics_model0"]}return null}function c(){Fe=[],l(ze)}function l(e){var t=Pe.getChildById(e.colladaId,!0),i=null;if(t&&t.keys){i={fps:60,hierarchy:[{node:t,keys:t.keys,sids:t.sids}],node:e,name:"animation_"+e.name,length:0},Fe.push(i);for(var r=0,n=t.keys.length;r<n;r++)i.length=Math.max(i.length,t.keys[r].time)}else i={hierarchy:[{keys:[],sids:[]}]};for(var r=0,n=e.children.length;r<n;r++)for(var o=l(e.children[r]),a=0,s=o.hierarchy.length;a<s;a++)i.hierarchy.push({keys:[],sids:[]});return i}function u(){var e,t=1e6,i=-t,r=0;for(var n in Ye){var o=Ye[n];e=e||o.id;for(var a=0;a<o.sampler.length;a++){var s=o.sampler[a];s.create(),t=Math.min(t,s.startTime),i=Math.max(i,s.endTime),r=Math.max(r,s.input.length)}}return{start:t,end:i,frames:r,ID:e}}function d(e,t){var i=t instanceof B?We[t.url]:t;if(!i||!i.morph)return void console.log("could not find morph controller!");for(var r=i.morph,n=0;n<r.targets.length;n++){var o=r.targets[n],a=qe[o];if(a.mesh&&a.mesh.primitives&&a.mesh.primitives.length){var s=a.mesh.primitives[0].geometry;s.vertices.length===e.vertices.length&&e.morphTargets.push({name:"target_1",vertices:s.vertices})}}e.morphTargets.push({name:"target_Z",vertices:e.vertices})}function f(e,t,i,r){if(e.world=e.world||new THREE.Matrix4,e.localworld=e.localworld||new THREE.Matrix4,e.world.copy(e.matrix),e.localworld.copy(e.matrix),e.channels&&e.channels.length){var n=e.channels[0],o=n.sampler.output[i];o instanceof THREE.Matrix4&&(e.world.copy(o),e.localworld.copy(o),0===i&&e.matrix.copy(o))}r&&e.world.multiplyMatrices(r,e.world),t.push(e);for(var a=0;a<e.nodes.length;a++)f(e.nodes[a],t,i,e.world)}function p(e,t){for(var i=0;i<e.length;i++){var r=e[i],n=-1;if("JOINT"==r.type){for(var o=0;o<t.joints.length;o++)if(r.sid===t.joints[o]){n=o;break}if(n>=0){var a=t.invBindMatrices[n];r.invBindMatrix=a,r.skinningMatrix=new THREE.Matrix4,r.skinningMatrix.multiplyMatrices(r.world,a),r.animatrix=new THREE.Matrix4,r.animatrix.copy(r.localworld),r.weights=[];for(var o=0;o<t.weights.length;o++)for(var s=0;s<t.weights[o].length;s++){var h=t.weights[o][s];h.joint===n&&r.weights.push(h)}}else r.skinningMatrix=new THREE.Matrix4,r.weights=[]}}}function m(e){var t=[],i=function(e,t,r){var n={};n.name=t.sid,n.parent=e,n.matrix=t.matrix;var o=[new THREE.Vector3,new THREE.Quaternion,new THREE.Vector3];n.matrix.decompose(o[0],o[1],o[2]),n.pos=[o[0].x,o[0].y,o[0].z],n.scl=[o[2].x,o[2].y,o[2].z],n.rotq=[o[1].x,o[1].y,o[1].z,o[1].w],r.push(n);for(var a in t.nodes)i(t.sid,t.nodes[a],r)};return i(-1,e,t),t}function y(e,t,i){var r=[];f(t,r,-1),p(r,i.skin),v=new THREE.Vector3;for(var n=[],a=0;a<e.vertices.length;a++)n.push(new THREE.Vector3);for(a=0;a<r.length;a++)if("JOINT"==r[a].type)for(j=0;j<r[a].weights.length;j++)w=r[a].weights[j],vidx=w.index,weight=w.weight,o=e.vertices[vidx],s=n[vidx],v.x=o.x,v.y=o.y,v.z=o.z,v.applyMatrix4(r[a].skinningMatrix),s.x+=v.x*weight,s.y+=v.y*weight,s.z+=v.z*weight;for(var a=0;a<e.vertices.length;a++)e.vertices[a]=n[a]}function g(e,t,i){var r=We[t.url];if(i=void 0!==i?i:40,!r||!r.skin)return void console.log("ColladaLoader: Could not find skin controller.");if(!t.skeleton||!t.skeleton.length)return void console.log("ColladaLoader: Could not find the skeleton for the skin. ");for(var n=u(),o=Pe.getChildById(t.skeleton[0],!0)||Pe.getChildBySid(t.skeleton[0],!0),a=m(o),s=r.skin.joints,h=[],c=0;c<s.length;c++)for(var l=0;l<a.length;l++)a[l].name===s[c]&&(h[c]=a[l]);for(var c=0;c<h.length;c++)for(var l=0;l<h.length;l++)void 0===h[l]&&debug,h[c].parent===h[l].name&&(h[c].parent=l);var c,l,d;new THREE.Vector3;for(c=0;c<e.vertices.length;c++)e.vertices[c].applyMatrix4(r.skin.bindShapeMatrix);for(var v=[],g=[],b=r.skin.weights,c=0;c<b.length;c++){var x=new THREE.Vector4(b[c][0]?b[c][0].joint:0,b[c][1]?b[c][1].joint:0,b[c][2]?b[c][2].joint:0,b[c][3]?b[c][3].joint:0),d=new THREE.Vector4(b[c][0]?b[c][0].weight:0,b[c][1]?b[c][1].weight:0,b[c][2]?b[c][2].weight:0,b[c][3]?b[c][3].weight:0);v.push(x),g.push(d)}e.skinIndices=v,e.skinWeights=g,e.bones=h;for(var w={name:n.ID,fps:30,length:n.frames/30,hierarchy:[]},l=0;l<h.length;l++)w.hierarchy.push({parent:h[l].parent,name:h[l].name,keys:[]});for(console.log("ColladaLoader:",n.ID+" has "+h.length+" bones."),y(e,o,r),i=0;i<n.frames;i++){var _=[];f(o,_,i),p(_,r.skin);for(var c=0;c<_.length;c++)for(var l=0;l<w.hierarchy.length;l++)if(w.hierarchy[l].name===_[c].sid){var T={};T.time=i/30,T.matrix=_[c].animatrix,0===i&&(_[c].matrix=T.matrix);var E=[new THREE.Vector3,new THREE.Quaternion,new THREE.Vector3];T.matrix.decompose(E[0],E[1],E[2]),T.pos=[E[0].x,E[0].y,E[0].z],T.scl=[E[2].x,E[2].y,E[2].z],T.rot=E[1],w.hierarchy[l].keys.push(T)}e.animation=w}}function b(){if(Re&&0===Re.joints.length)return void(Oe=void 0);var e={};Oe={joints:Re&&Re.joints,getJointValue:function(t){var i=e[t];if(i)return i.position;console.log("getJointValue: joint "+t+" doesn't exist")},setJointValue:function(t,r){var n=e[t];if(n){var o=n.joint;if(r>o.limits.max||r<o.limits.min)console.log("setJointValue: joint "+t+" value "+r+" outside of limits (min: "+o.limits.min+", max: "+o.limits.max+")");else if(o.static)console.log("setJointValue: joint "+t+" is static");else{var a=n.node,s=o.axis,h=n.transforms,c=new THREE.Matrix4;for(i=0;i<h.length;i++){var l=h[i];if(l.sid&&-1!==l.sid.indexOf("joint"+t))switch(o.type){case"revolute":c.multiply(u.makeRotationAxis(s,THREE.Math.degToRad(r)));break;case"prismatic":c.multiply(u.makeTranslation(s.x*r,s.y*r,s.z*r));break;default:console.warn("setJointValue: unknown joint type: "+o.type)}else{var u=new THREE.Matrix4;switch(l.type){case"matrix":c.multiply(l.obj);break;case"translate":c.multiply(u.makeTranslation(l.obj.x,l.obj.y,l.obj.z));break;case"rotate":c.multiply(u.makeRotationAxis(l.obj,l.angle))}}}var d=c.elements,f=Array.prototype.slice.call(d),p=[f[0],f[4],f[8],f[12],f[1],f[5],f[9],f[13],f[2],f[6],f[10],f[14],f[3],f[7],f[11],f[15]];a.matrix.set.apply(a.matrix,p),a.matrix.decompose(a.position,a.quaternion,a.scale)}}else console.log("setJointValue: joint "+t+" doesn't exist")}};var t=je.querySelector("scene instance_kinematics_scene");if(t)for(var i=0;i<t.childNodes.length;i++){var r=t.childNodes[i];if(1==r.nodeType)switch(r.nodeName){case"bind_joint_axis":var n=r.getAttribute("target").split("/").pop(),o=r.querySelector("axis param").textContent,a=parseInt(o.split("joint").pop().split(".")[0]),s=je.querySelector('[sid="'+n+'"]');if(s){var h=s.parentElement;!function(t,i){var r=i.getAttribute("id"),n=Pe.getChildById(r,!0),o=Re.joints[t];ze.traverse(function(i){i.colladaId==r&&(e[t]={node:i,transforms:n.transforms,joint:o,position:o.zeroPosition})})}(a,h)}}}}function x(e,t){var i,r,n,o,a=new THREE.Object3D;for(n=0;n<e.controllers.length;n++){var s=We[e.controllers[n].url];switch(s.type){case"skin":if(qe[s.skin.source]){var h=new U;h.url=s.skin.source,h.instance_material=e.controllers[n].instance_material,e.geometries.push(h),!0,i=e.controllers[n]}else if(We[s.skin.source]){var c=We[s.skin.source];if(r=c,c.morph&&qe[c.morph.source]){var h=new U;h.url=c.morph.source,h.instance_material=e.controllers[n].instance_material,e.geometries.push(h)}}break;case"morph":if(qe[s.morph.source]){var h=new U;h.url=s.morph.source,h.instance_material=e.controllers[n].instance_material,e.geometries.push(h),r=e.controllers[n]}console.log("ColladaLoader: Morph-controller partially supported.")}}var l={};for(n=0;n<e.geometries.length;n++){var u,f=e.geometries[n],p=f.instance_material,m=qe[f.url],v={},y=[],b=0;if(m){if(!m.mesh||!m.mesh.primitives)continue;if(0===a.name.length&&(a.name=m.id),p)for(o=0;o<p.length;o++){var w=p[o],_=$e[w.target],T=_.instance_effect.url,E=Ke[T].shader,S=E.material;if(m.doubleSided){if(!(w.symbol in l)){var M=S.clone();M.side=THREE.DoubleSide,l[w.symbol]=M}S=l[w.symbol]}S.opacity=S.opacity?S.opacity:1,v[w.symbol]=b,y.push(S),u=S,u.name=null===_.name||""===_.name?_.id:_.name,b++}var C,A=u||new THREE.MeshLambertMaterial({color:14540253,side:m.doubleSided?THREE.DoubleSide:THREE.FrontSide}),D=m.mesh.geometry3js;if(b>1)for(A=new THREE.MeshFaceMaterial(y),o=0;o<D.faces.length;o++){var k=D.faces[o];k.materialIndex=v[k.daeMaterial]}void 0!==i?(g(D,i),D.morphTargets.length>0?(A.morphTargets=!0,A.skinning=!1):(A.morphTargets=!1,A.skinning=!0),C=new THREE.SkinnedMesh(D,A,!1),C.name="skin_"+He.length,He.push(C)):void 0!==r?(d(D,r),A.morphTargets=!0,C=new THREE.Mesh(D,A),C.name="morph_"+Ue.length,Ue.push(C)):C=!0===D.isLineStrip?new THREE.Line(D):new THREE.Mesh(D,A),a.add(C)}}for(n=0;n<e.cameras.length;n++){var I=e.cameras[n],P=Ze[I.url],R=new THREE.PerspectiveCamera(P.yfov,parseFloat(P.aspect_ratio),parseFloat(P.znear),parseFloat(P.zfar));a.add(R)}for(n=0;n<e.lights.length;n++){var F=null,O=e.lights[n],L=Je[O.url];if(L&&L.technique){var B=L.color.getHex(),N=L.intensity,H=L.distance,j=L.falloff_angle;switch(L.technique){case"directional":F=new THREE.DirectionalLight(B,N,H),F.position.set(0,0,1);break;case"point":F=new THREE.PointLight(B,N,H);break;case"spot":F=new THREE.SpotLight(B,N,H,j,void 0),F.position.set(0,0,1);break;case"ambient":F=new THREE.AmbientLight(B)}}F&&a.add(F)}if(a.name=e.name||e.id||"",a.colladaId=e.id||"",a.layer=e.layer||"",a.matrix=e.matrix,a.matrix.decompose(a.position,a.quaternion,a.scale),et.centerGeometry&&a.geometry){var z=a.geometry.center();z.multiply(a.scale),z.applyQuaternion(a.quaternion),a.position.sub(z)}for(n=0;n<e.nodes.length;n++)a.add(x(e.nodes[n],e));return a}function _(e){for(var t=je.querySelectorAll("library_nodes node"),i=0;i<t.length;i++){var r=t[i].attributes.getNamedItem("id");if(r&&r.value===e)return t[i]}}function T(e){var t=[],i=1e6,r=-1e6;for(var n in Ye)for(var o=Ye[n],a=0;a<o.channel.length;a++){var s=o.channel[a],h=o.sampler[a],n=s.target.split("/")[0];n==e.id&&(h.create(),s.sampler=h,i=Math.min(i,h.startTime),r=Math.max(r,h.endTime),t.push(s))}return t.length&&(e.startTime=i,e.endTime=r),t}function E(e){if(e.channels&&e.channels.length){for(var t=[],i=[],r=0,n=e.channels.length;r<n;r++){var o,a=e.channels[r],s=a.fullSid,h=a.sampler,c=h.input,l=e.getTransformBySid(a.sid);if(a.arrIndices){o=[];for(var u=0,d=a.arrIndices.length;u<d;u++)o[u]=ke(a.arrIndices[u])}else o=Ie(a.member);if(l){-1===i.indexOf(s)&&i.push(s);for(var u=0,d=c.length;u<d;u++){var f=c[u],p=h.getData(l.type,u,o),m=S(t,f);if(!m){m=new se(f);var v=M(t,f);t.splice(-1===v?t.length:v,0,m)}m.addTarget(s,l,o,p)}}else console.log('Could not find transform "'+a.sid+'" in node '+e.id)}for(var r=0;r<i.length;r++)for(var y=i[r],u=0;u<t.length;u++){var m=t[u];m.hasTarget(y)||C(t,m,u,y)}e.keys=t,e.sids=i}}function S(e,t){for(var i=null,r=0,n=e.length;r<n&&null===i;r++){var o=e[r];if(o.time===t)i=o;else if(o.time>t)break}return i}function M(e,t){for(var i=-1,r=0,n=e.length;r<n&&-1===i;r++){e[r].time>=t&&(i=r)}return i}function C(e,t,i,r){var n=D(e,r,i?i-1:0),o=A(e,r,i+1);if(n&&o){var a,s=(t.time-n.time)/(o.time-n.time),h=n.getTarget(r),c=o.getTarget(r).data,l=h.data;if("matrix"===h.type)a=l;else if(l.length){a=[];for(var u=0;u<l.length;++u)a[u]=l[u]+(c[u]-l[u])*s}else a=l+(c-l)*s;t.addTarget(r,h.transform,h.member,a)}}function A(e,t,i){for(;i<e.length;i++){var r=e[i];if(r.hasTarget(t))return r}return null}function D(e,t,i){for(i=i>=0?i:i+e.length;i>=0;i--){var r=e[i];if(r.hasTarget(t))return r}return null}function k(){this.id="",this.init_from=""}function I(){this.id="",this.name="",this.type="",this.skin=null,this.morph=null}function P(){this.method=null,this.source=null,this.targets=null,this.weights=null}function R(){this.source="",this.bindShapeMatrix=null,this.invBindMatrices=[],this.joints=[],this.weights=[]}function F(){this.id="",this.name="",this.nodes=[],this.scene=new THREE.Group}function O(){this.id="",this.name="",this.sid="",this.nodes=[],this.controllers=[],this.transforms=[],this.geometries=[],this.channels=[],this.matrix=new THREE.Matrix4}function L(){this.sid="",this.type="",this.data=[],this.obj=null}function B(){this.url="",this.skeleton=[],this.instance_material=[]}function N(){this.symbol="",this.target=""}function U(){this.url="",this.instance_material=[]}function H(){this.id="",this.mesh=null}function z(e){this.geometry=e.id,this.primitives=[],this.vertices=null,this.geometry3js=null}function G(){this.material="",this.count=0,this.inputs=[],this.vcount=null,this.p=[],this.geometry=new THREE.Geometry}function V(){G.call(this),this.vcount=[]}function X(){G.call(this),this.vcount=1}function Y(){G.call(this),this.vcount=3}function W(){this.source="",this.count=0,this.stride=0,this.params=[]}function q(){this.input={}}function $(){this.semantic="",this.offset=0,this.source="",this.set=0}function K(e){this.id=e,this.type=null}function Z(){this.id="",this.name="",this.instance_effect=null}function J(){this.color=new THREE.Color,this.color.setRGB(Math.random(),Math.random(),Math.random()),this.color.a=1,this.texture=null,this.texcoord=null,this.texOpts=null}function Q(e,t){this.type=e,this.effect=t,this.material=null}function ee(e){this.effect=e,this.init_from=null,this.format=null}function te(e){this.effect=e,this.source=null,this.wrap_s=null,this.wrap_t=null,this.minfilter=null,this.magfilter=null,this.mipfilter=null}function ie(){this.id="",this.name="",this.shader=null,this.surface={},this.sampler={}}function re(){this.url=""}function ne(){this.id="",this.name="",this.source={},this.sampler=[],this.channel=[]}function oe(e){this.animation=e,this.source="",this.target="",this.fullSid=null,this.sid=null,this.dotSyntax=null,this.arrSyntax=null,this.arrIndices=null,this.member=null}function ae(e){this.id="",this.animation=e,this.inputs=[],this.input=null,this.output=null,this.strideOut=null,this.interpolation=null,this.startTime=null,this.endTime=null,this.duration=0}function se(e){this.targets=[],this.time=e}function he(){this.id="",this.name="",this.technique=""}function ce(){this.url=""}function le(){this.id="",this.name="",this.technique=""}function ue(){this.url=""}function de(){this.id="",this.name="",this.joints=[],this.links=[]}function fe(){this.sid="",this.name="",this.axis=new THREE.Vector3,this.limits={min:0,max:0},this.type="",this.static=!1,this.zeroPosition=0,this.middlePosition=0}function pe(){this.sid="",this.name="",this.transforms=[],this.attachments=[]}function me(){this.joint="",this.transforms=[],this.links=[]}function ve(e){var t=e.getAttribute("id");return void 0!=Ve[t]?Ve[t]:(Ve[t]=new K(t).parse(e),Ve[t])}function ye(e){for(var t=xe(e),i=[],r=0,n=t.length;r<n;r++)i.push("true"===t[r]||"1"===t[r]);return i}function ge(e){for(var t=xe(e),i=[],r=0,n=t.length;r<n;r++)i.push(parseFloat(t[r]));return i}function be(e){for(var t=xe(e),i=[],r=0,n=t.length;r<n;r++)i.push(parseInt(t[r],10));return i}function xe(e){return e.length>0?we(e).split(/\s+/):[]}function we(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function _e(e,t,i){return e.hasAttribute(t)?parseInt(e.getAttribute(t),10):i}function Te(e,t){loader=new THREE.ImageLoader,loader.load(t,function(t){e.image=t,e.needsUpdate=!0})}function Ee(e,t){e.doubleSided=!1;var i=t.querySelectorAll("extra double_sided")[0];i&&i&&1===parseInt(i.textContent,10)&&(e.doubleSided=!0)}function Se(){if(!0!==et.convertUpAxis||it===et.upAxis)rt=null;else switch(it){case"X":rt="Y"===et.upAxis?"XtoY":"XtoZ";break;case"Y":rt="X"===et.upAxis?"YtoX":"YtoZ";break;case"Z":rt="X"===et.upAxis?"ZtoX":"ZtoY"}}function Me(e,t){if(!0===et.convertUpAxis&&it!==et.upAxis)switch(rt){case"XtoY":var i=e[0];e[0]=t*e[1],e[1]=i;break;case"XtoZ":var i=e[2];e[2]=e[1],e[1]=e[0],e[0]=i;break;case"YtoX":var i=e[0];e[0]=e[1],e[1]=t*i;break;case"YtoZ":var i=e[1];e[1]=t*e[2],e[2]=i;break;case"ZtoX":var i=e[0];e[0]=e[1],e[1]=e[2],e[2]=i;break;case"ZtoY":var i=e[1];e[1]=e[2],e[2]=t*i}}function Ce(e,t){if(!0!==et.convertUpAxis||it===et.upAxis)return t;switch(e){case"X":t="XtoY"===rt?-1*t:t;break;case"Y":t="YtoZ"===rt||"YtoX"===rt?-1*t:t;break;case"Z":t="ZtoY"===rt?-1*t:t}return t}function Ae(e,t){var i=[e[t],e[t+1],e[t+2]];return Me(i,-1),new THREE.Vector3(i[0],i[1],i[2])}function De(e){if(et.convertUpAxis){var t=[e[0],e[4],e[8]];Me(t,-1),e[0]=t[0],e[4]=t[1],e[8]=t[2],t=[e[1],e[5],e[9]],Me(t,-1),e[1]=t[0],e[5]=t[1],e[9]=t[2],t=[e[2],e[6],e[10]],Me(t,-1),e[2]=t[0],e[6]=t[1],e[10]=t[2],t=[e[0],e[1],e[2]],Me(t,-1),e[0]=t[0],e[1]=t[1],e[2]=t[2],t=[e[4],e[5],e[6]],Me(t,-1),e[4]=t[0],e[5]=t[1],e[6]=t[2],t=[e[8],e[9],e[10]],Me(t,-1),e[8]=t[0],e[9]=t[1],e[10]=t[2],t=[e[3],e[7],e[11]],Me(t,-1),e[3]=t[0],e[7]=t[1],e[11]=t[2]}return(new THREE.Matrix4).set(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function ke(e){if(e>-1&&e<3){var t=["X","Y","Z"],i={X:0,Y:1,Z:2};e=Ie(t[e]),e=i[e]}return e}function Ie(e){if(et.convertUpAxis)switch(e){case"X":switch(rt){case"XtoY":case"XtoZ":case"YtoX":e="Y";break;case"ZtoX":e="Z"}break;case"Y":switch(rt){case"XtoY":case"YtoX":case"ZtoX":e="X";break;case"XtoZ":case"YtoZ":case"ZtoY":e="Z"}break;case"Z":switch(rt){case"XtoZ":e="X";break;case"YtoZ":case"ZtoX":case"ZtoY":e="Y"}}return e}var Pe,Re,Fe,Oe,Le,Be,Ne,Ue,He,je=null,ze=null,Ge=null,Ve={},Xe={},Ye={},We={},qe={},$e={},Ke={},Ze={},Je={},Qe=THREE.SmoothShading,et={centerGeometry:!1,convertUpAxis:!1,subdivideFaces:!0,upAxis:"Y",defaultEnvMap:null},tt=1,it="Y",rt=null;return k.prototype.parse=function(e){this.id=e.getAttribute("id");for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];"init_from"===i.nodeName&&(this.init_from=i.textContent)}return this},I.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name"),this.type="none";for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];switch(i.nodeName){case"skin":this.skin=(new R).parse(i),this.type=i.nodeName;break;case"morph":this.morph=(new P).parse(i),this.type=i.nodeName}}return this},P.prototype.parse=function(e){var t,i={},r=[];for(this.method=e.getAttribute("method"),this.source=e.getAttribute("source").replace(/^#/,""),t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"source":var o=(new K).parse(n);i[o.id]=o;break;case"targets":r=this.parseInputs(n);break;default:console.log(n.nodeName)}}for(t=0;t<r.length;t++){var a=r[t],o=i[a.source];switch(a.semantic){case"MORPH_TARGET":this.targets=o.read();break;case"MORPH_WEIGHT":this.weights=o.read()}}return this},P.prototype.parseInputs=function(e){for(var t=[],i=0;i<e.childNodes.length;i++){var r=e.childNodes[i];if(1==r.nodeType)switch(r.nodeName){case"input":t.push((new $).parse(r))}}return t},R.prototype.parse=function(e){var t,i,r={};this.source=e.getAttribute("source").replace(/^#/,""),this.invBindMatrices=[],this.joints=[],this.weights=[];for(var n=0;n<e.childNodes.length;n++){var o=e.childNodes[n];if(1==o.nodeType)switch(o.nodeName){case"bind_shape_matrix":var a=ge(o.textContent);this.bindShapeMatrix=De(a);break;case"source":var s=(new K).parse(o);r[s.id]=s;break;case"joints":t=o;break;case"vertex_weights":i=o;break;default:console.log(o.nodeName)}}return this.parseJoints(t,r),this.parseWeights(i,r),this},R.prototype.parseJoints=function(e,t){for(var i=0;i<e.childNodes.length;i++){var r=e.childNodes[i];if(1==r.nodeType)switch(r.nodeName){case"input":var n=(new $).parse(r),o=t[n.source];"JOINT"===n.semantic?this.joints=o.read():"INV_BIND_MATRIX"===n.semantic&&(this.invBindMatrices=o.read())}}},R.prototype.parseWeights=function(e,t){for(var i,r,n=[],o=0;o<e.childNodes.length;o++){var a=e.childNodes[o];if(1==a.nodeType)switch(a.nodeName){case"input":n.push((new $).parse(a));break;case"v":i=be(a.textContent);break;case"vcount":r=be(a.textContent)}}for(var s=0,o=0;o<r.length;o++){for(var h=r[o],c=[],l=0;l<h;l++){for(var u={},d=0;d<n.length;d++){var f=n[d],p=i[s+f.offset];switch(f.semantic){case"JOINT":u.joint=p;break;case"WEIGHT":u.weight=t[f.source].data[p]}}c.push(u),s+=n.length}for(var l=0;l<c.length;l++)c[l].index=o;this.weights.push(c)}},F.prototype.getChildById=function(e,t){for(var i=0;i<this.nodes.length;i++){var r=this.nodes[i].getChildById(e,t);if(r)return r}return null},F.prototype.getChildBySid=function(e,t){for(var i=0;i<this.nodes.length;i++){var r=this.nodes[i].getChildBySid(e,t);if(r)return r}return null},F.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name"),this.nodes=[];for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case"node":this.nodes.push((new O).parse(i))}}return this},O.prototype.getChannelForTransform=function(e){for(var t=0;t<this.channels.length;t++){var i,r=this.channels[t],n=r.target.split("/"),o=(n.shift(),n.shift()),a=o.indexOf(".")>=0,s=o.indexOf("(")>=0;if(a)n=o.split("."),o=n.shift(),n.shift();else if(s){i=o.split("("),o=i.shift();for(var h=0;h<i.length;h++)i[h]=parseInt(i[h].replace(/\)/,""))}if(o===e)return r.info={sid:o,dotSyntax:a,arrSyntax:s,arrIndices:i},r}return null},O.prototype.getChildById=function(e,t){if(this.id===e)return this;if(t)for(var i=0;i<this.nodes.length;i++){var r=this.nodes[i].getChildById(e,t);if(r)return r}return null},O.prototype.getChildBySid=function(e,t){if(this.sid===e)return this;if(t)for(var i=0;i<this.nodes.length;i++){var r=this.nodes[i].getChildBySid(e,t);if(r)return r}return null},O.prototype.getTransformBySid=function(e){for(var t=0;t<this.transforms.length;t++)if(this.transforms[t].sid===e)return this.transforms[t];return null},O.prototype.parse=function(e){var t;this.id=e.getAttribute("id"),this.sid=e.getAttribute("sid"),this.name=e.getAttribute("name"),this.type=e.getAttribute("type"),this.layer=e.getAttribute("layer"),this.type="JOINT"===this.type?this.type:"NODE",this.nodes=[],this.transforms=[],this.geometries=[],this.cameras=[],this.lights=[],this.controllers=[],this.matrix=new THREE.Matrix4;for(var i=0;i<e.childNodes.length;i++){var r=e.childNodes[i];if(1==r.nodeType)switch(r.nodeName){case"node":this.nodes.push((new O).parse(r));break;case"instance_camera":this.cameras.push((new ce).parse(r));break;case"instance_controller":this.controllers.push((new B).parse(r));break;case"instance_geometry":this.geometries.push((new U).parse(r));break;case"instance_light":this.lights.push((new ue).parse(r));break;case"instance_node":t=r.getAttribute("url").replace(/^#/,"");var n=_(t);n&&this.nodes.push((new O).parse(n));break;case"rotate":case"translate":case"scale":case"matrix":case"lookat":case"skew":this.transforms.push((new L).parse(r));break;case"extra":break;default:console.log(r.nodeName)}}return this.channels=T(this),E(this),this.updateMatrix(),this},O.prototype.updateMatrix=function(){this.matrix.identity();for(var e=0;e<this.transforms.length;e++)this.transforms[e].apply(this.matrix)},L.prototype.parse=function(e){return this.sid=e.getAttribute("sid"),this.type=e.nodeName,this.data=ge(e.textContent),this.convert(),this},L.prototype.convert=function(){switch(this.type){case"matrix":this.obj=De(this.data);break;case"rotate":this.angle=THREE.Math.degToRad(this.data[3]);case"translate":Me(this.data,-1),this.obj=new THREE.Vector3(this.data[0],this.data[1],this.data[2]);break;case"scale":Me(this.data,1),this.obj=new THREE.Vector3(this.data[0],this.data[1],this.data[2]);break;default:console.log("Can not convert Transform of type "+this.type)}},L.prototype.apply=function(){var e=new THREE.Matrix4;return function(t){switch(this.type){case"matrix":t.multiply(this.obj);break;case"translate":t.multiply(e.makeTranslation(this.obj.x,this.obj.y,this.obj.z));break;case"rotate":t.multiply(e.makeRotationAxis(this.obj,this.angle));break;case"scale":t.scale(this.obj)}}}(),L.prototype.update=function(e,t){var i=["X","Y","Z","ANGLE"];switch(this.type){case"matrix":if(t)if(1===t.length)switch(t[0]){case 0:this.obj.n11=e[0],this.obj.n21=e[1],this.obj.n31=e[2],this.obj.n41=e[3];break;case 1:this.obj.n12=e[0],this.obj.n22=e[1],this.obj.n32=e[2],this.obj.n42=e[3];break;case 2:this.obj.n13=e[0],this.obj.n23=e[1],this.obj.n33=e[2],this.obj.n43=e[3];break;case 3:this.obj.n14=e[0],this.obj.n24=e[1],this.obj.n34=e[2],this.obj.n44=e[3]}else if(2===t.length){var r="n"+(t[0]+1)+(t[1]+1);this.obj[r]=e}else console.log("Incorrect addressing of matrix in transform.");else this.obj.copy(e);break;case"translate":case"scale":switch("[object Array]"===Object.prototype.toString.call(t)&&(t=i[t[0]]),t){case"X":this.obj.x=e;break;case"Y":this.obj.y=e;break;case"Z":this.obj.z=e;break;default:this.obj.x=e[0],this.obj.y=e[1],this.obj.z=e[2]}break;case"rotate":switch("[object Array]"===Object.prototype.toString.call(t)&&(t=i[t[0]]),t){case"X":this.obj.x=e;break;case"Y":this.obj.y=e;break;case"Z":this.obj.z=e;break;case"ANGLE":this.angle=THREE.Math.degToRad(e);break;default:this.obj.x=e[0],this.obj.y=e[1],this.obj.z=e[2],this.angle=THREE.Math.degToRad(e[3])}}},B.prototype.parse=function(e){this.url=e.getAttribute("url").replace(/^#/,""),this.skeleton=[],this.instance_material=[];for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1===i.nodeType)switch(i.nodeName){case"skeleton":this.skeleton.push(i.textContent.replace(/^#/,""));break;case"bind_material":for(var r=i.querySelectorAll("instance_material"),n=0;n<r.length;n++){var o=r[n];this.instance_material.push((new N).parse(o))}}}return this},N.prototype.parse=function(e){return this.symbol=e.getAttribute("symbol"),this.target=e.getAttribute("target").replace(/^#/,""),this},U.prototype.parse=function(e){this.url=e.getAttribute("url").replace(/^#/,""),this.instance_material=[];for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType&&"bind_material"===i.nodeName){for(var r=i.querySelectorAll("instance_material"),n=0;n<r.length;n++){var o=r[n];this.instance_material.push((new N).parse(o))}break}}return this},H.prototype.parse=function(e){this.id=e.getAttribute("id"),Ee(this,e);for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];switch(i.nodeName){case"mesh":this.mesh=new z(this).parse(i)}}return this},z.prototype.parse=function(e){this.primitives=[];for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];switch(i.nodeName){case"source":ve(i);break;case"vertices":this.vertices=(new q).parse(i);break;case"linestrips":this.primitives.push((new X).parse(i));break;case"triangles":this.primitives.push((new Y).parse(i));break;case"polygons":this.primitives.push((new G).parse(i));break;case"polylist":this.primitives.push((new V).parse(i))}}if(this.geometry3js=new THREE.Geometry,null===this.vertices)return this;for(var r=Ve[this.vertices.input.POSITION.source].data,t=0;t<r.length;t+=3)this.geometry3js.vertices.push(Ae(r,t).clone());for(var t=0;t<this.primitives.length;t++){var n=this.primitives[t];n.setVertices(this.vertices),this.handlePrimitive(n,this.geometry3js)}return this.geometry3js.calcNormals&&(this.geometry3js.computeVertexNormals(),delete this.geometry3js.calcNormals),this},z.prototype.handlePrimitive=function(e,t){if(e instanceof X)return void(t.isLineStrip=!0);var i,r,n,o,a,s,h,c=e.p,l=e.inputs,u=0,d=3,f=0,p=[];for(i=0;i<l.length;i++){n=l[i];var m=n.offset+1;switch(f=f<m?m:f,n.semantic){case"TEXCOORD":p.push(n.set)}}for(var v=0;v<c.length;++v)for(var y=c[v],g=0;g<y.length;){var b=[],x=[],w=null,_=[];for(d=e.vcount?e.vcount.length?e.vcount[u++]:e.vcount:y.length/f,i=0;i<d;i++)for(r=0;r<l.length;r++)switch(n=l[r],s=Ve[n.source],o=y[g+i*f+n.offset],h=s.accessor.params.length,a=o*h,n.semantic){case"VERTEX":b.push(o);break;case"NORMAL":x.push(Ae(s.data,a));break;case"TEXCOORD":w=w||{},void 0===w[n.set]&&(w[n.set]=[]),w[n.set].push(new THREE.Vector2(s.data[a],s.data[a+1]));break;case"COLOR":_.push((new THREE.Color).setRGB(s.data[a],s.data[a+1],s.data[a+2]))}if(0===x.length)if(n=this.vertices.input.NORMAL){s=Ve[n.source],h=s.accessor.params.length;for(var T=0,E=b.length;T<E;T++)x.push(Ae(s.data,b[T]*h))}else t.calcNormals=!0;if(!w&&(w={},n=this.vertices.input.TEXCOORD)){p.push(n.set),s=Ve[n.source],h=s.accessor.params.length;for(var T=0,E=b.length;T<E;T++)a=b[T]*h,void 0===w[n.set]&&(w[n.set]=[]),w[n.set].push(new THREE.Vector2(s.data[a],1-s.data[a+1]))}if(0===_.length&&(n=this.vertices.input.COLOR)){s=Ve[n.source],h=s.accessor.params.length;for(var T=0,E=b.length;T<E;T++)a=b[T]*h,_.push((new THREE.Color).setRGB(s.data[a],s.data[a+1],s.data[a+2]))}var S,M,C=null,A=[];if(3===d)A.push(new THREE.Face3(b[0],b[1],b[2],x,_.length?_:new THREE.Color));else if(4===d)A.push(new THREE.Face3(b[0],b[1],b[3],[x[0].clone(),x[1].clone(),x[3].clone()],_.length?[_[0],_[1],_[3]]:new THREE.Color)),A.push(new THREE.Face3(b[1],b[2],b[3],[x[1].clone(),x[2].clone(),x[3].clone()],_.length?[_[1],_[2],_[3]]:new THREE.Color));else if(d>4&&et.subdivideFaces){var D=_.length?_:new THREE.Color;for(r=1;r<d-1;)A.push(new THREE.Face3(b[0],b[r],b[r+1],[x[0].clone(),x[r++].clone(),x[r].clone()],D))}if(A.length)for(var T=0,E=A.length;T<E;T++)for(C=A[T],C.daeMaterial=e.material,t.faces.push(C),r=0;r<p.length;r++)S=w[p[r]],M=d>4?[S[0],S[T+1],S[T+2]]:4===d?0===T?[S[0],S[1],S[3]]:[S[1].clone(),S[2],S[3].clone()]:[S[0],S[1],S[2]],void 0===t.faceVertexUvs[r]&&(t.faceVertexUvs[r]=[]),t.faceVertexUvs[r].push(M);else console.log("dropped face with vcount "+d+" for geometry with id: "+t.id);g+=f*d}},G.prototype.setVertices=function(e){for(var t=0;t<this.inputs.length;t++)this.inputs[t].source===e.id&&(this.inputs[t].source=e.input.POSITION.source)},G.prototype.parse=function(e){this.material=e.getAttribute("material"),this.count=_e(e,"count",0);for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];switch(i.nodeName){case"input":this.inputs.push((new $).parse(e.childNodes[t]));break;case"vcount":this.vcount=be(i.textContent);break;case"p":this.p.push(be(i.textContent));break;case"ph":console.warn("polygon holes not yet supported!")}}return this},V.prototype=Object.create(G.prototype),V.prototype.constructor=V,X.prototype=Object.create(G.prototype),X.prototype.constructor=X,Y.prototype=Object.create(G.prototype),Y.prototype.constructor=Y,W.prototype.parse=function(e){this.params=[],this.source=e.getAttribute("source"),this.count=_e(e,"count",0),this.stride=_e(e,"stride",0);for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if("param"===i.nodeName){var r={};r.name=i.getAttribute("name"),r.type=i.getAttribute("type"),this.params.push(r)}}return this},q.prototype.parse=function(e){this.id=e.getAttribute("id");for(var t=0;t<e.childNodes.length;t++)if("input"===e.childNodes[t].nodeName){var i=(new $).parse(e.childNodes[t]);this.input[i.semantic]=i}return this},$.prototype.parse=function(e){return this.semantic=e.getAttribute("semantic"),this.source=e.getAttribute("source").replace(/^#/,""),this.set=_e(e,"set",-1),this.offset=_e(e,"offset",0),"TEXCOORD"===this.semantic&&this.set<0&&(this.set=0),this},K.prototype.parse=function(e){this.id=e.getAttribute("id");for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];switch(i.nodeName){case"bool_array":this.data=ye(i.textContent),this.type=i.nodeName;break;case"float_array":this.data=ge(i.textContent),this.type=i.nodeName;break;case"int_array":this.data=be(i.textContent),this.type=i.nodeName;break;case"IDREF_array":case"Name_array":this.data=xe(i.textContent),this.type=i.nodeName;break;case"technique_common":for(var r=0;r<i.childNodes.length;r++)if("accessor"===i.childNodes[r].nodeName){this.accessor=(new W).parse(i.childNodes[r]);break}}}return this},K.prototype.read=function(){var e=[],t=this.accessor.params[0];switch(t.type){case"IDREF":case"Name":case"name":case"float":return this.data;case"float4x4":for(var i=0;i<this.data.length;i+=16){var r=this.data.slice(i,i+16),n=De(r);e.push(n)}break;default:console.log("ColladaLoader: Source: Read dont know how to read "+t.type+".")}return e},Z.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name");for(var t=0;t<e.childNodes.length;t++)if("instance_effect"===e.childNodes[t].nodeName){this.instance_effect=(new re).parse(e.childNodes[t]);break}return this},J.prototype.isColor=function(){return null===this.texture},J.prototype.isTexture=function(){return null!=this.texture},J.prototype.parse=function(e){"transparent"===e.nodeName&&(this.opaque=e.getAttribute("opaque"));for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case"color":var r=ge(i.textContent);this.color=new THREE.Color,this.color.setRGB(r[0],r[1],r[2]),this.color.a=r[3];break;case"texture":this.texture=i.getAttribute("texture"),this.texcoord=i.getAttribute("texcoord"),this.texOpts={offsetU:0,offsetV:0,repeatU:1,repeatV:1,wrapU:1,wrapV:1},this.parseTexture(i)}}return this},J.prototype.parseTexture=function(e){if(!e.childNodes)return this;e.childNodes[1]&&"extra"===e.childNodes[1].nodeName&&(e=e.childNodes[1],e.childNodes[1]&&"technique"===e.childNodes[1].nodeName&&(e=e.childNodes[1]));for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];switch(i.nodeName){case"offsetU":case"offsetV":case"repeatU":case"repeatV":this.texOpts[i.nodeName]=parseFloat(i.textContent);break;case"wrapU":case"wrapV":"TRUE"===i.textContent.toUpperCase()?this.texOpts[i.nodeName]=1:this.texOpts[i.nodeName]=parseInt(i.textContent);break;default:this.texOpts[i.nodeName]=i.textContent}}return this},Q.prototype.parse=function(e){for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case"emission":case"diffuse":case"specular":case"transparent":this[i.nodeName]=(new J).parse(i);break;case"bump":var r=i.getAttribute("bumptype");r?"heightfield"===r.toLowerCase()?this.bump=(new J).parse(i):"normalmap"===r.toLowerCase()?this.normal=(new J).parse(i):(console.error("Shader.prototype.parse: Invalid value for attribute 'bumptype' ("+r+") - valid bumptypes are 'HEIGHTFIELD' and 'NORMALMAP' - defaulting to 'HEIGHTFIELD'"),this.bump=(new J).parse(i)):(console.warn("Shader.prototype.parse: Attribute 'bumptype' missing from bump node - defaulting to 'HEIGHTFIELD'"),this.bump=(new J).parse(i));break;case"shininess":case"reflectivity":case"index_of_refraction":case"transparency":var n=i.querySelectorAll("float");n.length>0&&(this[i.nodeName]=parseFloat(n[0].textContent))}}return this.create(),this},Q.prototype.create=function(){var e={},t=!1;if(void 0!==this.transparency&&void 0!==this.transparent){var i=(this.transparent,(this.transparent.color.r+this.transparent.color.g+this.transparent.color.b)/3*this.transparency);i>0&&(t=!0,e.transparent=!0,e.opacity=1-i)}var r={diffuse:"map",ambient:"lightMap",specular:"specularMap",emission:"emissionMap",bump:"bumpMap",normal:"normalMap"};for(var n in this)switch(n){case"ambient":case"emission":case"diffuse":case"specular":case"bump":case"normal":var o=this[n];if(o instanceof J)if(o.isTexture()){var a=o.texture,s=this.effect.sampler[a];if(void 0!==s&&void 0!==s.source){var h=this.effect.surface[s.source];if(void 0!==h){var c=Xe[h.init_from];if(c){var l,u=Ne+c.init_from,d=THREE.Loader.Handlers.get(u);null!==d?l=d.load(u):(l=new THREE.Texture,Te(l,u)),l.wrapS=o.texOpts.wrapU?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,l.wrapT=o.texOpts.wrapV?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,l.offset.x=o.texOpts.offsetU,l.offset.y=o.texOpts.offsetV,l.repeat.x=o.texOpts.repeatU,l.repeat.y=o.texOpts.repeatV,e[r[n]]=l,"emission"===n&&(e.emissive=16777215)}}}}else"diffuse"!==n&&t||("emission"===n?e.emissive=o.color.getHex():e[n]=o.color.getHex());break;case"shininess":e[n]=this[n];break;case"reflectivity":e[n]=this[n],e[n]>0&&(e.envMap=et.defaultEnvMap),e.combine=THREE.MixOperation;break;case"index_of_refraction":e.refractionRatio=this[n],1!==this[n]&&(e.envMap=et.defaultEnvMap)}switch(e.shading=Qe,e.side=this.effect.doubleSided?THREE.DoubleSide:THREE.FrontSide,this.type){case"constant":void 0!=e.emissive&&(e.color=e.emissive),this.material=new THREE.MeshBasicMaterial(e);break;case"phong":case"blinn":void 0!=e.diffuse&&(e.color=e.diffuse),this.material=new THREE.MeshPhongMaterial(e);break;case"lambert":default:void 0!=e.diffuse&&(e.color=e.diffuse),this.material=new THREE.MeshLambertMaterial(e)}return this.material},ee.prototype.parse=function(e){for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case"init_from":this.init_from=i.textContent;break;case"format":this.format=i.textContent;break;default:console.log("unhandled Surface prop: "+i.nodeName)}}return this},te.prototype.parse=function(e){for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case"source":this.source=i.textContent;break;case"minfilter":this.minfilter=i.textContent;break;case"magfilter":this.magfilter=i.textContent;break;case"mipfilter":this.mipfilter=i.textContent;break;case"wrap_s":this.wrap_s=i.textContent;break;case"wrap_t":this.wrap_t=i.textContent;break;default:console.log("unhandled Sampler2D prop: "+i.nodeName)}}return this},ie.prototype.create=function(){if(null===this.shader)return null},ie.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name"),Ee(this,e),this.shader=null;for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case"profile_COMMON":this.parseTechnique(this.parseProfileCOMMON(i))}}return this},ie.prototype.parseNewparam=function(e){for(var t=e.getAttribute("sid"),i=0;i<e.childNodes.length;i++){var r=e.childNodes[i];if(1==r.nodeType)switch(r.nodeName){case"surface":this.surface[t]=new ee(this).parse(r);break;case"sampler2D":this.sampler[t]=new te(this).parse(r);break;case"extra":break;default:console.log(r.nodeName)}}},ie.prototype.parseProfileCOMMON=function(e){for(var t,i=0;i<e.childNodes.length;i++){var r=e.childNodes[i];if(1==r.nodeType)switch(r.nodeName){case"profile_COMMON":this.parseProfileCOMMON(r);break;case"technique":t=r;break;case"newparam":this.parseNewparam(r);break;case"image":var n=(new k).parse(r);Xe[n.id]=n;break;case"extra":break;default:console.log(r.nodeName)}}return t},ie.prototype.parseTechnique=function(e){for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case"constant":case"lambert":case"blinn":case"phong":this.shader=new Q(i.nodeName,this).parse(i);break;case"extra":this.parseExtra(i)}}},ie.prototype.parseExtra=function(e){for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case"technique":this.parseExtraTechnique(i)}}},ie.prototype.parseExtraTechnique=function(e){for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case"bump":this.shader.parse(e)}}},re.prototype.parse=function(e){return this.url=e.getAttribute("url").replace(/^#/,""),this},ne.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name"),this.source={};for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case"animation":var r=(new ne).parse(i);for(var n in r.source)this.source[n]=r.source[n];for(var o=0;o<r.channel.length;o++)this.channel.push(r.channel[o]),this.sampler.push(r.sampler[o]);break;case"source":var n=(new K).parse(i);this.source[n.id]=n;break;case"sampler":this.sampler.push(new ae(this).parse(i));break;case"channel":this.channel.push(new oe(this).parse(i))}}return this},oe.prototype.parse=function(e){this.source=e.getAttribute("source").replace(/^#/,""),this.target=e.getAttribute("target");var t=this.target.split("/"),i=(t.shift(),t.shift()),r=i.indexOf(".")>=0,n=i.indexOf("(")>=0;if(r)t=i.split("."),this.sid=t.shift(),this.member=t.shift();else if(n){var o=i.split("(");this.sid=o.shift();for(var a=0;a<o.length;a++)o[a]=parseInt(o[a].replace(/\)/,""));this.arrIndices=o}else this.sid=i;return this.fullSid=i,this.dotSyntax=r,this.arrSyntax=n,this},ae.prototype.parse=function(e){this.id=e.getAttribute("id"),this.inputs=[];for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case"input":this.inputs.push((new $).parse(i))}}return this},ae.prototype.create=function(){for(var e=0;e<this.inputs.length;e++){var t=this.inputs[e],i=this.animation.source[t.source];switch(t.semantic){case"INPUT":this.input=i.read();break;case"OUTPUT":this.output=i.read(),this.strideOut=i.accessor.stride;break;case"INTERPOLATION":this.interpolation=i.read();break;case"IN_TANGENT":case"OUT_TANGENT":break;default:console.log(t.semantic)}}if(this.startTime=0,this.endTime=0,this.duration=0,this.input.length){this.startTime=1e8,this.endTime=-1e8;for(var e=0;e<this.input.length;e++)this.startTime=Math.min(this.startTime,this.input[e]),this.endTime=Math.max(this.endTime,this.input[e]);this.duration=this.endTime-this.startTime}},ae.prototype.getData=function(e,t,i){var r;if("matrix"===e&&16===this.strideOut)r=this.output[t];else if(this.strideOut>1){r=[],t*=this.strideOut;for(var n=0;n<this.strideOut;++n)r[n]=this.output[t+n];if(3===this.strideOut)switch(e){case"rotate":case"translate":Me(r,-1);break;case"scale":Me(r,1)}else 4===this.strideOut&&"matrix"===e&&Me(r,-1)}else r=this.output[t],i&&"translate"===e&&(r=Ce(i,r));return r},se.prototype.addTarget=function(e,t,i,r){this.targets.push({sid:e,member:i,transform:t,data:r})},se.prototype.apply=function(e){for(var t=0;t<this.targets.length;++t){var i=this.targets[t];e&&i.sid!==e||i.transform.update(i.data,i.member)}},se.prototype.getTarget=function(e){for(var t=0;t<this.targets.length;++t)if(this.targets[t].sid===e)return this.targets[t];return null},se.prototype.hasTarget=function(e){for(var t=0;t<this.targets.length;++t)if(this.targets[t].sid===e)return!0;return!1},se.prototype.interpolate=function(e,t){for(var i=0,r=this.targets.length;i<r;i++){var n,o=this.targets[i],a=e.getTarget(o.sid);if("matrix"!==o.transform.type&&a){var s=(t-this.time)/(e.time-this.time),h=a.data,c=o.data;if(s<0&&(s=0),s>1&&(s=1),c.length){n=[];for(var l=0;l<c.length;++l)n[l]=c[l]+(h[l]-c[l])*s}else n=c+(h-c)*s}else n=o.data;o.transform.update(n,o.member)}},he.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name");for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case"optics":this.parseOptics(i)}}return this},he.prototype.parseOptics=function(e){for(var t=0;t<e.childNodes.length;t++)if("technique_common"===e.childNodes[t].nodeName)for(var i=e.childNodes[t],r=0;r<i.childNodes.length;r++)if(this.technique=i.childNodes[r].nodeName,"perspective"===this.technique)for(var n=i.childNodes[r],o=0;o<n.childNodes.length;o++){var a=n.childNodes[o];switch(a.nodeName){case"yfov":this.yfov=a.textContent;break;case"xfov":this.xfov=a.textContent;break;case"znear":this.znear=a.textContent;break;case"zfar":this.zfar=a.textContent;break;case"aspect_ratio":this.aspect_ratio=a.textContent}}else if("orthographic"===this.technique)for(var s=i.childNodes[r],o=0;o<s.childNodes.length;o++){var a=s.childNodes[o];switch(a.nodeName){case"xmag":this.xmag=a.textContent;break;case"ymag":this.ymag=a.textContent;break;case"znear":this.znear=a.textContent;break;case"zfar":this.zfar=a.textContent;break;case"aspect_ratio":this.aspect_ratio=a.textContent}}return this},ce.prototype.parse=function(e){return this.url=e.getAttribute("url").replace(/^#/,""),this},le.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name");for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case"technique_common":this.parseCommon(i);break;case"technique":this.parseTechnique(i)}}return this},le.prototype.parseCommon=function(e){for(var t=0;t<e.childNodes.length;t++)switch(e.childNodes[t].nodeName){case"directional":case"point":case"spot":case"ambient":this.technique=e.childNodes[t].nodeName;for(var i=e.childNodes[t],r=0;r<i.childNodes.length;r++){var n=i.childNodes[r];switch(n.nodeName){case"color":var o=ge(n.textContent);this.color=new THREE.Color(0),this.color.setRGB(o[0],o[1],o[2]),this.color.a=o[3];break;case"falloff_angle":this.falloff_angle=parseFloat(n.textContent);break;case"quadratic_attenuation":var a=parseFloat(n.textContent);this.distance=a?Math.sqrt(1/a):0}}}return this},le.prototype.parseTechnique=function(e){this.profile=e.getAttribute("profile");for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];switch(i.nodeName){case"intensity":this.intensity=parseFloat(i.textContent)}}return this},ue.prototype.parse=function(e){return this.url=e.getAttribute("url").replace(/^#/,""),this},de.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name"),this.joints=[],this.links=[];for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case"technique_common":this.parseCommon(i)}}return this},de.prototype.parseCommon=function(e){for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(e.childNodes[t].nodeName){case"joint":this.joints.push((new fe).parse(i));break;case"link":this.links.push((new pe).parse(i))}}return this},fe.prototype.parse=function(e){this.sid=e.getAttribute("sid"),this.name=e.getAttribute("name"),this.axis=new THREE.Vector3,this.limits={min:0,max:0},this.type="",this.static=!1,this.zeroPosition=0,this.middlePosition=0;var t=e.querySelector("axis"),i=ge(t.textContent);this.axis=Ae(i,0);var r=e.querySelector("limits min")?parseFloat(e.querySelector("limits min").textContent):-360,n=e.querySelector("limits max")?parseFloat(e.querySelector("limits max").textContent):360;this.limits={min:r,max:n};for(var o=["prismatic","revolute"],a=0;a<o.length;a++){var s=o[a];e.querySelector(s)&&(this.type=s)}return this.limits.min>=this.limits.max&&(this.static=!0),this.middlePosition=(this.limits.min+this.limits.max)/2,this},pe.prototype.parse=function(e){this.sid=e.getAttribute("sid"),this.name=e.getAttribute("name"),this.transforms=[],this.attachments=[];for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case"attachment_full":this.attachments.push((new me).parse(i));break;case"rotate":case"translate":case"matrix":this.transforms.push((new L).parse(i))}}return this},me.prototype.parse=function(e){this.joint=e.getAttribute("joint").split("/").pop(),this.links=[];for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case"link":this.links.push((new pe).parse(i));break;case"rotate":case"translate":case"matrix":this.transforms.push((new L).parse(i))}}return this},{load:e,parse:t,setPreferredShading:i,applySkin:g,geometries:qe,options:et}}},function(e,t,i){"use strict";var r={};r.Mortar=i(319),e.exports=r},function(e,t,i){"use strict";function r(){this.cover.visible=!1,this.blend=function(e){e||(e=3),this.cover.main.rotation=-30/180*Math.PI,TweenMax.to(this.cover.main,.5,{yoyo:!0,repeat:e,rotation:30/180*Math.PI})},this.addMedicine=function(e,t){this.inner.addChild(e),t=t||{},t.x=t.x||0,t.y=t.y||0,e.x=-e.width/2+t.x,e.y=-e.height/2+t.y},this.checkEq=function(){if(!this.inner)throw""}}e.exports=r},function(e,t,i){"use strict";var r={};r=i(78),e.exports=r},function(e,t,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),o=i(183),a=function(){function e(){r(this,e)}return n(e,null,[{key:"create",value:function(e){return function(){e.apply(null,[this]);var t=new PIXI.Graphics;t.beginFill(16773120,0),t.drawRect(0,0,2e3,2e3),this.addChildAt(t,0),t.addEventListener(TouchEvent.TOUCH_END,function(){t.parent.getActiveStep().emit(nb.event.CLICK_OUT_SIDE,"uselessAction")});for(var i=null,r={},n=0;n<int.MAX_VALUE;n++){var a="step"+n;if(!this[a])break;r[a]=this[a],this[a].visible=!1,delete this[a]}this.getActiveIndex=function(){return parseInt(i.replace("step",""))},this.getActiveStep=function(){return i?this[i]:null},this.gotoStep=function(e){var t=this;if(i!==e){var n=r[e],a=n.parent,s=a[i];if(void 0===n)return void console.error(""+e+"");var h=n.clone(),c=h.name.replace("step","");a.addChild(h),a[h.name]=h;var l=new TimelineMax({onComplete:function(){s&&s.parent&&s.parent.removeChild(s)}});h.alpha=0,s&&l.to(s,.4,{alpha:0}),l.to(h,.4,{alpha:1},"-=0.4");var u=this["stepFunc"+c];if(u)try{h.showTip=function(e,i,r){t.tip?t.tip.setTip(e||" ",i||0,r||0):(t.tip=new o(e||" ",i||0,r||0),t.addChild(t.tip)),t.tip.displayNotes()},h.hideTip=function(){t.tip&&t.tip.hideNotes()},h.resetTip=function(){t.tip&&t.tip.setTip(" ",0,0)},h.initPhyEngine=function(){new nb.Box2d(h)},u.apply(h,[h]);var d=$("#bioCanvas");h.scene3D?d.fadeOut():d.fadeIn()}catch(e){console.error(e)}else console.warn(" stepFunc"+c+"");if(i=e,h.hideTip(),s){if("step"+(parseInt(c)-1)===s.name&&!0===s._isStepComplete_)for(var f in n){var p=s[f],m=h[f];if(p instanceof PIXI.DisplayObject&&""!==f.name&&m&&m.parent===h){GlobalEffect.bezierFrom(m,1.2,{alpha:p.alpha,rotation:p.rotation,delay:.8,x:p.x,y:p.y},!0),TweenMax.from(m.scale,1.2,{x:p.scale.x,y:p.scale.y})}}s.emit("stepDestroy"),s.removeAllListeners(),this.tip&&(this.tip=null,TweenMax.killTweensOf(this.tip))}h.on("stepComplete",function(){h._isStepComplete_=!0,instance.menu.setSmallStepComplete(c)})}}}}}]),e}();e.exports=a},function(e,t,i){"use strict";var r={};r.BG_SOUND="bgSound",r.STEP_COMPLETE="stepComplete",r.CLICK_SOUND="clickSound",r.WARNING="warning",r.ALL_STEP_COMPLETE="allStepComplete",r.register=function(e){},r.loadCommonSounds=function(e){},r.play=function(e,t,i,r,n,o,a,s,h){if(void 0!==e){if("string"==typeof e)return{};return{}}},e.exports=r},function(e,t,i){"use strict";function r(){console.log(this),this.stepAry=[];var e=0;this.addStep=function(e){var t=new e;0===this.stepAry.length&&t.onStart.apply(t),this.stepAry.push(t)},this.gotoSmallStep=function(t){if(t!==e){if(-1!==e)if(t>e)for(var i=e;i<t;i++){var r=this.stepAry[i];r.onComplete.apply(r)}else{for(var i=e;i>t;i--){var r=this.stepAry[i];r.onDestroy.apply(r)}if(t-1>0){var r=this.stepAry[t-1];r.onComplete.apply(r)}}var r=this.stepAry[t];r.onStart.apply(r),e=t}},this.nextStep=!1}e.exports=r},function(e,t,i){"use strict";function r(){}r.fileOrDirExists=function(e,t){function i(i){i.root.fileOrDirExists(e,null,function(e){t&&t(e)})}requestFileSystem(LocalFileSystem.PERSISTENT,0,i)},r.dirname=function(e){var t=r.formatPath(e),i=t.lastIndexOf("/");return t.slice(0,i+1)},r.filename=function(e,t){var i=r.formatPath(e),n=i.split("/");return t?n.pop().replace(t,""):n.pop()},r.formatPath=function(e){return e.replace(/[\\]/g,"/")},r.readLocalFile=function(e,t,i){function r(r){r.root.readLocalFile(e,t,i)}requestFileSystem(LocalFileSystem.PERSISTENT,0,r)},r.userDataOption=function(e,t,i,r,n){function o(o){o.root.userDataOption(e,t,i,r,n)}requestFileSystem(LocalFileSystem.PERSISTENT,0,o)},r.readEquToollist=function(e,t,i){function r(r){r.root.readEquToollist(e,t,i)}requestFileSystem(LocalFileSystem.PERSISTENT,0,r)},r.readStoreFile=function(e,t,i){function r(r){r.root.readStoreFile(e,t,i)}requestFileSystem(LocalFileSystem.PERSISTENT,0,r)},r.rename=function(e,t,i,r,n){function o(o){o.root.rename(e,t,i,r,n)}requestFileSystem(LocalFileSystem.PERSISTENT,0,o)},r.removefile=function(e,t,i){function r(r){r.root.removefile(e,t,i)}requestFileSystem(LocalFileSystem.PERSISTENT,0,r)},r.writeStoreFile=function(e,t,i,r){function n(n){n.root.writeStoreFile(e,t,i,r)}requestFileSystem(LocalFileSystem.PERSISTENT,0,n)},r.readStreamFile=function(e,t,i,r,n){function o(o){o.root.readStreamfile(e,t,i,r,n)}requestFileSystem(LocalFileSystem.PERSISTENT,0,o)},e.exports=r},function(e,t,i){var r=i(326);"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0};n.transform=void 0;i(27)(r,n);r.locals&&(e.exports=r.locals)},function(e,t,i){t=e.exports=i(26)(void 0),t.push([e.i,'.babylon-2d-wrapper {\n    width: 100%;\n    height: 100%;\n    background: #383838;\n    position: absolute;\n    z-index: -1;\n}\n\n.babylon-2d {\n    width: 1000px;\n    height: 800px;\n    overflow: hidden;\n    position: absolute;\n    z-index: -1;\n    margin: auto;\n    top: 0px;\n    bottom: 0px;\n    background-color: #383838;\n}\n\n.babylon-viewer .annotation {\n    position: absolute;\n}\n\n.babylon-viewer .annotation .tooltip {\n    position: absolute;\n    top: 0;\n    left: 22px;\n    z-index: 1;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    width: 200px;\n    font-size: 12px;\n    line-height: 1.3em;\n    text-align: left;\n    pointer-events: none;\n    cursor: default;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n    -ms-flex-direction: column;\n    flex-direction: column;\n    opacity: 0;\n}\n\n.babylon-viewer .annotation .tooltip::before {\n    position: absolute;\n    top: 8px;\n    right: 100%;\n    display: block;\n    content: "";\n    border: 5px solid transparent;\n    border-right: 5px solid rgba(0, 0, 0, 0.8);\n    border-left: 0;\n}\n\n.babylon-viewer .annotation .tooltip .tooltip-content {\n    padding: 10px;\n    color: #ffffff;\n    cursor: auto;\n    -webkit-user-select: all;\n    -moz-user-select: all;\n    -ms-user-select: all;\n    user-select: all;\n    background: rgba(0, 0, 0, 0.8);\n    border-radius: 4px;\n}\n\n.babylon-viewer .annotation .tooltip .tooltip-content.padded {\n    padding-bottom: 52px;\n}\n\n.babylon-viewer .annotation .tooltip .title {\n    font-weight: bold;\n}\n\n.babylon-viewer .annotation .tooltip .title, \n.babylon-viewer .annotation .tooltip .description {\n    width: 100%;\n    color: #ffffff;\n    background: transparent;\n    border: 0;\n    outline: none;\n}\n\n.babylon-viewer .annotation .tooltip textarea.description {\n    height: 100px;\n}\n\n.babylon-viewer .annotation .tooltip .description {\n    display: block;\n    width: 180px;\n    margin-top: 10px;\n    resize: none;\n}\n\n.babylon-viewer .annotation.visible .tooltip.visible {\n    pointer-events: all;\n    opacity: 1;\n}\n\n.babylon-viewer .annotation .tooltip.reverse-x {\n    right: 22px;\n    left: auto;\n}\n\n/* Player  */\n.player-controls {\n    bottom: 25px;\n    position: absolute;\n    right: 0;\n    z-index: 2;\n    height: 50px;\n}\n\n.player-controls .timeline {\n    position: fixed;\n    right: 15px;\n    bottom: 50px;\n    left: 15px;\n    display: none;\n}\n\n.player-controls .ani-play-button {\n    width: 40px;\n    height: 40px;\n    border-radius: 20px;\n    text-align: center;\n    line-height: 36px;\n    font-size: 20px;\n    cursor: pointer;\n    padding-left: 2px;\n    left: 0px;\n    top: 24px;\n    color: #FFF;\n    transition: background 200ms ease-in-out;\n}\n\n.player-controls .ani-play-button:hover {\n    background: rgba(0, 0, 0, 0.58);\n}\n\n.timeline .nb-timeline-wrapper {\n    position: absolute;\n    left: 50%;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    width: 100%;\n    height: 100%;\n    box-sizing: border-box;\n    background: transparent;\n    transition: all 200ms ease-out;\n    -webkit-transform: translate(-50%, 0);\n    transform: translate(-50%, 0);\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: normal;\n    -ms-flex-flow: row nowrap;\n    flex-flow: row nowrap;\n    margin-left: 0px;\n}\n\n.timeline .track {\n    position: absolute;\n    top: 0;\n    right: 0px;\n    left: 0px;\n    height: 100%;\n    cursor: pointer;\n    transition: opacity 200ms ease-in-out;\n    -webkit-transform: translate(0, 0);\n    transform: translate(0, 0);\n    touch-action: none;\n}\n\n.timeline .track .bar {\n    position: absolute;\n    left: 0px;\n    right: 0px;\n    height: 2px;\n    margin-top: 14px;\n    background: rgba(238, 238, 238, 0.5);\n    -webkit-transform: none;\n    transform: none;\n}\n\n.timeline .track .knob {\n    position: absolute;\n    top: 8px;\n    left: 0px;\n    width: 13px;\n    height: 13px;\n    pointer-events: none;\n    background: #0097d5;\n    border: 2px solid #ffffff;\n    border-radius: 10px;\n}\n\n.threed-player {\n    position:relative;\n    right: 80px;\n    float: right;\n    bottom: -10px;\n}\n\n.threed-player .menu-wrapper {\n    /* margin-right: -80px !important; */\n    min-width: 200px;\n    min-height:160px;\n}\n\n.threed-player .setting-wrapper {\n    overflow: hidden;\n}\n\n.threed-player .setting-option {\n    list-style-type: none;\n    -webkit-box-flex: 1;\n    width: 100%;\n}\n\n.threed-player .setting-option .setting {\n    display: none;\n}\n\n.threed-player .setting-option .setting.show {\n    display: block;\n}\n\n.threed-player .setting-option .setting p.select:before {\n    position: relative;\n    top: 1px;\n    display: inline-block;\n    font-family: \'Glyphicons Halflings\';\n    font-style: normal;\n    font-weight: 400;\n    line-height: 1;\n    -webkit-font-smoothing: antialiased;\n\n    content: "\\E013";\n    margin-right: 8px;\n    margin-left: 4px;\n    font-size: 12px;\n    opacity: 1;\n}\n\n.threed-player .setting-option .setting p:before {\n    position: relative;\n    top: 1px;\n    display: inline-block;\n    font-family: \'Glyphicons Halflings\';\n    font-style: normal;\n    font-weight: 400;\n    line-height: 1;\n    -webkit-font-smoothing: antialiased;\n\n    content: "\\E013";\n    margin-right: 8px;\n    margin-left: 4px;\n    font-size: 12px;\n    opacity: 0;\n}\n\n.threed-player .setting-option .back:before {\n    margin-left: 8px;\n    margin-top: 2px;\n    font-size: 15px;\n    line-height: 14px;\n    color: #444;\n    content: "<";\n}\n\n\n.threed-player .player-setting {\n    transition: all 250ms;\n    display: flex;\n    width: 200%;\n}\n\n.threed-player .player-setting.inner-setting {\n    transform: translateX(-198px);\n}\n\n.threed-player .menu-item {\n    display: flex;\n    cursor: pointer;\n}\n\n.threed-player .menu-item .setting-label {\n    flex: 1;\n    -webkit-box-flex: 1;\n}\n\n.threed-player .menu-item .setting-value {\n    flex: 1;\n    -webkit-box-flex: 1;\n    text-align: right; \n}\n\n.threed-player .menu-item .setting-value:after {\n    margin-left: 8px;\n    margin-top: 2px;\n    font-size: 15px;\n    line-height: 14px;\n    color: #444;\n    content: ">";\n}\n\n.menu-item p {\n    margin-left: 6px;\n    font-weight: bold;\n}\n\n.glyphicon-setting:before {\n    content: "\\E019";\n}\n\n.glyphicon-animation:before {\n    content: "\\E059";\n}\n\n.icon-webvr:before {\n    font-family: "custom-icons";\n    content: "\\E614";\n}\n\n.custom-icons {\n    display: inline-block;\n    font-style: normal;\n    font-weight: normal;\n    font-variant: normal;\n    -webkit-font-smoothing: antialiased;\n    line-height: 1;\n    text-transform: none;\n    speak: none;\n    width:32px;\n    height:32px;\n    font-size: 16px;\n}\n.cameraBtn{\n    display: none;\n}\n\n',""])},function(e,t,i){var r=i(328);"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0};n.transform=void 0;i(27)(r,n);r.locals&&(e.exports=r.locals)},function(e,t,i){t=e.exports=i(26)(void 0),t.push([e.i,"ul{\n    margin: 0;\n    padding: 0;\n}\n.pull-left{\n    float: left;\n}\n.clearfix:after{\n    display: table;\n    content: '';\n    clear: both;\n}\n.table-menu{\n    width: 392px;\n    min-height: 30px;\n    list-style: none;\n}\n.table-menu>li{\n    width: 100%;\n    height: 30px;\n    border: 1px solid #fff;\n    text-align: center;\n    color: #fff;\n    font-family: 'Microsoft Yahie';\n    font-size: 18px;\n    box-sizing: border-box;\n    border-bottom: 0;\n    cursor: default;\n    user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    -moz-user-select: none;\n}\n.table-menu>li:last-child{\n    border-bottom: 1px solid #fff;\n}\n.table-menu .table-title{\n    width: 79px;\n    height: 29px;\n    line-height: 29px;\n    border-right: 1px solid #fff;\n}\n.table-menu .table-name{\n    width: 308px;\n    height: 29px;\n    line-height: 29px;\n}\n\n.li_hover:hover {\n    /*background: #330404;*/\n    background: rgba(51, 4, 4, 0.7);\n    cursor:pointer;\n}",""])},function(e,t,i){"use strict";(function(e){var t=t||{};!function(){function i(){E=!0,clearTimeout(S),S=setTimeout(function(){E=!1},700)}function r(e){var t=[];if(e)for(t.unshift(e);e.parentNode;)t.unshift(e.parentNode),e=e.parentNode;return t}function n(e,t){for(var i=r(e),n=r(t),o=null;i.length>0&&i[0]==n.shift();)o=i.shift();return o}function o(e,t,i){for(var r=n(e,t),o=e,a=[];o&&o!=r;)m(o,"pointerenter")&&a.push(o),o=o.parentNode;for(;a.length>0;)i(a.pop())}function a(e,t,i){for(var r=n(e,t),o=e;o&&o!=r;)m(o,"pointerleave")&&i(o),o=o.parentNode}function s(e,t){["pointerdown","pointermove","pointerup","pointerover","pointerout"].forEach(function(i){window.addEventListener(e(i),function(e){!E&&v(e.target,i)&&t(e,i,!0)})}),void 0===window["on"+e("pointerenter").toLowerCase()]&&window.addEventListener(e("pointerover"),function(e){if(!E){var i=v(e.target,"pointerenter");i&&i!==window&&(i.contains(e.relatedTarget)||o(i,e.relatedTarget,function(i){t(e,"pointerenter",!1,i)}))}}),void 0===window["on"+e("pointerleave").toLowerCase()]&&window.addEventListener(e("pointerout"),function(e){if(!E){var i=v(e.target,"pointerleave");i&&i!==window&&(i.contains(e.relatedTarget)||a(i,e.relatedTarget,function(i){t(e,"pointerleave",!1,i)}))}})}if(!window.PointerEvent){Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=Object(this),i=t.length>>>0;if(0===i)return-1;var r=0;if(arguments.length>0&&(r=Number(arguments[1]),r!=r?r=0:0!=r&&r!=1/0&&r!=-1/0&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),r>=i)return-1;for(var n=r>=0?r:Math.max(i-Math.abs(r),0);n<i;n++)if(n in t&&t[n]===e)return n;return-1}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/,"")});var h=["pointerdown","pointerup","pointermove","pointerover","pointerout","pointercancel","pointerenter","pointerleave"],c=["PointerDown","PointerUp","PointerMove","PointerOver","PointerOut","PointerCancel","PointerEnter","PointerLeave"],l={},u=function(e){for(;e&&!e.handjs_forcePreventDefault;)e=e.parentNode;return!!e||window.handjs_forcePreventDefault},d=function(e,t,i,r){var n;if(document.createEvent?(n=document.createEvent("MouseEvents"),n.initMouseEvent(t,i,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,null)):(n=document.createEventObject(),n.screenX=e.screenX,n.screenY=e.screenY,n.clientX=e.clientX,n.clientY=e.clientY,n.ctrlKey=e.ctrlKey,n.altKey=e.altKey,n.shiftKey=e.shiftKey,n.metaKey=e.metaKey,n.button=e.button),void 0===n.offsetX&&(void 0!==e.offsetX?(Object&&void 0!==Object.defineProperty&&(Object.defineProperty(n,"offsetX",{writable:!0}),Object.defineProperty(n,"offsetY",{writable:!0})),n.offsetX=e.offsetX,n.offsetY=e.offsetY):Object&&void 0!==Object.defineProperty?(Object.defineProperty(n,"offsetX",{get:function(){return this.currentTarget&&this.currentTarget.offsetLeft?e.clientX-this.currentTarget.offsetLeft:e.clientX}}),Object.defineProperty(n,"offsetY",{get:function(){return this.currentTarget&&this.currentTarget.offsetTop?e.clientY-this.currentTarget.offsetTop:e.clientY}})):void 0!==e.layerX&&(n.offsetX=e.layerX-e.currentTarget.offsetLeft,n.offsetY=e.layerY-e.currentTarget.offsetTop)),void 0!==e.isPrimary?n.isPrimary=e.isPrimary:n.isPrimary=!0,e.pressure)n.pressure=e.pressure;else{var o=0;void 0!==e.which?o=e.which:void 0!==e.button&&(o=e.button),n.pressure=0==o?0:.5}if(e.rotation?n.rotation=e.rotation:n.rotation=0,e.hwTimestamp?n.hwTimestamp=e.hwTimestamp:n.hwTimestamp=0,e.tiltX?n.tiltX=e.tiltX:n.tiltX=0,e.tiltY?n.tiltY=e.tiltY:n.tiltY=0,e.height?n.height=e.height:n.height=0,e.width?n.width=e.width:n.width=0,n.preventDefault=function(){void 0!==e.preventDefault&&e.preventDefault()},void 0!==n.stopPropagation){var a=n.stopPropagation;n.stopPropagation=function(){void 0!==e.stopPropagation&&e.stopPropagation(),a.call(this)}}switch(n.pointerId=e.pointerId,n.pointerType=e.pointerType,n.pointerType){case 2:n.pointerType="touch";break;case 3:n.pointerType="pen";break;case 4:n.pointerType="mouse"}r?r.dispatchEvent(n):e.target?e.target.dispatchEvent(n):e.srcElement.fireEvent("on"+g(t),n)},f=function(e,t,i,r){e.pointerId=1,e.pointerType="mouse",d(e,t,i,r)},p=function(e,t,i,r,n){var o=t.identifier+2;t.pointerId=o,t.pointerType="touch",t.currentTarget=i,void 0!==r.preventDefault&&(t.preventDefault=function(){r.preventDefault()}),d(t,e,n,i)},m=function(e,t){return e.__handjsGlobalRegisteredEvents&&e.__handjsGlobalRegisteredEvents[t]},v=function(e,t){for(;e&&!m(e,t);)e=e.parentNode;return e||(m(window,t)?window:void 0)},y=function(e,t,i,r,n){v(i,e)&&p(e,t,i,r,n)},g=function(e){return e.toLowerCase().replace("pointer","mouse")},b=function(e,t){var i=h.indexOf(t);return e+c[i]},x=function(e,t,i,r){if(void 0===e.__handjsRegisteredEvents&&(e.__handjsRegisteredEvents=[]),r){if(void 0!==e.__handjsRegisteredEvents[t])return void e.__handjsRegisteredEvents[t]++;e.__handjsRegisteredEvents[t]=1,e.addEventListener(t,i,!1)}else{if(-1!==e.__handjsRegisteredEvents.indexOf(t)&&0!=--e.__handjsRegisteredEvents[t])return;e.removeEventListener(t,i),e.__handjsRegisteredEvents[t]=0}},w=function(e,t,i){if(e.__handjsGlobalRegisteredEvents||(e.__handjsGlobalRegisteredEvents=[]),i){if(void 0!==e.__handjsGlobalRegisteredEvents[t])return void e.__handjsGlobalRegisteredEvents[t]++;e.__handjsGlobalRegisteredEvents[t]=1}else void 0!==e.__handjsGlobalRegisteredEvents[t]&&--e.__handjsGlobalRegisteredEvents[t]<0&&(e.__handjsGlobalRegisteredEvents[t]=0);if(!window.MSPointerEvent)switch(t){case"pointerenter":void 0!==e.onmouseenter&&x(e,"mouseenter",function(e){f(e,t)},i);break;case"pointerleave":void 0!==e.onmouseleave&&x(e,"mouseleave",function(e){f(e,t)},i)}},_=function(e){var t=e.prototype?e.prototype.addEventListener:e.addEventListener,i=function(e,i,r){-1!=h.indexOf(e)&&w(this,e,!0),void 0===t?this.attachEvent("on"+g(e),i):t.call(this,e,i,r)};e.prototype?e.prototype.addEventListener=i:e.addEventListener=i},T=function(e){var t=e.prototype?e.prototype.removeEventListener:e.removeEventListener,i=function(e,i,r){-1!=h.indexOf(e)&&w(this,e,!1),void 0===t?this.detachEvent(g(e),i):t.call(this,e,i,r)};e.prototype?e.prototype.removeEventListener=i:e.removeEventListener=i};_(window),_(window.HTMLElement||window.Element),_(document),_(HTMLBodyElement),_(HTMLDivElement),_(HTMLImageElement),_(HTMLUListElement),_(HTMLAnchorElement),_(HTMLLIElement),_(HTMLTableElement),window.HTMLSpanElement&&_(HTMLSpanElement),window.HTMLCanvasElement&&_(HTMLCanvasElement),window.SVGElement&&_(SVGElement),T(window),T(window.HTMLElement||window.Element),T(document),T(HTMLBodyElement),T(HTMLDivElement),T(HTMLImageElement),T(HTMLUListElement),T(HTMLAnchorElement),T(HTMLLIElement),T(HTMLTableElement),window.HTMLSpanElement&&T(HTMLSpanElement),window.HTMLCanvasElement&&T(HTMLCanvasElement),window.SVGElement&&T(SVGElement);var E=!1,S=-1;!function(){window.MSPointerEvent?s(function(e){return b("MS",e)},d):(s(g,f),void 0!==window.ontouchstart&&(window.addEventListener("touchstart",function(e){for(var t=0;t<e.changedTouches.length;++t){var r=e.changedTouches[t];l[r.identifier]=r.target,y("pointerover",r,r.target,e,!0),o(r.target,null,function(t){p("pointerenter",r,t,e,!1)}),y("pointerdown",r,r.target,e,!0)}i()}),window.addEventListener("touchend",function(e){for(var t=0;t<e.changedTouches.length;++t){var r=e.changedTouches[t],n=l[r.identifier];y("pointerup",r,n,e,!0),y("pointerout",r,n,e,!0),a(n,null,function(t){p("pointerleave",r,t,e,!1)})}i()}),window.addEventListener("touchmove",function(e){for(var t=0;t<e.changedTouches.length;++t){var r=e.changedTouches[t],n=document.elementFromPoint(r.clientX,r.clientY),s=l[r.identifier];s&&!0===u(s)&&e.preventDefault(),y("pointermove",r,s,e,!0),s!==n&&(s&&(y("pointerout",r,s,e,!0),s.contains(n)||a(s,n,function(t){p("pointerleave",r,t,e,!1)})),n&&(y("pointerover",r,n,e,!0),n.contains(s)||o(n,s,function(t){p("pointerenter",r,t,e,!1)})),l[r.identifier]=n)}i()}),window.addEventListener("touchcancel",function(e){for(var t=0;t<e.changedTouches.length;++t){var i=e.changedTouches[t];y("pointercancel",i,l[i.identifier],e,!0)}})))}(),void 0===navigator.pointerEnabled&&(navigator.pointerEnabled=!0,navigator.msPointerEnabled&&(navigator.maxTouchPoints=navigator.msMaxTouchPoints)),document.styleSheets&&document.addEventListener&&document.addEventListener("DOMContentLoaded",function(){if(!t.doNotProcessCSS&&void 0===document.body.style.touchAction){var i=new RegExp(".+?{.*?}","m"),r=new RegExp(".+?{","m"),n=function(e){var t=i.exec(e);if(t){var n=t[0];e=e.replace(n,"").trim();var o=r.exec(n)[0].replace("{","").trim();if(-1!=n.replace(/\s/g,"").indexOf("touch-action:none"))for(var a=document.querySelectorAll(o),s=0;s<a.length;s++){var h=a[s];void 0!==h.style.msTouchAction?h.style.msTouchAction="none":h.handjs_forcePreventDefault=!0}return e}},o=function t(i){if(window.setImmediate)i&&e(t,n(i));else for(;i;)i=n(i)};try{for(var a=0;a<document.styleSheets.length;a++){var s=document.styleSheets[a];if(void 0!=s.href){var h=new XMLHttpRequest;h.open("get",s.href,!1),h.send();o(h.responseText.replace(/(\n|\r)/g,""))}}}catch(e){}for(var c=document.getElementsByTagName("style"),a=0;a<c.length;a++){o(c[a].innerHTML.replace(/(\n|\r)/g,"").trim())}}},!1)}}()}).call(t,i(40).setImmediate)},function(e,t,i){var r,n,o,r,n,o;!function(a){n=[i(84)],r=a,void 0!==(o="function"==typeof r?r.apply(t,n):r)&&(e.exports=o)}(function(e){function t(t){var a=t||window.event,s=h.call(arguments,1),c=0,u=0,d=0,f=0,p=0,m=0;if(t=e.event.fix(a),t.type="mousewheel","detail"in a&&(d=-1*a.detail),"wheelDelta"in a&&(d=a.wheelDelta),"wheelDeltaY"in a&&(d=a.wheelDeltaY),"wheelDeltaX"in a&&(u=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(u=-1*d,d=0),c=0===d?u:d,"deltaY"in a&&(d=-1*a.deltaY,c=d),"deltaX"in a&&(u=a.deltaX,0===d&&(c=-1*u)),0!==d||0!==u){if(1===a.deltaMode){var v=e.data(this,"mousewheel-line-height");c*=v,d*=v,u*=v}else if(2===a.deltaMode){var y=e.data(this,"mousewheel-page-height");c*=y,d*=y,u*=y}if(f=Math.max(Math.abs(d),Math.abs(u)),(!o||o>f)&&(o=f,r(a,f)&&(o/=40)),r(a,f)&&(c/=40,u/=40,d/=40),c=Math[c>=1?"floor":"ceil"](c/o),u=Math[u>=1?"floor":"ceil"](u/o),d=Math[d>=1?"floor":"ceil"](d/o),l.settings.normalizeOffset&&this.getBoundingClientRect){var g=this.getBoundingClientRect();p=t.clientX-g.left,m=t.clientY-g.top}return t.deltaX=u,t.deltaY=d,t.deltaFactor=o,t.offsetX=p,t.offsetY=m,t.deltaMode=0,s.unshift(t,c,u,d),n&&clearTimeout(n),n=setTimeout(i,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function i(){o=null}function r(e,t){return l.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var n,o,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],h=Array.prototype.slice;if(e.event.fixHooks)for(var c=a.length;c;)e.event.fixHooks[a[--c]]=e.event.mouseHooks;var l=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=s.length;i;)this.addEventListener(s[--i],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",l.getLineHeight(this)),e.data(this,"mousewheel-page-height",l.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=s.length;i;)this.removeEventListener(s[--i],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t),r=i["offsetParent"in e.fn?"offsetParent":"parent"]();return r.length||(r=e("body")),parseInt(r.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(a){n=[i(84)],r=a,void 0!==(o="function"==typeof r?r.apply(t,n):r)&&(e.exports=o)}(function(e){function t(t){var a=t||window.event,s=h.call(arguments,1),c=0,u=0,d=0,f=0,p=0,m=0;if(t=e.event.fix(a),t.type="mousewheel","detail"in a&&(d=-1*a.detail),"wheelDelta"in a&&(d=a.wheelDelta),"wheelDeltaY"in a&&(d=a.wheelDeltaY),"wheelDeltaX"in a&&(u=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(u=-1*d,d=0),c=0===d?u:d,"deltaY"in a&&(d=-1*a.deltaY,c=d),"deltaX"in a&&(u=a.deltaX,0===d&&(c=-1*u)),0!==d||0!==u){if(1===a.deltaMode){var v=e.data(this,"mousewheel-line-height");c*=v,d*=v,u*=v}else if(2===a.deltaMode){var y=e.data(this,"mousewheel-page-height");c*=y,d*=y,u*=y}if(f=Math.max(Math.abs(d),Math.abs(u)),(!o||o>f)&&(o=f,r(a,f)&&(o/=40)),r(a,f)&&(c/=40,u/=40,d/=40),c=Math[c>=1?"floor":"ceil"](c/o),u=Math[u>=1?"floor":"ceil"](u/o),d=Math[d>=1?"floor":"ceil"](d/o),l.settings.normalizeOffset&&this.getBoundingClientRect){var g=this.getBoundingClientRect();p=t.clientX-g.left,m=t.clientY-g.top}return t.deltaX=u,t.deltaY=d,t.deltaFactor=o,t.offsetX=p,t.offsetY=m,t.deltaMode=0,s.unshift(t,c,u,d),n&&clearTimeout(n),n=setTimeout(i,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function i(){o=null}function r(e,t){return l.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var n,o,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],h=Array.prototype.slice;if(e.event.fixHooks)for(var c=a.length;c;)e.event.fixHooks[a[--c]]=e.event.mouseHooks;var l=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=s.length;i;)this.addEventListener(s[--i],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",l.getLineHeight(this)),e.data(this,"mousewheel-page-height",l.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=s.length;i;)this.removeEventListener(s[--i],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t),r=i["offsetParent"in e.fn?"offsetParent":"parent"]();return r.length||(r=e("body")),parseInt(r.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(t){void 0!==e&&e.exports?e.exports=t:t(jQuery,window,document)}(function(t){!function(r){var n=i(331),o=void 0!==e&&e.exports,a="https:"==document.location.protocol?"https:":"http:";n||(o?i(332)(t):t.event.special.mousewheel||t("head").append(decodeURI("%3Cscript src="+a+"//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js%3E%3C/script%3E"))),function(){var e,i="mCustomScrollbar",r="mCS",n=".mCustomScrollbar",o={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},a=0,s={},h=window.attachEvent&&!window.addEventListener?1:0,c=!1,l=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],u={init:function(e){var e=t.extend(!0,{},o,e),i=d.call(this);if(e.live){var h=e.liveSelector||this.selector||n,c=t(h);if("off"===e.live)return void p(h);s[h]=setTimeout(function(){c.mCustomScrollbar(e),"once"===e.live&&c.length&&p(h)},500)}else p(h);return e.setWidth=e.set_width?e.set_width:e.setWidth,e.setHeight=e.set_height?e.set_height:e.setHeight,e.axis=e.horizontalScroll?"x":m(e.axis),e.scrollInertia=e.scrollInertia>0&&e.scrollInertia<17?17:e.scrollInertia,"object"!=typeof e.mouseWheel&&1==e.mouseWheel&&(e.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),e.mouseWheel.scrollAmount=e.mouseWheelPixels?e.mouseWheelPixels:e.mouseWheel.scrollAmount,e.mouseWheel.normalizeDelta=e.advanced.normalizeMouseWheelDelta?e.advanced.normalizeMouseWheelDelta:e.mouseWheel.normalizeDelta,e.scrollButtons.scrollType=v(e.scrollButtons.scrollType),f(e),t(i).each(function(){var i=t(this);if(!i.data(r)){i.data(r,{idx:++a,opt:e,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:i.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var n=i.data(r),o=n.opt,s=i.data("mcs-axis"),h=i.data("mcs-scrollbar-position"),c=i.data("mcs-theme");s&&(o.axis=s),h&&(o.scrollbarPosition=h),c&&(o.theme=c,f(o)),y.call(this),n&&o.callbacks.onCreate&&"function"==typeof o.callbacks.onCreate&&o.callbacks.onCreate.call(this),t("#mCSB_"+n.idx+"_container img:not(."+l[2]+")").addClass(l[2]),u.update.call(null,i)}})},update:function(e,i){var n=e||d.call(this);return t(n).each(function(){var e=t(this);if(e.data(r)){var n=e.data(r),o=n.opt,a=t("#mCSB_"+n.idx+"_container"),s=t("#mCSB_"+n.idx),h=[t("#mCSB_"+n.idx+"_dragger_vertical"),t("#mCSB_"+n.idx+"_dragger_horizontal")];if(!a.length)return;n.tweenRunning&&Y(e),i&&n&&o.callbacks.onBeforeUpdate&&"function"==typeof o.callbacks.onBeforeUpdate&&o.callbacks.onBeforeUpdate.call(this),e.hasClass(l[3])&&e.removeClass(l[3]),e.hasClass(l[4])&&e.removeClass(l[4]),s.css("max-height","none"),s.height()!==e.height()&&s.css("max-height",e.height()),b.call(this),"y"===o.axis||o.advanced.autoExpandHorizontalScroll||a.css("width",g(a)),n.overflowed=E.call(this),A.call(this),o.autoDraggerLength&&w.call(this),_.call(this),M.call(this);var c=[Math.abs(a[0].offsetTop),Math.abs(a[0].offsetLeft)];"x"!==o.axis&&(n.overflowed[0]?h[0].height()>h[0].parent().height()?S.call(this):(W(e,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}),n.contentReset.y=null):(S.call(this),"y"===o.axis?C.call(this):"yx"===o.axis&&n.overflowed[1]&&W(e,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==o.axis&&(n.overflowed[1]?h[1].width()>h[1].parent().width()?S.call(this):(W(e,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}),n.contentReset.x=null):(S.call(this),"x"===o.axis?C.call(this):"yx"===o.axis&&n.overflowed[0]&&W(e,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),i&&n&&(2===i&&o.callbacks.onImageLoad&&"function"==typeof o.callbacks.onImageLoad?o.callbacks.onImageLoad.call(this):3===i&&o.callbacks.onSelectorChange&&"function"==typeof o.callbacks.onSelectorChange?o.callbacks.onSelectorChange.call(this):o.callbacks.onUpdate&&"function"==typeof o.callbacks.onUpdate&&o.callbacks.onUpdate.call(this)),V.call(this)}})},scrollTo:function(e,i){if(void 0!==e&&null!=e){var n=d.call(this);return t(n).each(function(){var n=t(this);if(n.data(r)){var o=n.data(r),a=o.opt,s={trigger:"external",scrollInertia:a.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},h=t.extend(!0,{},s,i),c=z.call(this,e),l=h.scrollInertia>0&&h.scrollInertia<17?17:h.scrollInertia;c[0]=G.call(this,c[0],"y"),c[1]=G.call(this,c[1],"x"),h.moveDragger&&(c[0]*=o.scrollRatio.y,c[1]*=o.scrollRatio.x),h.dur=ie()?0:l,setTimeout(function(){null!==c[0]&&void 0!==c[0]&&"x"!==a.axis&&o.overflowed[0]&&(h.dir="y",h.overwrite="all",W(n,c[0].toString(),h)),null!==c[1]&&void 0!==c[1]&&"y"!==a.axis&&o.overflowed[1]&&(h.dir="x",h.overwrite="none",W(n,c[1].toString(),h))},h.timeout)}})}},stop:function(){var e=d.call(this);return t(e).each(function(){var e=t(this);e.data(r)&&Y(e)})},disable:function(e){var i=d.call(this);return t(i).each(function(){var i=t(this);i.data(r)&&(i.data(r),V.call(this,"remove"),C.call(this),e&&S.call(this),A.call(this,!0),i.addClass(l[3]))})},destroy:function(){var e=d.call(this);return t(e).each(function(){var n=t(this);if(n.data(r)){var o=n.data(r),a=o.opt,s=t("#mCSB_"+o.idx),h=t("#mCSB_"+o.idx+"_container"),c=t(".mCSB_"+o.idx+"_scrollbar");a.live&&p(a.liveSelector||t(e).selector),V.call(this,"remove"),C.call(this),S.call(this),n.removeData(r),Z(this,"mcs"),c.remove(),h.find("img."+l[2]).removeClass(l[2]),s.replaceWith(h.contents()),n.removeClass(i+" _"+r+"_"+o.idx+" "+l[6]+" "+l[7]+" "+l[5]+" "+l[3]).addClass(l[4])}})}},d=function(){return"object"!=typeof t(this)||t(this).length<1?n:this},f=function(e){var i=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],r=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],n=["minimal","minimal-dark"],o=["minimal","minimal-dark"],a=["minimal","minimal-dark"];e.autoDraggerLength=!(t.inArray(e.theme,i)>-1)&&e.autoDraggerLength,e.autoExpandScrollbar=!(t.inArray(e.theme,r)>-1)&&e.autoExpandScrollbar,e.scrollButtons.enable=!(t.inArray(e.theme,n)>-1)&&e.scrollButtons.enable,e.autoHideScrollbar=t.inArray(e.theme,o)>-1||e.autoHideScrollbar,e.scrollbarPosition=t.inArray(e.theme,a)>-1?"outside":e.scrollbarPosition},p=function(e){s[e]&&(clearTimeout(s[e]),Z(s,e))},m=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},v=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},y=function(){var e=t(this),n=e.data(r),o=n.opt,a=o.autoExpandScrollbar?" "+l[1]+"_expand":"",s=["<div id='mCSB_"+n.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+o.theme+" mCSB_scrollTools_vertical"+a+"'><div class='"+l[12]+"'><div id='mCSB_"+n.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+n.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+o.theme+" mCSB_scrollTools_horizontal"+a+"'><div class='"+l[12]+"'><div id='mCSB_"+n.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],h="yx"===o.axis?"mCSB_vertical_horizontal":"x"===o.axis?"mCSB_horizontal":"mCSB_vertical",c="yx"===o.axis?s[0]+s[1]:"x"===o.axis?s[1]:s[0],u="yx"===o.axis?"<div id='mCSB_"+n.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",d=o.autoHideScrollbar?" "+l[6]:"",f="x"!==o.axis&&"rtl"===n.langDir?" "+l[7]:"";o.setWidth&&e.css("width",o.setWidth),o.setHeight&&e.css("height",o.setHeight),o.setLeft="y"!==o.axis&&"rtl"===n.langDir?"989999px":o.setLeft,e.addClass(i+" _"+r+"_"+n.idx+d+f).wrapInner("<div id='mCSB_"+n.idx+"' class='mCustomScrollBox mCS-"+o.theme+" "+h+"'><div id='mCSB_"+n.idx+"_container' class='mCSB_container' style='position:relative; top:"+o.setTop+"; left:"+o.setLeft+";' dir="+n.langDir+" /></div>");var p=t("#mCSB_"+n.idx),m=t("#mCSB_"+n.idx+"_container");"y"===o.axis||o.advanced.autoExpandHorizontalScroll||m.css("width",g(m)),"outside"===o.scrollbarPosition?("static"===e.css("position")&&e.css("position","relative"),e.css("overflow","visible"),p.addClass("mCSB_outside").after(c)):(p.addClass("mCSB_inside").append(c),m.wrap(u)),x.call(this);var v=[t("#mCSB_"+n.idx+"_dragger_vertical"),t("#mCSB_"+n.idx+"_dragger_horizontal")];v[0].css("min-height",v[0].height()),v[1].css("min-width",v[1].width())},g=function(e){var i=[e[0].scrollWidth,Math.max.apply(Math,e.children().map(function(){return t(this).outerWidth(!0)}).get())],r=e.parent().width();return i[0]>r?i[0]:i[1]>r?i[1]:"100%"},b=function(){var e=t(this),i=e.data(r),n=i.opt,o=t("#mCSB_"+i.idx+"_container");if(n.advanced.autoExpandHorizontalScroll&&"y"!==n.axis){o.css({width:"auto","min-width":0,"overflow-x":"scroll"});var a=Math.ceil(o[0].scrollWidth);3===n.advanced.autoExpandHorizontalScroll||2!==n.advanced.autoExpandHorizontalScroll&&a>o.parent().width()?o.css({width:a,"min-width":"100%","overflow-x":"inherit"}):o.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(o[0].getBoundingClientRect().right+.4)-Math.floor(o[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},x=function(){var e=t(this),i=e.data(r),n=i.opt,o=t(".mCSB_"+i.idx+"_scrollbar:first"),a=ee(n.scrollButtons.tabindex)?"tabindex='"+n.scrollButtons.tabindex+"'":"",s=["<a href='#' class='"+l[13]+"' oncontextmenu='return false;' "+a+" />","<a href='#' class='"+l[14]+"' oncontextmenu='return false;' "+a+" />","<a href='#' class='"+l[15]+"' oncontextmenu='return false;' "+a+" />","<a href='#' class='"+l[16]+"' oncontextmenu='return false;' "+a+" />"],h=["x"===n.axis?s[2]:s[0],"x"===n.axis?s[3]:s[1],s[2],s[3]];n.scrollButtons.enable&&o.prepend(h[0]).append(h[1]).next(".mCSB_scrollTools").prepend(h[2]).append(h[3])},w=function(){var e=t(this),i=e.data(r),n=t("#mCSB_"+i.idx),o=t("#mCSB_"+i.idx+"_container"),a=[t("#mCSB_"+i.idx+"_dragger_vertical"),t("#mCSB_"+i.idx+"_dragger_horizontal")],s=[n.height()/o.outerHeight(!1),n.width()/o.outerWidth(!1)],c=[parseInt(a[0].css("min-height")),Math.round(s[0]*a[0].parent().height()),parseInt(a[1].css("min-width")),Math.round(s[1]*a[1].parent().width())],l=h&&c[1]<c[0]?c[0]:c[1],u=h&&c[3]<c[2]?c[2]:c[3];a[0].css({height:l,"max-height":a[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":c[0]+"px"}),a[1].css({width:u,"max-width":a[1].parent().width()-10})},_=function(){var e=t(this),i=e.data(r),n=t("#mCSB_"+i.idx),o=t("#mCSB_"+i.idx+"_container"),a=[t("#mCSB_"+i.idx+"_dragger_vertical"),t("#mCSB_"+i.idx+"_dragger_horizontal")],s=[o.outerHeight(!1)-n.height(),o.outerWidth(!1)-n.width()],h=[s[0]/(a[0].parent().height()-a[0].height()),s[1]/(a[1].parent().width()-a[1].width())];i.scrollRatio={y:h[0],x:h[1]}},T=function(e,t,i){var r=i?l[0]+"_expanded":"",n=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(l[0]+" "+r),n.toggleClass(l[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(l[0]),n.removeClass(l[1])):(e.addClass(l[0]),n.addClass(l[1])))},E=function(){var e=t(this),i=e.data(r),n=t("#mCSB_"+i.idx),o=t("#mCSB_"+i.idx+"_container"),a=null==i.overflowed?o.height():o.outerHeight(!1),s=null==i.overflowed?o.width():o.outerWidth(!1),h=o[0].scrollHeight,c=o[0].scrollWidth;return h>a&&(a=h),c>s&&(s=c),[a>n.height(),s>n.width()]},S=function(){var e=t(this),i=e.data(r),n=i.opt,o=t("#mCSB_"+i.idx),a=t("#mCSB_"+i.idx+"_container"),s=[t("#mCSB_"+i.idx+"_dragger_vertical"),t("#mCSB_"+i.idx+"_dragger_horizontal")];if(Y(e),("x"!==n.axis&&!i.overflowed[0]||"y"===n.axis&&i.overflowed[0])&&(s[0].add(a).css("top",0),W(e,"_resetY")),"y"!==n.axis&&!i.overflowed[1]||"x"===n.axis&&i.overflowed[1]){var h=dx=0;"rtl"===i.langDir&&(h=o.width()-a.outerWidth(!1),dx=Math.abs(h/i.scrollRatio.x)),a.css("left",h),s[1].css("left",dx),W(e,"_resetX")}},M=function(){function e(){a=setTimeout(function(){t.event.special.mousewheel?(clearTimeout(a),R.call(i[0])):e()},100)}var i=t(this),n=i.data(r),o=n.opt;if(!n.bindEvents){if(k.call(this),o.contentTouchScroll&&I.call(this),P.call(this),o.mouseWheel.enable){var a;e()}L.call(this),N.call(this),o.advanced.autoScrollOnFocus&&B.call(this),o.scrollButtons.enable&&U.call(this),o.keyboard.enable&&H.call(this),n.bindEvents=!0}},C=function(){var e=t(this),i=e.data(r),n=i.opt,o=r+"_"+i.idx,a=".mCSB_"+i.idx+"_scrollbar",s=t("#mCSB_"+i.idx+",#mCSB_"+i.idx+"_container,#mCSB_"+i.idx+"_container_wrapper,"+a+" ."+l[12]+",#mCSB_"+i.idx+"_dragger_vertical,#mCSB_"+i.idx+"_dragger_horizontal,"+a+">a"),h=t("#mCSB_"+i.idx+"_container");n.advanced.releaseDraggableSelectors&&s.add(t(n.advanced.releaseDraggableSelectors)),n.advanced.extraDraggableSelectors&&s.add(t(n.advanced.extraDraggableSelectors)),i.bindEvents&&(t(document).add(t(!F()||top.document)).unbind("."+o),s.each(function(){t(this).unbind("."+o)}),clearTimeout(e[0]._focusTimeout),Z(e[0],"_focusTimeout"),clearTimeout(i.sequential.step),Z(i.sequential,"step"),clearTimeout(h[0].onCompleteTimeout),Z(h[0],"onCompleteTimeout"),i.bindEvents=!1)},A=function(e){var i=t(this),n=i.data(r),o=n.opt,a=t("#mCSB_"+n.idx+"_container_wrapper"),s=a.length?a:t("#mCSB_"+n.idx+"_container"),h=[t("#mCSB_"+n.idx+"_scrollbar_vertical"),t("#mCSB_"+n.idx+"_scrollbar_horizontal")],c=[h[0].find(".mCSB_dragger"),h[1].find(".mCSB_dragger")];"x"!==o.axis&&(n.overflowed[0]&&!e?(h[0].add(c[0]).add(h[0].children("a")).css("display","block"),s.removeClass(l[8]+" "+l[10])):(o.alwaysShowScrollbar?(2!==o.alwaysShowScrollbar&&c[0].css("display","none"),s.removeClass(l[10])):(h[0].css("display","none"),s.addClass(l[10])),s.addClass(l[8]))),"y"!==o.axis&&(n.overflowed[1]&&!e?(h[1].add(c[1]).add(h[1].children("a")).css("display","block"),s.removeClass(l[9]+" "+l[11])):(o.alwaysShowScrollbar?(2!==o.alwaysShowScrollbar&&c[1].css("display","none"),s.removeClass(l[11])):(h[1].css("display","none"),s.addClass(l[11])),s.addClass(l[9]))),n.overflowed[0]||n.overflowed[1]?i.removeClass(l[5]):i.addClass(l[5])},D=function(e){var i=e.type,r=e.target.ownerDocument!==document?[t(frameElement).offset().top,t(frameElement).offset().left]:null,n=F()&&e.target.ownerDocument!==top.document?[t(e.view.frameElement).offset().top,t(e.view.frameElement).offset().left]:[0,0];switch(i){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return r?[e.originalEvent.pageY-r[0]+n[0],e.originalEvent.pageX-r[1]+n[1],!1]:[e.originalEvent.pageY,e.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var o=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],a=e.originalEvent.touches.length||e.originalEvent.changedTouches.length;return e.target.ownerDocument!==document?[o.screenY,o.screenX,a>1]:[o.pageY,o.pageX,a>1];default:return r?[e.pageY-r[0]+n[0],e.pageX-r[1]+n[1],!1]:[e.pageY,e.pageX,!1]}},k=function(){function e(e){var t=p.find("iframe");if(t.length){var i=e?"auto":"none";t.css("pointer-events",i)}}function i(e,t,i,r){if(p[0].idleTimer=u.scrollInertia<233?250:0,n.attr("id")===f[1])var o="x",a=(n[0].offsetLeft-t+r)*l.scrollRatio.x;else var o="y",a=(n[0].offsetTop-e+i)*l.scrollRatio.y;W(s,a.toString(),{dir:o,drag:!0})}var n,o,a,s=t(this),l=s.data(r),u=l.opt,d=r+"_"+l.idx,f=["mCSB_"+l.idx+"_dragger_vertical","mCSB_"+l.idx+"_dragger_horizontal"],p=t("#mCSB_"+l.idx+"_container"),m=t("#"+f[0]+",#"+f[1]),v=u.advanced.releaseDraggableSelectors?m.add(t(u.advanced.releaseDraggableSelectors)):m,y=u.advanced.extraDraggableSelectors?t(!F()||top.document).add(t(u.advanced.extraDraggableSelectors)):t(!F()||top.document);m.bind("mousedown."+d+" touchstart."+d+" pointerdown."+d+" MSPointerDown."+d,function(i){if(i.stopImmediatePropagation(),i.preventDefault(),J(i)){c=!0,h&&(document.onselectstart=function(){return!1}),e(!1),Y(s),n=t(this);var r=n.offset(),l=D(i)[0]-r.top,d=D(i)[1]-r.left,f=n.height()+r.top,p=n.width()+r.left;f>l&&l>0&&p>d&&d>0&&(o=l,a=d),T(n,"active",u.autoExpandScrollbar)}}).bind("touchmove."+d,function(e){e.stopImmediatePropagation(),e.preventDefault();var t=n.offset(),r=D(e)[0]-t.top,s=D(e)[1]-t.left;i(o,a,r,s)}),t(document).add(y).bind("mousemove."+d+" pointermove."+d+" MSPointerMove."+d,function(e){if(n){var t=n.offset(),r=D(e)[0]-t.top,s=D(e)[1]-t.left;if(o===r&&a===s)return;i(o,a,r,s)}}).add(v).bind("mouseup."+d+" touchend."+d+" pointerup."+d+" MSPointerUp."+d,function(t){n&&(T(n,"active",u.autoExpandScrollbar),n=null),c=!1,h&&(document.onselectstart=null),e(!0)})},I=function(){function i(t){if(!Q(t)||c||D(t)[2])return void(e=0);e=1,_=0,T=0,l=1,E.removeClass("mCS_touch_action");var i=k.offset();u=D(t)[0]-i.top,d=D(t)[1]-i.left,B=[D(t)[0],D(t)[1]]}function n(e){if(Q(e)&&!c&&!D(e)[2]&&(M.documentTouchScroll||e.preventDefault(),e.stopImmediatePropagation(),(!T||_)&&l)){v=$();var t=A.offset(),i=D(e)[0]-t.top,r=D(e)[1]-t.left,n="mcsLinearOut";if(P.push(i),R.push(r),B[2]=Math.abs(D(e)[0]-B[0]),B[3]=Math.abs(D(e)[1]-B[1]),S.overflowed[0])var o=I[0].parent().height()-I[0].height(),a=u-i>0&&i-u>-o*S.scrollRatio.y&&(2*B[3]<B[2]||"yx"===M.axis);if(S.overflowed[1])var s=I[1].parent().width()-I[1].width(),f=d-r>0&&r-d>-s*S.scrollRatio.x&&(2*B[2]<B[3]||"yx"===M.axis);a||f?(H||e.preventDefault(),_=1):(T=1,E.addClass("mCS_touch_action")),H&&e.preventDefault(),x="yx"===M.axis?[u-i,d-r]:"x"===M.axis?[null,d-r]:[u-i,null],k[0].idleTimer=250,S.overflowed[0]&&h(x[0],O,n,"y","all",!0),S.overflowed[1]&&h(x[1],O,n,"x",L,!0)}}function o(t){if(!Q(t)||c||D(t)[2])return void(e=0);e=1,t.stopImmediatePropagation(),Y(E),m=$();var i=A.offset();f=D(t)[0]-i.top,p=D(t)[1]-i.left,P=[],R=[]}function a(e){if(Q(e)&&!c&&!D(e)[2]){l=0,e.stopImmediatePropagation(),_=0,T=0,y=$();var t=A.offset(),i=D(e)[0]-t.top,r=D(e)[1]-t.left;if(!(y-v>30)){b=1e3/(y-m);var n="mcsEaseOut",o=2.5>b,a=o?[P[P.length-2],R[R.length-2]]:[0,0];g=o?[i-a[0],r-a[1]]:[i-f,r-p];var u=[Math.abs(g[0]),Math.abs(g[1])];b=o?[Math.abs(g[0]/4),Math.abs(g[1]/4)]:[b,b];var d=[Math.abs(k[0].offsetTop)-g[0]*s(u[0]/b[0],b[0]),Math.abs(k[0].offsetLeft)-g[1]*s(u[1]/b[1],b[1])];x="yx"===M.axis?[d[0],d[1]]:"x"===M.axis?[null,d[1]]:[d[0],null],w=[4*u[0]+M.scrollInertia,4*u[1]+M.scrollInertia];var E=parseInt(M.contentTouchScroll)||0;x[0]=u[0]>E?x[0]:0,x[1]=u[1]>E?x[1]:0,S.overflowed[0]&&h(x[0],w[0],n,"y",L,!1),S.overflowed[1]&&h(x[1],w[1],n,"x",L,!1)}}}function s(e,t){var i=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?i[0]:i[3]:e>60?t>3?i[3]:i[2]:e>30?t>8?i[1]:t>6?i[0]:t>4?t:i[2]:t>8?t:i[3]}function h(e,t,i,r,n,o){e&&W(E,e.toString(),{dur:t,scrollEasing:i,dir:r,overwrite:n,drag:o})}var l,u,d,f,p,m,v,y,g,b,x,w,_,T,E=t(this),S=E.data(r),M=S.opt,C=r+"_"+S.idx,A=t("#mCSB_"+S.idx),k=t("#mCSB_"+S.idx+"_container"),I=[t("#mCSB_"+S.idx+"_dragger_vertical"),t("#mCSB_"+S.idx+"_dragger_horizontal")],P=[],R=[],O=0,L="yx"===M.axis?"none":"all",B=[],N=k.find("iframe"),U=["touchstart."+C+" pointerdown."+C+" MSPointerDown."+C,"touchmove."+C+" pointermove."+C+" MSPointerMove."+C,"touchend."+C+" pointerup."+C+" MSPointerUp."+C],H=void 0!==document.body.style.touchAction;k.bind(U[0],function(e){i(e)}).bind(U[1],function(e){n(e)}),A.bind(U[0],function(e){o(e)}).bind(U[2],function(e){a(e)}),N.length&&N.each(function(){t(this).load(function(){F(this)&&t(this.contentDocument||this.contentWindow.document).bind(U[0],function(e){i(e),o(e)}).bind(U[1],function(e){n(e)}).bind(U[2],function(e){a(e)})})})},P=function(){function i(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function n(e,t,i){l.type=i&&o?"stepped":"stepless",l.scrollAmount=10,j(a,e,t,"mcsLinearOut",i?60:null)}var o,a=t(this),s=a.data(r),h=s.opt,l=s.sequential,u=r+"_"+s.idx,d=t("#mCSB_"+s.idx+"_container"),f=d.parent();d.bind("mousedown."+u,function(t){e||o||(o=1,c=!0)}).add(document).bind("mousemove."+u,function(t){if(!e&&o&&i()){var r=d.offset(),a=D(t)[0]-r.top+d[0].offsetTop,c=D(t)[1]-r.left+d[0].offsetLeft;a>0&&a<f.height()&&c>0&&c<f.width()?l.step&&n("off",null,"stepped"):("x"!==h.axis&&s.overflowed[0]&&(0>a?n("on",38):a>f.height()&&n("on",40)),"y"!==h.axis&&s.overflowed[1]&&(0>c?n("on",37):c>f.width()&&n("on",39)))}}).bind("mouseup."+u+" dragend."+u,function(t){e||(o&&(o=0,n("off",null)),c=!1)})},R=function(){function e(e,r){if(Y(i),!O(i,e.target)){var a="auto"!==o.mouseWheel.deltaFactor?parseInt(o.mouseWheel.deltaFactor):h&&e.deltaFactor<100?100:e.deltaFactor||100,l=o.scrollInertia;if("x"===o.axis||"x"===o.mouseWheel.axis)var u="x",d=[Math.round(a*n.scrollRatio.x),parseInt(o.mouseWheel.scrollAmount)],f="auto"!==o.mouseWheel.scrollAmount?d[1]:d[0]>=s.width()?.9*s.width():d[0],p=Math.abs(t("#mCSB_"+n.idx+"_container")[0].offsetLeft),m=c[1][0].offsetLeft,v=c[1].parent().width()-c[1].width(),y=e.deltaX||e.deltaY||r;else var u="y",d=[Math.round(a*n.scrollRatio.y),parseInt(o.mouseWheel.scrollAmount)],f="auto"!==o.mouseWheel.scrollAmount?d[1]:d[0]>=s.height()?.9*s.height():d[0],p=Math.abs(t("#mCSB_"+n.idx+"_container")[0].offsetTop),m=c[0][0].offsetTop,v=c[0].parent().height()-c[0].height(),y=e.deltaY||r;"y"===u&&!n.overflowed[0]||"x"===u&&!n.overflowed[1]||((o.mouseWheel.invert||e.webkitDirectionInvertedFromDevice)&&(y=-y),o.mouseWheel.normalizeDelta&&(y=0>y?-1:1),(y>0&&0!==m||0>y&&m!==v||o.mouseWheel.preventDefault)&&(e.stopImmediatePropagation(),e.preventDefault()),e.deltaFactor<2&&!o.mouseWheel.normalizeDelta&&(f=e.deltaFactor,l=17),W(i,(p-y*f).toString(),{dir:u,dur:l}))}}if(t(this).data(r)){var i=t(this),n=i.data(r),o=n.opt,a=r+"_"+n.idx,s=t("#mCSB_"+n.idx),c=[t("#mCSB_"+n.idx+"_dragger_vertical"),t("#mCSB_"+n.idx+"_dragger_horizontal")],l=t("#mCSB_"+n.idx+"_container").find("iframe");l.length&&l.each(function(){t(this).load(function(){F(this)&&t(this.contentDocument||this.contentWindow.document).bind("mousewheel."+a,function(t,i){e(t,i)})})}),s.bind("mousewheel."+a,function(t,i){e(t,i)})}},F=function(e){var t=null;if(e){try{var i=e.contentDocument||e.contentWindow.document;t=i.body.innerHTML}catch(e){}return null!==t}try{var i=top.document;t=i.body.innerHTML}catch(e){}return null!==t},O=function(e,i){var n=i.nodeName.toLowerCase(),o=e.data(r).opt.mouseWheel.disableOver,a=["select","textarea"];return t.inArray(n,o)>-1&&!(t.inArray(n,a)>-1&&!t(i).is(":focus"))},L=function(){var e,i=t(this),n=i.data(r),o=r+"_"+n.idx,a=t("#mCSB_"+n.idx+"_container"),s=a.parent();t(".mCSB_"+n.idx+"_scrollbar ."+l[12]).bind("mousedown."+o+" touchstart."+o+" pointerdown."+o+" MSPointerDown."+o,function(i){c=!0,t(i.target).hasClass("mCSB_dragger")||(e=1)}).bind("touchend."+o+" pointerup."+o+" MSPointerUp."+o,function(e){c=!1}).bind("click."+o,function(r){if(e&&(e=0,t(r.target).hasClass(l[12])||t(r.target).hasClass("mCSB_draggerRail"))){Y(i);var o=t(this),h=o.find(".mCSB_dragger");if(o.parent(".mCSB_scrollTools_horizontal").length>0){if(!n.overflowed[1])return;var c="x",u=r.pageX>h.offset().left?-1:1,d=Math.abs(a[0].offsetLeft)-.9*u*s.width()}else{if(!n.overflowed[0])return;var c="y",u=r.pageY>h.offset().top?-1:1,d=Math.abs(a[0].offsetTop)-.9*u*s.height()}W(i,d.toString(),{dir:c,scrollEasing:"mcsEaseInOut"})}})},B=function(){var e=t(this),i=e.data(r),n=i.opt,o=r+"_"+i.idx,a=t("#mCSB_"+i.idx+"_container"),s=a.parent();a.bind("focusin."+o,function(i){var r=t(document.activeElement),o=a.find(".mCustomScrollBox").length;r.is(n.advanced.autoScrollOnFocus)&&(Y(e),clearTimeout(e[0]._focusTimeout),e[0]._focusTimer=o?17*o:0,e[0]._focusTimeout=setTimeout(function(){var t=[te(r)[0],te(r)[1]],i=[a[0].offsetTop,a[0].offsetLeft],o=[i[0]+t[0]>=0&&i[0]+t[0]<s.height()-r.outerHeight(!1),i[1]+t[1]>=0&&i[0]+t[1]<s.width()-r.outerWidth(!1)],h="yx"!==n.axis||o[0]||o[1]?"all":"none";"x"===n.axis||o[0]||W(e,t[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:h,dur:0}),"y"===n.axis||o[1]||W(e,t[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:h,dur:0})},e[0]._focusTimer))})},N=function(){var e=t(this),i=e.data(r),n=r+"_"+i.idx,o=t("#mCSB_"+i.idx+"_container").parent();o.bind("scroll."+n,function(e){(0!==o.scrollTop()||0!==o.scrollLeft())&&t(".mCSB_"+i.idx+"_scrollbar").css("visibility","hidden")})},U=function(){var e=t(this),i=e.data(r),n=i.opt,o=i.sequential,a=r+"_"+i.idx,s=".mCSB_"+i.idx+"_scrollbar";t(s+">a").bind("mousedown."+a+" touchstart."+a+" pointerdown."+a+" MSPointerDown."+a+" mouseup."+a+" touchend."+a+" pointerup."+a+" MSPointerUp."+a+" mouseout."+a+" pointerout."+a+" MSPointerOut."+a+" click."+a,function(r){function a(t,i){o.scrollAmount=n.scrollButtons.scrollAmount,j(e,t,i)}if(r.preventDefault(),J(r)){var s=t(this).attr("class");switch(o.type=n.scrollButtons.scrollType,r.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===o.type)return;c=!0,i.tweenRunning=!1,a("on",s);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===o.type)return;c=!1,o.dir&&a("off",s);break;case"click":if("stepped"!==o.type||i.tweenRunning)return;a("on",s)}}})},H=function(){function e(e){function r(e,t){a.type=o.keyboard.scrollType,a.scrollAmount=o.keyboard.scrollAmount,"stepped"===a.type&&n.tweenRunning||j(i,e,t)}switch(e.type){case"blur":n.tweenRunning&&a.dir&&r("off",null);break;case"keydown":case"keyup":var s=e.keyCode?e.keyCode:e.which,h="on";if("x"!==o.axis&&(38===s||40===s)||"y"!==o.axis&&(37===s||39===s)){if((38===s||40===s)&&!n.overflowed[0]||(37===s||39===s)&&!n.overflowed[1])return;"keyup"===e.type&&(h="off"),t(document.activeElement).is(u)||(e.preventDefault(),e.stopImmediatePropagation(),r(h,s))}else if(33===s||34===s){if((n.overflowed[0]||n.overflowed[1])&&(e.preventDefault(),e.stopImmediatePropagation()),"keyup"===e.type){Y(i);var d=34===s?-1:1;if("x"===o.axis||"yx"===o.axis&&n.overflowed[1]&&!n.overflowed[0])var f="x",p=Math.abs(c[0].offsetLeft)-.9*d*l.width();else var f="y",p=Math.abs(c[0].offsetTop)-.9*d*l.height();W(i,p.toString(),{dir:f,scrollEasing:"mcsEaseInOut"})}}else if((35===s||36===s)&&!t(document.activeElement).is(u)&&((n.overflowed[0]||n.overflowed[1])&&(e.preventDefault(),e.stopImmediatePropagation()),"keyup"===e.type)){if("x"===o.axis||"yx"===o.axis&&n.overflowed[1]&&!n.overflowed[0])var f="x",p=35===s?Math.abs(l.width()-c.outerWidth(!1)):0;else var f="y",p=35===s?Math.abs(l.height()-c.outerHeight(!1)):0;W(i,p.toString(),{dir:f,scrollEasing:"mcsEaseInOut"})}}}var i=t(this),n=i.data(r),o=n.opt,a=n.sequential,s=r+"_"+n.idx,h=t("#mCSB_"+n.idx),c=t("#mCSB_"+n.idx+"_container"),l=c.parent(),u="input,textarea,select,datalist,keygen,[contenteditable='true']",d=c.find("iframe"),f=["blur."+s+" keydown."+s+" keyup."+s];d.length&&d.each(function(){t(this).load(function(){F(this)&&t(this.contentDocument||this.contentWindow.document).bind(f[0],function(t){e(t)})})}),h.attr("tabindex","0").bind(f[0],function(t){e(t)})},j=function(e,i,n,o,a){function s(t){c.snapAmount&&(u.scrollAmount=c.snapAmount instanceof Array?"x"===u.dir[0]?c.snapAmount[1]:c.snapAmount[0]:c.snapAmount);var i="stepped"!==u.type,r=a||(t?i?p/1.5:m:1e3/60),n=t?i?7.5:40:2.5,l=[Math.abs(d[0].offsetTop),Math.abs(d[0].offsetLeft)],f=[h.scrollRatio.y>10?10:h.scrollRatio.y,h.scrollRatio.x>10?10:h.scrollRatio.x],v="x"===u.dir[0]?l[1]+u.dir[1]*f[1]*n:l[0]+u.dir[1]*f[0]*n,y="x"===u.dir[0]?l[1]+u.dir[1]*parseInt(u.scrollAmount):l[0]+u.dir[1]*parseInt(u.scrollAmount),g="auto"!==u.scrollAmount?y:v,b=o||(t?i?"mcsLinearOut":"mcsEaseInOut":"mcsLinear"),x=!!t;return t&&17>r&&(g="x"===u.dir[0]?l[1]:l[0]),W(e,g.toString(),{dir:u.dir[0],scrollEasing:b,dur:r,onComplete:x}),t?void(u.dir=!1):(clearTimeout(u.step),void(u.step=setTimeout(function(){s()},r)))}var h=e.data(r),c=h.opt,u=h.sequential,d=t("#mCSB_"+h.idx+"_container"),f="stepped"===u.type,p=c.scrollInertia<26?26:c.scrollInertia,m=c.scrollInertia<1?17:c.scrollInertia;switch(i){case"on":if(u.dir=[n===l[16]||n===l[15]||39===n||37===n?"x":"y",n===l[13]||n===l[15]||38===n||37===n?-1:1],Y(e),ee(n)&&"stepped"===u.type)return;s(f);break;case"off":(function(){clearTimeout(u.step),Z(u,"step"),Y(e)})(),(f||h.tweenRunning&&u.dir)&&s(!0)}},z=function(e){var i=t(this).data(r).opt,n=[];return"function"==typeof e&&(e=e()),e instanceof Array?n=e.length>1?[e[0],e[1]]:"x"===i.axis?[null,e[0]]:[e[0],null]:(n[0]=e.y?e.y:e.x||"x"===i.axis?null:e,n[1]=e.x?e.x:e.y||"y"===i.axis?null:e),"function"==typeof n[0]&&(n[0]=n[0]()),"function"==typeof n[1]&&(n[1]=n[1]()),n},G=function(e,i){if(null!=e&&void 0!==e){var n=t(this),o=n.data(r),a=o.opt,s=t("#mCSB_"+o.idx+"_container"),h=s.parent(),c=typeof e;i||(i="x"===a.axis?"x":"y");var l="x"===i?s.outerWidth(!1):s.outerHeight(!1),d="x"===i?s[0].offsetLeft:s[0].offsetTop,f="x"===i?"left":"top";switch(c){case"function":return e();case"object":var p=e.jquery?e:t(e);if(!p.length)return;return"x"===i?te(p)[1]:te(p)[0];case"string":case"number":if(ee(e))return Math.abs(e);if(-1!==e.indexOf("%"))return Math.abs(l*parseInt(e)/100);if(-1!==e.indexOf("-="))return Math.abs(d-parseInt(e.split("-=")[1]));if(-1!==e.indexOf("+=")){var m=d+parseInt(e.split("+=")[1]);return m>=0?0:Math.abs(m)}if(-1!==e.indexOf("px")&&ee(e.split("px")[0]))return Math.abs(e.split("px")[0]);if("top"===e||"left"===e)return 0;if("bottom"===e)return Math.abs(h.height()-s.outerHeight(!1));if("right"===e)return Math.abs(h.width()-s.outerWidth(!1));if("first"===e||"last"===e){var p=s.find(":"+e);return"x"===i?te(p)[1]:te(p)[0]}return t(e).length?"x"===i?te(t(e))[1]:te(t(e))[0]:(s.css(f,e),void u.update.call(null,n[0]))}}},V=function(e){function i(){return clearTimeout(d[0].autoUpdate),0===s.parents("html").length?void(s=null):void(d[0].autoUpdate=setTimeout(function(){return c.advanced.updateOnSelectorChange&&(h.poll.change.n=o(),h.poll.change.n!==h.poll.change.o)?(h.poll.change.o=h.poll.change.n,void a(3)):c.advanced.updateOnContentResize&&(h.poll.size.n=s[0].scrollHeight+s[0].scrollWidth+d[0].offsetHeight+s[0].offsetHeight+s[0].offsetWidth,h.poll.size.n!==h.poll.size.o)?(h.poll.size.o=h.poll.size.n,void a(1)):!c.advanced.updateOnImageLoad||"auto"===c.advanced.updateOnImageLoad&&"y"===c.axis||(h.poll.img.n=d.find("img").length,h.poll.img.n===h.poll.img.o)?void((c.advanced.updateOnSelectorChange||c.advanced.updateOnContentResize||c.advanced.updateOnImageLoad)&&i()):(h.poll.img.o=h.poll.img.n,void d.find("img").each(function(){n(this)}))},c.advanced.autoUpdateTimeout))}function n(e){function i(){this.onload=null,t(e).addClass(l[2]),a(2)}if(t(e).hasClass(l[2]))return void a();var r=new Image;r.onload=function(e,t){return function(){return t.apply(e,arguments)}}(r,i),r.src=e.src}function o(){!0===c.advanced.updateOnSelectorChange&&(c.advanced.updateOnSelectorChange="*");var e=0,t=d.find(c.advanced.updateOnSelectorChange);return c.advanced.updateOnSelectorChange&&t.length>0&&t.each(function(){e+=this.offsetHeight+this.offsetWidth}),e}function a(e){clearTimeout(d[0].autoUpdate),u.update.call(null,s[0],e)}var s=t(this),h=s.data(r),c=h.opt,d=t("#mCSB_"+h.idx+"_container");return e?(clearTimeout(d[0].autoUpdate),void Z(d[0],"autoUpdate")):void i()},X=function(e,t,i){return Math.round(e/t)*t-i},Y=function(e){var i=e.data(r);t("#mCSB_"+i.idx+"_container,#mCSB_"+i.idx+"_container_wrapper,#mCSB_"+i.idx+"_dragger_vertical,#mCSB_"+i.idx+"_dragger_horizontal").each(function(){K.call(this)})},W=function(e,i,n){function o(e){return h&&c.callbacks[e]&&"function"==typeof c.callbacks[e]}function a(){return[c.callbacks.alwaysTriggerOffsets||x>=w[0]+E,c.callbacks.alwaysTriggerOffsets||-S>=x]}function s(){var t=[f[0].offsetTop,f[0].offsetLeft],i=[g[0].offsetTop,g[0].offsetLeft],r=[f.outerHeight(!1),f.outerWidth(!1)],o=[d.height(),d.width()];e[0].mcs={content:f,top:t[0],left:t[1],draggerTop:i[0],draggerLeft:i[1],topPct:Math.round(100*Math.abs(t[0])/(Math.abs(r[0])-o[0])),leftPct:Math.round(100*Math.abs(t[1])/(Math.abs(r[1])-o[1])),direction:n.dir}}var h=e.data(r),c=h.opt,l={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:c.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},n=t.extend(l,n),u=[n.dur,n.drag?0:n.dur],d=t("#mCSB_"+h.idx),f=t("#mCSB_"+h.idx+"_container"),p=f.parent(),m=c.callbacks.onTotalScrollOffset?z.call(e,c.callbacks.onTotalScrollOffset):[0,0],v=c.callbacks.onTotalScrollBackOffset?z.call(e,c.callbacks.onTotalScrollBackOffset):[0,0];if(h.trigger=n.trigger,(0!==p.scrollTop()||0!==p.scrollLeft())&&(t(".mCSB_"+h.idx+"_scrollbar").css("visibility","visible"),p.scrollTop(0).scrollLeft(0)),"_resetY"!==i||h.contentReset.y||(o("onOverflowYNone")&&c.callbacks.onOverflowYNone.call(e[0]),h.contentReset.y=1),"_resetX"!==i||h.contentReset.x||(o("onOverflowXNone")&&c.callbacks.onOverflowXNone.call(e[0]),h.contentReset.x=1),"_resetY"!==i&&"_resetX"!==i){if(!h.contentReset.y&&e[0].mcs||!h.overflowed[0]||(o("onOverflowY")&&c.callbacks.onOverflowY.call(e[0]),h.contentReset.x=null),!h.contentReset.x&&e[0].mcs||!h.overflowed[1]||(o("onOverflowX")&&c.callbacks.onOverflowX.call(e[0]),h.contentReset.x=null),c.snapAmount){var y=c.snapAmount instanceof Array?"x"===n.dir?c.snapAmount[1]:c.snapAmount[0]:c.snapAmount;i=X(i,y,c.snapOffset)}switch(n.dir){case"x":var g=t("#mCSB_"+h.idx+"_dragger_horizontal"),b="left",x=f[0].offsetLeft,w=[d.width()-f.outerWidth(!1),g.parent().width()-g.width()],_=[i,0===i?0:i/h.scrollRatio.x],E=m[1],S=v[1],M=E>0?E/h.scrollRatio.x:0,C=S>0?S/h.scrollRatio.x:0;break;case"y":var g=t("#mCSB_"+h.idx+"_dragger_vertical"),b="top",x=f[0].offsetTop,w=[d.height()-f.outerHeight(!1),g.parent().height()-g.height()],_=[i,0===i?0:i/h.scrollRatio.y],E=m[0],S=v[0],M=E>0?E/h.scrollRatio.y:0,C=S>0?S/h.scrollRatio.y:0}_[1]<0||0===_[0]&&0===_[1]?_=[0,0]:_[1]>=w[1]?_=[w[0],w[1]]:_[0]=-_[0],e[0].mcs||(s(),o("onInit")&&c.callbacks.onInit.call(e[0])),clearTimeout(f[0].onCompleteTimeout),q(g[0],b,Math.round(_[1]),u[1],n.scrollEasing),(h.tweenRunning||!(0===x&&_[0]>=0||x===w[0]&&_[0]<=w[0]))&&q(f[0],b,Math.round(_[0]),u[0],n.scrollEasing,n.overwrite,{onStart:function(){n.callbacks&&n.onStart&&!h.tweenRunning&&(o("onScrollStart")&&(s(),c.callbacks.onScrollStart.call(e[0])),h.tweenRunning=!0,T(g),h.cbOffsets=a())},onUpdate:function(){n.callbacks&&n.onUpdate&&o("whileScrolling")&&(s(),c.callbacks.whileScrolling.call(e[0]))},onComplete:function(){if(n.callbacks&&n.onComplete){"yx"===c.axis&&clearTimeout(f[0].onCompleteTimeout);var t=f[0].idleTimer||0;f[0].onCompleteTimeout=setTimeout(function(){o("onScroll")&&(s(),c.callbacks.onScroll.call(e[0])),o("onTotalScroll")&&_[1]>=w[1]-M&&h.cbOffsets[0]&&(s(),c.callbacks.onTotalScroll.call(e[0])),o("onTotalScrollBack")&&_[1]<=C&&h.cbOffsets[1]&&(s(),c.callbacks.onTotalScrollBack.call(e[0])),h.tweenRunning=!1,f[0].idleTimer=0,T(g,"hide")},t)}}})}},q=function(e,t,i,r,n,o,a){function s(){b.stop||(v||d.call(),v=$()-m,h(),v>=b.time&&(b.time=v>b.time?v+l-(v-b.time):v+l-1,b.time<v+1&&(b.time=v+1)),b.time<r?b.id=u(s):p.call())}function h(){r>0?(b.currVal=c(b.time,y,x,r,n),g[t]=Math.round(b.currVal)+"px"):g[t]=i+"px",f.call()}function c(e,t,i,r,n){switch(n){case"linear":case"mcsLinear":return i*e/r+t;case"mcsLinearOut":return e/=r,e--,i*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return e/=r/2,1>e?i/2*e*e+t:(e--,-i/2*(e*(e-2)-1)+t);case"easeInOutStrong":return e/=r/2,1>e?i/2*Math.pow(2,10*(e-1))+t:(e--,i/2*(2-Math.pow(2,-10*e))+t);case"easeInOut":case"mcsEaseInOut":return e/=r/2,1>e?i/2*e*e*e+t:(e-=2,i/2*(e*e*e+2)+t);case"easeOutSmooth":return e/=r,e--,-i*(e*e*e*e-1)+t;case"easeOutStrong":return i*(1-Math.pow(2,-10*e/r))+t;case"easeOut":case"mcsEaseOut":default:var o=(e/=r)*e,a=o*e;return t+i*(.499999999999997*a*o+-2.5*o*o+5.5*a+-6.5*o+4*e)}}e._mTween||(e._mTween={top:{},left:{}});var l,u,a=a||{},d=a.onStart||function(){},f=a.onUpdate||function(){},p=a.onComplete||function(){},m=$(),v=0,y=e.offsetTop,g=e.style,b=e._mTween[t];"left"===t&&(y=e.offsetLeft);var x=i-y;b.stop=0,"none"!==o&&function(){null!=b.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(b.id):clearTimeout(b.id),b.id=null)}(),function(){l=1e3/60,b.time=v+l,u=window.requestAnimationFrame?window.requestAnimationFrame:function(e){return h(),setTimeout(e,.01)},b.id=u(s)}()},$=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},K=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var t=["top","left"],i=0;i<t.length;i++){var r=t[i];e._mTween[r].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[r].id):clearTimeout(e._mTween[r].id),e._mTween[r].id=null,e._mTween[r].stop=1)}},Z=function(e,t){try{delete e[t]}catch(i){e[t]=null}},J=function(e){return!(e.which&&1!==e.which)},Q=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},ee=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},te=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]},ie=function(){var e=function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}();return!!e&&document[e]};t.fn[i]=function(e){return u[e]?u[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist"):u.init.apply(this,arguments)},t[i]=function(e){return u[e]?u[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist"):u.init.apply(this,arguments)},t[i].defaults=o,window[i]=!0,t(window).load(function(){t(n)[i](),t.extend(t.expr[":"],{mcsInView:t.expr[":"].mcsInView||function(e){var i,r,n=t(e),o=n.parents(".mCSB_container");if(o.length)return i=o.parent(),r=[o[0].offsetTop,o[0].offsetLeft],r[0]+te(n)[0]>=0&&r[0]+te(n)[0]<i.height()-n.outerHeight(!1)&&r[1]+te(n)[1]>=0&&r[1]+te(n)[1]<i.width()-n.outerWidth(!1)},mcsOverflow:t.expr[":"].mcsOverflow||function(e){var i=t(e).data(r);if(i)return i.overflowed[0]||i.overflowed[1]}})})}()}()})},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t,i){var r=!1;(function(){/*!
 * jQuery Mousewheel 3.1.13
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 */
!function(t){"function"==typeof r&&r.amd?r(["jquery"],t):e.exports=t}(function(e){function t(t){var a=t||window.event,s=h.call(arguments,1),c=0,u=0,d=0,f=0,p=0,m=0;if(t=e.event.fix(a),t.type="mousewheel","detail"in a&&(d=-1*a.detail),"wheelDelta"in a&&(d=a.wheelDelta),"wheelDeltaY"in a&&(d=a.wheelDeltaY),"wheelDeltaX"in a&&(u=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(u=-1*d,d=0),c=0===d?u:d,"deltaY"in a&&(d=-1*a.deltaY,c=d),"deltaX"in a&&(u=a.deltaX,0===d&&(c=-1*u)),0!==d||0!==u){if(1===a.deltaMode){var v=e.data(this,"mousewheel-line-height");c*=v,d*=v,u*=v}else if(2===a.deltaMode){var y=e.data(this,"mousewheel-page-height");c*=y,d*=y,u*=y}if(f=Math.max(Math.abs(d),Math.abs(u)),(!o||f<o)&&(o=f,r(a,f)&&(o/=40)),r(a,f)&&(c/=40,u/=40,d/=40),c=Math[c>=1?"floor":"ceil"](c/o),u=Math[u>=1?"floor":"ceil"](u/o),d=Math[d>=1?"floor":"ceil"](d/o),l.settings.normalizeOffset&&this.getBoundingClientRect){var g=this.getBoundingClientRect();p=t.clientX-g.left,m=t.clientY-g.top}return t.deltaX=u,t.deltaY=d,t.deltaFactor=o,t.offsetX=p,t.offsetY=m,t.deltaMode=0,s.unshift(t,c,u,d),n&&clearTimeout(n),n=setTimeout(i,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function i(){o=null}function r(e,t){return l.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var n,o,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],h=Array.prototype.slice;if(e.event.fixHooks)for(var c=a.length;c;)e.event.fixHooks[a[--c]]=e.event.mouseHooks;var l=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=s.length;i;)this.addEventListener(s[--i],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",l.getLineHeight(this)),e.data(this,"mousewheel-page-height",l.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=s.length;i;)this.removeEventListener(s[--i],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t),r=i["offsetParent"in e.fn?"offsetParent":"parent"]();return r.length||(r=e("body")),parseInt(r.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})})}).call(window)}]);