webpackJsonp([47],{169:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n){for(var i=new PIXI.Container,o=new PIXI.filters.ColorMatrixFilter,r=a||!1,s=n||{addArrow:!1,type:"horizontal",scale:1},l=new PIXI.Container,d=0;d<3;++d){var c=d+1,u=PIXI.Sprite.fromFrame("TAP_1"+c);u.x=-u.width/2,u.y=-u.height/2;var f=new PIXI.Container;f.addChild(u),l.addChild(f)}var p=0;if(s.direction)switch(s.direction){case"top":p=-Math.PI/2;break;case"bottom":p=Math.PI/2;break;case"left":p=Math.PI;break;case"right":p=0;break;default:p=0}l.filters=[o];for(var h=0;h<l.children.length;h++){var v=l.children[h];v.scale.x=v.scale.y=2,h<2&&y(v,.75*h)}if(i.addChild(l),s.addArrow){var x,m;if(s.direction){x=PIXI.Sprite.fromFrame("oneArrow"),m=new PIXI.extras.MovieClip([x]);var g=s.scale?s.scale:1;m.scale.x=m.scale.y=g,m.pivot={x:0,y:m.height/2},m.rotation=p}else{x=PIXI.Sprite.fromFrame("NBarrow"),(m=new PIXI.extras.MovieClip([x])).pivot={x:m.width/2,y:m.height/2};var C=s.scale?s.scale:1;m.scale.x=m.scale.y=C,"horizontal"!==(s.type?s.type:"horizontal")&&(m.rotation=Math.PI/2)}i.addChild(m),i.arrow=m,i.addEventListener("hideArrow",function(){m.alpha=0,m.visible=!1}),i.addEventListener("showArrow",function(){m.alpha=1,m.visible=!0})}l.alpha=.4;var T=new PIXI.Graphics;function y(e,t){TweenMax.to(e,1.5,{delay:t,alpha:0,repeat:-1}),TweenMax.to(e.scale,1.5,{x:5,y:5,delay:t,repeat:-1})}return T.beginFill(16776960,0),T.drawRect(-50,-50,100,100),i.addChild(T),i.addEventListener(MouseEvent.MOUSE_OVER,function(){l.alpha=.6}),i.addEventListener(MouseEvent.MOUSE_OUT,function(){l.alpha=.4}),i.addEventListener(TouchEvent.TOUCH_BEGIN,function(){i.emit(i.event.TAP),!r&&i.parent&&i.parent.removeChild(i)}),i.x=e,i.y=t,i.setColor=function(e){var t=e>>16,a=e>>8&255,n=255&e;o._loadMatrix([t,0,0,0,0,0,a,0,0,0,0,0,n,0,0,0,0,0,255,0],!1),l.filters=[o]},i.setRotation=function(e){i.rotation=e},i.showAllDir=function(){if(s.direction)for(var e=0;e<3;e++){var t=new PIXI.Container;t.addChild(PIXI.Sprite.fromFrame("oneArrow")),i.addChild(t),t.pivot={x:0,y:m.height/2},t.rotation=Math.PI/2*(e+1)}else{var a=new PIXI.Container;a.addChild(PIXI.Sprite.fromFrame("NBarrow")),i.addChild(a),a.pivot={x:m.width/2,y:m.height/2},a.rotation=i.rotation+Math.PI/2}},i.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&i.scale.set(.6,.6),i}},259:function(e,t,a){"use strict";var n=r(a(525)),i=r(a(521)),o=r(a(520));function r(e){return e&&e.__esModule?e:{default:e}}nb.substance6005=extendsClass(ScienceMain,{frame0:function(){var e=this;instance.viewStack.NBONOFF.visible=!1;for(var t=e.timeline,a=e.title,r=[{name:"食盐",max:3},{name:"小苏打",max:1}],s=0;s<2;s++)d(s);function l(e){var t=e.index;a.text="将"+r[t].name+"倒入容器中，观察需要多少勺能到达饱和"}function d(t){var i=e["step"+t],o=i.beaker,s=i.particle,l=i.gllassRod,d=i.txt,c=i.spoon,u=i.xu,f=i.result,p=0;a.initP={x:a.x,y:a.y},n.default.initCapacity(o,{alpha:.2,color:16777215,capacity:"50%"}),l.alpha=0,s.alpha=0,u.alpha=0,l.defaultX=l.x,l.defaultY=l.y,c.defaultX=c.x,c.defaultY=c.y,c.weight=6-2*t,c.particle=s.clone(),c.particle.alpha=0,f.alpha=0,0==t?(c.txt0.text="2.5g一勺盐",f.scale.x=f.scale.y=.7):(c.txt0.text="2.5g一勺小苏打",f.scale.x=f.scale.y=.2),NBDrag.addDrag(c),c.on(NBDrag.event.START_DRAG,function(){this.txt0.alpha=0,u.alpha=.3}),c.on(NBDrag.event.STOP_DRAG,function(){var e=this;if(u.alpha=0,e.interactive=!1,p<=r[t].max&&this.hitTest(i.hitAre)){p+=1,d.text=p,TweenMax.isTweening(l)&&(o.txt.text=r[t].name+"溶液",TweenMax.killTweensOf(l),TweenMax.to(l,.3,{alpha:0,onComplete:function(){l.x=l.defaultX,l.y=l.defaultY}}));var n=new TimelineMax({onComplete:function(){e.interactive=!0}});n.add(TweenMax.to(e,.5,{x:i.spoonPos.x,y:i.spoonPos.y})),n.add([TweenMax.to(e,.3,{rotation:"-=0.5"}),TweenMax.to(e.medicine.scale,.3,{x:0,y:0})]),n.add([TweenMax.to(e,.4,{rotation:"+= 0.5",alpha:0,onComplete:function(){e.x=e.defaultX,e.y=e.defaultY,e.txt0.alpha=1,e.medicine.scale.set(1,1)}}),TweenMax.to(e.particle,.4,{currentFrame:e.particle.totalFrames-1,onStart:function(){e.particle.alpha=1}})]),n.add([TweenMax.to(l,.3,{alpha:1}),TweenMax.to(e,.3,{alpha:1,onComplete:function(){TweenMax.to(e.particle,2,{alpha:0,onComplete:function(){e.particle.currentFrame=0}}),p==r[t].max+1&&TweenMax.to(f,1,{alpha:1,ease:Power0.easeNone})}})]),n.add(TweenMax.to(l,.25,{repeat:5,yoyo:!0,x:"+=80",onComplete:function(){o.txt.text=r[t].name+"溶液"}})),n.add(TweenMax.to(l,.3,{alpha:0}))}else p>r[t].max&&(TweenMax.killTweensOf(a),a.x=a.initP.x,a.y=a.initP.y,0==t?nb.scienceCommonFun.resetName(a,r[t].name+"水已经饱和",{color:"#FF0000",tweenMove:!0}):nb.scienceCommonFun.resetName(a,r[t].name+"不会被溶解了",{color:"#FF0000",tweenMove:!0}),TweenMax.to(a,.1,{delay:1.5,onComplete:function(){var e=0==t?"将一勺盐加入清水中，观察多少勺后饱和":"将一勺小苏打加入清水中，观察多少勺后饱和";nb.scienceCommonFun.resetName(a,e,{color:"#ffffff",tweenMove:!1})}})),TweenMax.to(e,.3,{x:e.defaultX,y:e.defaultY,onComplete:function(){e.txt0.alpha=1,e.interactive=!0}})})}o.default.init.apply(t),i.default.apply(e),l({index:0}),t.addEventListener(o.default.event.CLICK_NODE,l)},start:function(){this.menu.addStepFromObj(this.info),this.menu.setExperimentName(this.info.labName),this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"在相同条件下，不同物质在水中的溶解能力有什么不同吗？",labName:"食盐和小苏打溶解",CONCLUSION:"在相同条件下，不同物质在水中的溶解能力不同。",newLayOut:!0,bgColor:"#F3E6CF"},const:{},event:{}}),e.exports=nb.substance6005},520:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={event:{CLICK_NODE:"nodeTap",CLICK_NODE_REACHED:"nodeTapReached",ON_COMPLETE:"timelineComplete",ON_PLAY:"timelinePlaying",REACHED_NODE:"reachedNode",START_DRAG:"startDrag",DRAGING:"draging",STOP_DRAG:"stopDrag"},init:function(){var e,t,a=this;if(a.bgMask){var i=a.bgMask.getChildAt(0);a.progressBar.mask=i,i.scale.x=0}var o=this.a0.x===this.a1.x?"vertical":"horizontal",r=0,s=[];a.drag.lastPos={x:a.drag.x,y:a.drag.y};for(var l=0;l<int.MAX_VALUE;l++){var d=this["a"+l];if(void 0===d){t="vertical"===o?this["a"+(l-1)].y:this["a"+(l-1)].x,r=l;break}s.push(d),0===l&&(e="vertical"===o?d.y:d.x),d.addEventListener(TouchEvent.TAP,function(){var e=this;"vertical"===o?TweenMax.to(a.drag,.5,{y:this.y}):TweenMax.to(a.drag,.5,{x:this.x,onComplete:function(){a.emit(n.event.CLICK_NODE_REACHED,{index:e.name.substr(1,1)})}}),this.totalFrames&&(s.forEach(function(e){return e.currentFrame=0}),this.currentFrame=1),a.drag.lastPos={x:this.x,y:this.y},a.emit(n.event.CLICK_NODE,{index:this.name.substr(1,1)})})}this.setDrag=function(i){i?(NBDrag.addDrag(a.drag),a.drag.on(NBDrag.event.START_DRAG,function(){var i=(a.drag.x-e)/(t-e);a.emit(n.event.START_DRAG,{time:i})}),a.drag.on(NBDrag.event.DRAG_MOVE,function(){var i=(a.drag.x-e)/(t-e);a.emit(n.event.DRAGING,{time:i})}),a.drag.on(NBDrag.event.STOP_DRAG,function(){var i=(a.drag.x-e)/(t-e);a.emit(n.event.STOP_DRAG,{time:i}),i>=1&&a.emit(n.event.ON_COMPLETE,{time:i})})):NBDrag.removeDrag(a.drag)},a.drag.addEventListener(NBDrag.event.STOP_DRAG,function(){if(!1!==a._align_){var n=r-1;if("vertical"===o){var i=Math.round((this.y-e)/(t-e)*n);i<0&&(i=0)}else{var s=Math.round((this.x-e)/(t-e)*n);s<0&&(s=0)}}}),a.drag.addEventListener(NBDrag.event.DRAG_MOVE,function(){f()});var c=!1;a.drag.constY=a.drag.y;var u,f=function(){a.drag.y=a.drag.constY,a.drag.x>=t&&(a.drag.x=t),a.drag.x<=e&&(a.drag.x=e);var i=(a.drag.x-e)/(t-e);if(i<1){c=!1,a.emit(n.event.ON_PLAY,{time:i});for(var o=0;o<s.length;o++)a.drag.lastPos.x<=s[o].x&&a.drag.x>s[o].x&&a.emit(n.event.REACHED_NODE,{index:o})}else c||(c=!0,a.emit(n.event.ON_COMPLETE,{time:i}));(a.drag.line0&&(a.drag.line0.rotation=1800*i*Math.PI/180,a.drag.line1.rotation=360*i*Math.PI/180),a.bgMask)&&(a.bgMask.getChildAt(0).scale.x=i);a.drag.lastPos={x:a.drag.x,y:a.drag.y}};this.getNodeCount=function(){return r},this.setNodePos=function(e){var t=this["a"+e];"vertical"===o?a.drag.y=t.y:a.drag.x=t.x},nb.MovieClip.ticker.add(function(){a._auto_&&!a.drag.isDragging&&("vertical"===o?a.drag.y+=a._speed_:a.drag.x+=a._speed_,f())}),this.setAutoPlay=function(e,t){this._auto_=e,this._speed_=t||.1},this.setAutoAlign=function(e){this._align_=e},this.setMomentsPause=function(e,t,n){clearTimeout(u),e&&!a.NOTafterStopPlay?(a.setAutoPlay(!1),clearTimeout(u),a.setAutoPlay(!1),u=setTimeout(function(){a.setAutoPlay(!0,n)},t)):a.setAutoPlay(!1)},this.resetTimeline=function(){(this.drag.x=this.bgMask.x,a.bgMask)&&(a.bgMask.getChildAt(0).scale.x=0)}}};t.default=n},521:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e=e||{};var t=this,a=[];n.default.init.apply(this.timeline);for(var i=0;i<this.timeline.getNodeCount();i++){var o=this["step"+i];a.push(o),o.alpha=0,o.visible=!1}var r=this.step0;r.visible=!0,r.alpha=1;var s=0;this.timeline.on(n.default.event.CLICK_NODE,function(n){if(void 0!==n.index&&n.index!=s){var i=e.offset||1200;i=n.index>s?$s(i):-$s(i);var o=void 0!==r.currentX?r.currentX:r.currentX=r.x;TweenMax.to(r,e.oldTm||.6,{x:o+i,alpha:0,onComplete:function(t){t.visible=!1,e.isFix||(t.y=0)},onCompleteParams:[r],ease:Expo.easeOut}),s=n.index,(r=a[s]).visible=!0,o=void 0!==r.currentX?r.currentX:r.currentX=r.x,r.x=o-i,TweenMax.to(r,e.newTm||1,{x:o,alpha:1,ease:Expo.easeOut,onComplete:function(){t.emit(t.boxSwitch_event.CHANGE_COM,{target:r,index:n.index})}})}}),this.addEventListener("render",function(){r.onUpdate&&r.onUpdate()}),t.boxSwitch_event={CHANGE_COM:"changeCom"}};var n=function(e){return e&&e.__esModule?e:{default:e}}(a(520))},525:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(169));var i={},o=Power0.easeNone;function r(e){if(e){var t=e.getTotalCapacity(),a=e.getCurrentCapacity();e.setCapacityTween(98.5*a/t+"%",.2),setTimeout(function(){e.setCapacityTween(101*a/t+"%",.15)},200)}}i.initCapacity=function(e,t){var a=t.color,n=t.alpha,i=t.capacity;void 0!==a&&e.setColor(a,n),void 0!==i&&e.setCurrentCapacity(i)},i.dump=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={},a=Object.assign({isTapPoint:!0,tapPointOffsetX:0,tapPointOffsetY:0,gotoEndTimer:.8,endPointOffsetX:0,endPointOffsetY:0,particleSpeed:1,isGoBack:!0,onBack:function(){}},e),s=a.from,l=a.to,d=a.tapPointOffsetX,c=a.tapPointOffsetY,u=a.isTapPoint,f=a.startColor,p=a.startAlpha,h=a.startCapacity,v=a.endColor,x=a.endAlpha,m=(a.endCapacity,a.tip),g=a.particle,C=a.particleSpeed,T=a.substance,y=a.endPointOffsetX,w=a.endPointOffsetY,M=a.gotoEndTimer,P=a.onInit,_=a.onReady,A=a.onComplete,D=a.isDebug,O=a.isAuto,E=a.isGoBack,N=a.onBack;if(s&&l)return i.initCapacity(l,{color:f,alpha:p,capacity:h}),g&&(g.visible=!1),O||(X(),NBDrag.addDrag(s),s.addEventListener(NBDrag.event.START_DRAG,I),s.addEventListener(NBDrag.event.STOP_DRAG,S),s._dumpStartX=s.x,s._dumpStartY=s.y),b(P),O&&(t.dumpPlay=R),t;function b(e){"function"==typeof e&&e()}function I(){instance.NBDownTip.hideTip();var e=s._dumpTapPoint;e&&(s.removeChild(e),s._dumpTapPoint=null)}function S(){(l.hitBox||l).hitTest(s)?R():E?(NBDrag.removeDrag(s),TweenMax.to(s,.8,{x:s._dumpStartX,y:s._dumpStartY,onComplete:function(){NBDrag.addDrag(s),X(),b(N)}})):X()}function R(){s.removeEventListener(NBDrag.event.START_DRAG,I),s.removeEventListener(NBDrag.event.STOP_DRAG,S),NBDrag.removeDrag(s);var e=g||l,t=e.x,a=e.y,n=new TimelineMax({onComplete:A});if(n.to(s,M,{x:t+y,y:a+w,onComplete:function(){b(_)}}),!D){var i=[TweenMax.to(s,.4,{rotation:"-=0.5"})];if(T&&i.push(TweenMax.to(T.scale,.5,{x:0,y:0})),g){var d=g.totalFrames,c=.05*d*C;i.push(TweenMax.to(g,c,{onStart:function(){g.visible=!0;new TimelineMax;r(l)},onUpdate:function(){},currentFrame:d,ease:o}))}(v||x)&&i.push(l.setColor(v||f,x||p,{timer:.8})),n.add(i)}}function X(){if(u){var e=(0,n.default)(d,c);s._dumpTapPoint=e,s.addChild(e)}m&&instance.NBDownTip.showTip(m)}console.error("请准确传入from, to")},i.stir=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({timer:.6,repeat:6},e),a=t.container,n=t.tool,i=t.endColor,s=t.endAlpha,l=(t.endCapacity,t.distance),d=t.onStart,c=t.onComplete,u=t.repeat,f=t.timer;if(a&&n){void 0===l&&(l=.5*a.width);var p=new TimelineMax({onStart:d,onComplete:c}),h=[TweenMax.to(n,f,{repeat:u,yoyo:!0,x:"+="+l,ease:o,onStart:function(){r(a)}})];return(i||s)&&h.push(a.setColor(i,s,{timer:f*u})),p.add(h),-1===u&&(n.stirStop=function(){TweenMax.killTweensOf(p)}),p}console.error("请准确传入container, tool")},t.default=i}});