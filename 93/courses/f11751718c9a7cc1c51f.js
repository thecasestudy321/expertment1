!function(t,e){for(var r in e)t[r]=e[r]}(this,function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=173)}({173:function(t,e,r){r(174),r(175),r(176),r(177),r(178),r(180),r(181),r(182),r(183),t.exports=r(184)},174:function(t,e){window.updateBrowser=function(){window.location.href="browser.html"},"undefined"==typeof Worker&&window.confirm("检测到系统浏览器版本过低，是否需要更换浏览器？")&&updateBrowser()},175:function(t,e){!function(t,e,r){"use strict";function i(t){return function(){var e,r=arguments[0];r="["+(t?t+":":"")+r+"] http://errors.angularjs.org/1.2.20/"+(t?t+"/":"")+r;for(e=1;e<arguments.length;e++)r=r+(1==e?"?":"&")+"p"+(e-1)+"="+encodeURIComponent("function"==typeof arguments[e]?arguments[e].toString().replace(/ \{[\s\S]*$/,""):void 0===arguments[e]?"undefined":"string"!=typeof arguments[e]?JSON.stringify(arguments[e]):arguments[e]);return Error(r)}}function n(t){if(null==t||S(t))return!1;var e=t.length;return!(1!==t.nodeType||!e)||(y(t)||We(t)||0===e||"number"==typeof e&&0<e&&e-1 in t)}function s(t,e,r){var i;if(t)if(T(t))for(i in t)"prototype"==i||"length"==i||"name"==i||t.hasOwnProperty&&!t.hasOwnProperty(i)||e.call(r,t[i],i);else if(t.forEach&&t.forEach!==s)t.forEach(e,r);else if(n(t))for(i=0;i<t.length;i++)e.call(r,t[i],i);else for(i in t)t.hasOwnProperty(i)&&e.call(r,t[i],i);return t}function o(t){var e,r=[];for(e in t)t.hasOwnProperty(e)&&r.push(e);return r.sort()}function a(t){return function(e,r){t(r,e)}}function l(){for(var t,e=Ge.length;e;){if(57==(t=Ge[--e].charCodeAt(0)))return Ge[e]="A",Ge.join("");if(90!=t)return Ge[e]=String.fromCharCode(t+1),Ge.join("");Ge[e]="0"}return Ge.unshift("0"),Ge.join("")}function h(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function u(t){var e=t.$$hashKey;return s(arguments,function(e){e!==t&&s(e,function(e,r){t[r]=e})}),h(t,e),t}function c(t){return parseInt(t,10)}function p(t,e){return u(new(u(function(){},{prototype:t})),e)}function d(){}function f(t){return t}function m(t){return function(){return t}}function v(t){return void 0===t}function g(t){return void 0!==t}function _(t){return null!=t&&"object"==typeof t}function y(t){return"string"==typeof t}function x(t){return"number"==typeof t}function b(t){return"[object Date]"===ze.call(t)}function T(t){return"function"==typeof t}function w(t){return"[object RegExp]"===ze.call(t)}function S(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function E(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function A(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0;r<t.length;r++)if(e===t[r])return r;return-1}function P(t,e){var r=A(t,e);return 0<=r&&t.splice(r,1),e}function C(t,e,r,i){if(S(t)||t&&t.$evalAsync&&t.$watch)throw qe("cpws");if(e){if(t===e)throw qe("cpi");if(r=r||[],i=i||[],_(t)){var n=A(r,t);if(-1!==n)return i[n];r.push(t),i.push(e)}if(We(t))for(var o=e.length=0;o<t.length;o++)n=C(t[o],null,r,i),_(t[o])&&(r.push(t[o]),i.push(n)),e.push(n);else{var a=e.$$hashKey;for(o in s(e,function(t,r){delete e[r]}),t)n=C(t[o],null,r,i),_(t[o])&&(r.push(t[o]),i.push(n)),e[o]=n;h(e,a)}}else(e=t)&&(We(t)?e=C(t,[],r,i):b(t)?e=new Date(t.getTime()):w(t)?e=RegExp(t.source):_(t)&&(e=C(t,{},r,i)));return e}function R(t,e){if(We(t)){e=e||[];for(var r=0;r<t.length;r++)e[r]=t[r]}else if(_(t))for(r in e=e||{},t)!je.call(t,r)||"$"===r.charAt(0)&&"$"===r.charAt(1)||(e[r]=t[r]);return e||t}function M(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;var i,n=typeof t;if(n==typeof e&&"object"==n){if(!We(t)){if(b(t))return b(e)&&t.getTime()==e.getTime();if(w(t)&&w(e))return t.toString()==e.toString();if(t&&t.$evalAsync&&t.$watch||e&&e.$evalAsync&&e.$watch||S(t)||S(e)||We(e))return!1;for(i in n={},t)if("$"!==i.charAt(0)&&!T(t[i])){if(!M(t[i],e[i]))return!1;n[i]=!0}for(i in e)if(!n.hasOwnProperty(i)&&"$"!==i.charAt(0)&&e[i]!==r&&!T(e[i]))return!1;return!0}if(!We(e))return!1;if((n=t.length)==e.length){for(i=0;i<n;i++)if(!M(t[i],e[i]))return!1;return!0}}return!1}function O(){return e.securityPolicy&&e.securityPolicy.isActive||e.querySelector&&!(!e.querySelector("[ng-csp]")&&!e.querySelector("[data-ng-csp]"))}function $(t,e){var r=2<arguments.length?He.call(arguments,2):[];return!T(e)||e instanceof RegExp?e:r.length?function(){return arguments.length?e.apply(t,r.concat(He.call(arguments,0))):e.apply(t,r)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function D(t,i){var n=i;return"string"==typeof t&&"$"===t.charAt(0)?n=r:S(i)?n="$WINDOW":i&&e===i?n="$DOCUMENT":i&&i.$evalAsync&&i.$watch&&(n="$SCOPE"),n}function L(t,e){return void 0===t?r:JSON.stringify(t,D,e?"  ":null)}function F(t){return y(t)?JSON.parse(t):t}function I(t){return"function"==typeof t?t=!0:t&&0!==t.length?t=!("f"==(t=Be(""+t))||"0"==t||"false"==t||"no"==t||"n"==t||"[]"==t):t=!1,t}function k(t){t=Le(t).clone();try{t.empty()}catch(t){}var e=Le("<div>").append(t).html();try{return 3===t[0].nodeType?Be(e):e.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+Be(e)})}catch(t){return Be(e)}}function N(t){try{return decodeURIComponent(t)}catch(t){}}function B(t){var e,r,i={};return s((t||"").split("&"),function(t){t&&(e=t.split("="),g(r=N(e[0]))&&(t=!g(e[1])||N(e[1]),je.call(i,r)?We(i[r])?i[r].push(t):i[r]=[i[r],t]:i[r]=t))}),i}function j(t){var e=[];return s(t,function(t,r){We(t)?s(t,function(t){e.push(H(r,!0)+(!0===t?"":"="+H(t,!0)))}):e.push(H(r,!0)+(!0===t?"":"="+H(t,!0)))}),e.length?e.join("&"):""}function U(t){return H(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function H(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,e?"%20":"+")}function X(r,i){var n=function(){if((r=Le(r)).injector()){var t=r[0]===e?"document":k(r);throw qe("btstrpd",t)}return(i=i||[]).unshift(["$provide",function(t){t.value("$rootElement",r)}]),i.unshift("ng"),(t=vt(i)).invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(t,e,r,i,n){t.$apply(function(){e.data("$injector",i),r(e)(t)})}]),t},o=/^NG_DEFER_BOOTSTRAP!/;if(t&&!o.test(t.name))return n();t.name=t.name.replace(o,""),Ye.resumeBootstrap=function(t){s(t,function(t){i.push(t)}),n()}}function z(t,e){return e=e||"_",t.replace(Ke,function(t,r){return(r?e:"")+t.toLowerCase()})}function q(t,e,r){if(!t)throw qe("areq",e||"?",r||"required");return t}function Y(t,e,r){return r&&We(t)&&(t=t[t.length-1]),q(T(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function G(t,e){if("hasOwnProperty"===t)throw qe("badname",e)}function W(t,e,r){if(!e)return t;for(var i,n=t,s=(e=e.split(".")).length,o=0;o<s;o++)i=e[o],t&&(t=(n=t)[i]);return!r&&T(t)?$(n,t):t}function V(t){var e=t[0];if(e===(t=t[t.length-1]))return Le(e);var r=[e];do{if(!(e=e.nextSibling))break;r.push(e)}while(e!==t);return Le(r)}function K(t){return t.replace(rr,function(t,e,r,i){return i?r.toUpperCase():r}).replace(ir,"Moz$1")}function Z(t,e,r,i){function n(t){var n,o,a,l,h,u,c=r&&t?[this.filter(t)]:[this],p=e;if(!i||null!=t)for(;c.length;)for(o=0,a=(n=c.shift()).length;o<a;o++)for(l=Le(n[o]),p?l.triggerHandler("$destroy"):p=!p,h=0,l=(u=l.children()).length;h<l;h++)c.push(Fe(u[h]));return s.apply(this,arguments)}var s=(s=Fe.fn[t]).$original||s;n.$original=s,Fe.fn[t]=n}function Q(t){if(t instanceof Q)return t;if(y(t)&&(t=Ve(t)),!(this instanceof Q)){if(y(t)&&"<"!=t.charAt(0))throw nr("nosel");return new Q(t)}if(y(t)){var r,i=t;if(t=e,r=sr.exec(i))t=[t.createElement(r[1])];else{var n,s=t;if(t=s.createDocumentFragment(),r=[],or.test(i)){for(s=t.appendChild(s.createElement("div")),n=(ar.exec(i)||["",""])[1].toLowerCase(),n=hr[n]||hr._default,s.innerHTML="<div>&#160;</div>"+n[1]+i.replace(lr,"<$1></$2>")+n[2],s.removeChild(s.firstChild),i=n[0];i--;)s=s.lastChild;for(i=0,n=s.childNodes.length;i<n;++i)r.push(s.childNodes[i]);(s=t.firstChild).textContent=""}else r.push(s.createTextNode(i));t.textContent="",t.innerHTML="",t=r}lt(this,t),Le(e.createDocumentFragment()).append(this)}else lt(this,t)}function J(t){return t.cloneNode(!0)}function tt(t){rt(t);var e=0;for(t=t.childNodes||[];e<t.length;e++)tt(t[e])}function et(t,e,r,i){if(g(i))throw nr("offargs");var n=it(t,"events");it(t,"handle")&&(v(e)?s(n,function(e,r){er(t,r,e),delete n[r]}):s(e.split(" "),function(e){v(r)?(er(t,e,n[e]),delete n[e]):P(n[e]||[],r)}))}function rt(t,e){var i=t.ng339,n=Qe[i];n&&(e?delete Qe[i].data[e]:(n.handle&&(n.events.$destroy&&n.handle({},"$destroy"),et(t)),delete Qe[i],t.ng339=r))}function it(t,e,r){var i=t.ng339;i=Qe[i||-1];if(!g(r))return i&&i[e];i||(t.ng339=i=++Je,i=Qe[i]={}),i[e]=r}function nt(t,e,r){var i=it(t,"data"),n=g(r),s=!n&&g(e),o=s&&!_(e);if(i||o||it(t,"data",i={}),n)i[e]=r;else{if(!s)return i;if(o)return i&&i[e];u(i,e)}}function st(t,e){return!!t.getAttribute&&-1<(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")}function ot(t,e){e&&t.setAttribute&&s(e.split(" "),function(e){t.setAttribute("class",Ve((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Ve(e)+" "," ")))})}function at(t,e){if(e&&t.setAttribute){var r=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");s(e.split(" "),function(t){t=Ve(t),-1===r.indexOf(" "+t+" ")&&(r+=t+" ")}),t.setAttribute("class",Ve(r))}}function lt(t,e){if(e){e=e.nodeName||!g(e.length)||S(e)?[e]:e;for(var r=0;r<e.length;r++)t.push(e[r])}}function ht(t,e){return ut(t,"$"+(e||"ngController")+"Controller")}function ut(t,e,i){for(9==(t=Le(t))[0].nodeType&&(t=t.find("html")),e=We(e)?e:[e];t.length;){for(var n=t[0],s=0,o=e.length;s<o;s++)if((i=t.data(e[s]))!==r)return i;t=Le(n.parentNode||11===n.nodeType&&n.host)}}function ct(t){for(var e=0,r=t.childNodes;e<r.length;e++)tt(r[e]);for(;t.firstChild;)t.removeChild(t.firstChild)}function pt(t,e){var r=cr[e.toLowerCase()];return r&&pr[t.nodeName]&&r}function dt(t,e){var i,n=typeof t;return"function"==n||"object"==n&&null!==t?"function"==typeof(i=t.$$hashKey)?i=t.$$hashKey():i===r&&(i=t.$$hashKey=(e||l)()):i=t,n+":"+i}function ft(t,e){if(e){var r=0;this.nextUid=function(){return++r}}s(t,this.put,this)}function mt(t){var e,r;return"function"==typeof t?(e=t.$inject)||(e=[],t.length&&s((r=(r=t.toString().replace(vr,"")).match(dr))[1].split(fr),function(t){t.replace(mr,function(t,r,i){e.push(i)})}),t.$inject=e):We(t)?(Y(t[r=t.length-1],"fn"),e=t.slice(0,r)):Y(t,"fn",!0),e}function vt(t){function e(t){return function(e,r){if(!_(e))return t(e,r);s(e,a(t))}}function r(t,e){if(G(t,"service"),(T(e)||We(e))&&(e=p.instantiate(e)),!e.$get)throw gr("pget",t);return c[t+l]=e}function i(t,e){return r(t,{$get:e})}function n(t,e){function r(r){if(t.hasOwnProperty(r)){if(t[r]===o)throw gr("cdep",r+" <- "+h.join(" <- "));return t[r]}try{return h.unshift(r),t[r]=o,t[r]=e(r)}catch(e){throw t[r]===o&&delete t[r],e}finally{h.shift()}}function i(t,e,i){var n,s,o,a=[],l=mt(t);for(s=0,n=l.length;s<n;s++){if("string"!=typeof(o=l[s]))throw gr("itkn",o);a.push(i&&i.hasOwnProperty(o)?i[o]:r(o))}return We(t)&&(t=t[n]),t.apply(e,a)}return{invoke:i,instantiate:function(t,e){var r,n=function(){};return n.prototype=(We(t)?t[t.length-1]:t).prototype,_(r=i(t,n=new n,e))||T(r)?r:n},get:r,annotate:mt,has:function(e){return c.hasOwnProperty(e+l)||t.hasOwnProperty(e)}}}var o={},l="Provider",h=[],u=new ft([],!0),c={$provide:{provider:e(r),factory:e(i),service:e(function(t,e){return i(t,["$injector",function(t){return t.instantiate(e)}])}),value:e(function(t,e){return i(t,m(e))}),constant:e(function(t,e){G(t,"constant"),c[t]=e,f[t]=e}),decorator:function(t,e){var r=p.get(t+l),i=r.$get;r.$get=function(){var t=v.invoke(i,r);return v.invoke(e,null,{$delegate:t})}}}},p=c.$injector=n(c,function(){throw gr("unpr",h.join(" <- "))}),f={},v=f.$injector=n(f,function(t){return t=p.get(t+l),v.invoke(t.$get,t)});return s(function t(e){var r,i,n,o,a=[];return s(e,function(e){if(!u.get(e)){u.put(e,!0);try{if(y(e))for(r=Ie(e),a=a.concat(t(r.requires)).concat(r._runBlocks),i=r._invokeQueue,n=0,o=i.length;n<o;n++){var s=i[n],l=p.get(s[0]);l[s[1]].apply(l,s[2])}else T(e)?a.push(p.invoke(e)):We(e)?a.push(p.invoke(e)):Y(e,"module")}catch(t){throw We(e)&&(e=e[e.length-1]),t.message&&t.stack&&-1==t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),gr("modulerr",e,t.stack||t.message||t)}}}),a}(t),function(t){v.invoke(t||d)}),v}function gt(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,r,i){function n(){var t,i=r.hash();i?(t=o.getElementById(i))?t.scrollIntoView():(t=function(t){var e=null;return s(t,function(t){e||"a"!==Be(t.nodeName)||(e=t)}),e}(o.getElementsByName(i)))?t.scrollIntoView():"top"===i&&e.scrollTo(0,0):e.scrollTo(0,0)}var o=e.document;return t&&i.$watch(function(){return r.hash()},function(){i.$evalAsync(n)}),n}]}function _t(){this.$get=["$$rAF","$timeout",function(t,e){return t.supported?function(e){return t(e)}:function(t){return e(t,0,!1)}}]}function yt(t,e,i,n){function o(t){try{t.apply(null,He.call(arguments,1))}finally{if(0===--g)for(;_.length;)try{_.pop()()}catch(t){i.error(t)}}}function a(){S=null,T!=l.url()&&(T=l.url(),s(E,function(t){t(l.url())}))}var l=this,h=e[0],u=t.location,c=t.history,p=t.setTimeout,f=t.clearTimeout,m={};l.isMock=!1;var g=0,_=[];l.$$completeOutstandingRequest=o,l.$$incOutstandingRequestCount=function(){g++},l.notifyWhenNoOutstandingRequests=function(t){s(b,function(t){t()}),0===g?t():_.push(t)};var x,b=[];l.addPollFn=function(t){return v(x)&&function(t,e){!function r(){s(b,function(t){t()}),x=e(r,t)}()}(100,p),b.push(t),t};var T=u.href,w=e.find("base"),S=null;l.url=function(e,r){return u!==t.location&&(u=t.location),c!==t.history&&(c=t.history),e?T!=e?(T=e,n.history?r?c.replaceState(null,"",e):(c.pushState(null,"",e),w.attr("href",w.attr("href"))):(S=e,r?u.replace(e):u.href=e),l):void 0:S||u.href.replace(/%27/g,"'")};var E=[],A=!1;l.onUrlChange=function(e){return A||(n.history&&Le(t).on("popstate",a),n.hashchange?Le(t).on("hashchange",a):l.addPollFn(a),A=!0),E.push(e),e},l.baseHref=function(){var t=w.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var P={},C="",R=l.baseHref();l.cookies=function(t,e){var n,s,o,a;if(!t){if(h.cookie!==C)for(n=(C=h.cookie).split("; "),P={},o=0;o<n.length;o++)0<(a=(s=n[o]).indexOf("="))&&(t=unescape(s.substring(0,a)),P[t]===r&&(P[t]=unescape(s.substring(a+1))));return P}e===r?h.cookie=escape(t)+"=;path="+R+";expires=Thu, 01 Jan 1970 00:00:00 GMT":y(e)&&(4096<(n=(h.cookie=escape(t)+"="+escape(e)+";path="+R).length+1)&&i.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+n+" > 4096 bytes)!"))},l.defer=function(t,e){var r;return g++,r=p(function(){delete m[r],o(t)},e||0),m[r]=!0,r},l.defer.cancel=function(t){return!!m[t]&&(delete m[t],f(t),o(d),!0)}}function xt(){this.$get=["$window","$log","$sniffer","$document",function(t,e,r,i){return new yt(t,i,e,r)}]}function bt(){this.$get=function(){function t(t,r){function n(t){t!=p&&(d?d==t&&(d=t.n):d=t,s(t.n,t.p),s(t,p),(p=t).n=null)}function s(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in e)throw i("$cacheFactory")("iid",t);var o=0,a=u({},r,{id:t}),l={},h=r&&r.capacity||Number.MAX_VALUE,c={},p=null,d=null;return e[t]={put:function(t,e){h<Number.MAX_VALUE&&n(c[t]||(c[t]={key:t}));if(!v(e))return t in l||o++,l[t]=e,o>h&&this.remove(d.key),e},get:function(t){if(h<Number.MAX_VALUE){var e=c[t];if(!e)return;n(e)}return l[t]},remove:function(t){if(h<Number.MAX_VALUE){var e=c[t];if(!e)return;e==p&&(p=e.p),e==d&&(d=e.n),s(e.n,e.p),delete c[t]}delete l[t],o--},removeAll:function(){l={},o=0,c={},p=d=null},destroy:function(){c=a=l=null,delete e[t]},info:function(){return u({},a,{size:o})}}}var e={};return t.info=function(){var t={};return s(e,function(e,r){t[r]=e.info()}),t},t.get=function(t){return e[t]},t}}function Tt(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function wt(t,i){var n={},o="Directive",l=/^\s*directive\:\s*([\d\w_\-]+)\s+(.*)$/,h=/(([\d\w_\-]+)(?:\:([^;]+))?;?)/,c=/^(on[a-z]+|formaction)$/;this.directive=function e(r,i){return G(r,"directive"),y(r)?(q(i,"directiveFactory"),n.hasOwnProperty(r)||(n[r]=[],t.factory(r+o,["$injector","$exceptionHandler",function(t,e){var i=[];return s(n[r],function(n,s){try{var o=t.invoke(n);T(o)?o={compile:m(o)}:!o.compile&&o.link&&(o.compile=m(o.link)),o.priority=o.priority||0,o.index=s,o.name=o.name||r,o.require=o.require||o.controller&&o.name,o.restrict=o.restrict||"A",i.push(o)}catch(t){e(t)}}),i}])),n[r].push(i)):s(r,a(e)),this},this.aHrefSanitizationWhitelist=function(t){return g(t)?(i.aHrefSanitizationWhitelist(t),this):i.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return g(t)?(i.imgSrcSanitizationWhitelist(t),this):i.imgSrcSanitizationWhitelist()},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(t,i,a,d,m,v,g,x,b,w,S,E){function A(t,e,r,i,n){t instanceof Le||(t=Le(t)),s(t,function(e,r){3==e.nodeType&&e.nodeValue.match(/\S+/)&&(t[r]=Le(e).wrap("<span></span>").parent()[0])});var o=C(t,e,t,r,i,n);return P(t,"ng-scope"),function(e,r,i,n){q(e,"scope");var a=r?ur.clone.call(t):t;s(i,function(t,e){a.data("$"+e+"Controller",t)}),i=0;for(var l=a.length;i<l;i++){var h=a[i].nodeType;1!==h&&9!==h||a.eq(i).data("$scope",e)}return r&&r(a,e),o&&o(e,a,a,n),a}}function P(t,e){try{t.addClass(e)}catch(t){}}function C(t,e,i,n,s,o){for(var a,l,h,u,c=[],p=0;p<t.length;p++)a=new V,(o=(l=$(t[p],[],a,0===p?n:r,s)).length?F(l,t[p],a,e,i,null,[],[],o):null)&&o.scope&&P(Le(t[p]),"ng-scope"),a=o&&o.terminal||!(h=t[p].childNodes)||!h.length?null:C(h,o?(o.transcludeOnThisElement||!o.templateOnThisElement)&&o.transclude:e),c.push(o,a),u=u||o||a,o=null;return u?function(t,i,n,s){var o,a,l,h,u,p,d;o=i.length;var f=Array(o);for(u=0;u<o;u++)f[u]=i[u];for(d=u=0,p=c.length;u<p;d++)a=f[d],i=c[u++],o=c[u++],l=Le(a),i?(i.scope?(h=t.$new(),l.data("$scope",h)):h=t,i(o,h,a,n,l=i.transcludeOnThisElement?O(t,i.transclude,s):!i.templateOnThisElement&&s?s:!s&&e?O(t,e):null)):o&&o(t,a.childNodes,r,s)}:null}function O(t,e,r){return function(i,n,s){var o=!1;return i||(o=(i=t.$new()).$$transcluded=!0),n=e(i,n,s,r),o&&n.on("$destroy",function(){i.$destroy()}),n}}function $(t,e,r,i,n){var s,o=r.$attr;switch(t.nodeType){case 1:N(e,St(ke(t).toLowerCase()),"E",i,n);for(var a,u,c,p=t.attributes,d=0,f=p&&p.length;d<f;d++){var m=!1,v=!1;if(a=p[d],!De||8<=De||a.specified)s=a.name,u=Ve(a.value),a=St(s),(c=tt.test(a))&&(s=z(a.substr(6),"-")),a===a.replace(/(Start|End)$/,"")+"Start"&&(m=s,v=s.substr(0,s.length-5)+"end",s=s.substr(0,s.length-6)),o[a=St(s.toLowerCase())]=s,!c&&r.hasOwnProperty(a)||(r[a]=u,pt(t,a)&&(r[a]=!0)),Y(t,e,u,a),N(e,a,"A",i,n,m,v)}if(y(t=t.className)&&""!==t)for(;s=h.exec(t);)N(e,a=St(s[2]),"C",i,n)&&(r[a]=Ve(s[3])),t=t.substr(s.index+s[0].length);break;case 3:X(e,t.nodeValue);break;case 8:try{(s=l.exec(t.nodeValue))&&(N(e,a=St(s[1]),"M",i,n)&&(r[a]=Ve(s[2])))}catch(t){}}return e.sort(U),e}function D(t,e,r){var i=[],n=0;if(e&&t.hasAttribute&&t.hasAttribute(e))do{if(!t)throw xr("uterdir",e,r);1==t.nodeType&&(t.hasAttribute(e)&&n++,t.hasAttribute(r)&&n--),i.push(t),t=t.nextSibling}while(0<n);else i.push(t);return Le(i)}function L(t,e,r){return function(i,n,s,o,a){return n=D(n[0],e,r),t(i,n,s,o,a)}}function F(t,n,o,l,h,u,c,p,d){function f(t,e,r,i){t&&(r&&(t=L(t,r,i)),t.require=w.require,t.directiveName=S,(N===w||w.$$isolateScope)&&(t=W(t,{isolateScope:!0})),c.push(t)),e&&(r&&(e=L(e,r,i)),e.require=w.require,e.directiveName=S,(N===w||w.$$isolateScope)&&(e=W(e,{isolateScope:!0})),p.push(e))}function m(t,e,r,i){var n,o="data",a=!1;if(y(e)){for(;"^"==(n=e.charAt(0))||"?"==n;)e=e.substr(1),"^"==n&&(o="inheritedData"),a=a||"?"==n;if(n=null,i&&"data"===o&&(n=i[e]),!(n=n||r[o]("$"+e+"Controller"))&&!a)throw xr("ctreq",e,t)}else We(e)&&(n=[],s(e,function(e){n.push(m(t,e,r,i))}));return n}function x(t,e,l,h,u){var d,f,_,y,x,b,T,w={};if(d=n===l?o:R(o,new V(Le(l),o.$attr)),f=d.$$element,N){var S=/^\s*([@=&])(\??)\s*(\w*)\s*$/;h=Le(l),b=e.$new(!0),!U||U!==N&&U!==N.$$originalDirective?h.data("$isolateScopeNoTemplate",b):h.data("$isolateScope",b),P(h,"ng-isolate-scope"),s(N.scope,function(t,r){var n,s,o,a,l=(u=t.match(S)||[])[3]||r,h="?"==u[2],u=u[1];switch(b.$$isolateBindings[r]=u+l,u){case"@":d.$observe(l,function(t){b[r]=t}),d.$$observers[l].$$scope=e,d[l]&&(b[r]=i(d[l])(e));break;case"=":if(h&&!d[l])break;s=v(d[l]),a=s.literal?M:function(t,e){return t===e},o=s.assign||function(){throw n=b[r]=s(e),xr("nonassign",d[l],N.name)},n=b[r]=s(e),b.$watch(function(){var t=s(e);return a(t,b[r])||(a(t,n)?o(e,t=b[r]):b[r]=t),n=t},null,s.literal);break;case"&":s=v(d[l]),b[r]=function(t){return s(e,t)};break;default:throw xr("iscp",N.name,r,t)}})}for(T=u&&function(t,e){var i;return 2>arguments.length&&(e=t,t=r),Y&&(i=w),u(t,e,i)},F&&s(F,function(t){var r,i={$scope:t===N||t.$$isolateScope?b:e,$element:f,$attrs:d,$transclude:T};"@"==(x=t.controller)&&(x=d[t.name]),r=g(x,i),w[t.name]=r,Y||f.data("$"+t.name+"Controller",r),t.controllerAs&&(i.$scope[t.controllerAs]=r)}),h=0,_=c.length;h<_;h++)try{(y=c[h])(y.isolateScope?b:e,f,d,y.require&&m(y.directiveName,y.require,f,w),T)}catch(t){a(t,k(f))}for(h=e,N&&(N.template||null===N.templateUrl)&&(h=b),t&&t(h,l.childNodes,r,u),h=p.length-1;0<=h;h--)try{(y=p[h])(y.isolateScope?b:e,f,d,y.require&&m(y.directiveName,y.require,f,w),T)}catch(t){a(t,k(f))}}d=d||{};for(var b,w,S,E,C,O=-Number.MAX_VALUE,F=d.controllerDirectives,N=d.newIsolateScopeDirective,U=d.templateDirective,X=d.nonTlbTranscludeDirective,z=!1,q=!1,Y=d.hasElementTranscludeDirective,K=o.$$element=Le(n),Z=l,tt=0,et=t.length;tt<et;tt++){var rt=(w=t[tt]).$$start,it=w.$$end;if(rt&&(K=D(n,rt,it)),E=r,O>w.priority)break;if((E=w.scope)&&(b=b||w,w.templateUrl||(H("new/isolated scope",N,w,K),_(E)&&(N=w))),S=w.name,!w.templateUrl&&w.controller&&(E=w.controller,H("'"+S+"' controller",(F=F||{})[S],w,K),F[S]=w),(E=w.transclude)&&(z=!0,w.$$tlb||(H("transclusion",X,w,K),X=w),"element"==E?(Y=!0,O=w.priority,E=D(n,rt,it),K=o.$$element=Le(e.createComment(" "+S+": "+o[S]+" ")),n=K[0],G(h,Le(He.call(E,0)),n),Z=A(E,l,O,u&&u.name,{nonTlbTranscludeDirective:X})):(E=Le(J(n)).contents(),K.empty(),Z=A(E,l))),w.template)if(q=!0,H("template",U,w,K),U=w,E=T(w.template)?w.template(K,o):w.template,E=Q(E),w.replace){if(u=w,E=or.test(E)?Le(Ve(E)):[],n=E[0],1!=E.length||1!==n.nodeType)throw xr("tplrt",S,"");G(h,K,n),E=$(n,[],et={$attr:{}});var nt=t.splice(tt+1,t.length-(tt+1));N&&I(E),t=t.concat(E).concat(nt),B(o,et),et=t.length}else K.html(E);if(w.templateUrl)q=!0,H("template",U,w,K),U=w,w.replace&&(u=w),x=j(t.splice(tt,t.length-tt),K,o,h,z&&Z,c,p,{controllerDirectives:F,newIsolateScopeDirective:N,templateDirective:U,nonTlbTranscludeDirective:X}),et=t.length;else if(w.compile)try{T(C=w.compile(K,o,Z))?f(null,C,rt,it):C&&f(C.pre,C.post,rt,it)}catch(t){a(t,k(K))}w.terminal&&(x.terminal=!0,O=Math.max(O,w.priority))}return x.scope=b&&!0===b.scope,x.transcludeOnThisElement=z,x.templateOnThisElement=q,x.transclude=Z,d.hasElementTranscludeDirective=Y,x}function I(t){for(var e=0,r=t.length;e<r;e++)t[e]=p(t[e],{$$isolateScope:!0})}function N(e,i,s,l,h,u,c){if(i===h)return null;if(h=null,n.hasOwnProperty(i))for(var d,f=0,m=(i=t.get(i+o)).length;f<m;f++)try{d=i[f],(l===r||l>d.priority)&&-1!=d.restrict.indexOf(s)&&(u&&(d=p(d,{$$start:u,$$end:c})),e.push(d),h=d)}catch(t){a(t)}return h}function B(t,e){var r=e.$attr,i=t.$attr,n=t.$$element;s(t,function(i,n){"$"!=n.charAt(0)&&(e[n]&&e[n]!==i&&(i+=("style"===n?";":" ")+e[n]),t.$set(n,i,!0,r[n]))}),s(e,function(e,s){"class"==s?(P(n,e),t.class=(t.class?t.class+" ":"")+e):"style"==s?(n.attr("style",n.attr("style")+";"+e),t.style=(t.style?t.style+";":"")+e):"$"==s.charAt(0)||t.hasOwnProperty(s)||(t[s]=e,i[s]=r[s])})}function j(t,e,r,i,n,o,a,l){var h,c,p=[],f=e[0],v=t.shift(),g=u({},v,{templateUrl:null,transclude:null,replace:null,$$originalDirective:v}),y=T(v.templateUrl)?v.templateUrl(e,r):v.templateUrl;return e.empty(),d.get(w.getTrustedResourceUrl(y),{cache:m}).success(function(u){var d,m;if(u=Q(u),v.replace){if(u=or.test(u)?Le(Ve(u)):[],d=u[0],1!=u.length||1!==d.nodeType)throw xr("tplrt",v.name,y);u={$attr:{}},G(i,e,d);var x=$(d,[],u);_(v.scope)&&I(x),t=x.concat(t),B(r,u)}else d=f,e.html(u);for(t.unshift(g),h=F(t,d,r,n,e,v,o,a,l),s(i,function(t,r){t==d&&(i[r]=e[0])}),c=C(e[0].childNodes,n);p.length;){u=p.shift(),m=p.shift();var b=p.shift(),T=p.shift();x=e[0];if(m!==f){var w=m.className;l.hasElementTranscludeDirective&&v.replace||(x=J(d)),G(b,Le(m),x),P(Le(x),w)}m=h.transcludeOnThisElement?O(u,h.transclude,T):T,h(c,u,x,i,m)}p=null}).error(function(t,e,r,i){throw xr("tpload",i.url)}),function(t,e,r,i,n){t=n,p?(p.push(e),p.push(r),p.push(i),p.push(t)):(h.transcludeOnThisElement&&(t=O(e,h.transclude,n)),h(c,e,r,i,t))}}function U(t,e){var r=e.priority-t.priority;return 0!==r?r:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function H(t,e,r,i){if(e)throw xr("multidir",e.name,r.name,t,k(i))}function X(t,e){var r=i(e,!0);r&&t.push({priority:0,compile:function(t){var e=t.parent().length;return e&&P(t.parent(),"ng-binding"),function(t,i){var n=i.parent(),s=n.data("$binding")||[];s.push(r),n.data("$binding",s),e||P(n,"ng-binding"),t.$watch(r,function(t){i[0].nodeValue=t})}}})}function Y(t,e,r,n){var s=i(r,!0);if(s){if("multiple"===n&&"SELECT"===ke(t))throw xr("selmulti",k(t));e.push({priority:100,compile:function(){return{pre:function(e,r,o){if(r=o.$$observers||(o.$$observers={}),c.test(n))throw xr("nodomevents");(s=i(o[n],!0,function(t,e){if("srcdoc"==e)return w.HTML;var r=ke(t);return"xlinkHref"==e||"FORM"==r&&"action"==e||"IMG"!=r&&("src"==e||"ngSrc"==e)?w.RESOURCE_URL:void 0}(t,n)))&&(o[n]=s(e),(r[n]||(r[n]=[])).$$inter=!0,(o.$$observers&&o.$$observers[n].$$scope||e).$watch(s,function(t,e){"class"===n&&t!=e?o.$updateClass(t,e):o.$set(n,t)}))}}}})}}function G(t,r,i){var n,s,o=r[0],a=r.length,l=o.parentNode;if(t)for(n=0,s=t.length;n<s;n++)if(t[n]==o){t[n++]=i,s=n+a-1;for(var h=t.length;n<h;n++,s++)s<h?t[n]=t[s]:delete t[n];t.length-=a-1;break}for(l&&l.replaceChild(i,o),(t=e.createDocumentFragment()).appendChild(o),i[Le.expando]=o[Le.expando],o=1,a=r.length;o<a;o++)l=r[o],Le(l).remove(),t.appendChild(l),delete r[o];r[0]=i,r.length=1}function W(t,e){return u(function(){return t.apply(null,arguments)},t,e)}var V=function(t,e){this.$$element=t,this.$attr=e||{}};V.prototype={$normalize:St,$addClass:function(t){t&&0<t.length&&S.addClass(this.$$element,t)},$removeClass:function(t){t&&0<t.length&&S.removeClass(this.$$element,t)},$updateClass:function(t,e){var r=Et(t,e),i=Et(e,t);0===r.length?S.removeClass(this.$$element,i):0===i.length?S.addClass(this.$$element,r):S.setClass(this.$$element,r,i)},$set:function(t,e,i,n){var o=pt(this.$$element[0],t);o&&(this.$$element.prop(t,e),n=o),this[t]=e,n?this.$attr[t]=n:(n=this.$attr[t])||(this.$attr[t]=n=z(t,"-")),("A"===(o=ke(this.$$element))&&"href"===t||"IMG"===o&&"src"===t)&&(this[t]=e=E(e,"src"===t)),!1!==i&&(null===e||e===r?this.$$element.removeAttr(n):this.$$element.attr(n,e)),(i=this.$$observers)&&s(i[t],function(t){try{t(e)}catch(t){a(t)}})},$observe:function(t,e){var r=this,i=r.$$observers||(r.$$observers={}),n=i[t]||(i[t]=[]);return n.push(e),x.$evalAsync(function(){n.$$inter||e(r[t])}),e}};var K=i.startSymbol(),Z=i.endSymbol(),Q="{{"==K||"}}"==Z?f:function(t){return t.replace(/\{\{/g,K).replace(/}}/g,Z)},tt=/^ngAttr[A-Z]/;return A}]}function St(t){return K(t.replace(br,""))}function Et(t,e){var r="",i=t.split(/\s+/),n=e.split(/\s+/),s=0;t:for(;s<i.length;s++){for(var o=i[s],a=0;a<n.length;a++)if(o==n[a])continue t;r+=(0<r.length?" ":"")+o}return r}function At(){var t={},e=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(e,r){G(e,"controller"),_(e)?u(t,e):t[e]=r},this.$get=["$injector","$window",function(r,n){return function(s,o){var a,l,h;if(y(s)&&(l=(a=s.match(e))[1],h=a[3],Y(s=t.hasOwnProperty(l)?t[l]:W(o.$scope,l,!0)||W(n,l,!0),l,!0)),a=r.instantiate(s,o),h){if(!o||"object"!=typeof o.$scope)throw i("$controller")("noscp",l||s.name,h);o.$scope[h]=a}return a}}]}function Pt(){this.$get=["$window",function(t){return Le(t.document)}]}function Ct(){this.$get=["$log",function(t){return function(e,r){t.error.apply(t,arguments)}}]}function Rt(t){var e,r,i,n={};return t?(s(t.split("\n"),function(t){i=t.indexOf(":"),e=Be(Ve(t.substr(0,i))),r=Ve(t.substr(i+1)),e&&(n[e]=n[e]?n[e]+", "+r:r)}),n):n}function Mt(t){var e=_(t)?t:r;return function(r){return e||(e=Rt(t)),r?e[Be(r)]||null:e}}function Ot(t,e,r){return T(r)?r(t,e):(s(r,function(r){t=r(t,e)}),t)}function $t(){var t=/^\s*(\[|\{[^\{])/,e=/[\}\]]\s*$/,i=/^\)\]\}',?\n/,n={"Content-Type":"application/json;charset=utf-8"},a=this.defaults={transformResponse:[function(r){return y(r)&&(r=r.replace(i,""),t.test(r)&&e.test(r)&&(r=F(r))),r}],transformRequest:[function(t){return _(t)&&"[object File]"!==ze.call(t)&&"[object Blob]"!==ze.call(t)?L(t):t}],headers:{common:{Accept:"application/json, text/plain, */*"},post:R(n),put:R(n),patch:R(n)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},l=this.interceptors=[],h=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(t,e,i,n,c,p){function d(t){function e(t){var e=u({},t,{data:Ot(t.data,t.headers,i.transformResponse)});return 200<=t.status&&300>t.status?e:c.reject(e)}var i={method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse},n=function(t){var e,r,i=a.headers,n=u({},t.headers);i=u({},i.common,i[Be(t.method)]);t:for(e in i){for(r in t=Be(e),n)if(Be(r)===t)continue t;n[e]=i[e]}return function(t){var e;s(t,function(r,i){T(r)&&(null!=(e=r())?t[i]=e:delete t[i])})}(n),n}(t);u(i,t),i.headers=n,i.method=Ue(i.method);var o=[function(t){n=t.headers;var r=Ot(t.data,Mt(n),t.transformRequest);return v(r)&&s(n,function(t,e){"content-type"===Be(e)&&delete n[e]}),v(t.withCredentials)&&!v(a.withCredentials)&&(t.withCredentials=a.withCredentials),f(t,r,n).then(e,e)},r],l=c.when(i);for(s(b,function(t){(t.request||t.requestError)&&o.unshift(t.request,t.requestError),(t.response||t.responseError)&&o.push(t.response,t.responseError)});o.length;){t=o.shift();var h=o.shift();l=l.then(t,h)}return l.success=function(t){return l.then(function(e){t(e.data,e.status,e.headers,i)}),l},l.error=function(t){return l.then(null,function(e){t(e.data,e.status,e.headers,i)}),l},l}function f(i,s,o){function l(t,e,r,n){(200<=(e=Math.max(e,0))&&300>e?f.resolve:f.reject)({data:t,status:e,headers:Mt(r),config:i,statusText:n})}function h(){var t=A(d.pendingRequests,i);-1!==t&&d.pendingRequests.splice(t,1)}var u,p,f=c.defer(),y=f.promise,b=m(i.url,i.params);if(d.pendingRequests.push(i),y.then(h,h),(i.cache||a.cache)&&!1!==i.cache&&"GET"==i.method&&(u=_(i.cache)?i.cache:_(a.cache)?a.cache:x),u)if(g(p=u.get(b))){if(p.then)return p.then(h,h),p;We(p)?l(p[1],p[0],R(p[2]),p[3]):l(p,200,{},"OK")}else u.put(b,y);return v(p)&&((p=de(i.url)?e.cookies()[i.xsrfCookieName||a.xsrfCookieName]:r)&&(o[i.xsrfHeaderName||a.xsrfHeaderName]=p),t(i.method,b,s,function(t,e,r,i){u&&(200<=t&&300>t?u.put(b,[t,e,Rt(r),i]):u.remove(b)),l(e,t,r,i),n.$$phase||n.$apply()},o,i.timeout,i.withCredentials,i.responseType)),y}function m(t,e){if(!e)return t;var r=[];return function(t,e,r){for(var i=o(t),n=0;n<i.length;n++)e.call(r,t[i[n]],i[n])}(e,function(t,e){null===t||v(t)||(We(t)||(t=[t]),s(t,function(t){_(t)&&(t=L(t)),r.push(H(e)+"="+H(t))}))}),0<r.length&&(t+=(-1==t.indexOf("?")?"?":"&")+r.join("&")),t}var x=i("$http"),b=[];return s(l,function(t){b.unshift(y(t)?p.get(t):p.invoke(t))}),s(h,function(t,e){var r=y(t)?p.get(t):p.invoke(t);b.splice(e,0,{response:function(t){return r(c.when(t))},responseError:function(t){return r(c.reject(t))}})}),d.pendingRequests=[],function(t){s(arguments,function(t){d[t]=function(e,r){return d(u(r||{},{method:t,url:e}))}})}("get","delete","head","jsonp"),function(t){s(arguments,function(t){d[t]=function(e,r,i){return d(u(i||{},{method:t,url:e,data:r}))}})}("post","put"),d.defaults=a,d}]}function Dt(e){if(8>=De&&(!e.match(/^(get|post|head|put|delete|options)$/i)||!t.XMLHttpRequest))return new t.ActiveXObject("Microsoft.XMLHTTP");if(t.XMLHttpRequest)return new t.XMLHttpRequest;throw i("$httpBackend")("noxhr")}function Lt(){this.$get=["$browser","$window","$document",function(t,e,r){return function(t,e,r,i,n){function o(t,e,r){var s=n.createElement("script"),o=null;return s.type="text/javascript",s.src=t,s.async=!0,o=function(t){er(s,"load",o),er(s,"error",o),n.body.removeChild(s),s=null;var a=-1,l="unknown";t&&("load"!==t.type||i[e].called||(t={type:"error"}),l=t.type,a="error"===t.type?404:200),r&&r(a,l)},tr(s,"load",o),tr(s,"error",o),8>=De&&(s.onreadystatechange=function(){y(s.readyState)&&/loaded|complete/.test(s.readyState)&&(s.onreadystatechange=null,o({type:"load"}))}),n.body.appendChild(s),o}var a=-1;return function(n,l,h,u,c,p,f,m){function v(){y=a,b&&b(),T&&T.abort()}function _(e,i,n,s,o){w&&r.cancel(w),b=T=null,0===i&&(i=n?200:"file"==pe(l).protocol?404:0),e(1223===i?204:i,n,s,o||""),t.$$completeOutstandingRequest(d)}var y;if(t.$$incOutstandingRequestCount(),l=l||t.url(),"jsonp"==Be(n)){var x="_"+(i.counter++).toString(36);i[x]=function(t){i[x].data=t,i[x].called=!0};var b=o(l.replace("JSON_CALLBACK","angular.callbacks."+x),x,function(t,e){_(u,t,i[x].data,"",e),i[x]=d})}else{var T=e(n);if(T.open(n,l,!0),s(c,function(t,e){g(t)&&T.setRequestHeader(e,t)}),T.onreadystatechange=function(){if(T&&4==T.readyState){var t=null,e=null,r="";y!==a&&(t=T.getAllResponseHeaders(),e="response"in T?T.response:T.responseText),y===a&&10>De||(r=T.statusText),_(u,y||T.status,e,t,r)}},f&&(T.withCredentials=!0),m)try{T.responseType=m}catch(t){if("json"!==m)throw t}T.send(h||null)}if(0<p)var w=r(v,p);else p&&p.then&&p.then(v)}}(t,Dt,t.defer,e.angular.callbacks,r[0])}]}function Ft(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(r,i,n){function s(s,l,h){for(var u,c,p=0,d=[],f=s.length,m=!1,v=[];p<f;)-1!=(u=s.indexOf(t,p))&&-1!=(c=s.indexOf(e,u+o))?(p!=u&&d.push(s.substring(p,u)),d.push(p=r(m=s.substring(u+o,c))),p.exp=m,p=c+a,m=!0):(p!=f&&d.push(s.substring(p)),p=f);if((f=d.length)||(d.push(""),f=1),h&&1<d.length)throw Tr("noconcat",s);if(!l||m)return v.length=f,(p=function(t){try{for(var e,r=0,o=f;r<o;r++){if("function"==typeof(e=d[r]))if(e=e(t),null==(e=h?n.getTrusted(h,e):n.valueOf(e)))e="";else switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=L(e)}v[r]=e}return v.join("")}catch(e){t=Tr("interr",s,e.toString()),i(t)}}).exp=s,p.parts=d,p}var o=t.length,a=e.length;return s.startSymbol=function(){return t},s.endSymbol=function(){return e},s}]}function It(){this.$get=["$rootScope","$window","$q",function(t,e,r){function i(i,s,o,a){var l=e.setInterval,h=e.clearInterval,u=r.defer(),c=u.promise,p=0,d=g(a)&&!a;return o=g(o)?o:0,c.then(null,null,i),c.$$intervalId=l(function(){u.notify(p++),0<o&&p>=o&&(u.resolve(p),h(c.$$intervalId),delete n[c.$$intervalId]),d||t.$apply()},s),n[c.$$intervalId]=u,c}var n={};return i.cancel=function(t){return!!(t&&t.$$intervalId in n)&&(n[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete n[t.$$intervalId],!0)},i}]}function kt(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January February March April May June July August September October November December".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a",short:"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(t){return 1===t?"one":"other"}}}}function Nt(t){for(var e=(t=t.split("/")).length;e--;)t[e]=U(t[e]);return t.join("/")}function Bt(t,e,r){t=pe(t,r),e.$$protocol=t.protocol,e.$$host=t.hostname,e.$$port=c(t.port)||Sr[t.protocol]||null}function jt(t,e,r){var i="/"!==t.charAt(0);i&&(t="/"+t),t=pe(t,r),e.$$path=decodeURIComponent(i&&"/"===t.pathname.charAt(0)?t.pathname.substring(1):t.pathname),e.$$search=B(t.search),e.$$hash=decodeURIComponent(t.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function Ut(t,e){if(0===e.indexOf(t))return e.substr(t.length)}function Ht(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function Xt(t){return t.substr(0,Ht(t).lastIndexOf("/")+1)}function zt(t,e){this.$$html5=!0,e=e||"";var i=Xt(t);Bt(t,this,t),this.$$parse=function(e){var r=Ut(i,e);if(!y(r))throw Er("ipthprfx",e,i);jt(r,this,t),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=j(this.$$search),e=this.$$hash?"#"+U(this.$$hash):"";this.$$url=Nt(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=i+this.$$url.substr(1)},this.$$rewrite=function(n){var s;return(s=Ut(t,n))!==r?(n=s,(s=Ut(e,s))!==r?i+(Ut("/",s)||s):t+n):(s=Ut(i,n))!==r?i+s:i==n+"/"?i:void 0}}function qt(t,e){var r=Xt(t);Bt(t,this,t),this.$$parse=function(i){var n;if(!y(n="#"==(n=Ut(t,i)||Ut(r,i)).charAt(0)?Ut(e,n):this.$$html5?n:""))throw Er("ihshprfx",i,e);jt(n,this,t),i=this.$$path;var s=/^\/[A-Z]:(\/.*)/;0===n.indexOf(t)&&(n=n.replace(t,"")),s.exec(n)||(i=(n=s.exec(i))?n[1]:i),this.$$path=i,this.$$compose()},this.$$compose=function(){var r=j(this.$$search),i=this.$$hash?"#"+U(this.$$hash):"";this.$$url=Nt(this.$$path)+(r?"?"+r:"")+i,this.$$absUrl=t+(this.$$url?e+this.$$url:"")},this.$$rewrite=function(e){if(Ht(t)==Ht(e))return e}}function Yt(t,e){this.$$html5=!0,qt.apply(this,arguments);var r=Xt(t);this.$$rewrite=function(i){var n;return t==Ht(i)?i:(n=Ut(r,i))?t+e+n:r===i+"/"?r:void 0},this.$$compose=function(){var r=j(this.$$search),i=this.$$hash?"#"+U(this.$$hash):"";this.$$url=Nt(this.$$path)+(r?"?"+r:"")+i,this.$$absUrl=t+e+this.$$url}}function Gt(t){return function(){return this[t]}}function Wt(t,e){return function(r){return v(r)?this[t]:(this[t]=e(r),this.$$compose(),this)}}function Vt(){var e="",r=!1;this.hashPrefix=function(t){return g(t)?(e=t,this):e},this.html5Mode=function(t){return g(t)?(r=t,this):r},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(i,n,s,o){function a(t){i.$broadcast("$locationChangeSuccess",l.absUrl(),t)}var l,h,u,c=n.baseHref(),p=n.url();r?(u=p.substring(0,p.indexOf("/",p.indexOf("//")+2))+(c||"/"),h=s.history?zt:Yt):(u=Ht(p),h=qt),(l=new h(u,"#"+e)).$$parse(l.$$rewrite(p)),o.on("click",function(r){if(!r.ctrlKey&&!r.metaKey&&2!=r.which){for(var s=Le(r.target);"a"!==Be(s[0].nodeName);)if(s[0]===o[0]||!(s=s.parent())[0])return;var a=s.prop("href");if(_(a)&&"[object SVGAnimatedString]"===a.toString()&&(a=pe(a.animVal).href),h===Yt)if(0>(p=s.attr("href")||s.attr("xlink:href")).indexOf("://"))if(a="#"+e,"/"==p[0])a=u+a+p;else if("#"==p[0])a=u+a+(l.path()||"/")+p;else{for(var c=l.path().split("/"),p=p.split("/"),d=0;d<p.length;d++)"."!=p[d]&&(".."==p[d]?c.pop():p[d].length&&c.push(p[d]));a=u+a+c.join("/")}c=l.$$rewrite(a),a&&!s.attr("target")&&c&&!r.isDefaultPrevented()&&(r.preventDefault(),c!=n.url()&&(l.$$parse(c),i.$apply(),t.angular["ff-684208-preventDefault"]=!0))}}),l.absUrl()!=p&&n.url(l.absUrl(),!0),n.onUrlChange(function(t){l.absUrl()!=t&&(i.$evalAsync(function(){var e=l.absUrl();l.$$parse(t),i.$broadcast("$locationChangeStart",t,e).defaultPrevented?(l.$$parse(e),n.url(e)):a(e)}),i.$$phase||i.$digest())});var d=0;return i.$watch(function(){var t=n.url(),e=l.$$replace;return d&&t==l.absUrl()||(d++,i.$evalAsync(function(){i.$broadcast("$locationChangeStart",l.absUrl(),t).defaultPrevented?l.$$parse(t):(n.url(l.absUrl(),e),a(t))})),l.$$replace=!1,d}),l}]}function Kt(){var t=!0,e=this;this.debugEnabled=function(e){return g(e)?(t=e,this):t},this.$get=["$window",function(r){function i(t){var e=r.console||{},i=e[t]||e.log||d;t=!1;try{t=!!i.apply}catch(t){}return t?function(){var t=[];return s(arguments,function(e){t.push(function(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}(e))}),i.apply(e,t)}:function(t,e){i(t,null==e?"":e)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var r=i("debug");return function(){t&&r.apply(e,arguments)}}()}}]}function Zt(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw Pr("isecfld",e);return t}function Qt(t,e){if(t){if(t.constructor===t)throw Pr("isecfn",e);if(t.document&&t.location&&t.alert&&t.setInterval)throw Pr("isecwindow",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw Pr("isecdom",e);if(t===Object)throw Pr("isecobj",e)}return t}function Jt(t,e,i,n,s){s=s||{},e=e.split(".");for(var o,a=0;1<e.length;a++){var l=t[o=Zt(e.shift(),n)];l||(l={},t[o]=l),(t=l).then&&s.unwrapPromises&&(Ar(n),"$$v"in t||function(t){t.then(function(e){t.$$v=e})}(t),t.$$v===r&&(t.$$v={}),t=t.$$v)}return o=Zt(e.shift(),n),Qt(t,n),Qt(t[o],n),t[o]=i}function te(t,e,i,n,s,o,a){return Zt(t,o),Zt(e,o),Zt(i,o),Zt(n,o),Zt(s,o),a.unwrapPromises?function(a,l){var h,u=l&&l.hasOwnProperty(t)?l:a;return null==u?u:((u=u[t])&&u.then&&(Ar(o),"$$v"in u||((h=u).$$v=r,h.then(function(t){h.$$v=t})),u=u.$$v),e?null==u?r:((u=u[e])&&u.then&&(Ar(o),"$$v"in u||((h=u).$$v=r,h.then(function(t){h.$$v=t})),u=u.$$v),i?null==u?r:((u=u[i])&&u.then&&(Ar(o),"$$v"in u||((h=u).$$v=r,h.then(function(t){h.$$v=t})),u=u.$$v),n?null==u?r:((u=u[n])&&u.then&&(Ar(o),"$$v"in u||((h=u).$$v=r,h.then(function(t){h.$$v=t})),u=u.$$v),s?null==u?r:((u=u[s])&&u.then&&(Ar(o),"$$v"in u||((h=u).$$v=r,h.then(function(t){h.$$v=t})),u=u.$$v),u):u):u):u):u)}:function(o,a){var l=a&&a.hasOwnProperty(t)?a:o;return null==l?l:(l=l[t],e?null==l?r:(l=l[e],i?null==l?r:(l=l[i],n?null==l?r:(l=l[n],s?null==l?r:l=l[s]:l):l):l):l)}}function ee(t,e,i){if(Ir.hasOwnProperty(t))return Ir[t];var n,o=t.split("."),a=o.length;if(e.csp)n=6>a?te(o[0],o[1],o[2],o[3],o[4],i,e):function(t,n){var s,l=0;do{s=te(o[l++],o[l++],o[l++],o[l++],o[l++],i,e)(t,n),n=r,t=s}while(l<a);return s};else{var l="var p;\n";s(o,function(t,r){Zt(t,i),l+="if(s == null) return undefined;\ns="+(r?"s":'((k&&k.hasOwnProperty("'+t+'"))?k:s)')+'["'+t+'"];\n'+(e.unwrapPromises?'if (s && s.then) {\n pw("'+i.replace(/(["\r\n])/g,"\\$1")+'");\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v=v;});\n}\n s=s.$$v\n}\n':"")});l=l+"return s;";var h=new Function("s","k","pw",l);h.toString=m(l),n=e.unwrapPromises?function(t,e){return h(t,e,Ar)}:h}return"hasOwnProperty"!==t&&(Ir[t]=n),n}function re(){var t={},e={csp:!1,unwrapPromises:!1,logPromiseWarnings:!0};this.unwrapPromises=function(t){return g(t)?(e.unwrapPromises=!!t,this):e.unwrapPromises},this.logPromiseWarnings=function(t){return g(t)?(e.logPromiseWarnings=t,this):e.logPromiseWarnings},this.$get=["$filter","$sniffer","$log",function(r,i,n){return e.csp=i.csp,Ar=function(t){e.logPromiseWarnings&&!Cr.hasOwnProperty(t)&&(Cr[t]=!0,n.warn("[$parse] Promise found in the expression `"+t+"`. Automatic unwrapping of promises in Angular expressions is deprecated."))},function(i){var n;switch(typeof i){case"string":return t.hasOwnProperty(i)?t[i]:(n=new Lr(e),n=new Fr(n,r,e).parse(i),"hasOwnProperty"!==i&&(t[i]=n),n);case"function":return i;default:return d}}}]}function ie(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return function(t,e){function i(t){return t}function n(t){return l(t)}var o=function(){var s,l,u=[];return l={resolve:function(e){if(u){var i=u;u=r,s=a(e),i.length&&t(function(){for(var t,e=0,r=i.length;e<r;e++)t=i[e],s.then(t[0],t[1],t[2])})}},reject:function(t){l.resolve(h(t))},notify:function(e){if(u){var r=u;u.length&&t(function(){for(var t=0,i=r.length;t<i;t++)r[t][2](e)})}},promise:{then:function(t,r,a){var l=o(),h=function(r){try{l.resolve((T(t)?t:i)(r))}catch(t){l.reject(t),e(t)}},c=function(t){try{l.resolve((T(r)?r:n)(t))}catch(t){l.reject(t),e(t)}},p=function(t){try{l.notify((T(a)?a:i)(t))}catch(t){e(t)}};return u?u.push([h,c,p]):s.then(h,c,p),l.promise},catch:function(t){return this.then(null,t)},finally:function(t){function e(t,e){var r=o();return e?r.resolve(t):r.reject(t),r.promise}function r(r,n){var s=null;try{s=(t||i)()}catch(t){return e(t,!1)}return s&&T(s.then)?s.then(function(){return e(r,n)},function(t){return e(t,!1)}):e(r,n)}return this.then(function(t){return r(t,!0)},function(t){return r(t,!1)})}}}},a=function(e){return e&&T(e.then)?e:{then:function(r){var i=o();return t(function(){i.resolve(r(e))}),i.promise}}},l=function(t){var e=o();return e.reject(t),e.promise},h=function(r){return{then:function(i,s){var a=o();return t(function(){try{a.resolve((T(s)?s:n)(r))}catch(t){a.reject(t),e(t)}}),a.promise}}};return{defer:o,reject:l,when:function(r,s,h,u){var c,p=o(),d=function(t){try{return(T(s)?s:i)(t)}catch(t){return e(t),l(t)}},f=function(t){try{return(T(h)?h:n)(t)}catch(t){return e(t),l(t)}},m=function(t){try{return(T(u)?u:i)(t)}catch(t){e(t)}};return t(function(){a(r).then(function(t){c||(c=!0,p.resolve(a(t).then(d,f,m)))},function(t){c||(c=!0,p.resolve(f(t)))},function(t){c||p.notify(m(t))})}),p.promise},all:function(t){var e=o(),r=0,i=We(t)?[]:{};return s(t,function(t,n){r++,a(t).then(function(t){i.hasOwnProperty(n)||(i[n]=t,--r||e.resolve(i))},function(t){i.hasOwnProperty(n)||e.reject(t)})}),0===r&&e.resolve(i),e.promise}}}(function(e){t.$evalAsync(e)},e)}]}function ne(){this.$get=["$window","$timeout",function(t,e){var r=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,i=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,n=!!r,s=n?function(t){var e=r(t);return function(){i(e)}}:function(t){var r=e(t,16.66,!1);return function(){e.cancel(r)}};return s.supported=n,s}]}function se(){var t=10,e=i("$rootScope"),r=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(i,o,a,h){function u(){this.$id=l(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.this=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$postDigestQueue=[],this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings={}}function c(t){if(v.$$phase)throw e("inprog",v.$$phase);v.$$phase=t}function p(t,e){var r=a(t);return Y(r,e),r}function f(t,e,r){do{t.$$listenerCount[r]-=e,0===t.$$listenerCount[r]&&delete t.$$listenerCount[r]}while(t=t.$parent)}function m(){}u.prototype={constructor:u,$new:function(t){return t?((t=new u).$root=this.$root,t.$$asyncQueue=this.$$asyncQueue,t.$$postDigestQueue=this.$$postDigestQueue):(this.$$childScopeClass||(this.$$childScopeClass=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=l(),this.$$childScopeClass=null},this.$$childScopeClass.prototype=this),t=new this.$$childScopeClass),t.this=t,t.$parent=this,t.$$prevSibling=this.$$childTail,this.$$childHead?this.$$childTail=this.$$childTail.$$nextSibling=t:this.$$childHead=this.$$childTail=t,t},$watch:function(t,e,i){var n=p(t,"watch"),s=this.$$watchers,o={fn:e,last:m,get:n,exp:t,eq:!!i};if(r=null,!T(e)){var a=p(e||d,"listener");o.fn=function(t,e,r){a(r)}}if("string"==typeof t&&n.constant){var l=o.fn;o.fn=function(t,e,r){l.call(this,t,e,r),P(s,o)}}return s||(s=this.$$watchers=[]),s.unshift(o),function(){P(s,o),r=null}},$watchCollection:function(t,e){var r,i,s,o=this,l=1<e.length,h=0,u=a(t),c=[],p={},d=!0,f=0;return this.$watch(function(){var t,e;if(_(r=u(o)))if(n(r))for(i!==c&&(f=(i=c).length=0,h++),t=r.length,f!==t&&(h++,i.length=f=t),e=0;e<t;e++)i[e]!=i[e]&&r[e]!=r[e]||i[e]===r[e]||(h++,i[e]=r[e]);else{for(e in i!==p&&(i=p={},f=0,h++),t=0,r)r.hasOwnProperty(e)&&(t++,i.hasOwnProperty(e)?i[e]!==r[e]&&(h++,i[e]=r[e]):(f++,i[e]=r[e],h++));if(f>t)for(e in h++,i)i.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&(f--,delete i[e])}else i!==r&&(i=r,h++);return h},function(){if(d?(d=!1,e(r,r,o)):e(r,s,o),l)if(_(r))if(n(r)){s=Array(r.length);for(var t=0;t<r.length;t++)s[t]=r[t]}else for(t in s={},r)je.call(r,t)&&(s[t]=r[t]);else s=r})},$digest:function(){var i,n,s,a,l,h,u,p,d,f,g=this.$$asyncQueue,_=this.$$postDigestQueue,y=t,x=[];c("$digest"),r=null;do{for(h=!1,u=this;g.length;){try{(f=g.shift()).scope.$eval(f.expression)}catch(t){v.$$phase=null,o(t)}r=null}t:do{if(a=u.$$watchers)for(l=a.length;l--;)try{if(i=a[l])if((n=i.get(u))===(s=i.last)||(i.eq?M(n,s):"number"==typeof n&&"number"==typeof s&&isNaN(n)&&isNaN(s))){if(i===r){h=!1;break t}}else h=!0,r=i,i.last=i.eq?C(n,null):n,i.fn(n,s===m?n:s,u),5>y&&(x[p=4-y]||(x[p]=[]),d=T(i.exp)?"fn: "+(i.exp.name||i.exp.toString()):i.exp,d+="; newVal: "+L(n)+"; oldVal: "+L(s),x[p].push(d))}catch(t){v.$$phase=null,o(t)}if(!(a=u.$$childHead||u!==this&&u.$$nextSibling))for(;u!==this&&!(a=u.$$nextSibling);)u=u.$parent}while(u=a);if((h||g.length)&&!y--)throw v.$$phase=null,e("infdig",t,L(x))}while(h||g.length);for(v.$$phase=null;_.length;)try{_.shift()()}catch(t){o(t)}},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this!==v&&(s(this.$$listenerCount,$(null,f,this)),t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=null,this.$$listeners={},this.$$watchers=this.$$asyncQueue=this.$$postDigestQueue=[],this.$destroy=this.$digest=this.$apply=d,this.$on=this.$watch=function(){return d})}},$eval:function(t,e){return a(t)(this,e)},$evalAsync:function(t){v.$$phase||v.$$asyncQueue.length||h.defer(function(){v.$$asyncQueue.length&&v.$digest()}),this.$$asyncQueue.push({scope:this,expression:t})},$$postDigest:function(t){this.$$postDigestQueue.push(t)},$apply:function(t){try{return c("$apply"),this.$eval(t)}catch(t){o(t)}finally{v.$$phase=null;try{v.$digest()}catch(t){throw o(t),t}}},$on:function(t,e){var r=this.$$listeners[t];r||(this.$$listeners[t]=r=[]),r.push(e);var i=this;do{i.$$listenerCount[t]||(i.$$listenerCount[t]=0),i.$$listenerCount[t]++}while(i=i.$parent);var n=this;return function(){r[A(r,e)]=null,f(n,1,t)}},$emit:function(t,e){var r,i,n,s=[],a=this,l=!1,h={name:t,targetScope:a,stopPropagation:function(){l=!0},preventDefault:function(){h.defaultPrevented=!0},defaultPrevented:!1},u=[h].concat(He.call(arguments,1));do{for(r=a.$$listeners[t]||s,h.currentScope=a,i=0,n=r.length;i<n;i++)if(r[i])try{r[i].apply(null,u)}catch(t){o(t)}else r.splice(i,1),i--,n--;if(l)break;a=a.$parent}while(a);return h},$broadcast:function(t,e){for(var r,i,n=this,s=this,a={name:t,targetScope:this,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1},l=[a].concat(He.call(arguments,1));n=s;){for(a.currentScope=n,r=0,i=(s=n.$$listeners[t]||[]).length;r<i;r++)if(s[r])try{s[r].apply(null,l)}catch(t){o(t)}else s.splice(r,1),r--,i--;if(!(s=n.$$listenerCount[t]&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(s=n.$$nextSibling);)n=n.$parent}return a}};var v=new u;return v}]}function oe(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*(https?|ftp|file):|data:image\//;this.aHrefSanitizationWhitelist=function(e){return g(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return g(t)?(e=t,this):e},this.$get=function(){return function(r,i){var n,s=i?e:t;return De&&!(8<=De)||(""===(n=pe(r).href)||n.match(s))?r:"unsafe:"+n}}}function ae(t){var e=[];return g(t)&&s(t,function(t){e.push(function(t){if("self"===t)return t;if(y(t)){if(-1<t.indexOf("***"))throw kr("iwcard",t);return t=t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08").replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),RegExp("^"+t+"$")}if(w(t))return RegExp("^"+t.source+"$");throw kr("imatcher")}(t))}),e}function le(){this.SCE_CONTEXTS=Nr;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=ae(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=ae(t)),e},this.$get=["$injector",function(i){function n(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}var s=function(t){throw kr("unsafe")};i.has("$sanitize")&&(s=i.get("$sanitize"));var o=n(),a={};return a[Nr.HTML]=n(o),a[Nr.CSS]=n(o),a[Nr.URL]=n(o),a[Nr.JS]=n(o),a[Nr.RESOURCE_URL]=n(a[Nr.URL]),{trustAs:function(t,e){var i=a.hasOwnProperty(t)?a[t]:null;if(!i)throw kr("icontext",t,e);if(null===e||e===r||""===e)return e;if("string"!=typeof e)throw kr("itype",t);return new i(e)},getTrusted:function(i,n){if(null===n||n===r||""===n)return n;if((h=a.hasOwnProperty(i)?a[i]:null)&&n instanceof h)return n.$$unwrapTrustedValue();if(i===Nr.RESOURCE_URL){var o,l,h=pe(n.toString()),u=!1;for(o=0,l=t.length;o<l;o++)if("self"===t[o]?de(h):t[o].exec(h.href)){u=!0;break}if(u)for(o=0,l=e.length;o<l;o++)if("self"===e[o]?de(h):e[o].exec(h.href)){u=!1;break}if(u)return n;throw kr("insecurl",n.toString())}if(i===Nr.HTML)return s(n);throw kr("unsafe")},valueOf:function(t){return t instanceof o?t.$$unwrapTrustedValue():t}}}]}function he(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sniffer","$sceDelegate",function(e,r,i){if(t&&r.msie&&8>r.msieDocumentMode)throw kr("iequirks");var n=R(Nr);n.isEnabled=function(){return t},n.trustAs=i.trustAs,n.getTrusted=i.getTrusted,n.valueOf=i.valueOf,t||(n.trustAs=n.getTrusted=function(t,e){return e},n.valueOf=f),n.parseAs=function(t,r){var i=e(r);return i.literal&&i.constant?i:function(e,r){return n.getTrusted(t,i(e,r))}};var o=n.parseAs,a=n.getTrusted,l=n.trustAs;return s(Nr,function(t,e){var r=Be(e);n[K("parse_as_"+r)]=function(e){return o(t,e)},n[K("get_trusted_"+r)]=function(e){return a(t,e)},n[K("trust_as_"+r)]=function(e){return l(t,e)}}),n}]}function ue(){this.$get=["$window","$document",function(t,e){var r,i={},n=c((/android (\d+)/.exec(Be((t.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((t.navigator||{}).userAgent),o=e[0]||{},a=o.documentMode,l=/^(Moz|webkit|O|ms)(?=[A-Z])/,h=o.body&&o.body.style,u=!1,p=!1;if(h){for(var d in h)if(u=l.exec(d)){r=(r=u[0]).substr(0,1).toUpperCase()+r.substr(1);break}r||(r="WebkitOpacity"in h&&"webkit"),u=!!("transition"in h||r+"Transition"in h),p=!!("animation"in h||r+"Animation"in h),!n||u&&p||(u=y(o.body.style.webkitTransition),p=y(o.body.style.webkitAnimation))}return{history:!(!t.history||!t.history.pushState||4>n||s),hashchange:"onhashchange"in t&&(!a||7<a),hasEvent:function(t){if("input"==t&&9==De)return!1;if(v(i[t])){var e=o.createElement("div");i[t]="on"+t in e}return i[t]},csp:O(),vendorPrefix:r,transitions:u,animations:p,android:n,msie:De,msieDocumentMode:a}}]}function ce(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(t,e,r,i){function n(n,o,a){var l=r.defer(),h=l.promise,u=g(a)&&!a;return o=e.defer(function(){try{l.resolve(n())}catch(t){l.reject(t),i(t)}finally{delete s[h.$$timeoutId]}u||t.$apply()},o),h.$$timeoutId=o,s[o]=l,h}var s={};return n.cancel=function(t){return!!(t&&t.$$timeoutId in s)&&(s[t.$$timeoutId].reject("canceled"),delete s[t.$$timeoutId],e.defer.cancel(t.$$timeoutId))},n}]}function pe(t,e){var r=t;return De&&(Br.setAttribute("href",r),r=Br.href),Br.setAttribute("href",r),{href:Br.href,protocol:Br.protocol?Br.protocol.replace(/:$/,""):"",host:Br.host,search:Br.search?Br.search.replace(/^\?/,""):"",hash:Br.hash?Br.hash.replace(/^#/,""):"",hostname:Br.hostname,port:Br.port,pathname:"/"===Br.pathname.charAt(0)?Br.pathname:"/"+Br.pathname}}function de(t){return(t=y(t)?pe(t):t).protocol===jr.protocol&&t.host===jr.host}function fe(){this.$get=m(t)}function me(t){function e(i,n){if(_(i)){var o={};return s(i,function(t,r){o[r]=e(r,t)}),o}return t.factory(i+r,n)}var r="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+r)}}],e("currency",ge),e("date",we),e("filter",ve),e("json",Se),e("limitTo",Ee),e("lowercase",qr),e("number",_e),e("orderBy",Ae),e("uppercase",Yr)}function ve(){return function(t,e,r){if(!We(t))return t;var i=typeof r,n=[];n.check=function(t){for(var e=0;e<n.length;e++)if(!n[e](t))return!1;return!0},"function"!==i&&(r="boolean"===i&&r?function(t,e){return Ye.equals(t,e)}:function(t,e){if(t&&e&&"object"==typeof t&&"object"==typeof e){for(var i in t)if("$"!==i.charAt(0)&&je.call(t,i)&&r(t[i],e[i]))return!0;return!1}return e=(""+e).toLowerCase(),-1<(""+t).toLowerCase().indexOf(e)});var s=function(t,e){if("string"==typeof e&&"!"===e.charAt(0))return!s(t,e.substr(1));switch(typeof t){case"boolean":case"number":case"string":return r(t,e);case"object":switch(typeof e){case"object":return r(t,e);default:for(var i in t)if("$"!==i.charAt(0)&&s(t[i],e))return!0}return!1;case"array":for(i=0;i<t.length;i++)if(s(t[i],e))return!0;return!1;default:return!1}};switch(typeof e){case"boolean":case"number":case"string":e={$:e};case"object":for(var o in e)!function(t){void 0!==e[t]&&n.push(function(r){return s("$"==t?r:r&&r[t],e[t])})}(o);break;case"function":n.push(e);break;default:return t}for(i=[],o=0;o<t.length;o++){var a=t[o];n.check(a)&&i.push(a)}return i}}function ge(t){var e=t.NUMBER_FORMATS;return function(t,r){return v(r)&&(r=e.CURRENCY_SYM),ye(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,2).replace(/\u00A4/g,r)}}function _e(t){var e=t.NUMBER_FORMATS;return function(t,r){return ye(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,r)}}function ye(t,e,r,i,n){if(null==t||!isFinite(t)||_(t))return"";var s=0>t,o=(t=Math.abs(t))+"",a="",l=[],h=!1;-1!==o.indexOf("e")&&((u=o.match(/([\d\.]+)e(-?)(\d+)/))&&"-"==u[2]&&u[3]>n+1?(o="0",t=0):(a=o,h=!0));if(h)0<n&&-1<t&&1>t&&(a=t.toFixed(n));else{o=(o.split(Ur)[1]||"").length,v(n)&&(n=Math.min(Math.max(e.minFrac,o),e.maxFrac)),o=(t=(""+(t=+(Math.round(+(t.toString()+"e"+n)).toString()+"e"+-n))).split(Ur))[0],t=t[1]||"";var u=0,c=e.lgSize,p=e.gSize;if(o.length>=c+p)for(u=o.length-c,h=0;h<u;h++)0==(u-h)%p&&0!==h&&(a+=r),a+=o.charAt(h);for(h=u;h<o.length;h++)0==(o.length-h)%c&&0!==h&&(a+=r),a+=o.charAt(h);for(;t.length<n;)t+="0";n&&"0"!==n&&(a+=i+t.substr(0,n))}return l.push(s?e.negPre:e.posPre),l.push(a),l.push(s?e.negSuf:e.posSuf),l.join("")}function xe(t,e,r){var i="";for(0>t&&(i="-",t=-t),t=""+t;t.length<e;)t="0"+t;return r&&(t=t.substr(t.length-e)),i+t}function be(t,e,r,i){return r=r||0,function(n){return n=n["get"+t](),(0<r||n>-r)&&(n+=r),0===n&&-12==r&&(n=12),xe(n,e,i)}}function Te(t,e){return function(r,i){var n=r["get"+t]();return i[Ue(e?"SHORT"+t:t)][n]}}function we(t){function e(t){var e;if(e=t.match(r)){t=new Date(0);var i=0,n=0,s=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(i=c(e[9]+e[10]),n=c(e[9]+e[11])),s.call(t,c(e[1]),c(e[2])-1,c(e[3])),i=c(e[4]||0)-i,n=c(e[5]||0)-n,s=c(e[6]||0),e=Math.round(1e3*parseFloat("0."+(e[7]||0))),o.call(t,i,n,s,e)}return t}var r=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(r,i){var n,o,a="",l=[];if(i=i||"mediumDate",i=t.DATETIME_FORMATS[i]||i,y(r)&&(r=zr.test(r)?c(r):e(r)),x(r)&&(r=new Date(r)),!b(r))return r;for(;i;)(o=Xr.exec(i))?i=(l=l.concat(He.call(o,1))).pop():(l.push(i),i=null);return s(l,function(e){n=Hr[e],a+=n?n(r,t.DATETIME_FORMATS):e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),a}}function Se(){return function(t){return L(t,!0)}}function Ee(){return function(t,e){if(!We(t)&&!y(t))return t;if(e=1/0===Math.abs(Number(e))?Number(e):c(e),y(t))return e?0<=e?t.slice(0,e):t.slice(e,t.length):"";var r,i,n=[];for(e>t.length?e=t.length:e<-t.length&&(e=-t.length),0<e?(r=0,i=e):(r=t.length+e,i=t.length);r<i;r++)n.push(t[r]);return n}}function Ae(t){return function(e,r,i){function n(t,e){return I(e)?function(e,r){return t(r,e)}:t}function o(t,e){var r=typeof t,i=typeof e;return r==i?("string"==r&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e?0:t<e?-1:1):r<i?-1:1}if(!We(e)||!r)return e;r=function(t,e,r){var i=[];return s(t,function(t,n,s){i.push(e.call(r,t,n,s))}),i}(r=We(r)?r:[r],function(e){var r=!1,i=e||f;if(y(e)&&("+"!=e.charAt(0)&&"-"!=e.charAt(0)||(r="-"==e.charAt(0),e=e.substring(1)),(i=t(e)).constant)){var s=i();return n(function(t,e){return o(t[s],e[s])},r)}return n(function(t,e){return o(i(t),i(e))},r)});for(var a=[],l=0;l<e.length;l++)a.push(e[l]);return a.sort(n(function(t,e){for(var i=0;i<r.length;i++){var n=r[i](t,e);if(0!==n)return n}return 0},i))}}function Pe(t){return T(t)&&(t={link:t}),t.restrict=t.restrict||"AC",m(t)}function Ce(t,e,r,i){function n(e,r){r=r?"-"+z(r,"-"):"",i.removeClass(t,(e?oi:si)+r),i.addClass(t,(e?si:oi)+r)}var o=this,a=t.parent().controller("form")||Vr,l=0,h=o.$error={},u=[];o.$name=e.name||e.ngForm,o.$dirty=!1,o.$pristine=!0,o.$valid=!0,o.$invalid=!1,a.$addControl(o),t.addClass(ai),n(!0),o.$addControl=function(t){G(t.$name,"input"),u.push(t),t.$name&&(o[t.$name]=t)},o.$removeControl=function(t){t.$name&&o[t.$name]===t&&delete o[t.$name],s(h,function(e,r){o.$setValidity(r,!0,t)}),P(u,t)},o.$setValidity=function(t,e,r){var i=h[t];if(e)i&&(P(i,r),i.length||(--l||(n(e),o.$valid=!0,o.$invalid=!1),h[t]=!1,n(!0,t),a.$setValidity(t,!0,o)));else{if(l||n(e),i){if(-1!=A(i,r))return}else h[t]=i=[],l++,n(!1,t),a.$setValidity(t,!1,o);i.push(r),o.$valid=!1,o.$invalid=!0}},o.$setDirty=function(){i.removeClass(t,ai),i.addClass(t,li),o.$dirty=!0,o.$pristine=!1,a.$setDirty()},o.$setPristine=function(){i.removeClass(t,li),i.addClass(t,ai),o.$dirty=!1,o.$pristine=!0,s(u,function(t){t.$setPristine()})}}function Re(t,e,i,n){return t.$setValidity(e,i),i?n:r}function Me(t,e){var r;if(e)for(r=0;r<e.length;++r)if(t[e[r]])return!0;return!1}function Oe(t,e,r,n,s,o){var a=e.prop(Ne),l=e[0].placeholder,h={};if(n.$$validityState=a,!s.android){var u=!1;e.on("compositionstart",function(t){u=!0}),e.on("compositionend",function(){u=!1,p()})}var p=function(i){if(!u){var s=e.val();De&&"input"===(i||h).type&&e[0].placeholder!==l?l=e[0].placeholder:(I(r.ngTrim||"T")&&(s=Ve(s)),i=a&&n.$$hasNativeValidators,(n.$viewValue!==s||""===s&&i)&&(t.$$phase?n.$setViewValue(s):t.$apply(function(){n.$setViewValue(s)})))}};if(s.hasEvent("input"))e.on("input",p);else{var d,f=function(){d||(d=o.defer(function(){p(),d=null}))};e.on("keydown",function(t){91===(t=t.keyCode)||15<t&&19>t||37<=t&&40>=t||f()}),s.hasEvent("paste")&&e.on("paste cut",f)}e.on("change",p),n.$render=function(){e.val(n.$isEmpty(n.$viewValue)?"":n.$viewValue)};var m=r.ngPattern;if(m&&((s=m.match(/^\/(.*)\/([gim]*)$/))?(m=RegExp(s[1],s[2]),s=function(t){return Re(n,"pattern",n.$isEmpty(t)||m.test(t),t)}):s=function(r){var s=t.$eval(m);if(!s||!s.test)throw i("ngPattern")("noregexp",m,s,k(e));return Re(n,"pattern",n.$isEmpty(r)||s.test(r),r)},n.$formatters.push(s),n.$parsers.push(s)),r.ngMinlength){var v=c(r.ngMinlength);s=function(t){return Re(n,"minlength",n.$isEmpty(t)||t.length>=v,t)},n.$parsers.push(s),n.$formatters.push(s)}if(r.ngMaxlength){var g=c(r.ngMaxlength);s=function(t){return Re(n,"maxlength",n.$isEmpty(t)||t.length<=g,t)},n.$parsers.push(s),n.$formatters.push(s)}}function $e(t,e){return t="ngClass"+t,["$animate",function(r){function i(t,e){var r=[],i=0;t:for(;i<t.length;i++){for(var n=t[i],s=0;s<e.length;s++)if(n==e[s])continue t;r.push(n)}return r}function n(t){if(!We(t)){if(y(t))return t.split(" ");if(_(t)){var e=[];return s(t,function(t,r){t&&(e=e.concat(r.split(" ")))}),e}}return t}return{restrict:"AC",link:function(o,a,l){function h(t,e){var r=a.data("$classCounts")||{},i=[];return s(t,function(t){(0<e||r[t])&&(r[t]=(r[t]||0)+e,r[t]===+(0<e)&&i.push(t))}),a.data("$classCounts",r),i.join(" ")}function u(t){if(!0===e||o.$index%2===e){var s=n(t||[]);if(c){if(!M(t,c)){var u=n(c);p=i(s,u),s=h(s=i(u,s),-1);0===(p=h(p,1)).length?r.removeClass(a,s):0===s.length?r.addClass(a,p):r.setClass(a,p,s)}}else{var p=h(s,1);l.$addClass(p)}}c=R(t)}var c;o.$watch(l[t],u,!0),l.$observe("class",function(e){u(o.$eval(l[t]))}),"ngClass"!==t&&o.$watch("$index",function(r,i){var s=1&r;if(s!==(1&i)){var a=n(o.$eval(l[t]));s===e?(s=h(a,1),l.$addClass(s)):(s=h(a,-1),l.$removeClass(s))}})}}}]}var De,Le,Fe,Ie,ke,Ne="validity",Be=function(t){return y(t)?t.toLowerCase():t},je=Object.prototype.hasOwnProperty,Ue=function(t){return y(t)?t.toUpperCase():t},He=[].slice,Xe=[].push,ze=Object.prototype.toString,qe=i("ng"),Ye=t.angular||(t.angular={}),Ge=["0","0","0"];De=c((/msie (\d+)/.exec(Be(navigator.userAgent))||[])[1]),isNaN(De)&&(De=c((/trident\/.*; rv:(\d+)/.exec(Be(navigator.userAgent))||[])[1])),d.$inject=[],f.$inject=[];var We=T(Array.isArray)?Array.isArray:function(t){return"[object Array]"===ze.call(t)},Ve=String.prototype.trim?function(t){return y(t)?t.trim():t}:function(t){return y(t)?t.replace(/^\s\s*/,"").replace(/\s\s*$/,""):t};ke=9>De?function(t){return(t=t.nodeName?t:t[0]).scopeName&&"HTML"!=t.scopeName?Ue(t.scopeName+":"+t.nodeName):t.nodeName}:function(t){return t.nodeName?t.nodeName:t[0].nodeName};var Ke=/[A-Z]/g,Ze={full:"1.2.20",major:1,minor:2,dot:20,codeName:"accidental-beautification"};Q.expando="ng339";var Qe=Q.cache={},Je=1,tr=t.document.addEventListener?function(t,e,r){t.addEventListener(e,r,!1)}:function(t,e,r){t.attachEvent("on"+e,r)},er=t.document.removeEventListener?function(t,e,r){t.removeEventListener(e,r,!1)}:function(t,e,r){t.detachEvent("on"+e,r)};Q._data=function(t){return this.cache[t[this.expando]]||{}};var rr=/([\:\-\_]+(.))/g,ir=/^moz([A-Z])/,nr=i("jqLite"),sr=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,or=/<|&#?\w+;/,ar=/<([\w:]+)/,lr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,hr={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};hr.optgroup=hr.option,hr.tbody=hr.tfoot=hr.colgroup=hr.caption=hr.thead,hr.th=hr.td;var ur=Q.prototype={ready:function(r){function i(){n||(n=!0,r())}var n=!1;"complete"===e.readyState?setTimeout(i):(this.on("DOMContentLoaded",i),Q(t).on("load",i))},toString:function(){var t=[];return s(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return Le(0<=t?this[t]:this[this.length+t])},length:0,push:Xe,sort:[].sort,splice:[].splice},cr={};s("multiple selected checked disabled readOnly required open".split(" "),function(t){cr[Be(t)]=t});var pr={};s("input select option textarea button form details".split(" "),function(t){pr[Ue(t)]=!0}),s({data:nt,inheritedData:ut,scope:function(t){return Le(t).data("$scope")||ut(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return Le(t).data("$isolateScope")||Le(t).data("$isolateScopeNoTemplate")},controller:ht,injector:function(t){return ut(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:st,css:function(t,e,i){var n;if(e=K(e),!g(i))return 8>=De&&(""===(n=t.currentStyle&&t.currentStyle[e])&&(n="auto")),n=n||t.style[e],8>=De&&(n=""===n?r:n),n;t.style[e]=i},attr:function(t,e,i){var n=Be(e);if(cr[n]){if(!g(i))return t[e]||(t.attributes.getNamedItem(e)||d).specified?n:r;i?(t[e]=!0,t.setAttribute(e,n)):(t[e]=!1,t.removeAttribute(n))}else if(g(i))t.setAttribute(e,i);else if(t.getAttribute)return null===(t=t.getAttribute(e,2))?r:t},prop:function(t,e,r){if(!g(r))return t[e];t[e]=r},text:function(){function t(t,r){var i=e[t.nodeType];if(v(r))return i?t[i]:"";t[i]=r}var e=[];return 9>De?(e[1]="innerText",e[3]="nodeValue"):e[1]=e[3]="textContent",t.$dv="",t}(),val:function(t,e){if(v(e)){if("SELECT"===ke(t)&&t.multiple){var r=[];return s(t.options,function(t){t.selected&&r.push(t.value||t.text)}),0===r.length?null:r}return t.value}t.value=e},html:function(t,e){if(v(e))return t.innerHTML;for(var r=0,i=t.childNodes;r<i.length;r++)tt(i[r]);t.innerHTML=e},empty:ct},function(t,e){Q.prototype[e]=function(e,i){var n,s,o=this.length;if(t!==ct&&(2==t.length&&t!==st&&t!==ht?e:i)===r){if(_(e)){for(n=0;n<o;n++)if(t===nt)t(this[n],e);else for(s in e)t(this[n],s,e[s]);return this}for(o=(n=t.$dv)===r?Math.min(o,1):o,s=0;s<o;s++){var a=t(this[s],e,i);n=n?n+a:a}return n}for(n=0;n<o;n++)t(this[n],e,i);return this}}),s({removeData:rt,dealoc:tt,on:function t(r,i,n,o){if(g(o))throw nr("onargs");var a=it(r,"events"),l=it(r,"handle");a||it(r,"events",a={}),l||it(r,"handle",l=function(t,r){var i=function(i,n){if(i.preventDefault||(i.preventDefault=function(){i.returnValue=!1}),i.stopPropagation||(i.stopPropagation=function(){i.cancelBubble=!0}),i.target||(i.target=i.srcElement||e),v(i.defaultPrevented)){var o=i.preventDefault;i.preventDefault=function(){i.defaultPrevented=!0,o.call(i)},i.defaultPrevented=!1}i.isDefaultPrevented=function(){return i.defaultPrevented||!1===i.returnValue},s(R(r[n||i.type]||[]),function(e){e.call(t,i)}),8>=De?(i.preventDefault=null,i.stopPropagation=null,i.isDefaultPrevented=null):(delete i.preventDefault,delete i.stopPropagation,delete i.isDefaultPrevented)};return i.elem=t,i}(r,a)),s(i.split(" "),function(i){var s=a[i];if(!s){if("mouseenter"==i||"mouseleave"==i){var o=e.body.contains||e.body.compareDocumentPosition?function(t,e){var r=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(r.contains?r.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1};a[i]=[],t(r,{mouseleave:"mouseout",mouseenter:"mouseover"}[i],function(t){var e=t.relatedTarget;e&&(e===this||o(this,e))||l(t,i)})}else tr(r,i,l),a[i]=[];s=a[i]}s.push(n)})},off:et,one:function(t,e,r){(t=Le(t)).on(e,function i(){t.off(e,r),t.off(e,i)}),t.on(e,r)},replaceWith:function(t,e){var r,i=t.parentNode;tt(t),s(new Q(e),function(e){r?i.insertBefore(e,r.nextSibling):i.replaceChild(e,t),r=e})},children:function(t){var e=[];return s(t.childNodes,function(t){1===t.nodeType&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){s(new Q(e),function(e){1!==t.nodeType&&11!==t.nodeType||t.appendChild(e)})},prepend:function(t,e){if(1===t.nodeType){var r=t.firstChild;s(new Q(e),function(e){t.insertBefore(e,r)})}},wrap:function(t,e){e=Le(e)[0];var r=t.parentNode;r&&r.replaceChild(e,t),e.appendChild(t)},remove:function(t){tt(t);var e=t.parentNode;e&&e.removeChild(t)},after:function(t,e){var r=t,i=t.parentNode;s(new Q(e),function(t){i.insertBefore(t,r.nextSibling),r=t})},addClass:at,removeClass:ot,toggleClass:function(t,e,r){e&&s(e.split(" "),function(e){var i=r;v(i)&&(i=!st(t,e)),(i?at:ot)(t,e)})},parent:function(t){return(t=t.parentNode)&&11!==t.nodeType?t:null},next:function(t){if(t.nextElementSibling)return t.nextElementSibling;for(t=t.nextSibling;null!=t&&1!==t.nodeType;)t=t.nextSibling;return t},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:J,triggerHandler:function(t,e,r){e=(it(t,"events")||{})[e],r=r||[];var i=[{preventDefault:d,stopPropagation:d}];s(e,function(e){e.apply(t,i.concat(r))})}},function(t,e){Q.prototype[e]=function(e,r,i){for(var n,s=0;s<this.length;s++)v(n)?g(n=t(this[s],e,r,i))&&(n=Le(n)):lt(n,t(this[s],e,r,i));return g(n)?n:this},Q.prototype.bind=Q.prototype.on,Q.prototype.unbind=Q.prototype.off}),ft.prototype={put:function(t,e){this[dt(t,this.nextUid)]=e},get:function(t){return this[dt(t,this.nextUid)]},remove:function(t){var e=this[t=dt(t,this.nextUid)];return delete this[t],e}};var dr=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,fr=/,/,mr=/^\s*(_?)(\S+?)\1\s*$/,vr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,gr=i("$injector"),_r=i("$animate"),yr=["$provide",function(t){this.$$selectors={},this.register=function(e,r){var i=e+"-animation";if(e&&"."!=e.charAt(0))throw _r("notcsel",e);this.$$selectors[e.substr(1)]=i,t.factory(i,r)},this.classNameFilter=function(t){return 1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null),this.$$classNameFilter},this.$get=["$timeout","$$asyncCallback",function(t,e){return{enter:function(t,r,i,n){i?i.after(t):(r&&r[0]||(r=i.parent()),r.append(t)),n&&e(n)},leave:function(t,r){t.remove(),r&&e(r)},move:function(t,e,r,i){this.enter(t,e,r,i)},addClass:function(t,r,i){r=y(r)?r:We(r)?r.join(" "):"",s(t,function(t){at(t,r)}),i&&e(i)},removeClass:function(t,r,i){r=y(r)?r:We(r)?r.join(" "):"",s(t,function(t){ot(t,r)}),i&&e(i)},setClass:function(t,r,i,n){s(t,function(t){at(t,r),ot(t,i)}),n&&e(n)},enabled:d}}]}],xr=i("$compile");wt.$inject=["$provide","$$sanitizeUriProvider"];var br=/^(x[\:\-_]|data[\:\-_])/i,Tr=i("$interpolate"),wr=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Sr={http:80,https:443,ftp:21},Er=i("$location");Yt.prototype=qt.prototype=zt.prototype={$$html5:!1,$$replace:!1,absUrl:Gt("$$absUrl"),url:function(t,e){if(v(t))return this.$$url;var r=wr.exec(t);return r[1]&&this.path(decodeURIComponent(r[1])),(r[2]||r[1])&&this.search(r[3]||""),this.hash(r[5]||"",e),this},protocol:Gt("$$protocol"),host:Gt("$$host"),port:Gt("$$port"),path:Wt("$$path",function(t){return"/"==t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(y(t))this.$$search=B(t);else{if(!_(t))throw Er("isrcharg");s(t,function(e,r){null==e&&delete t[r]}),this.$$search=t}break;default:v(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:Wt("$$hash",f),replace:function(){return this.$$replace=!0,this}};var Ar,Pr=i("$parse"),Cr={},Rr=Function.prototype.call,Mr=Function.prototype.apply,Or=Function.prototype.bind,$r={null:function(){return null},true:function(){return!0},false:function(){return!1},undefined:d,"+":function(t,e,i,n){return i=i(t,e),n=n(t,e),g(i)?g(n)?i+n:i:g(n)?n:r},"-":function(t,e,r,i){return r=r(t,e),i=i(t,e),(g(r)?r:0)-(g(i)?i:0)},"*":function(t,e,r,i){return r(t,e)*i(t,e)},"/":function(t,e,r,i){return r(t,e)/i(t,e)},"%":function(t,e,r,i){return r(t,e)%i(t,e)},"^":function(t,e,r,i){return r(t,e)^i(t,e)},"=":d,"===":function(t,e,r,i){return r(t,e)===i(t,e)},"!==":function(t,e,r,i){return r(t,e)!==i(t,e)},"==":function(t,e,r,i){return r(t,e)==i(t,e)},"!=":function(t,e,r,i){return r(t,e)!=i(t,e)},"<":function(t,e,r,i){return r(t,e)<i(t,e)},">":function(t,e,r,i){return r(t,e)>i(t,e)},"<=":function(t,e,r,i){return r(t,e)<=i(t,e)},">=":function(t,e,r,i){return r(t,e)>=i(t,e)},"&&":function(t,e,r,i){return r(t,e)&&i(t,e)},"||":function(t,e,r,i){return r(t,e)||i(t,e)},"&":function(t,e,r,i){return r(t,e)&i(t,e)},"|":function(t,e,r,i){return i(t,e)(t,e,r(t,e))},"!":function(t,e,r){return!r(t,e)}},Dr={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Lr=function(t){this.options=t};Lr.prototype={constructor:Lr,lex:function(t){for(this.text=t,this.index=0,this.ch=r,this.lastCh=":",this.tokens=[];this.index<this.text.length;){if(this.ch=this.text.charAt(this.index),this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent();else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch}),this.index++;else{if(this.isWhitespace(this.ch)){this.index++;continue}var e=(t=this.ch+this.peek())+this.peek(2),i=$r[this.ch],n=$r[t],s=$r[e];s?(this.tokens.push({index:this.index,text:e,fn:s}),this.index+=3):n?(this.tokens.push({index:this.index,text:t,fn:n}),this.index+=2):i?(this.tokens.push({index:this.index,text:this.ch,fn:i}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}this.lastCh=this.ch}return this.tokens},is:function(t){return-1!==t.indexOf(this.ch)},was:function(t){return-1!==t.indexOf(this.lastCh)},peek:function(t){return t=t||1,this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(t){return"0"<=t&&"9">=t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||" "===t},isIdent:function(t){return"a"<=t&&"z">=t||"A"<=t&&"Z">=t||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,r){throw r=r||this.index,e=g(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,r)+"]":" "+r,Pr("lexerr",t,e,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var r=Be(this.text.charAt(this.index));if("."==r||this.isNumber(r))t+=r;else{var i=this.peek();if("e"==r&&this.isExpOperator(i))t+=r;else if(this.isExpOperator(r)&&i&&this.isNumber(i)&&"e"==t.charAt(t.length-1))t+=r;else{if(!this.isExpOperator(r)||i&&this.isNumber(i)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}t*=1,this.tokens.push({index:e,text:t,literal:!0,constant:!0,fn:function(){return t}})},readIdent:function(){for(var t,e,r,i,n=this,s="",o=this.index;this.index<this.text.length&&("."===(i=this.text.charAt(this.index))||this.isIdent(i)||this.isNumber(i));)"."===i&&(t=this.index),s+=i,this.index++;if(t)for(e=this.index;e<this.text.length;){if("("===(i=this.text.charAt(e))){r=s.substr(t-o+1),s=s.substr(0,t-o),this.index=e;break}if(!this.isWhitespace(i))break;e++}if(o={index:o,text:s},$r.hasOwnProperty(s))o.fn=$r[s],o.literal=!0,o.constant=!0;else{var a=ee(s,this.options,this.text);o.fn=u(function(t,e){return a(t,e)},{assign:function(t,e){return Jt(t,s,e,n.text,n.options)}})}this.tokens.push(o),r&&(this.tokens.push({index:t,text:"."}),this.tokens.push({index:t+1,text:r}))},readString:function(t){var e=this.index;this.index++;for(var r="",i=t,n=!1;this.index<this.text.length;){var s=this.text.charAt(this.index);i=i+s;if(n)"u"===s?((s=this.text.substring(this.index+1,this.index+5)).match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+s+"]"),this.index+=4,r+=String.fromCharCode(parseInt(s,16))):r=(n=Dr[s])?r+n:r+s,n=!1;else if("\\"===s)n=!0;else{if(s===t)return this.index++,void this.tokens.push({index:e,text:i,string:r,literal:!0,constant:!0,fn:function(){return r}});r+=s}this.index++}this.throwError("Unterminated quote",e)}};var Fr=function(t,e,r){this.lexer=t,this.$filter=e,this.options=r};Fr.ZERO=u(function(){return 0},{constant:!0}),Fr.prototype={constructor:Fr,parse:function(t){return this.text=t,this.tokens=this.lexer.lex(t),t=this.statements(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t.literal=!!t.literal,t.constant=!!t.constant,t},primary:function(){var t,e;if(this.expect("("))t=this.filterChain(),this.consume(")");else if(this.expect("["))t=this.arrayDeclaration();else if(this.expect("{"))t=this.object();else{var r=this.expect();(t=r.fn)||this.throwError("not a primary expression",r),t.literal=!!r.literal,t.constant=!!r.constant}for(;r=this.expect("(","[",".");)"("===r.text?(t=this.functionCall(t,e),e=null):"["===r.text?(e=t,t=this.objectIndex(t)):"."===r.text?(e=t,t=this.fieldAccess(t)):this.throwError("IMPOSSIBLE");return t},throwError:function(t,e){throw Pr("syntax",e.text,t,e.index+1,this.text,this.text.substring(e.index))},peekToken:function(){if(0===this.tokens.length)throw Pr("ueoe",this.text);return this.tokens[0]},peek:function(t,e,r,i){if(0<this.tokens.length){var n=this.tokens[0],s=n.text;if(s===t||s===e||s===r||s===i||!(t||e||r||i))return n}return!1},expect:function(t,e,r,i){return!!(t=this.peek(t,e,r,i))&&(this.tokens.shift(),t)},consume:function(t){this.expect(t)||this.throwError("is unexpected, expecting ["+t+"]",this.peek())},unaryFn:function(t,e){return u(function(r,i){return t(r,i,e)},{constant:e.constant})},ternaryFn:function(t,e,r){return u(function(i,n){return t(i,n)?e(i,n):r(i,n)},{constant:t.constant&&e.constant&&r.constant})},binaryFn:function(t,e,r){return u(function(i,n){return e(i,n,t,r)},{constant:t.constant&&r.constant})},statements:function(){for(var t=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&t.push(this.filterChain()),!this.expect(";"))return 1===t.length?t[0]:function(e,r){for(var i,n=0;n<t.length;n++){var s=t[n];s&&(i=s(e,r))}return i}},filterChain:function(){for(var t,e=this.expression();;){if(!(t=this.expect("|")))return e;e=this.binaryFn(e,t.fn,this.filter())}},filter:function(){for(var t=this.expect(),e=this.$filter(t.text),r=[];;){if(!(t=this.expect(":"))){var i=function(t,i,n){n=[n];for(var s=0;s<r.length;s++)n.push(r[s](t,i));return e.apply(t,n)};return function(){return i}}r.push(this.expression())}},expression:function(){return this.assignment()},assignment:function(){var t,e,r=this.ternary();return(e=this.expect("="))?(r.assign||this.throwError("implies assignment but ["+this.text.substring(0,e.index)+"] can not be assigned to",e),t=this.ternary(),function(e,i){return r.assign(e,t(e,i),i)}):r},ternary:function(){var t,e,r=this.logicalOR();return this.expect("?")?(t=this.ternary(),(e=this.expect(":"))?this.ternaryFn(r,t,this.ternary()):void this.throwError("expected :",e)):r},logicalOR:function(){for(var t,e=this.logicalAND();;){if(!(t=this.expect("||")))return e;e=this.binaryFn(e,t.fn,this.logicalAND())}},logicalAND:function(){var t,e=this.equality();return(t=this.expect("&&"))&&(e=this.binaryFn(e,t.fn,this.logicalAND())),e},equality:function(){var t,e=this.relational();return(t=this.expect("==","!=","===","!=="))&&(e=this.binaryFn(e,t.fn,this.equality())),e},relational:function(){var t,e=this.additive();return(t=this.expect("<",">","<=",">="))&&(e=this.binaryFn(e,t.fn,this.relational())),e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e=this.binaryFn(e,t.fn,this.multiplicative());return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e=this.binaryFn(e,t.fn,this.unary());return e},unary:function(){var t;return this.expect("+")?this.primary():(t=this.expect("-"))?this.binaryFn(Fr.ZERO,t.fn,this.unary()):(t=this.expect("!"))?this.unaryFn(t.fn,this.unary()):this.primary()},fieldAccess:function(t){var e=this,r=this.expect().text,i=ee(r,this.options,this.text);return u(function(e,r,n){return i(n||t(e,r))},{assign:function(i,n,s){return Jt(t(i,s),r,n,e.text,e.options)}})},objectIndex:function(t){var e=this,i=this.expression();return this.consume("]"),u(function(n,s){var o,a=t(n,s),l=i(n,s);return Zt(l,e.text),a?((a=Qt(a[l],e.text))&&a.then&&e.options.unwrapPromises&&(o=a,"$$v"in a||(o.$$v=r,o.then(function(t){o.$$v=t})),a=a.$$v),a):r},{assign:function(r,n,s){var o=i(r,s);return Qt(t(r,s),e.text)[o]=n}})},functionCall:function(t,e){var r=[];if(")"!==this.peekToken().text)do{r.push(this.expression())}while(this.expect(","));this.consume(")");var i=this;return function(n,s){for(var o=[],a=e?e(n,s):n,l=0;l<r.length;l++)o.push(r[l](n,s));l=t(n,s,a)||d,Qt(a,i.text);var h=i.text;if(l){if(l.constructor===l)throw Pr("isecfn",h);if(l===Rr||l===Mr||Or&&l===Or)throw Pr("isecff",h)}return Qt(o=l.apply?l.apply(a,o):l(o[0],o[1],o[2],o[3],o[4]),i.text)}},arrayDeclaration:function(){var t=[],e=!0;if("]"!==this.peekToken().text)do{if(this.peek("]"))break;var r=this.expression();t.push(r),r.constant||(e=!1)}while(this.expect(","));return this.consume("]"),u(function(e,r){for(var i=[],n=0;n<t.length;n++)i.push(t[n](e,r));return i},{literal:!0,constant:e})},object:function(){var t=[],e=!0;if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var r=(r=this.expect()).string||r.text;this.consume(":");var i=this.expression();t.push({key:r,value:i}),i.constant||(e=!1)}while(this.expect(","));return this.consume("}"),u(function(e,r){for(var i={},n=0;n<t.length;n++){var s=t[n];i[s.key]=s.value(e,r)}return i},{literal:!0,constant:e})}};var Ir={},kr=i("$sce"),Nr={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Br=e.createElement("a"),jr=pe(t.location.href);me.$inject=["$provide"],ge.$inject=["$locale"],_e.$inject=["$locale"];var Ur=".",Hr={yyyy:be("FullYear",4),yy:be("FullYear",2,0,!0),y:be("FullYear",1),MMMM:Te("Month"),MMM:Te("Month",!0),MM:be("Month",2,1),M:be("Month",1,1),dd:be("Date",2),d:be("Date",1),HH:be("Hours",2),H:be("Hours",1),hh:be("Hours",2,-12),h:be("Hours",1,-12),mm:be("Minutes",2),m:be("Minutes",1),ss:be("Seconds",2),s:be("Seconds",1),sss:be("Milliseconds",3),EEEE:Te("Day"),EEE:Te("Day",!0),a:function(t,e){return 12>t.getHours()?e.AMPMS[0]:e.AMPMS[1]},Z:function(t){return(0<=(t=-1*t.getTimezoneOffset())?"+":"")+(xe(Math[0<t?"floor":"ceil"](t/60),2)+xe(Math.abs(t%60),2))}},Xr=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,zr=/^\-?\d+$/;we.$inject=["$locale"];var qr=m(Be),Yr=m(Ue);Ae.$inject=["$parse"];var Gr=m({restrict:"E",compile:function(t,r){if(8>=De&&(r.href||r.name||r.$set("href",""),t.append(e.createComment("IE fix"))),!r.href&&!r.xlinkHref&&!r.name)return function(t,e){var r="[object SVGAnimatedString]"===ze.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(r)||t.preventDefault()})}}}),Wr={};s(cr,function(t,e){if("multiple"!=t){var r=St("ng-"+e);Wr[r]=function(){return{priority:100,link:function(t,i,n){t.$watch(n[r],function(t){n.$set(e,!!t)})}}}}}),s(["src","srcset","href"],function(t){var e=St("ng-"+t);Wr[e]=function(){return{priority:99,link:function(r,i,n){var s=t,o=t;"href"===t&&"[object SVGAnimatedString]"===ze.call(i.prop("href"))&&(o="xlinkHref",n.$attr[o]="xlink:href",s=null),n.$observe(e,function(t){t&&(n.$set(o,t),De&&s&&i.prop(s,n[o]))})}}}});var Vr={$addControl:d,$removeControl:d,$setValidity:d,$setDirty:d,$setPristine:d};Ce.$inject=["$element","$attrs","$scope","$animate"];var Kr=function(t){return["$timeout",function(e){return{name:"form",restrict:t?"EAC":"E",controller:Ce,compile:function(){return{pre:function(t,i,n,s){if(!n.action){var o=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1};tr(i[0],"submit",o),i.on("$destroy",function(){e(function(){er(i[0],"submit",o)},0,!1)})}var a=i.parent().controller("form"),l=n.name||n.ngForm;l&&Jt(t,l,s,l),a&&i.on("$destroy",function(){a.$removeControl(s),l&&Jt(t,l,r,l),u(s,Vr)})}}}}}]},Zr=Kr(),Qr=Kr(!0),Jr=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,ti=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,ei=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,ri={text:Oe,number:function(t,e,i,n,s,o){Oe(t,e,i,n,s,o),n.$parsers.push(function(t){var e=n.$isEmpty(t);return e||ei.test(t)?(n.$setValidity("number",!0),""===t?null:e?t:parseFloat(t)):(n.$setValidity("number",!1),r)}),function(t,e,r,i,n){_(n)&&(t.$$hasNativeValidators=!0,t.$parsers.push(function(s){if(t.$error[e]||Me(n,i)||!Me(n,r))return s;t.$setValidity(e,!1)}))}(n,"number",ii,null,n.$$validityState),n.$formatters.push(function(t){return n.$isEmpty(t)?"":""+t}),i.min&&(t=function(t){var e=parseFloat(i.min);return Re(n,"min",n.$isEmpty(t)||t>=e,t)},n.$parsers.push(t),n.$formatters.push(t)),i.max&&(t=function(t){var e=parseFloat(i.max);return Re(n,"max",n.$isEmpty(t)||t<=e,t)},n.$parsers.push(t),n.$formatters.push(t)),n.$formatters.push(function(t){return Re(n,"number",n.$isEmpty(t)||x(t),t)})},url:function(t,e,r,i,n,s){Oe(t,e,r,i,n,s),t=function(t){return Re(i,"url",i.$isEmpty(t)||Jr.test(t),t)},i.$formatters.push(t),i.$parsers.push(t)},email:function(t,e,r,i,n,s){Oe(t,e,r,i,n,s),t=function(t){return Re(i,"email",i.$isEmpty(t)||ti.test(t),t)},i.$formatters.push(t),i.$parsers.push(t)},radio:function(t,e,r,i){v(r.name)&&e.attr("name",l()),e.on("click",function(){e[0].checked&&t.$apply(function(){i.$setViewValue(r.value)})}),i.$render=function(){e[0].checked=r.value==i.$viewValue},r.$observe("value",i.$render)},checkbox:function(t,e,r,i){var n=r.ngTrueValue,s=r.ngFalseValue;y(n)||(n=!0),y(s)||(s=!1),e.on("click",function(){t.$apply(function(){i.$setViewValue(e[0].checked)})}),i.$render=function(){e[0].checked=i.$viewValue},i.$isEmpty=function(t){return t!==n},i.$formatters.push(function(t){return t===n}),i.$parsers.push(function(t){return t?n:s})},hidden:d,button:d,submit:d,reset:d,file:d},ii=["badInput"],ni=["$browser","$sniffer",function(t,e){return{restrict:"E",require:"?ngModel",link:function(r,i,n,s){s&&(ri[Be(n.type)]||ri.text)(r,i,n,s,e,t)}}}],si="ng-valid",oi="ng-invalid",ai="ng-pristine",li="ng-dirty",hi=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate",function(t,e,r,n,o,a){function l(t,e){e=e?"-"+z(e,"-"):"",a.removeClass(n,(t?oi:si)+e),a.addClass(n,(t?si:oi)+e)}this.$modelValue=this.$viewValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=r.name;var h=o(r.ngModel),u=h.assign;if(!u)throw i("ngModel")("nonassign",r.ngModel,k(n));this.$render=d,this.$isEmpty=function(t){return v(t)||""===t||null===t||t!=t};var c=n.inheritedData("$formController")||Vr,p=0,f=this.$error={};n.addClass(ai),l(!0),this.$setValidity=function(t,e){f[t]!==!e&&(e?(f[t]&&p--,p||(l(!0),this.$valid=!0,this.$invalid=!1)):(l(!1),this.$invalid=!0,this.$valid=!1,p++),f[t]=!e,l(e,t),c.$setValidity(t,e,this))},this.$setPristine=function(){this.$dirty=!1,this.$pristine=!0,a.removeClass(n,li),a.addClass(n,ai)},this.$setViewValue=function(r){this.$viewValue=r,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,a.removeClass(n,ai),a.addClass(n,li),c.$setDirty()),s(this.$parsers,function(t){r=t(r)}),this.$modelValue!==r&&(this.$modelValue=r,u(t,r),s(this.$viewChangeListeners,function(t){try{t()}catch(t){e(t)}}))};var m=this;t.$watch(function(){var e=h(t);if(m.$modelValue!==e){var r=m.$formatters,i=r.length;for(m.$modelValue=e;i--;)e=r[i](e);m.$viewValue!==e&&(m.$viewValue=e,m.$render())}return e})}],ui=function(){return{require:["ngModel","^?form"],controller:hi,link:function(t,e,r,i){var n=i[0],s=i[1]||Vr;s.$addControl(n),t.$on("$destroy",function(){s.$removeControl(n)})}}},ci=m({require:"ngModel",link:function(t,e,r,i){i.$viewChangeListeners.push(function(){t.$eval(r.ngChange)})}}),pi=function(){return{require:"?ngModel",link:function(t,e,r,i){if(i){r.required=!0;var n=function(t){if(!r.required||!i.$isEmpty(t))return i.$setValidity("required",!0),t;i.$setValidity("required",!1)};i.$formatters.push(n),i.$parsers.unshift(n),r.$observe("required",function(){n(i.$viewValue)})}}}},di=function(){return{require:"ngModel",link:function(t,e,i,n){var o=(t=/\/(.*)\//.exec(i.ngList))&&RegExp(t[1])||i.ngList||",";n.$parsers.push(function(t){if(!v(t)){var e=[];return t&&s(t.split(o),function(t){t&&e.push(Ve(t))}),e}}),n.$formatters.push(function(t){return We(t)?t.join(", "):r}),n.$isEmpty=function(t){return!t||!t.length}}}},fi=/^(true|false|\d+)$/,mi=function(){return{priority:100,compile:function(t,e){return fi.test(e.ngValue)?function(t,e,r){r.$set("value",t.$eval(r.ngValue))}:function(t,e,r){t.$watch(r.ngValue,function(t){r.$set("value",t)})}}}},vi=Pe({compile:function(t){return t.addClass("ng-binding"),function(t,e,i){e.data("$binding",i.ngBind),t.$watch(i.ngBind,function(t){e.text(t==r?"":t)})}}}),gi=["$interpolate",function(t){return function(e,r,i){e=t(r.attr(i.$attr.ngBindTemplate)),r.addClass("ng-binding").data("$binding",e),i.$observe("ngBindTemplate",function(t){r.text(t)})}}],_i=["$sce","$parse",function(t,e){return function(r,i,n){i.addClass("ng-binding").data("$binding",n.ngBindHtml);var s=e(n.ngBindHtml);r.$watch(function(){return(s(r)||"").toString()},function(e){i.html(t.getTrustedHtml(s(r))||"")})}}],yi=$e("",!0),xi=$e("Odd",0),bi=$e("Even",1),Ti=Pe({compile:function(t,e){e.$set("ngCloak",r),t.removeClass("ng-cloak")}}),wi=[function(){return{scope:!0,controller:"@",priority:500}}],Si={};s("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=St("ng-"+t);Si[e]=["$parse",function(r){return{compile:function(i,n){var s=r(n[e]);return function(e,r){r.on(Be(t),function(t){e.$apply(function(){s(e,{$event:t})})})}}}}]});var Ei=["$animate",function(t){return{transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(r,i,n,s,o){var a,l,h;r.$watch(n.ngIf,function(s){I(s)?l||(l=r.$new(),o(l,function(r){r[r.length++]=e.createComment(" end ngIf: "+n.ngIf+" "),a={clone:r},t.enter(r,i.parent(),i)})):(h&&(h.remove(),h=null),l&&(l.$destroy(),l=null),a&&(h=V(a.clone),t.leave(h,function(){h=null}),a=null))})}}}],Ai=["$http","$templateCache","$anchorScroll","$animate","$sce",function(t,e,r,i,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Ye.noop,compile:function(s,o){var a=o.ngInclude||o.src,l=o.onload||"",h=o.autoscroll;return function(s,o,u,c,p){var d,f,m,v=0,_=function(){f&&(f.remove(),f=null),d&&(d.$destroy(),d=null),m&&(i.leave(m,function(){f=null}),f=m,m=null)};s.$watch(n.parseAsResourceUrl(a),function(n){var a=function(){!g(h)||h&&!s.$eval(h)||r()},u=++v;n?(t.get(n,{cache:e}).success(function(t){if(u===v){var e=s.$new();c.template=t,t=p(e,function(t){_(),i.enter(t,null,o,a)}),m=t,(d=e).$emit("$includeContentLoaded"),s.$eval(l)}}).error(function(){u===v&&_()}),s.$emit("$includeContentRequested")):(_(),c.template=null)})}}}}],Pi=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(e,r,i,n){r.html(n.template),t(r.contents())(e)}}}],Ci=Pe({priority:450,compile:function(){return{pre:function(t,e,r){t.$eval(r.ngInit)}}}}),Ri=Pe({terminal:!0,priority:1e3}),Mi=["$locale","$interpolate",function(t,e){var r=/{}/g;return{restrict:"EA",link:function(i,n,o){var a=o.count,l=o.$attr.when&&n.attr(o.$attr.when),h=o.offset||0,u=i.$eval(l)||{},c={},p=e.startSymbol(),d=e.endSymbol(),f=/^when(Minus)?(.+)$/;s(o,function(t,e){f.test(e)&&(u[Be(e.replace("when","").replace("Minus","-"))]=n.attr(o.$attr[e]))}),s(u,function(t,i){c[i]=e(t.replace(r,p+a+"-"+h+d))}),i.$watch(function(){var e=parseFloat(i.$eval(a));return isNaN(e)?"":(e in u||(e=t.pluralCat(e-h)),c[e](i,n,!0))},function(t){n.text(t)})}}}],Oi=["$parse","$animate",function(t,r){var o=i("ngRepeat");return{transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,link:function(i,a,l,h,u){var c,p,d,f,m,v,g=l.ngRepeat,_=g.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),y={$id:dt};if(!_)throw o("iexp",g);if(l=_[1],h=_[2],(_=_[3])?(c=t(_),p=function(t,e,r){return v&&(y[v]=t),y[m]=e,y.$index=r,c(i,y)}):(d=function(t,e){return dt(e)},f=function(t){return t}),!(_=l.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/)))throw o("iidexp",l);m=_[3]||_[1],v=_[2];var x={};i.$watchCollection(h,function(t){var l,h,c,_,y,b,T,w,S,E=a[0],A={},P=[];if(n(t))w=t,c=p||d;else{for(b in c=p||f,w=[],t)t.hasOwnProperty(b)&&"$"!=b.charAt(0)&&w.push(b);w.sort()}for(_=w.length,h=P.length=w.length,l=0;l<h;l++)if(G(T=c(b=t===w?l:w[l],T=t[b],l),"`track by` id"),x.hasOwnProperty(T))S=x[T],delete x[T],A[T]=S,P[l]=S;else{if(A.hasOwnProperty(T))throw s(P,function(t){t&&t.scope&&(x[t.id]=t)}),o("dupes",g,T);P[l]={id:T},A[T]=!1}for(b in x)x.hasOwnProperty(b)&&(l=V((S=x[b]).clone),r.leave(l),s(l,function(t){t.$$NG_REMOVED=!0}),S.scope.$destroy());for(l=0,h=w.length;l<h;l++){if(T=t[b=t===w?l:w[l]],S=P[l],P[l-1]&&(E=P[l-1].clone[P[l-1].clone.length-1]),S.scope){y=S.scope,c=E;do{c=c.nextSibling}while(c&&c.$$NG_REMOVED);S.clone[0]!=c&&r.move(V(S.clone),null,Le(E)),E=S.clone[S.clone.length-1]}else y=i.$new();y[m]=T,v&&(y[v]=b),y.$index=l,y.$first=0===l,y.$last=l===_-1,y.$middle=!(y.$first||y.$last),y.$odd=!(y.$even=0==(1&l)),S.scope||u(y,function(t){t[t.length++]=e.createComment(" end ngRepeat: "+g+" "),r.enter(t,null,Le(E)),E=t,S.scope=y,S.clone=t,A[S.id]=S})}x=A})}}}],$i=["$animate",function(t){return function(e,r,i){e.$watch(i.ngShow,function(e){t[I(e)?"removeClass":"addClass"](r,"ng-hide")})}}],Di=["$animate",function(t){return function(e,r,i){e.$watch(i.ngHide,function(e){t[I(e)?"addClass":"removeClass"](r,"ng-hide")})}}],Li=Pe(function(t,e,r){t.$watch(r.ngStyle,function(t,r){r&&t!==r&&s(r,function(t,r){e.css(r,"")}),t&&e.css(t)},!0)}),Fi=["$animate",function(t){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(e,r,i,n){var o=[],a=[],l=[],h=[];e.$watch(i.ngSwitch||i.on,function(r){var u,c;for(u=0,c=l.length;u<c;++u)l[u].remove();for(u=l.length=0,c=h.length;u<c;++u){var p=a[u];h[u].$destroy(),l[u]=p,t.leave(p,function(){l.splice(u,1)})}a.length=0,h.length=0,(o=n.cases["!"+r]||n.cases["?"])&&(e.$eval(i.change),s(o,function(r){var i=e.$new();h.push(i),r.transclude(i,function(e){var i=r.element;a.push(e),t.enter(e,i.parent(),i)})}))})}}}],Ii=Pe({transclude:"element",priority:800,require:"^ngSwitch",link:function(t,e,r,i,n){i.cases["!"+r.ngSwitchWhen]=i.cases["!"+r.ngSwitchWhen]||[],i.cases["!"+r.ngSwitchWhen].push({transclude:n,element:e})}}),ki=Pe({transclude:"element",priority:800,require:"^ngSwitch",link:function(t,e,r,i,n){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:n,element:e})}}),Ni=Pe({link:function(t,e,r,n,s){if(!s)throw i("ngTransclude")("orphan",k(e));s(function(t){e.empty(),e.append(t)})}}),Bi=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,r){"text/ng-template"==r.type&&t.put(r.id,e[0].text)}}}],ji=i("ngOptions"),Ui=m({terminal:!0}),Hi=["$compile","$parse",function(t,i){var n=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,a={$setViewValue:d};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(t,e,r){var i,n=this,s={},o=a;n.databound=r.ngModel,n.init=function(t,e,r){o=t,i=r},n.addOption=function(e){G(e,'"option value"'),s[e]=!0,o.$viewValue==e&&(t.val(e),i.parent()&&i.remove())},n.removeOption=function(t){this.hasOption(t)&&(delete s[t],o.$viewValue==t&&this.renderUnknownOption(t))},n.renderUnknownOption=function(e){e="? "+dt(e)+" ?",i.val(e),t.prepend(i),t.val(e),i.prop("selected",!0)},n.hasOption=function(t){return s.hasOwnProperty(t)},e.$on("$destroy",function(){n.renderUnknownOption=d})}],link:function(a,l,h,u){if(u[1]){var c=u[0];u=u[1];var p,d=h.multiple,f=h.ngOptions,m=!1,_=Le(e.createElement("option")),y=Le(e.createElement("optgroup")),x=_.clone();h=0;for(var b=l.children(),T=b.length;h<T;h++)if(""===b[h].value){p=m=b.eq(h);break}c.init(u,m,x),d&&(u.$isEmpty=function(t){return!t||0===t.length}),f?function(e,s,a){function l(){var t,r,i,n,l,h={"":[]},f=[""];n=a.$modelValue,l=b(e)||[];var S,E,A,P,C,R=p?o(l):l;if(E={},i=!1,d)if(T&&We(n))for(i=new ft([]),A=0;A<n.length;A++)E[c]=n[A],i.put(T(e,E),n[A]);else i=new ft(n);for(A=0;A<(S=R.length);A++){if(r=A,p){if("$"===(r=R[A]).charAt(0))continue;E[p]=r}E[c]=l[r],(r=h[t=v(e,E)||""])||(r=h[t]=[],f.push(t)),d?t=g(i.remove(T?T(e,E):x(e,E))):(T?((t={})[c]=n,t=T(e,t)===T(e,E)):t=n===x(e,E),i=i||t),P=g(P=u(e,E))?P:"",r.push({id:T?T(e,E):p?R[A]:A,label:P,selected:t})}for(d||(m||null===n?h[""].unshift({id:"",label:"",selected:!i}):i||h[""].unshift({id:"?",label:"",selected:!0})),E=0,R=f.length;E<R;E++){for(r=h[t=f[E]],w.length<=E?(l=[n={element:y.clone().attr("label",t),label:r.label}],w.push(l),s.append(n.element)):(n=(l=w[E])[0]).label!=t&&n.element.attr("label",n.label=t),P=null,A=0,S=r.length;A<S;A++)i=r[A],(t=l[A+1])?(P=t.element,t.label!==i.label&&P.text(t.label=i.label),t.id!==i.id&&P.val(t.id=i.id),t.selected!==i.selected&&P.prop("selected",t.selected=i.selected)):(""===i.id&&m?C=m:(C=_.clone()).val(i.id).prop("selected",i.selected).text(i.label),l.push({element:C,label:i.label,id:i.id,selected:i.selected}),P?P.after(C):n.element.append(C),P=C);for(A++;l.length>A;)l.pop().element.remove()}for(;w.length>E;)w.pop()[0].element.remove()}var h;if(!(h=f.match(n)))throw ji("iexp",f,k(s));var u=i(h[2]||h[1]),c=h[4]||h[6],p=h[5],v=i(h[3]||""),x=i(h[2]?h[1]:c),b=i(h[7]),T=h[8]?i(h[8]):null,w=[[{element:s,label:""}]];m&&(t(m)(e),m.removeClass("ng-scope"),m.remove()),s.empty(),s.on("change",function(){e.$apply(function(){var t,i,n,o,l,h,u,f,m=b(e)||[],v={};if(d){for(n=[],l=0,u=w.length;l<u;l++)for(o=1,h=(t=w[l]).length;o<h;o++)if((i=t[o].element)[0].selected){if(i=i.val(),p&&(v[p]=i),T)for(f=0;f<m.length&&(v[c]=m[f],T(e,v)!=i);f++);else v[c]=m[i];n.push(x(e,v))}}else{if("?"==(i=s.val()))n=r;else if(""===i)n=null;else if(T){for(f=0;f<m.length;f++)if(v[c]=m[f],T(e,v)==i){n=x(e,v);break}}else v[c]=m[i],p&&(v[p]=i),n=x(e,v);1<w[0].length&&w[0][1].id!==i&&(w[0][1].selected=!1)}a.$setViewValue(n)})}),a.$render=l,e.$watch(l)}(a,l,u):d?function(t,e,r){var i;r.$render=function(){var t=new ft(r.$viewValue);s(e.find("option"),function(e){e.selected=g(t.get(e.value))})},t.$watch(function(){M(i,r.$viewValue)||(i=R(r.$viewValue),r.$render())}),e.on("change",function(){t.$apply(function(){var t=[];s(e.find("option"),function(e){e.selected&&t.push(e.value)}),r.$setViewValue(t)})})}(a,l,u):function(t,e,r,i){r.$render=function(){var t=r.$viewValue;i.hasOption(t)?(x.parent()&&x.remove(),e.val(t),""===t&&p.prop("selected",!0)):v(t)&&p?e.val(""):i.renderUnknownOption(t)},e.on("change",function(){t.$apply(function(){x.parent()&&x.remove(),r.$setViewValue(e.val())})})}(a,l,u,c)}}}}],Xi=["$interpolate",function(t){var e={addOption:d,removeOption:d};return{restrict:"E",priority:100,compile:function(r,i){if(v(i.value)){var n=t(r.text(),!0);n||i.$set("value",r.text())}return function(t,r,i){var s=r.parent(),o=s.data("$selectController")||s.parent().data("$selectController");o&&o.databound?r.prop("selected",!1):o=e,n?t.$watch(n,function(t,e){i.$set("value",t),t!==e&&o.removeOption(e),o.addOption(t)}):o.addOption(i.value),r.on("$destroy",function(){o.removeOption(i.value)})}}}}],zi=m({restrict:"E",terminal:!0});t.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):((Fe=t.jQuery)&&Fe.fn.on?(Le=Fe,u(Fe.fn,{scope:ur.scope,isolateScope:ur.isolateScope,controller:ur.controller,injector:ur.injector,inheritedData:ur.inheritedData}),Z("remove",!0,!0,!1),Z("empty",!1,!1,!1),Z("html",!1,!1,!0)):Le=Q,Ye.element=Le,function(e){u(e,{bootstrap:X,copy:C,extend:u,equals:M,element:Le,forEach:s,injector:vt,noop:d,bind:$,toJson:L,fromJson:F,identity:f,isUndefined:v,isDefined:g,isString:y,isFunction:T,isObject:_,isNumber:x,isElement:E,isArray:We,version:Ze,isDate:b,lowercase:Be,uppercase:Ue,callbacks:{counter:0},$$minErr:i,$$csp:O}),Ie=function(t){var e=i("$injector"),r=i("ng");return(t=t.angular||(t.angular={})).$$minErr=t.$$minErr||i,t.module||(t.module=function(){var t={};return function(i,n,s){if("hasOwnProperty"===i)throw r("badname","module");return n&&t.hasOwnProperty(i)&&(t[i]=null),t[i]||(t[i]=function(){function t(t,e,i){return function(){return r[i||"push"]([t,e,arguments]),l}}if(!n)throw e("nomod",i);var r=[],o=[],a=t("$injector","invoke"),l={_invokeQueue:r,_runBlocks:o,requires:n,name:i,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),config:a,run:function(t){return o.push(t),this}};return s&&a(s),l}())}}())}(t);try{Ie("ngLocale")}catch(t){Ie("ngLocale",[]).provider("$locale",kt)}Ie("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:oe}),t.provider("$compile",wt).directive({a:Gr,input:ni,textarea:ni,form:Zr,script:Bi,select:Hi,style:zi,option:Xi,ngBind:vi,ngBindHtml:_i,ngBindTemplate:gi,ngClass:yi,ngClassEven:bi,ngClassOdd:xi,ngCloak:Ti,ngController:wi,ngForm:Qr,ngHide:Di,ngIf:Ei,ngInclude:Ai,ngInit:Ci,ngNonBindable:Ri,ngPluralize:Mi,ngRepeat:Oi,ngShow:$i,ngStyle:Li,ngSwitch:Fi,ngSwitchWhen:Ii,ngSwitchDefault:ki,ngOptions:Ui,ngTransclude:Ni,ngModel:ui,ngList:di,ngChange:ci,required:pi,ngRequired:pi,ngValue:mi}).directive({ngInclude:Pi}).directive(Wr).directive(Si),t.provider({$anchorScroll:gt,$animate:yr,$browser:xt,$cacheFactory:bt,$controller:At,$document:Pt,$exceptionHandler:Ct,$filter:me,$interpolate:Ft,$interval:It,$http:$t,$httpBackend:Lt,$location:Vt,$log:Kt,$parse:re,$rootScope:se,$q:ie,$sce:he,$sceDelegate:le,$sniffer:ue,$templateCache:Tt,$timeout:ce,$window:fe,$$rAF:ne,$$asyncCallback:_t})}])}(Ye),Le(e).ready(function(){!function(t,r){function i(t){t&&a.push(t)}var n,o,a=[t],l=["ng:app","ng-app","x-ng-app","data-ng-app"],h=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;s(l,function(r){l[r]=!0,i(e.getElementById(r)),r=r.replace(":","\\:"),t.querySelectorAll&&(s(t.querySelectorAll("."+r),i),s(t.querySelectorAll("."+r+"\\:"),i),s(t.querySelectorAll("["+r+"]"),i))}),s(a,function(t){if(!n){var e=h.exec(" "+t.className+" ");e?(n=t,o=(e[2]||"").replace(/\s+/g,",")):s(t.attributes,function(e){!n&&l[e.name]&&(n=t,o=e.value)})}}),n&&r(n,o?[o]:[])}(e,X)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}.ng-animate-block-transitions{transition:0s all!important;-webkit-transition:0s all!important;}.ng-hide-add-active,.ng-hide-remove{display:block!important;}</style>')},176:function(t,e){!function(t,e,r){"use strict";e.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){return function(t,r,i){i=i.ngAnimateChildren,e.isString(i)&&0===i.length?r.data("$$ngAnimateChildren",!0):t.$watch(i,function(t){r.data("$$ngAnimateChildren",!!t)})}}).factory("$$animateReflow",["$$rAF","$document",function(t,e){return function(e){return t(function(){e()})}}]).config(["$provide","$animateProvider",function(i,n){function s(t){for(var e=0;e<t.length;e++){var r=t[e];if(r.nodeType==u)return r}}function o(t){return e.element(s(t))}var a=e.noop,l=e.forEach,h=n.$$selectors,u=1,c="$$ngAnimateState",p="$$ngAnimateChildren",d="ng-animate",f={running:!0};i.decorator("$animate",["$delegate","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document",function(t,r,i,u,m,v,g){function _(t){var e=t.data(c)||{};e.running=!0,t.data(c,e)}function y(t,n,s){function o(t,e){var r=t[e],i=t["before"+e.charAt(0).toUpperCase()+e.substr(1)];if(r||i)return"leave"==e&&(i=r,r=null),T.push({event:e,fn:r}),y.push({event:e,fn:i}),!0}function u(e,r,i){var n=[];l(e,function(t){t.fn&&n.push(t)});var o=0;l(n,function(e,l){var h=function(){t:{if(r){if((r[l]||a)(),++o<n.length)break t;r=null}i()}};switch(e.event){case"setClass":r.push(e.fn(t,p,d,h));break;case"addClass":r.push(e.fn(t,p||s,h));break;case"removeClass":r.push(e.fn(t,d||s,h));break;default:r.push(e.fn(t,h))}}),r&&0===r.length&&i()}var c=t[0];if(c){var p,d,f="setClass"==n,m=f||"addClass"==n||"removeClass"==n;e.isArray(s)&&(p=s[0],d=s[1],s=p+" "+d);var v=t.attr("class")+" "+s;if(A(v)){var g=a,_=[],y=[],x=a,b=[],T=[];v=(" "+v).replace(/\s+/g,".");return l(function(t){if(t){var e=[],n={};t=t.substr(1).split("."),(i.transitions||i.animations)&&e.push(r.get(h[""]));for(var s=0;s<t.length;s++){var o=t[s],a=h[o];a&&!n[o]&&(e.push(r.get(a)),n[o]=!0)}return e}}(v),function(t){!o(t,n)&&f&&(o(t,"addClass"),o(t,"removeClass"))}),{node:c,event:n,className:s,isClassBased:m,isSetClassOperation:f,before:function(t){g=t,u(y,_,function(){g=a,t()})},after:function(t){x=t,u(T,b,function(){x=a,t()})},cancel:function(){_&&(l(_,function(t){(t||a)(!0)}),g(!0)),b&&(l(b,function(t){(t||a)(!0)}),x(!0))}}}}}function x(t,r,i,n,s,o,a){function h(e){var n="$animate:"+e;x&&x[n]&&0<x[n].length&&m(function(){i.triggerHandler(n,{event:t,className:r})})}function u(){h("before")}function p(){h("after")}function f(){h("close"),a&&m(function(){a()})}function v(){v.hasBeenRun||(v.hasBeenRun=!0,o())}function g(){if(!g.hasBeenRun){g.hasBeenRun=!0;var t=i.data(c);t&&(_&&_.isClassBased?T(i,r):(m(function(){var t=i.data(c)||{};R==t.index&&T(i,r)}),i.data(c,t))),f()}}var _=y(i,t,r);if(_){r=_.className;var x=(x=e.element._data(_.node))&&x.events;n||(n=s?s.parent():i.parent());var b=i.data(c)||{};s=b.active||{};var E,A=b.totalActive||0,P=b.last;if(_.isClassBased&&(E=b.running||b.disabled||P&&!P.isClassBased),E||w(i,n))v(),u(),p(),g();else{if(n=!1,0<A){if(E=[],_.isClassBased)"setClass"==P.event?(E.push(P),T(i,r)):s[r]&&((C=s[r]).event==t?n=!0:(E.push(C),T(i,r)));else if("leave"==t&&s["ng-leave"])n=!0;else{for(var C in s)E.push(s[C]),T(i,C);s={},A=0}0<E.length&&l(E,function(t){t.cancel()})}if(!_.isClassBased||_.isSetClassOperation||n||(n="addClass"==t==i.hasClass(r)),n)v(),u(),p(),f();else{"leave"==t&&i.one("$destroy",function(t){var r=(t=e.element(this)).data(c);r&&(r=r.active["ng-leave"])&&(r.cancel(),T(t,"ng-leave"))}),i.addClass(d);var R=S++;A++,s[r]=_,i.data(c,{last:_,active:s,index:R,totalActive:A}),u(),_.before(function(e){var n=i.data(c);e=e||!n||!n.active[r]||_.isClassBased&&n.active[r].event!=t,v(),!0===e?g():(p(),_.after(g))})}}}else v(),u(),p(),g()}function b(t){(t=s(t))&&(t=e.isFunction(t.getElementsByClassName)?t.getElementsByClassName(d):t.querySelectorAll("."+d),l(t,function(t){(t=(t=e.element(t)).data(c))&&t.active&&l(t.active,function(t){t.cancel()})}))}function T(t,e){if(s(t)==s(u))f.disabled||(f.running=!1,f.structural=!1);else if(e){var r=t.data(c)||{},i=!0===e;!i&&r.active&&r.active[e]&&(r.totalActive--,delete r.active[e]),!i&&r.totalActive||(t.removeClass(d),t.removeData(c))}}function w(t,r){if(f.disabled)return!0;if(s(t)==s(u))return f.running;var i,n,o;do{if(0===r.length)break;var a=s(r)==s(u),l=a?f:r.data(c)||{};if(l.disabled)return!0;a&&(o=!0),!1!==i&&(a=r.data(p),e.isDefined(a)&&(i=a)),n=n||l.running||l.last&&!l.last.isClassBased}while(r=r.parent());return!o||!i&&n}var S=0;u.data(c,f),v.$$postDigest(function(){v.$$postDigest(function(){f.running=!1})});var E=n.classNameFilter(),A=E?function(t){return E.test(t)}:function(){return!0};return{enter:function(r,i,n,s){r=e.element(r),i=i&&e.element(i),n=n&&e.element(n),_(r),t.enter(r,i,n),v.$$postDigest(function(){x("enter","ng-enter",r=o(r),i,n,a,s)})},leave:function(r,i){b(r=e.element(r)),_(r),v.$$postDigest(function(){x("leave","ng-leave",o(r),null,null,function(){t.leave(r)},i)})},move:function(r,i,n,s){r=e.element(r),i=i&&e.element(i),n=n&&e.element(n),b(r),_(r),t.move(r,i,n),v.$$postDigest(function(){x("move","ng-move",r=o(r),i,n,a,s)})},addClass:function(r,i,n){r=o(r=e.element(r)),x("addClass",i,r,null,null,function(){t.addClass(r,i)},n)},removeClass:function(r,i,n){r=o(r=e.element(r)),x("removeClass",i,r,null,null,function(){t.removeClass(r,i)},n)},setClass:function(r,i,n,s){r=o(r=e.element(r)),x("setClass",[i,n],r,null,null,function(){t.setClass(r,i,n)},s)},enabled:function(t,e){switch(arguments.length){case 2:if(t)T(e);else{var r=e.data(c)||{};r.disabled=!0,e.data(c,r)}break;case 1:f.disabled=!t;break;default:t=!f.disabled}return!!t}}}]),n.register("",["$window","$sniffer","$timeout","$$animateReflow",function(i,n,o,h){function c(t,e){M&&M(),X.push(e),M=h(function(){l(X,function(t){t()}),X=[],M=null,U={}})}function p(t,r){var i=s(t);t=e.element(i),Y.push(t),(i=Date.now()+r)<=q||(o.cancel(z),q=i,z=o(function(){!function(t){l(t,function(t){(t=t.data(I))&&(t.closeAnimationFn||a)()})}(Y),Y=[]},r,!1))}function d(t,e){var r=e?U[e]:null;if(!r){var n,s,o,a,h=0,c=0,p=0,d=0;l(t,function(t){if(t.nodeType==u){t=i.getComputedStyle(t)||{},o=t[E+O],h=Math.max(f(o),h),a=t[E+$],n=t[E+D],c=Math.max(f(n),c),s=t[P+D],d=Math.max(f(s),d);var e=f(t[P+O]);0<e&&(e*=parseInt(t[P+L],10)||1),p=Math.max(e,p)}}),r={total:0,transitionPropertyStyle:a,transitionDurationStyle:o,transitionDelayStyle:n,transitionDelay:c,transitionDuration:h,animationDelayStyle:s,animationDelay:d,animationDuration:p},e&&(U[e]=r)}return r}function f(t){var r=0;return t=e.isString(t)?t.split(/\s*,\s*/):[],l(t,function(t){r=Math.max(parseFloat(t)||0,r)}),r}function m(t){var e=t.parent(),r=e.data(F);return r||(e.data(F,++H),r=H),r+"-"+s(t).getAttribute("class")}function v(t,e,r,i){var n=m(e),o=n+" "+r,l=U[o]?++U[o].total:0,h={};0<l&&((n=!U[h=n+" "+(u=r+"-stagger")])&&e.addClass(u),h=d(e,h),n&&e.removeClass(u));i=i||function(t){return t()},e.addClass(r);var u=e.data(I)||{},c=i(function(){return d(e,o)});return i=c.transitionDuration,n=c.animationDuration,0===i&&0===n?(e.removeClass(r),!1):(e.data(I,{running:u.running||0,itemIndex:l,stagger:h,timings:c,closeAnimationFn:a}),t=0<u.running||"setClass"==t,0<i&&function(t,e,r){"ng-enter"!=e&&"ng-move"!=e&&"ng-leave"!=e&&r?t.addClass(k):s(t).style[E+$]="none"}(e,r,t),0<n&&0<h.animationDelay&&0===h.animationDuration&&(s(e).style[P]="none 0s"),!0)}function g(t,e){var r=E+$,i=s(t);i.style[r]&&0<i.style[r].length&&(i.style[r]=""),t.removeClass(k)}function _(t){var e=P;(t=s(t)).style[e]&&0<t.style[e].length&&(t.style[e]="")}function y(t,e,r){var i="";return l(t.split(","),function(t,n){i+=(0<n?",":"")+(r*e+parseInt(t,10))+"s"}),i}function x(t,e,r,i){if(v(t,e,r,i))return function(t){t&&w(e,r)}}function b(t,e,r,i){if(e.data(I))return function(t,e,r,i){function n(t){for(var i in e.off(_,o),e.removeClass(h),w(e,r),t=s(e),b)t.style.removeProperty(b[i])}function o(t){t.stopPropagation();var e=t.originalEvent||t;t=e.$manualTimeStamp||e.timeStamp||Date.now(),e=parseFloat(e.elapsedTime.toFixed(N)),Math.max(t-g,0)>=v&&e>=f&&i()}var a=s(e);if(t=e.data(I),-1!=a.getAttribute("class").indexOf(r)&&t){var h="";l(r.split(" "),function(t,e){h+=(0<e?" ":"")+t+"-active"});var u=t.stagger,c=t.timings,d=t.itemIndex,f=Math.max(c.transitionDuration,c.animationDuration),m=Math.max(c.transitionDelay,c.animationDelay),v=m*j,g=Date.now(),_=C+" "+A,x="",b=[];if(0<c.transitionDuration){var T=c.transitionPropertyStyle;-1==T.indexOf("all")&&(x+=R+"transition-property: "+T+";",x+=R+"transition-duration: "+c.transitionDurationStyle+";",b.push(R+"transition-property"),b.push(R+"transition-duration"))}return 0<d&&(0<u.transitionDelay&&0===u.transitionDuration&&(x+=R+"transition-delay: "+y(c.transitionDelayStyle,u.transitionDelay,d)+"; ",b.push(R+"transition-delay")),0<u.animationDelay&&0===u.animationDuration&&(x+=R+"animation-delay: "+y(c.animationDelayStyle,u.animationDelay,d)+"; ",b.push(R+"animation-delay"))),0<b.length&&(c=a.getAttribute("style")||"",a.setAttribute("style",c+"; "+x)),e.on(_,o),e.addClass(h),t.closeAnimationFn=function(){n(),i()},a=(d*(Math.max(u.animationDelay,u.transitionDelay)||0)+(m+f)*B)*j,t.running++,p(e,a),n}i()}(t,e,r,i);w(e,r),i()}function T(t,e,r,i){var n=x(t,e,r);if(n){var s=n;return c(0,function(){g(e),_(e),s=b(t,e,r,i)}),function(t){(s||a)(t)}}i()}function w(t,e){t.removeClass(e);var r=t.data(I);r&&(r.running&&r.running--,r.running&&0!==r.running||t.removeData(I))}function S(t,r){var i="";return t=e.isArray(t)?t:t.split(/\s+/),l(t,function(t,e){t&&0<t.length&&(i+=(0<e?" ":"")+t+r)}),i}var E,A,P,C,R="";t.ontransitionend===r&&t.onwebkittransitionend!==r?(R="-webkit-",E="WebkitTransition",A="webkitTransitionEnd transitionend"):(E="transition",A="transitionend"),t.onanimationend===r&&t.onwebkitanimationend!==r?(R="-webkit-",P="WebkitAnimation",C="webkitAnimationEnd animationend"):(P="animation",C="animationend");var M,O="Duration",$="Property",D="Delay",L="IterationCount",F="$$ngAnimateKey",I="$$ngAnimateCSS3Data",k="ng-animate-block-transitions",N=3,B=1.5,j=1e3,U={},H=0,X=[],z=null,q=0,Y=[];return{enter:function(t,e){return T("enter",t,"ng-enter",e)},leave:function(t,e){return T("leave",t,"ng-leave",e)},move:function(t,e){return T("move",t,"ng-move",e)},beforeSetClass:function(t,e,r,i){var n=S(r,"-remove")+" "+S(e,"-add"),s=x("setClass",t,n,function(i){var n=t.attr("class");return t.removeClass(r),t.addClass(e),i=i(),t.attr("class",n),i});if(s)return c(0,function(){g(t),_(t),i()}),s;i()},beforeAddClass:function(t,e,r){var i=x("addClass",t,S(e,"-add"),function(r){return t.addClass(e),r=r(),t.removeClass(e),r});if(i)return c(0,function(){g(t),_(t),r()}),i;r()},setClass:function(t,e,r,i){return b("setClass",t,(r=S(r,"-remove"))+" "+(e=S(e,"-add")),i)},addClass:function(t,e,r){return b("addClass",t,S(e,"-add"),r)},beforeRemoveClass:function(t,e,r){var i=x("removeClass",t,S(e,"-remove"),function(r){var i=t.attr("class");return t.removeClass(e),r=r(),t.attr("class",i),r});if(i)return c(0,function(){g(t),_(t),r()}),i;r()},removeClass:function(t,e,r){return b("removeClass",t,S(e,"-remove"),r)}}}])}])}(window,window.angular)},177:function(t,e){
/*! 
 * angular-loading-bar v0.8.0
 * https://chieffancypants.github.io/angular-loading-bar
 * Copyright (c) 2015 Wes Cruver
 * License: MIT
 */
!function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(t){var e=["$q","$cacheFactory","$timeout","$rootScope","$log","cfpLoadingBar",function(e,r,i,n,s,o){function a(){i.cancel(h),o.complete(),c=0,u=0}function l(e){var i,n=r.get("$http"),s=t.defaults;!e.cache&&!s.cache||!1===e.cache||"GET"!==e.method&&"JSONP"!==e.method||(i=angular.isObject(e.cache)?e.cache:angular.isObject(s.cache)?s.cache:n);var o=void 0!==i&&void 0!==i.get(e.url);return void 0!==e.cached&&o!==e.cached?e.cached:(e.cached=o,o)}var h,u=0,c=0,p=o.latencyThreshold;return{request:function(t){return t.ignoreLoadingBar||l(t)||(n.$broadcast("cfpLoadingBar:loading",{url:t.url}),0===u&&(h=i(function(){o.start()},p)),u++,o.set(c/u)),t},response:function(t){return t&&t.config?(t.config.ignoreLoadingBar||l(t.config)||(c++,n.$broadcast("cfpLoadingBar:loaded",{url:t.config.url,result:t}),c>=u?a():o.set(c/u)),t):(s.error("Broken interceptor detected: Config object not supplied in response:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),t)},responseError:function(t){return t&&t.config?(t.config.ignoreLoadingBar||l(t.config)||(c++,n.$broadcast("cfpLoadingBar:loaded",{url:t.config.url,result:t}),c>=u?a():o.set(c/u)),e.reject(t)):(s.error("Broken interceptor detected: Config object not supplied in rejection:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),e.reject(t))}}}];t.interceptors.push(e)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.autoIncrement=!0,this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(t,e,r,i){function n(t){if(m){var e=100*t+"%";d.css("width",e),v=t,g&&(r.cancel(h),h=r(function(){s()},250))}}function s(){if(!(o()>=1)){var t,e=o();t=e>=0&&.25>e?(3*Math.random()+3)/100:e>=.25&&.65>e?3*Math.random()/100:e>=.65&&.9>e?2*Math.random()/100:e>=.9&&.99>e?.005:0,n(o()+t)}}function o(){return v}function a(){v=0,m=!1}var l,h,u,c=this.parentSelector,p=angular.element(this.loadingBarTemplate),d=p.find("div").eq(0),f=angular.element(this.spinnerTemplate),m=!1,v=0,g=this.autoIncrement,_=this.includeSpinner,y=this.includeBar,x=this.startSize;return{start:function(){l||(l=t.get("$animate"));var s=e.find(c).eq(0);r.cancel(u),m||(i.$broadcast("cfpLoadingBar:started"),m=!0,y&&l.enter(p,s,angular.element(s[0].lastChild)),_&&l.enter(f,s,angular.element(s[0].lastChild)),n(x))},set:n,status:o,inc:s,complete:function(){l||(l=t.get("$animate")),i.$broadcast("cfpLoadingBar:completed"),n(1),r.cancel(u),u=r(function(){var t=l.leave(p,a);t&&t.then&&t.then(a),l.leave(f)},500)},autoIncrement:this.autoIncrement,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}()},178:function(t,e,r){var i=r(179);"string"==typeof i&&(i=[[t.i,i,""]]);var n={hmr:!0,transform:void 0};r(25)(i,n);i.locals&&(t.exports=i.locals)},179:function(t,e,r){(t.exports=r(24)(!1)).push([t.i,"#loading-bar,#loading-bar-spinner{pointer-events:none;-webkit-pointer-events:none;-webkit-transition:350ms linear all;-moz-transition:350ms linear all;-o-transition:350ms linear all;transition:350ms linear all}#loading-bar-spinner.ng-enter,#loading-bar-spinner.ng-leave.ng-leave-active,#loading-bar.ng-enter,#loading-bar.ng-leave.ng-leave-active{opacity:0}#loading-bar-spinner.ng-enter.ng-enter-active,#loading-bar-spinner.ng-leave,#loading-bar.ng-enter.ng-enter-active,#loading-bar.ng-leave{opacity:1}#loading-bar .bar{-webkit-transition:width 350ms;-moz-transition:width 350ms;-o-transition:width 350ms;transition:width 350ms;background:#29d;position:fixed;z-index:10002;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}#loading-bar .peg{position:absolute;width:70px;right:0;top:0;height:2px;opacity:.45;-moz-box-shadow:#29d 1px 0 6px 1px;-ms-box-shadow:#29d 1px 0 6px 1px;-webkit-box-shadow:#29d 1px 0 6px 1px;box-shadow:#29d 1px 0 6px 1px;-moz-border-radius:100%;-webkit-border-radius:100%;border-radius:100%}#loading-bar-spinner{display:block;position:fixed;z-index:10002;top:10px;left:10px}#loading-bar-spinner .spinner-icon{width:14px;height:14px;border:2px solid transparent;border-top-color:#29d;border-left-color:#29d;border-radius:50%;-webkit-animation:loading-bar-spinner 400ms linear infinite;-moz-animation:loading-bar-spinner 400ms linear infinite;-ms-animation:loading-bar-spinner 400ms linear infinite;-o-animation:loading-bar-spinner 400ms linear infinite;animation:loading-bar-spinner 400ms linear infinite}@-webkit-keyframes loading-bar-spinner{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes loading-bar-spinner{0%{-moz-transform:rotate(0);transform:rotate(0)}100%{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes loading-bar-spinner{0%{-o-transform:rotate(0);transform:rotate(0)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@-ms-keyframes loading-bar-spinner{0%{-ms-transform:rotate(0);transform:rotate(0)}100%{-ms-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes loading-bar-spinner{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}",""])},180:function(t,e){(function(){
/*!
* @license SoundJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2011-2015 gskinner.com, inc.
*
* Distributed under the terms of the MIT license.
* http://www.opensource.org/licenses/mit-license.html
*
* This notice shall be included in all copies or substantial portions of the Software.
*/
/**!
 * SoundJS FlashAudioPlugin also includes swfobject (http://code.google.com/p/swfobject/)
 */
this.createjs=this.createjs||{},function(){var t=createjs.SoundJS=createjs.SoundJS||{};t.version="0.6.2",t.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"}(),this.createjs=this.createjs||{},createjs.extend=function(t,e){"use strict";function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r},this.createjs=this.createjs||{},createjs.promote=function(t,e){"use strict";var r=t.prototype,i=Object.getPrototypeOf&&Object.getPrototypeOf(r)||r.__proto__;if(i)for(var n in r[(e+="_")+"constructor"]=i.constructor,i)r.hasOwnProperty(n)&&"function"==typeof i[n]&&(r[e+n]=i[n]);return t},this.createjs=this.createjs||{},createjs.indexOf=function(t,e){"use strict";for(var r=0,i=t.length;i>r;r++)if(e===t[r])return r;return-1},this.createjs=this.createjs||{},function(){"use strict";createjs.proxy=function(t,e){var r=Array.prototype.slice.call(arguments,2);return function(){return t.apply(e,Array.prototype.slice.call(arguments,0).concat(r))}}}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"BrowserDetect cannot be instantiated"}var e=t.agent=window.navigator.userAgent;t.isWindowPhone=e.indexOf("IEMobile")>-1||e.indexOf("Windows Phone")>-1,t.isFirefox=e.indexOf("Firefox")>-1,t.isOpera=null!=window.opera,t.isChrome=e.indexOf("Chrome")>-1,t.isIOS=(e.indexOf("iPod")>-1||e.indexOf("iPhone")>-1||e.indexOf("iPad")>-1)&&!t.isWindowPhone,t.isAndroid=e.indexOf("Android")>-1&&!t.isWindowPhone,t.isBlackberry=e.indexOf("Blackberry")>-1,createjs.BrowserDetect=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this._listeners=null,this._captureListeners=null}var e=t.prototype;t.initialize=function(t){t.addEventListener=e.addEventListener,t.on=e.on,t.removeEventListener=t.off=e.removeEventListener,t.removeAllEventListeners=e.removeAllEventListeners,t.hasEventListener=e.hasEventListener,t.dispatchEvent=e.dispatchEvent,t._dispatchEvent=e._dispatchEvent,t.willTrigger=e.willTrigger},e.addEventListener=function(t,e,r){var i,n=(i=r?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{})[t];return n&&this.removeEventListener(t,e,r),(n=i[t])?n.push(e):i[t]=[e],e},e.on=function(t,e,r,i,n,s){return e.handleEvent&&(r=r||e,e=e.handleEvent),r=r||this,this.addEventListener(t,function(t){e.call(r,t,n),i&&t.remove()},s)},e.removeEventListener=function(t,e,r){var i=r?this._captureListeners:this._listeners;if(i){var n=i[t];if(n)for(var s=0,o=n.length;o>s;s++)if(n[s]==e){1==o?delete i[t]:n.splice(s,1);break}}},e.off=e.removeEventListener,e.removeAllEventListeners=function(t){t?(this._listeners&&delete this._listeners[t],this._captureListeners&&delete this._captureListeners[t]):this._listeners=this._captureListeners=null},e.dispatchEvent=function(t,e,r){if("string"==typeof t){var i=this._listeners;if(!(e||i&&i[t]))return!0;t=new createjs.Event(t,e,r)}else t.target&&t.clone&&(t=t.clone());try{t.target=this}catch(t){}if(t.bubbles&&this.parent){for(var n=this,s=[n];n.parent;)s.push(n=n.parent);var o,a=s.length;for(o=a-1;o>=0&&!t.propagationStopped;o--)s[o]._dispatchEvent(t,1+(0==o));for(o=1;a>o&&!t.propagationStopped;o++)s[o]._dispatchEvent(t,3)}else this._dispatchEvent(t,2);return!t.defaultPrevented},e.hasEventListener=function(t){var e=this._listeners,r=this._captureListeners;return!!(e&&e[t]||r&&r[t])},e.willTrigger=function(t){for(var e=this;e;){if(e.hasEventListener(t))return!0;e=e.parent}return!1},e.toString=function(){return"[EventDispatcher]"},e._dispatchEvent=function(t,e){var r,i=1==e?this._captureListeners:this._listeners;if(t&&i){var n=i[t.type];if(!n||!(r=n.length))return;try{t.currentTarget=this}catch(t){}try{t.eventPhase=e}catch(t){}t.removed=!1,n=n.slice();for(var s=0;r>s&&!t.immediatePropagationStopped;s++){var o=n[s];o.handleEvent?o.handleEvent(t):o(t),t.removed&&(this.off(t.type,o,1==e),t.removed=!1)}}},createjs.EventDispatcher=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,r){this.type=t,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!e,this.cancelable=!!r,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var e=t.prototype;e.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},e.stopPropagation=function(){this.propagationStopped=!0},e.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},e.remove=function(){this.removed=!0},e.clone=function(){return new t(this.type,this.bubbles,this.cancelable)},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,r){this.Event_constructor("error"),this.title=t,this.message=e,this.data=r}createjs.extend(t,createjs.Event).clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)},createjs.ErrorEvent=createjs.promote(t,"Event")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.Event_constructor("progress"),this.loaded=t,this.total=null==e?1:e,this.progress=0==e?0:this.loaded/this.total}createjs.extend(t,createjs.Event).clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)},createjs.ProgressEvent=createjs.promote(t,"Event")}(window),this.createjs=this.createjs||{},function(){"use strict";function t(){this.src=null,this.type=null,this.id=null,this.maintainOrder=!1,this.callback=null,this.data=null,this.method=createjs.LoadItem.GET,this.values=null,this.headers=null,this.withCredentials=!1,this.mimeType=null,this.crossOrigin=null,this.loadTimeout=r.LOAD_TIMEOUT_DEFAULT}var e=t.prototype={},r=t;r.LOAD_TIMEOUT_DEFAULT=8e3,r.create=function(e){if("string"==typeof e){var i=new t;return i.src=e,i}if(e instanceof r)return e;if(e instanceof Object&&e.src)return null==e.loadTimeout&&(e.loadTimeout=r.LOAD_TIMEOUT_DEFAULT),e;throw new Error("Type not recognized.")},e.set=function(t){for(var e in t)this[e]=t[e];return this},createjs.LoadItem=r}(),function(){var t={ABSOLUTE_PATT:/^(?:\w+:)?\/{2}/i,RELATIVE_PATT:/^[.\/]*?\//i,EXTENSION_PATT:/\/?[^\/]+\.(\w{1,5})$/i,parseURI:function(e){var r={absolute:!1,relative:!1};if(null==e)return r;var i,n=e.indexOf("?");return n>-1&&(e=e.substr(0,n)),t.ABSOLUTE_PATT.test(e)?r.absolute=!0:t.RELATIVE_PATT.test(e)&&(r.relative=!0),(i=e.match(t.EXTENSION_PATT))&&(r.extension=i[1].toLowerCase()),r},formatQueryString:function(t,e){if(null==t)throw new Error("You must specify data.");var r=[];for(var i in t)r.push(i+"="+escape(t[i]));return e&&(r=r.concat(e)),r.join("&")},buildPath:function(t,e){if(null==e)return t;var r=[],i=t.indexOf("?");if(-1!=i){var n=t.slice(i+1);r=r.concat(n.split("&"))}return-1!=i?t.slice(0,i)+"?"+this.formatQueryString(e,r):t+"?"+this.formatQueryString(e,r)},isCrossDomain:function(t){var e=document.createElement("a");e.href=t.src;var r=document.createElement("a");return r.href=location.href,""!=e.hostname&&(e.port!=r.port||e.protocol!=r.protocol||e.hostname!=r.hostname)},isLocal:function(t){var e=document.createElement("a");return e.href=t.src,""==e.hostname&&"file:"==e.protocol},isBinary:function(t){switch(t){case createjs.AbstractLoader.IMAGE:case createjs.AbstractLoader.BINARY:return!0;default:return!1}},isImageTag:function(t){return t instanceof HTMLImageElement},isAudioTag:function(t){return!!window.HTMLAudioElement&&t instanceof HTMLAudioElement},isVideoTag:function(t){return!!window.HTMLVideoElement&&t instanceof HTMLVideoElement},isText:function(t){switch(t){case createjs.AbstractLoader.TEXT:case createjs.AbstractLoader.JSON:case createjs.AbstractLoader.MANIFEST:case createjs.AbstractLoader.XML:case createjs.AbstractLoader.CSS:case createjs.AbstractLoader.SVG:case createjs.AbstractLoader.JAVASCRIPT:case createjs.AbstractLoader.SPRITESHEET:return!0;default:return!1}},getTypeByExtension:function(t){if(null==t)return createjs.AbstractLoader.TEXT;switch(t.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.AbstractLoader.IMAGE;case"ogg":case"mp3":case"webm":return createjs.AbstractLoader.SOUND;case"mp4":case"webm":case"ts":return createjs.AbstractLoader.VIDEO;case"json":return createjs.AbstractLoader.JSON;case"xml":return createjs.AbstractLoader.XML;case"css":return createjs.AbstractLoader.CSS;case"js":return createjs.AbstractLoader.JAVASCRIPT;case"svg":return createjs.AbstractLoader.SVG;default:return createjs.AbstractLoader.TEXT}}};createjs.RequestUtils=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,r){this.EventDispatcher_constructor(),this.loaded=!1,this.canceled=!1,this.progress=0,this.type=r,this.resultFormatter=null,this._item=t?createjs.LoadItem.create(t):null,this._preferXHR=e,this._result=null,this._rawResult=null,this._loadedItems=null,this._tagSrcAttribute=null,this._tag=null}var e=createjs.extend(t,createjs.EventDispatcher),r=t;r.POST="POST",r.GET="GET",r.BINARY="binary",r.CSS="css",r.IMAGE="image",r.JAVASCRIPT="javascript",r.JSON="json",r.JSONP="jsonp",r.MANIFEST="manifest",r.SOUND="sound",r.VIDEO="video",r.SPRITESHEET="spritesheet",r.SVG="svg",r.TEXT="text",r.XML="xml",e.getItem=function(){return this._item},e.getResult=function(t){return t?this._rawResult:this._result},e.getTag=function(){return this._tag},e.setTag=function(t){this._tag=t},e.load=function(){this._createRequest(),this._request.on("complete",this,this),this._request.on("progress",this,this),this._request.on("loadStart",this,this),this._request.on("abort",this,this),this._request.on("timeout",this,this),this._request.on("error",this,this);var t=new createjs.Event("initialize");t.loader=this._request,this.dispatchEvent(t),this._request.load()},e.cancel=function(){this.canceled=!0,this.destroy()},e.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy()),this._request=null,this._item=null,this._rawResult=null,this._result=null,this._loadItems=null,this.removeAllEventListeners()},e.getLoadedItems=function(){return this._loadedItems},e._createRequest=function(){this._request=this._preferXHR?new createjs.XHRRequest(this._item):new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},e._createTag=function(){return null},e._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")},e._sendProgress=function(t){if(!this._isCanceled()){var e=null;"number"==typeof t?(this.progress=t,e=new createjs.ProgressEvent(this.progress)):(e=t,this.progress=t.loaded/t.total,e.progress=this.progress,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0)),this.hasEventListener("progress")&&this.dispatchEvent(e)}},e._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var t=new createjs.Event("complete");t.rawResult=this._rawResult,null!=this._result&&(t.result=this._result),this.dispatchEvent(t)}},e._sendError=function(t){!this._isCanceled()&&this.hasEventListener("error")&&(null==t&&(t=new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(t))},e._isCanceled=function(){return!(null!=window.createjs&&!this.canceled)},e.resultFormatter=null,e.handleEvent=function(t){switch(t.type){case"complete":this._rawResult=t.target._response;var e=this.resultFormatter&&this.resultFormatter(this);e instanceof Function?e.call(this,createjs.proxy(this._resultFormatSuccess,this),createjs.proxy(this._resultFormatFailed,this)):(this._result=e||this._rawResult,this._sendComplete());break;case"progress":this._sendProgress(t);break;case"error":this._sendError(t);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":this._isCanceled()||this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_"+t.type.toUpperCase()+"_ERROR"))}},e._resultFormatSuccess=function(t){this._result=t,this._sendComplete()},e._resultFormatFailed=function(t){this._sendError(t)},e.buildPath=function(t,e){return createjs.RequestUtils.buildPath(t,e)},e.toString=function(){return"[PreloadJS AbstractLoader]"},createjs.AbstractLoader=createjs.promote(t,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,r){this.AbstractLoader_constructor(t,e,r),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.on("initialize",this._updateXHR,this)}var e=createjs.extend(t,createjs.AbstractLoader);e.load=function(){this._tag||(this._tag=this._createTag(this._item.src)),this._tag.preload="auto",this._tag.load(),this.AbstractLoader_load()},e._createTag=function(){},e._createRequest=function(){this._request=this._preferXHR?new createjs.XHRRequest(this._item):new createjs.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},e._updateXHR=function(t){t.loader.setResponseType&&t.loader.setResponseType("blob")},e._formatResult=function(t){if(this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR){var e=window.URL||window.webkitURL,r=t.getResult(!0);t.getTag().src=e.createObjectURL(r)}return t.getTag()},createjs.AbstractMediaLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";var t=function(t){this._item=t},e=createjs.extend(t,createjs.EventDispatcher);e.load=function(){},e.destroy=function(){},e.cancel=function(){},createjs.AbstractRequest=createjs.promote(t,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,r){this.AbstractRequest_constructor(t),this._tag=e,this._tagSrcAttribute=r,this._loadedHandler=createjs.proxy(this._handleTagComplete,this),this._addedToDOM=!1,this._startTagVisibility=null}var e=createjs.extend(t,createjs.AbstractRequest);e.load=function(){this._tag.onload=createjs.proxy(this._handleTagComplete,this),this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this),this._tag.onerror=createjs.proxy(this._handleError,this);var t=new createjs.Event("initialize");t.loader=this._tag,this.dispatchEvent(t),this._hideTag(),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag[this._tagSrcAttribute]=this._item.src,null==this._tag.parentNode&&(window.document.body.appendChild(this._tag),this._addedToDOM=!0)},e.destroy=function(){this._clean(),this._tag=null,this.AbstractRequest_destroy()},e._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var t=this._tag;("loaded"==t.readyState||"complete"==t.readyState)&&this._handleTagComplete()},e._handleError=function(){this._clean(),this.dispatchEvent("error")},e._handleTagComplete=function(){this._rawResult=this._tag,this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult,this._clean(),this._showTag(),this.dispatchEvent("complete")},e._handleTimeout=function(){this._clean(),this.dispatchEvent(new createjs.Event("timeout"))},e._clean=function(){this._tag.onload=null,this._tag.onreadystatechange=null,this._tag.onerror=null,this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag),clearTimeout(this._loadTimeout)},e._hideTag=function(){this._startTagVisibility=this._tag.style.visibility,this._tag.style.visibility="hidden"},e._showTag=function(){this._tag.style.visibility=this._startTagVisibility},e._handleStalled=function(){},createjs.TagRequest=createjs.promote(t,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,r){this.AbstractRequest_constructor(t),this._tag=e,this._tagSrcAttribute=r,this._loadedHandler=createjs.proxy(this._handleTagComplete,this)}var e=createjs.extend(t,createjs.TagRequest);e.load=function(){var t=createjs.proxy(this._handleStalled,this);this._stalledCallback=t;var e=createjs.proxy(this._handleProgress,this);this._handleProgress=e,this._tag.addEventListener("stalled",t),this._tag.addEventListener("progress",e),this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,!1),this.TagRequest_load()},e._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var t=this._tag;("loaded"==t.readyState||"complete"==t.readyState)&&this._handleTagComplete()},e._handleStalled=function(){},e._handleProgress=function(t){if(t&&!(t.loaded>0&&0==t.total)){var e=new createjs.ProgressEvent(t.loaded,t.total);this.dispatchEvent(e)}},e._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.removeEventListener("stalled",this._stalledCallback),this._tag.removeEventListener("progress",this._progressCallback),this.TagRequest__clean()},createjs.MediaTagRequest=createjs.promote(t,"TagRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.AbstractRequest_constructor(t),this._request=null,this._loadTimeout=null,this._xhrLevel=1,this._response=null,this._rawResponse=null,this._canceled=!1,this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this),this._handleProgressProxy=createjs.proxy(this._handleProgress,this),this._handleAbortProxy=createjs.proxy(this._handleAbort,this),this._handleErrorProxy=createjs.proxy(this._handleError,this),this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this),this._handleLoadProxy=createjs.proxy(this._handleLoad,this),this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this),this._createXHR(t)}var e=createjs.extend(t,createjs.AbstractRequest);t.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],e.getResult=function(t){return t&&this._rawResponse?this._rawResponse:this._response},e.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},e.load=function(){if(null!=this._request){null!=this._request.addEventListener?(this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,!1)):(this._request.onloadstart=this._handleLoadStartProxy,this._request.onprogress=this._handleProgressProxy,this._request.onabort=this._handleAbortProxy,this._request.onerror=this._handleErrorProxy,this._request.ontimeout=this._handleTimeoutProxy,this._request.onload=this._handleLoadProxy,this._request.onreadystatechange=this._handleReadyStateChangeProxy),1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values&&this._item.method!=createjs.AbstractLoader.GET?this._item.method==createjs.AbstractLoader.POST&&this._request.send(createjs.RequestUtils.formatQueryString(this._item.values)):this._request.send()}catch(t){this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND",null,t))}}else this._handleError()},e.setResponseType=function(t){"blob"===t&&(t=window.URL?"blob":"arraybuffer",this._responseType=t),this._request.responseType=t},e.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},e.getResponseHeader=function(t){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(t):null},e._handleProgress=function(t){if(t&&!(t.loaded>0&&0==t.total)){var e=new createjs.ProgressEvent(t.loaded,t.total);this.dispatchEvent(e)}},e._handleLoadStart=function(){clearTimeout(this._loadTimeout),this.dispatchEvent("loadstart")},e._handleAbort=function(t){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED",null,t))},e._handleError=function(t){this._clean(),this.dispatchEvent(new createjs.ErrorEvent(t.message))},e._handleReadyStateChange=function(){4==this._request.readyState&&this._handleLoad()},e._handleLoad=function(){if(!this.loaded){this.loaded=!0;var t=this._checkError();if(t)return void this._handleError(t);if(this._response=this._getResponse(),"arraybuffer"===this._responseType)try{this._response=new Blob([this._response])}catch(t){if(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,"TypeError"===t.name&&window.BlobBuilder){var e=new BlobBuilder;e.append(this._response),this._response=e.getBlob()}}this._clean(),this.dispatchEvent(new createjs.Event("complete"))}},e._handleTimeout=function(t){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT",null,t))},e._checkError=function(){var t=parseInt(this._request.status);switch(t){case 404:case 0:return new Error(t)}return null},e._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(t){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(t){}return null},e._createXHR=function(t){var e=createjs.RequestUtils.isCrossDomain(t),r={},i=null;if(window.XMLHttpRequest)i=new XMLHttpRequest,e&&void 0===i.withCredentials&&window.XDomainRequest&&(i=new XDomainRequest);else{for(var n=0,o=s.ACTIVEX_VERSIONS.length;o>n;n++){var a=s.ACTIVEX_VERSIONS[n];try{i=new ActiveXObject(a);break}catch(t){}}if(null==i)return!1}null==t.mimeType&&createjs.RequestUtils.isText(t.type)&&(t.mimeType="text/plain; charset=utf-8"),t.mimeType&&i.overrideMimeType&&i.overrideMimeType(t.mimeType),this._xhrLevel="string"==typeof i.responseType?2:1;var l;if(l=t.method==createjs.AbstractLoader.GET?createjs.RequestUtils.buildPath(t.src,t.values):t.src,i.open(t.method||createjs.AbstractLoader.GET,l,!0),e&&i instanceof XMLHttpRequest&&1==this._xhrLevel&&(r.Origin=location.origin),t.values&&t.method==createjs.AbstractLoader.POST&&(r["Content-Type"]="application/x-www-form-urlencoded"),e||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),t.headers)for(var h in t.headers)r[h]=t.headers[h];for(h in r)i.setRequestHeader(h,r[h]);return i instanceof XMLHttpRequest&&void 0!==t.withCredentials&&(i.withCredentials=t.withCredentials),this._request=i,!0},e._clean=function(){clearTimeout(this._loadTimeout),null!=this._request.removeEventListener?(this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)):(this._request.onloadstart=null,this._request.onprogress=null,this._request.onabort=null,this._request.onerror=null,this._request.ontimeout=null,this._request.onload=null,this._request.onreadystatechange=null)},e.toString=function(){return"[PreloadJS XHRRequest]"},createjs.XHRRequest=createjs.promote(t,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.AbstractMediaLoader_constructor(t,e,createjs.AbstractLoader.SOUND),createjs.RequestUtils.isAudioTag(t)?this._tag=t:createjs.RequestUtils.isAudioTag(t.src)?this._tag=t:createjs.RequestUtils.isAudioTag(t.tag)&&(this._tag=createjs.RequestUtils.isAudioTag(t)?t:t.src),null!=this._tag&&(this._preferXHR=!1)}var e=createjs.extend(t,createjs.AbstractMediaLoader);t.canLoadItem=function(t){return t.type==createjs.AbstractLoader.SOUND},e._createTag=function(t){var e=document.createElement("audio");return e.autoplay=!1,e.preload="none",e.src=t,e},createjs.SoundLoader=createjs.promote(t,"AbstractMediaLoader")}(),this.createjs=this.createjs||{},function(){"use strict";var t=function(){this.interrupt=null,this.delay=null,this.offset=null,this.loop=null,this.volume=null,this.pan=null,this.startTime=null,this.duration=null},e=t.prototype={},r=t;r.create=function(t){if(t instanceof r||t instanceof Object){var e=new createjs.PlayPropsConfig;return e.set(t),e}throw new Error("Type not recognized.")},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[PlayPropsConfig]"},createjs.PlayPropsConfig=r}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"Sound cannot be instantiated"}function e(t,e){this.init(t,e)}var r=t;r.INTERRUPT_ANY="any",r.INTERRUPT_EARLY="early",r.INTERRUPT_LATE="late",r.INTERRUPT_NONE="none",r.PLAY_INITED="playInited",r.PLAY_SUCCEEDED="playSucceeded",r.PLAY_INTERRUPTED="playInterrupted",r.PLAY_FINISHED="playFinished",r.PLAY_FAILED="playFailed",r.SUPPORTED_EXTENSIONS=["mp3","ogg","opus","mpeg","wav","m4a","mp4","aiff","wma","mid"],r.EXTENSION_MAP={m4a:"mp4"},r.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([\/.]*?(?:[^?]+)?\/)?((?:[^\/?]+)\.(\w+))(?:\?(\S+)?)?$/,r.defaultInterruptBehavior=r.INTERRUPT_NONE,r.alternateExtensions=[],r.activePlugin=null,r._masterVolume=1,Object.defineProperty(r,"volume",{get:function(){return this._masterVolume},set:function(t){if(null==Number(t))return!1;if(t=Math.max(0,Math.min(1,t)),r._masterVolume=t,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(t))for(var e=this._instances,i=0,n=e.length;n>i;i++)e[i].setMasterVolume(t)}}),r._masterMute=!1,Object.defineProperty(r,"muted",{get:function(){return this._masterMute},set:function(t){if(null==t)return!1;if(this._masterMute=t,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(t))for(var e=this._instances,r=0,i=e.length;i>r;r++)e[r].setMasterMute(t);return!0}}),Object.defineProperty(r,"capabilities",{get:function(){return null==r.activePlugin?null:r.activePlugin._capabilities},set:function(){return!1}}),r._pluginsRegistered=!1,r._lastID=0,r._instances=[],r._idHash={},r._preloadHash={},r._defaultPlayPropsHash={},r.addEventListener=null,r.removeEventListener=null,r.removeAllEventListeners=null,r.dispatchEvent=null,r.hasEventListener=null,r._listeners=null,createjs.EventDispatcher.initialize(r),r.getPreloadHandlers=function(){return{callback:createjs.proxy(r.initLoad,r),types:["sound"],extensions:r.SUPPORTED_EXTENSIONS}},r._handleLoadComplete=function(t){var e=t.target.getItem().src;if(r._preloadHash[e])for(var i=0,n=r._preloadHash[e].length;n>i;i++){var s=r._preloadHash[e][i];if(r._preloadHash[e][i]=!0,r.hasEventListener("fileload"))(t=new createjs.Event("fileload")).src=s.src,t.id=s.id,t.data=s.data,t.sprite=s.sprite,r.dispatchEvent(t)}},r._handleLoadError=function(t){var e=t.target.getItem().src;if(r._preloadHash[e])for(var i=0,n=r._preloadHash[e].length;n>i;i++){var s=r._preloadHash[e][i];if(r._preloadHash[e][i]=!1,r.hasEventListener("fileerror"))(t=new createjs.Event("fileerror")).src=s.src,t.id=s.id,t.data=s.data,t.sprite=s.sprite,r.dispatchEvent(t)}},r._registerPlugin=function(t){return!!t.isSupported()&&(r.activePlugin=new t,!0)},r.registerPlugins=function(t){r._pluginsRegistered=!0;for(var e=0,i=t.length;i>e;e++)if(r._registerPlugin(t[e]))return!0;return!1},r.initializeDefaultPlugins=function(){return null!=r.activePlugin||!r._pluginsRegistered&&!!r.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])},r.isReady=function(){return null!=r.activePlugin},r.getCapabilities=function(){return null==r.activePlugin?null:r.activePlugin._capabilities},r.getCapability=function(t){return null==r.activePlugin?null:r.activePlugin._capabilities[t]},r.initLoad=function(t){return r._registerSound(t)},r._registerSound=function(t){if(!r.initializeDefaultPlugins())return!1;var i;if(t.src instanceof Object?(i=r._parseSrc(t.src)).src=t.path+i.src:i=r._parsePath(t.src),null==i)return!1;t.src=i.src,t.type="sound";var n=t.data,s=null;if(null!=n&&(isNaN(n.channels)?isNaN(n)||(s=parseInt(n)):s=parseInt(n.channels),n.audioSprite))for(var o,a=n.audioSprite.length;a--;)o=n.audioSprite[a],r._idHash[o.id]={src:t.src,startTime:parseInt(o.startTime),duration:parseInt(o.duration)},o.defaultPlayProps&&(r._defaultPlayPropsHash[o.id]=createjs.PlayPropsConfig.create(o.defaultPlayProps));null!=t.id&&(r._idHash[t.id]={src:t.src});var l=r.activePlugin.register(t);return e.create(t.src,s),null!=n&&isNaN(n)?t.data.channels=s||e.maxPerChannel():t.data=s||e.maxPerChannel(),l.type&&(t.type=l.type),t.defaultPlayProps&&(r._defaultPlayPropsHash[t.src]=createjs.PlayPropsConfig.create(t.defaultPlayProps)),l},r.registerSound=function(t,e,i,n,s){var o={src:t,id:e,data:i,defaultPlayProps:s};t instanceof Object&&t.src&&(n=e,o=t),(o=createjs.LoadItem.create(o)).path=n,null==n||o.src instanceof Object||(o.src=n+t);var a=r._registerSound(o);if(!a)return!1;if(r._preloadHash[o.src]||(r._preloadHash[o.src]=[]),r._preloadHash[o.src].push(o),1==r._preloadHash[o.src].length)a.on("complete",createjs.proxy(this._handleLoadComplete,this)),a.on("error",createjs.proxy(this._handleLoadError,this)),r.activePlugin.preload(a);else if(1==r._preloadHash[o.src][0])return!0;return o},r.registerSounds=function(t,e){var r=[];t.path&&(e?e+=t.path:e=t.path,t=t.manifest);for(var i=0,n=t.length;n>i;i++)r[i]=createjs.Sound.registerSound(t[i].src,t[i].id,t[i].data,e,t[i].defaultPlayProps);return r},r.removeSound=function(t,i){if(null==r.activePlugin)return!1;var n;if(t instanceof Object&&t.src&&(t=t.src),t instanceof Object?n=r._parseSrc(t):(t=r._getSrcById(t).src,n=r._parsePath(t)),null==n)return!1;for(var s in t=n.src,null!=i&&(t=i+t),r._idHash)r._idHash[s].src==t&&delete r._idHash[s];return e.removeSrc(t),delete r._preloadHash[t],r.activePlugin.removeSound(t),!0},r.removeSounds=function(t,e){var r=[];t.path&&(e?e+=t.path:e=t.path,t=t.manifest);for(var i=0,n=t.length;n>i;i++)r[i]=createjs.Sound.removeSound(t[i].src,e);return r},r.removeAllSounds=function(){r._idHash={},r._preloadHash={},e.removeAll(),r.activePlugin&&r.activePlugin.removeAllSounds()},r.loadComplete=function(t){if(!r.isReady())return!1;var e=r._parsePath(t);return t=e?r._getSrcById(e.src).src:r._getSrcById(t).src,void 0!=r._preloadHash[t]&&1==r._preloadHash[t][0]},r._parsePath=function(t){"string"!=typeof t&&(t=t.toString());var e=t.match(r.FILE_PATTERN);if(null==e)return!1;for(var i=e[4],n=e[5],s=r.capabilities,o=0;!s[n];)if(n=r.alternateExtensions[o++],o>r.alternateExtensions.length)return null;return{name:i,src:t=t.replace("."+e[5],"."+n),extension:n}},r._parseSrc=function(t){var e={name:void 0,src:void 0,extension:void 0},i=r.capabilities;for(var n in t)if(t.hasOwnProperty(n)&&i[n]){e.src=t[n],e.extension=n;break}if(!e.src)return!1;var s=e.src.lastIndexOf("/");return e.name=-1!=s?e.src.slice(s+1):e.src,e},r.play=function(t,e,i,n,s,o,a,l,h){var u;u=createjs.PlayPropsConfig.create(e instanceof Object||e instanceof createjs.PlayPropsConfig?e:{interrupt:e,delay:i,offset:n,loop:s,volume:o,pan:a,startTime:l,duration:h});var c=r.createInstance(t,u.startTime,u.duration);return r._playInstance(c,u)||c._playFailed(),c},r.createInstance=function(t,i,n){if(!r.initializeDefaultPlugins())return new createjs.DefaultSoundInstance(t,i,n);var s=r._defaultPlayPropsHash[t];t=r._getSrcById(t);var o=r._parsePath(t.src),a=null;return null!=o&&null!=o.src?(e.create(o.src),null==i&&(i=t.startTime),a=r.activePlugin.create(o.src,i,n||t.duration),(s=s||r._defaultPlayPropsHash[o.src])&&a.applyPlayProps(s)):a=new createjs.DefaultSoundInstance(t,i,n),a.uniqueId=r._lastID++,a},r.stop=function(){for(var t=this._instances,e=t.length;e--;)t[e].stop()},r.setVolume=function(t){if(null==Number(t))return!1;if(t=Math.max(0,Math.min(1,t)),r._masterVolume=t,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(t))for(var e=this._instances,i=0,n=e.length;n>i;i++)e[i].setMasterVolume(t)},r.getVolume=function(){return this._masterVolume},r.setMute=function(t){if(null==t)return!1;if(this._masterMute=t,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(t))for(var e=this._instances,r=0,i=e.length;i>r;r++)e[r].setMasterMute(t);return!0},r.getMute=function(){return this._masterMute},r.setDefaultPlayProps=function(t,e){t=r._getSrcById(t),r._defaultPlayPropsHash[r._parsePath(t.src).src]=createjs.PlayPropsConfig.create(e)},r.getDefaultPlayProps=function(t){return t=r._getSrcById(t),r._defaultPlayPropsHash[r._parsePath(t.src).src]},r._playInstance=function(t,e){var i=r._defaultPlayPropsHash[t.src]||{};if(null==e.interrupt&&(e.interrupt=i.interrupt||r.defaultInterruptBehavior),null==e.delay&&(e.delay=i.delay||0),null==e.offset&&(e.offset=t.getPosition()),null==e.loop&&(e.loop=t.loop),null==e.volume&&(e.volume=t.volume),null==e.pan&&(e.pan=t.pan),0==e.delay){if(!r._beginPlaying(t,e))return!1}else{var n=setTimeout(function(){r._beginPlaying(t,e)},e.delay);t.delayTimeoutId=n}return this._instances.push(t),!0},r._beginPlaying=function(t,r){if(!e.add(t,r.interrupt))return!1;if(!t._beginPlaying(r)){var i=createjs.indexOf(this._instances,t);return i>-1&&this._instances.splice(i,1),!1}return!0},r._getSrcById=function(t){return r._idHash[t]||{src:t}},r._playFinished=function(t){e.remove(t);var r=createjs.indexOf(this._instances,t);r>-1&&this._instances.splice(r,1)},createjs.Sound=t,e.channels={},e.create=function(t,r){return null==e.get(t)&&(e.channels[t]=new e(t,r),!0)},e.removeSrc=function(t){var r=e.get(t);return null!=r&&(r._removeAll(),delete e.channels[t],!0)},e.removeAll=function(){for(var t in e.channels)e.channels[t]._removeAll();e.channels={}},e.add=function(t,r){var i=e.get(t.src);return null!=i&&i._add(t,r)},e.remove=function(t){var r=e.get(t.src);return null!=r&&(r._remove(t),!0)},e.maxPerChannel=function(){return i.maxDefault},e.get=function(t){return e.channels[t]};var i=e.prototype;i.constructor=e,i.src=null,i.max=null,i.maxDefault=100,i.length=0,i.init=function(t,e){this.src=t,this.max=e||this.maxDefault,-1==this.max&&(this.max=this.maxDefault),this._instances=[]},i._get=function(t){return this._instances[t]},i._add=function(t,e){return!!this._getSlot(e,t)&&(this._instances.push(t),this.length++,!0)},i._remove=function(t){var e=createjs.indexOf(this._instances,t);return-1!=e&&(this._instances.splice(e,1),this.length--,!0)},i._removeAll=function(){for(var t=this.length-1;t>=0;t--)this._instances[t].stop()},i._getSlot=function(e){var r,i;if(e!=t.INTERRUPT_NONE&&null==(i=this._get(0)))return!0;for(var n=0,s=this.max;s>n;n++){if(null==(r=this._get(n)))return!0;if(r.playState==t.PLAY_FINISHED||r.playState==t.PLAY_INTERRUPTED||r.playState==t.PLAY_FAILED){i=r;break}e!=t.INTERRUPT_NONE&&(e==t.INTERRUPT_EARLY&&r.getPosition()<i.getPosition()||e==t.INTERRUPT_LATE&&r.getPosition()>i.getPosition())&&(i=r)}return null!=i&&(i._interrupt(),this._remove(i),!0)},i.toString=function(){return"[Sound SoundChannel]"}}(),this.createjs=this.createjs||{},function(){"use strict";var t=function(t,e,r,i){this.EventDispatcher_constructor(),this.src=t,this.uniqueId=-1,this.playState=null,this.delayTimeoutId=null,this._volume=1,Object.defineProperty(this,"volume",{get:this.getVolume,set:this.setVolume}),this._pan=0,Object.defineProperty(this,"pan",{get:this.getPan,set:this.setPan}),this._startTime=Math.max(0,e||0),Object.defineProperty(this,"startTime",{get:this.getStartTime,set:this.setStartTime}),this._duration=Math.max(0,r||0),Object.defineProperty(this,"duration",{get:this.getDuration,set:this.setDuration}),this._playbackResource=null,Object.defineProperty(this,"playbackResource",{get:this.getPlaybackResource,set:this.setPlaybackResource}),!1!==i&&!0!==i&&this.setPlaybackResource(i),this._position=0,Object.defineProperty(this,"position",{get:this.getPosition,set:this.setPosition}),this._loop=0,Object.defineProperty(this,"loop",{get:this.getLoop,set:this.setLoop}),this._muted=!1,Object.defineProperty(this,"muted",{get:this.getMuted,set:this.setMuted}),this._paused=!1,Object.defineProperty(this,"paused",{get:this.getPaused,set:this.setPaused})},e=createjs.extend(t,createjs.EventDispatcher);e.play=function(t,e,r,i,n,s){var o;return o=createjs.PlayPropsConfig.create(t instanceof Object||t instanceof createjs.PlayPropsConfig?t:{interrupt:t,delay:e,offset:r,loop:i,volume:n,pan:s}),this.playState==createjs.Sound.PLAY_SUCCEEDED?(this.applyPlayProps(o),void(this._paused&&this.setPaused(!1))):(this._cleanUp(),createjs.Sound._playInstance(this,o),this)},e.stop=function(){return this._position=0,this._paused=!1,this._handleStop(),this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this},e.destroy=function(){this._cleanUp(),this.src=null,this.playbackResource=null,this.removeAllEventListeners()},e.applyPlayProps=function(t){return null!=t.offset&&this.setPosition(t.offset),null!=t.loop&&this.setLoop(t.loop),null!=t.volume&&this.setVolume(t.volume),null!=t.pan&&this.setPan(t.pan),null!=t.startTime&&(this.setStartTime(t.startTime),this.setDuration(t.duration)),this},e.toString=function(){return"[AbstractSoundInstance]"},e.getPaused=function(){return this._paused},e.setPaused=function(t){return!0!==t&&!1!==t||this._paused==t||1==t&&this.playState!=createjs.Sound.PLAY_SUCCEEDED?void 0:(this._paused=t,t?this._pause():this._resume(),clearTimeout(this.delayTimeoutId),this)},e.setVolume=function(t){return t==this._volume?this:(this._volume=Math.max(0,Math.min(1,t)),this._muted||this._updateVolume(),this)},e.getVolume=function(){return this._volume},e.setMuted=function(t){return!0===t||!1===t?(this._muted=t,this._updateVolume(),this):void 0},e.getMuted=function(){return this._muted},e.setPan=function(t){return t==this._pan?this:(this._pan=Math.max(-1,Math.min(1,t)),this._updatePan(),this)},e.getPan=function(){return this._pan},e.getPosition=function(){return this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED||(this._position=this._calculateCurrentPosition()),this._position},e.setPosition=function(t){return this._position=Math.max(0,t),this.playState==createjs.Sound.PLAY_SUCCEEDED&&this._updatePosition(),this},e.getStartTime=function(){return this._startTime},e.setStartTime=function(t){return t==this._startTime?this:(this._startTime=Math.max(0,t||0),this._updateStartTime(),this)},e.getDuration=function(){return this._duration},e.setDuration=function(t){return t==this._duration?this:(this._duration=Math.max(0,t||0),this._updateDuration(),this)},e.setPlaybackResource=function(t){return this._playbackResource=t,0==this._duration&&this._setDurationFromSource(),this},e.getPlaybackResource=function(){return this._playbackResource},e.getLoop=function(){return this._loop},e.setLoop=function(t){null!=this._playbackResource&&(0!=this._loop&&0==t?this._removeLooping(t):0==this._loop&&0!=t&&this._addLooping(t)),this._loop=t},e._sendEvent=function(t){var e=new createjs.Event(t);this.dispatchEvent(e)},e._cleanUp=function(){clearTimeout(this.delayTimeoutId),this._handleCleanUp(),this._paused=!1,createjs.Sound._playFinished(this)},e._interrupt=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_INTERRUPTED,this._sendEvent("interrupted")},e._beginPlaying=function(t){return this.setPosition(t.offset),this.setLoop(t.loop),this.setVolume(t.volume),this.setPan(t.pan),null!=t.startTime&&(this.setStartTime(t.startTime),this.setDuration(t.duration)),null!=this._playbackResource&&this._position<this._duration?(this._paused=!1,this._handleSoundReady(),this.playState=createjs.Sound.PLAY_SUCCEEDED,this._sendEvent("succeeded"),!0):(this._playFailed(),!1)},e._playFailed=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_FAILED,this._sendEvent("failed")},e._handleSoundComplete=function(){return this._position=0,0!=this._loop?(this._loop--,this._handleLoop(),void this._sendEvent("loop")):(this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,void this._sendEvent("complete"))},e._handleSoundReady=function(){},e._updateVolume=function(){},e._updatePan=function(){},e._updateStartTime=function(){},e._updateDuration=function(){},e._setDurationFromSource=function(){},e._calculateCurrentPosition=function(){},e._updatePosition=function(){},e._removeLooping=function(){},e._addLooping=function(){},e._pause=function(){},e._resume=function(){},e._handleStop=function(){},e._handleCleanUp=function(){},e._handleLoop=function(){},createjs.AbstractSoundInstance=createjs.promote(t,"EventDispatcher"),createjs.DefaultSoundInstance=createjs.AbstractSoundInstance}(),this.createjs=this.createjs||{},function(){"use strict";var t=function(){this._capabilities=null,this._loaders={},this._audioSources={},this._soundInstances={},this._volume=1,this._loaderClass,this._soundInstanceClass},e=t.prototype;t._capabilities=null,t.isSupported=function(){return!0},e.register=function(t){var e=this._loaders[t.src];return e&&!e.canceled?this._loaders[t.src]:(this._audioSources[t.src]=!0,this._soundInstances[t.src]=[],(e=new this._loaderClass(t)).on("complete",this._handlePreloadComplete,this),this._loaders[t.src]=e,e)},e.preload=function(t){t.on("error",this._handlePreloadError,this),t.load()},e.isPreloadStarted=function(t){return null!=this._audioSources[t]},e.isPreloadComplete=function(t){return!(null==this._audioSources[t]||1==this._audioSources[t])},e.removeSound=function(t){if(this._soundInstances[t]){for(var e=this._soundInstances[t].length;e--;){this._soundInstances[t][e].destroy()}delete this._soundInstances[t],delete this._audioSources[t],this._loaders[t]&&this._loaders[t].destroy(),delete this._loaders[t]}},e.removeAllSounds=function(){for(var t in this._audioSources)this.removeSound(t)},e.create=function(t,e,r){this.isPreloadStarted(t)||this.preload(this.register(t));var i=new this._soundInstanceClass(t,e,r,this._audioSources[t]);return this._soundInstances[t].push(i),i},e.setVolume=function(t){return this._volume=t,this._updateVolume(),!0},e.getVolume=function(){return this._volume},e.setMute=function(){return this._updateVolume(),!0},e.toString=function(){return"[AbstractPlugin]"},e._handlePreloadComplete=function(t){var e=t.target.getItem().src;this._audioSources[e]=t.result;for(var r=0,i=this._soundInstances[e].length;i>r;r++){this._soundInstances[e][r].setPlaybackResource(this._audioSources[e])}},e._handlePreloadError=function(){},e._updateVolume=function(){},createjs.AbstractPlugin=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.AbstractLoader_constructor(t,!0,createjs.AbstractLoader.SOUND)}var e=createjs.extend(t,createjs.AbstractLoader);t.context=null,e.toString=function(){return"[WebAudioLoader]"},e._createRequest=function(){this._request=new createjs.XHRRequest(this._item,!1),this._request.setResponseType("arraybuffer")},e._sendComplete=function(){t.context.decodeAudioData(this._rawResult,createjs.proxy(this._handleAudioDecoded,this),createjs.proxy(this._sendError,this))},e._handleAudioDecoded=function(t){this._result=t,this.AbstractLoader__sendComplete()},createjs.WebAudioLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,i,n){this.AbstractSoundInstance_constructor(t,e,i,n),this.gainNode=r.context.createGain(),this.panNode=r.context.createPanner(),this.panNode.panningModel=r._panningModel,this.panNode.connect(this.gainNode),this._updatePan(),this.sourceNode=null,this._soundCompleteTimeout=null,this._sourceNodeNext=null,this._playbackStartTime=0,this._endedHandler=createjs.proxy(this._handleSoundComplete,this)}var e=createjs.extend(t,createjs.AbstractSoundInstance),r=t;r.context=null,r._scratchBuffer=null,r.destinationNode=null,r._panningModel="equalpower",e.destroy=function(){this.AbstractSoundInstance_destroy(),this.panNode.disconnect(0),this.panNode=null,this.gainNode.disconnect(0),this.gainNode=null},e.toString=function(){return"[WebAudioSoundInstance]"},e._updatePan=function(){this.panNode.setPosition(this._pan,0,-.5)},e._removeLooping=function(){this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)},e._addLooping=function(){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},e._setDurationFromSource=function(){this._duration=1e3*this.playbackResource.duration},e._handleCleanUp=function(){this.sourceNode&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout),this._playbackStartTime=0},e._cleanUpAudioNode=function(t){if(t){t.stop(0),t.disconnect(0);try{t.buffer=r._scratchBuffer}catch(t){}t=null}return t},e._handleSoundReady=function(){this.gainNode.connect(r.destinationNode);var t=.001*this._duration,e=.001*this._position;e>t&&(e=t),this.sourceNode=this._createAndPlayAudioNode(r.context.currentTime-t,e),this._playbackStartTime=this.sourceNode.startTime-e,this._soundCompleteTimeout=setTimeout(this._endedHandler,1e3*(t-e)),0!=this._loop&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},e._createAndPlayAudioNode=function(t,e){var i=r.context.createBufferSource();i.buffer=this.playbackResource,i.connect(this.panNode);var n=.001*this._duration;return i.startTime=t+n,i.start(i.startTime,e+.001*this._startTime,n-e),i},e._pause=function(){this._position=1e3*(r.context.currentTime-this._playbackStartTime),this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout)},e._resume=function(){this._handleSoundReady()},e._updateVolume=function(){var t=this._muted?0:this._volume;t!=this.gainNode.gain.value&&(this.gainNode.gain.value=t)},e._calculateCurrentPosition=function(){return 1e3*(r.context.currentTime-this._playbackStartTime)},e._updatePosition=function(){this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),clearTimeout(this._soundCompleteTimeout),this._paused||this._handleSoundReady()},e._handleLoop=function(){this._cleanUpAudioNode(this.sourceNode),this.sourceNode=this._sourceNodeNext,this._playbackStartTime=this.sourceNode.startTime,this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0),this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)},e._updateDuration=function(){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._pause(),this._resume())},createjs.WebAudioSoundInstance=createjs.promote(t,"AbstractSoundInstance")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this.AbstractPlugin_constructor(),this._panningModel=r._panningModel,this.context=r.context,this.dynamicsCompressorNode=this.context.createDynamicsCompressor(),this.dynamicsCompressorNode.connect(this.context.destination),this.gainNode=this.context.createGain(),this.gainNode.connect(this.dynamicsCompressorNode),createjs.WebAudioSoundInstance.destinationNode=this.gainNode,this._capabilities=r._capabilities,this._loaderClass=createjs.WebAudioLoader,this._soundInstanceClass=createjs.WebAudioSoundInstance,this._addPropsToClasses()}var e=createjs.extend(t,createjs.AbstractPlugin),r=t;r._capabilities=null,r._panningModel="equalpower",r.context=null,r._scratchBuffer=null,r._unlocked=!1,r.isSupported=function(){var t=createjs.BrowserDetect.isIOS||createjs.BrowserDetect.isAndroid||createjs.BrowserDetect.isBlackberry;return!("file:"==location.protocol&&!t&&!this._isFileXHRSupported())&&(r._generateCapabilities(),null!=r.context)},r.playEmptySound=function(){if(null!=r.context){var t=r.context.createBufferSource();t.buffer=r._scratchBuffer,t.connect(r.context.destination),t.start(0,0,0)}},r._isFileXHRSupported=function(){var t=!0,e=new XMLHttpRequest;try{e.open("GET","WebAudioPluginTest.fail",!1)}catch(e){return t=!1}e.onerror=function(){t=!1},e.onload=function(){t=404==this.status||200==this.status||0==this.status&&""!=this.response};try{e.send()}catch(e){t=!1}return t},r._generateCapabilities=function(){if(null==r._capabilities){var t=document.createElement("audio");if(null==t.canPlayType)return null;if(null==r.context)if(window.AudioContext)r.context=new AudioContext;else{if(!window.webkitAudioContext)return null;r.context=new webkitAudioContext}null==r._scratchBuffer&&(r._scratchBuffer=r.context.createBuffer(1,1,22050)),r._compatibilitySetUp(),"ontouchstart"in window&&"running"!=r.context.state&&(r._unlock(),document.addEventListener("mousedown",r._unlock,!0),document.addEventListener("touchend",r._unlock,!0)),r._capabilities={panning:!0,volume:!0,tracks:-1};for(var e=createjs.Sound.SUPPORTED_EXTENSIONS,i=createjs.Sound.EXTENSION_MAP,n=0,s=e.length;s>n;n++){var o=e[n],a=i[o]||o;r._capabilities[o]="no"!=t.canPlayType("audio/"+o)&&""!=t.canPlayType("audio/"+o)||"no"!=t.canPlayType("audio/"+a)&&""!=t.canPlayType("audio/"+a)}r.context.destination.numberOfChannels<2&&(r._capabilities.panning=!1)}},r._compatibilitySetUp=function(){if(r._panningModel="equalpower",!r.context.createGain){r.context.createGain=r.context.createGainNode;var t=r.context.createBufferSource();t.__proto__.start=t.__proto__.noteGrainOn,t.__proto__.stop=t.__proto__.noteOff,r._panningModel=0}},r._unlock=function(){r._unlocked||(r.playEmptySound(),"running"==r.context.state&&(document.removeEventListener("mousedown",r._unlock,!0),document.removeEventListener("touchend",r._unlock,!0),r._unlocked=!0))},e.toString=function(){return"[WebAudioPlugin]"},e._addPropsToClasses=function(){var t=this._soundInstanceClass;t.context=this.context,t._scratchBuffer=r._scratchBuffer,t.destinationNode=this.gainNode,t._panningModel=this._panningModel,this._loaderClass.context=this.context},e._updateVolume=function(){var t=createjs.Sound._masterMute?0:this._volume;t!=this.gainNode.gain.value&&(this.gainNode.gain.value=t)},createjs.WebAudioPlugin=createjs.promote(t,"AbstractPlugin")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"HTMLAudioTagPool cannot be instantiated"}function e(){this._tags=[]}var r=t;r._tags={},r._tagPool=new e,r._tagUsed={},r.get=function(t){var e=r._tags[t];return null==e?(e=r._tags[t]=r._tagPool.get()).src=t:r._tagUsed[t]?(e=r._tagPool.get()).src=t:r._tagUsed[t]=!0,e},r.set=function(t,e){e==r._tags[t]?r._tagUsed[t]=!1:r._tagPool.set(e)},r.remove=function(t){var e=r._tags[t];return null!=e&&(r._tagPool.set(e),delete r._tags[t],delete r._tagUsed[t],!0)},r.getDuration=function(t){var e=r._tags[t];return null!=e&&e.duration?1e3*e.duration:0},createjs.HTMLAudioTagPool=t;var i=e.prototype;i.constructor=e,i.get=function(){var t;return null==(t=0==this._tags.length?this._createTag():this._tags.pop()).parentNode&&document.body.appendChild(t),t},i.set=function(t){-1==createjs.indexOf(this._tags,t)&&(this._tags.src=null,this._tags.push(t))},i.toString=function(){return"[TagPool]"},i._createTag=function(){var t=document.createElement("audio");return t.autoplay=!1,t.preload="none",t}}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,r,i){this.AbstractSoundInstance_constructor(t,e,r,i),this._audioSpriteStopTime=null,this._delayTimeoutId=null,this._endedHandler=createjs.proxy(this._handleSoundComplete,this),this._readyHandler=createjs.proxy(this._handleTagReady,this),this._stalledHandler=createjs.proxy(this._playFailed,this),this._audioSpriteEndHandler=createjs.proxy(this._handleAudioSpriteLoop,this),this._loopHandler=createjs.proxy(this._handleSoundComplete,this),r?this._audioSpriteStopTime=.001*(e+r):this._duration=createjs.HTMLAudioTagPool.getDuration(this.src)}var e=createjs.extend(t,createjs.AbstractSoundInstance);e.setMasterVolume=function(){this._updateVolume()},e.setMasterMute=function(){this._updateVolume()},e.toString=function(){return"[HTMLAudioSoundInstance]"},e._removeLooping=function(){null!=this._playbackResource&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._addLooping=function(){null==this._playbackResource||this._audioSpriteStopTime||(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)},e._handleCleanUp=function(){var t=this._playbackResource;if(null!=t){t.pause(),t.loop=!1,t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1);try{t.currentTime=this._startTime}catch(t){}createjs.HTMLAudioTagPool.set(this.src,t),this._playbackResource=null}},e._beginPlaying=function(t){return this._playbackResource=createjs.HTMLAudioTagPool.get(this.src),this.AbstractSoundInstance__beginPlaying(t)},e._handleSoundReady=function(){if(4!==this._playbackResource.readyState){var t=this._playbackResource;return t.addEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),t.addEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),t.preload="auto",void t.load()}this._updateVolume(),this._playbackResource.currentTime=.001*(this._startTime+this._position),this._audioSpriteStopTime?this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1):(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),0!=this._loop&&(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)),this._playbackResource.play()},e._handleTagReady=function(){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),this._handleSoundReady()},e._pause=function(){this._playbackResource.pause()},e._resume=function(){this._playbackResource.play()},e._updateVolume=function(){if(null!=this._playbackResource){var t=this._muted||createjs.Sound._masterMute?0:this._volume*createjs.Sound._masterVolume;t!=this._playbackResource.volume&&(this._playbackResource.volume=t)}},e._calculateCurrentPosition=function(){return 1e3*this._playbackResource.currentTime-this._startTime},e._updatePosition=function(){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1);try{this._playbackResource.currentTime=.001*(this._position+this._startTime)}catch(t){this._handleSetPositionSeek(null)}},e._handleSetPositionSeek=function(){null!=this._playbackResource&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._handleAudioSpriteLoop=function(){this._playbackResource.currentTime<=this._audioSpriteStopTime||(this._playbackResource.pause(),0==this._loop?this._handleSoundComplete(null):(this._position=0,this._loop--,this._playbackResource.currentTime=.001*this._startTime,this._paused||this._playbackResource.play(),this._sendEvent("loop")))},e._handleLoop=function(){0==this._loop&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._updateStartTime=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},e._updateDuration=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},e._setDurationFromSource=function(){this._duration=createjs.HTMLAudioTagPool.getDuration(this.src),this._playbackResource=null},createjs.HTMLAudioSoundInstance=createjs.promote(t,"AbstractSoundInstance")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this.AbstractPlugin_constructor(),this.defaultNumChannels=2,this._capabilities=r._capabilities,this._loaderClass=createjs.SoundLoader,this._soundInstanceClass=createjs.HTMLAudioSoundInstance}var e=createjs.extend(t,createjs.AbstractPlugin),r=t;r.MAX_INSTANCES=30,r._AUDIO_READY="canplaythrough",r._AUDIO_ENDED="ended",r._AUDIO_SEEKED="seeked",r._AUDIO_STALLED="stalled",r._TIME_UPDATE="timeupdate",r._capabilities=null,r.isSupported=function(){return r._generateCapabilities(),null!=r._capabilities},r._generateCapabilities=function(){if(null==r._capabilities){var t=document.createElement("audio");if(null==t.canPlayType)return null;r._capabilities={panning:!1,volume:!0,tracks:-1};for(var e=createjs.Sound.SUPPORTED_EXTENSIONS,i=createjs.Sound.EXTENSION_MAP,n=0,s=e.length;s>n;n++){var o=e[n],a=i[o]||o;r._capabilities[o]="no"!=t.canPlayType("audio/"+o)&&""!=t.canPlayType("audio/"+o)||"no"!=t.canPlayType("audio/"+a)&&""!=t.canPlayType("audio/"+a)}}},e.register=function(t){var e=createjs.HTMLAudioTagPool.get(t.src),r=this.AbstractPlugin_register(t);return r.setTag(e),r},e.removeSound=function(t){this.AbstractPlugin_removeSound(t),createjs.HTMLAudioTagPool.remove(t)},e.create=function(t,e,r){var i=this.AbstractPlugin_create(t,e,r);return i.setPlaybackResource(null),i},e.toString=function(){return"[HTMLAudioPlugin]"},e.setVolume=e.getVolume=e.setMute=null,createjs.HTMLAudioPlugin=createjs.promote(t,"AbstractPlugin")}(),t.exports=createjs}).call(window)},181:function(t,e,r){(function(e,r){var i;
/**
 * @license
 * pixi.js - v3.0.8
 * Compiled 2015-12-24T07:09:06.215Z
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license.php
 *
 *
 * The MIT License
 * 
 * Copyright (c) 2013-2015 Mathew Groves
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 * 
 */
!function(e){t.exports=e()}(function(){return function t(e,r,n){function s(a,l){if(!r[a]){if(!e[a]){if(!l&&("function"==typeof i&&i))return i(a,!0);if(o)return o(a,!0);var h=new Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}var u=r[a]={exports:{}};e[a][0].call(u.exports,function(t){var r=e[a][1][t];return s(r||t)},u,u.exports,t,e,r,n)}return r[a].exports}for(var o="function"==typeof i&&i,a=0;a<n.length;a++)s(n[a]);return s}({1:[function(t,i,n){(function(t,e){
/*!
 * async
 * https://github.com/caolan/async
 *
 * Copyright 2010-2014 Caolan McMahon
 * Released under the MIT license
 */
!function(){var n,s={};function o(){}function a(t){return t}function l(t){return!!t}function h(t){return!t}var u="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this;function c(t){return function(){if(null===t)throw new Error("Callback was already called.");t.apply(this,arguments),t=null}}function p(t){return function(){null!==t&&(t.apply(this,arguments),t=null)}}null!=u&&(n=u.async),s.noConflict=function(){return u.async=n,s};var d=Object.prototype.toString,f=Array.isArray||function(t){return"[object Array]"===d.call(t)};function m(t){return f(t)||"number"==typeof t.length&&t.length>=0&&t.length%1==0}function v(t,e){for(var r=-1,i=t.length;++r<i;)e(t[r],r,t)}function g(t,e){for(var r=-1,i=t.length,n=Array(i);++r<i;)n[r]=e(t[r],r,t);return n}function _(t){return g(Array(t),function(t,e){return e})}function y(t,e){for(var r=0;r<t.length;r++)if(t[r]===e)return r;return-1}var x=Object.keys||function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e};function b(t){var e,r,i=-1;return m(t)?(e=t.length,function(){return++i<e?i:null}):(r=x(t),e=r.length,function(){return++i<e?r[i]:null})}function T(t,e){return e=null==e?t.length-1:+e,function(){for(var r=Math.max(arguments.length-e,0),i=Array(r),n=0;n<r;n++)i[n]=arguments[n+e];switch(e){case 0:return t.call(this,i);case 1:return t.call(this,arguments[0],i)}}}function w(t){return function(e,r,i){return t(e,i)}}var S="function"==typeof r&&r,E=S?function(t){S(t)}:function(t){setTimeout(t,0)};function A(t){return function(e,r,i){i=p(i||o);var n=b(e=e||[]);if(t<=0)return i(null);var s=!1,a=0,l=!1;!function o(){if(s&&a<=0)return i(null);for(;a<t&&!l;){var h=n();if(null===h)return s=!0,void(a<=0&&i(null));a+=1,r(e[h],h,c(function(t){a-=1,t?(i(t),l=!0):o()}))}}()}}function P(t){return function(e,r,i){return t(s.eachOf,e,r,i)}}function C(t){return function(e,r,i,n){return t(A(r),e,i,n)}}function R(t){return function(e,r,i){return t(s.eachOfSeries,e,r,i)}}function M(t,e,r,i){i=p(i||o);var n=m(e=e||[])?[]:{};t(e,function(t,e,i){r(t,function(t,r){n[e]=r,i(t)})},function(t){i(t,n)})}function O(t,e,r,i){var n=[];t(e,function(t,e,i){r(t,function(r){r&&n.push({index:e,value:t}),i()})},function(){i(g(n.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})}function $(t,e,r,i){O(t,e,function(t,e){r(t,function(t){e(!t)})},i)}function D(t,e,r){return function(i,n,s,o){function a(){o&&o(r(!1,void 0))}function l(t,i,n){if(!o)return n();s(t,function(i){o&&e(i)&&(o(r(!0,t)),o=s=!1),n()})}arguments.length>3?t(i,n,l,a):(o=s,s=n,t(i,l,a))}}function L(t,e){return e}function F(t,e,r){r=r||o;var i=m(e)?[]:{};t(e,function(t,e,r){t(T(function(t,n){n.length<=1&&(n=n[0]),i[e]=n,r(t)}))},function(t){r(t,i)})}function I(t,e,r,i){var n=[];t(e,function(t,e,i){r(t,function(t,e){n=n.concat(e||[]),i(t)})},function(t){i(t,n)})}function k(t,e,r){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");function i(t,e,r,i){if(null!=i&&"function"!=typeof i)throw new Error("task callback must be a function");if(t.started=!0,f(e)||(e=[e]),0===e.length&&t.idle())return s.setImmediate(function(){t.drain()});v(e,function(e){var n={data:e,callback:i||o};r?t.tasks.unshift(n):t.tasks.push(n),t.tasks.length===t.concurrency&&t.saturated()}),s.setImmediate(t.process)}function n(t,e){return function(){a-=1;var r=!1,i=arguments;v(e,function(t){v(l,function(e,i){e!==t||r||(l.splice(i,1),r=!0)}),t.callback.apply(t,i)}),t.tasks.length+a===0&&t.drain(),t.process()}}var a=0,l=[],h={tasks:[],concurrency:e,payload:r,saturated:o,empty:o,drain:o,started:!1,paused:!1,push:function(t,e){i(h,t,!1,e)},kill:function(){h.drain=o,h.tasks=[]},unshift:function(t,e){i(h,t,!0,e)},process:function(){if(!h.paused&&a<h.concurrency&&h.tasks.length)for(;a<h.concurrency&&h.tasks.length;){var e=h.payload?h.tasks.splice(0,h.payload):h.tasks.splice(0,h.tasks.length),r=g(e,function(t){return t.data});0===h.tasks.length&&h.empty(),a+=1,l.push(e[0]);var i=c(n(h,e));t(r,i)}},length:function(){return h.tasks.length},running:function(){return a},workersList:function(){return l},idle:function(){return h.tasks.length+a===0},pause:function(){h.paused=!0},resume:function(){if(!1!==h.paused){h.paused=!1;for(var t=Math.min(h.concurrency,h.tasks.length),e=1;e<=t;e++)s.setImmediate(h.process)}}};return h}function N(t){return T(function(e,r){e.apply(null,r.concat([T(function(e,r){"object"==typeof console&&(e?console.error&&console.error(e):console[t]&&v(r,function(e){console[t](e)}))})]))})}function B(t){return function(e,r,i){t(_(e),r,i)}}function j(t){return T(function(e,r){var i=T(function(r){var i=this,n=r.pop();return t(e,function(t,e,n){t.apply(i,r.concat([n]))},n)});return r.length?i.apply(this,r):i})}function U(t){return T(function(e){var r=e.pop();e.push(function(){var t=arguments;i?s.setImmediate(function(){r.apply(null,t)}):r.apply(null,t)});var i=!0;t.apply(this,e),i=!1})}"object"==typeof t&&"function"==typeof t.nextTick?s.nextTick=t.nextTick:s.nextTick=E,s.setImmediate=S?E:s.nextTick,s.forEach=s.each=function(t,e,r){return s.eachOf(t,w(e),r)},s.forEachSeries=s.eachSeries=function(t,e,r){return s.eachOfSeries(t,w(e),r)},s.forEachLimit=s.eachLimit=function(t,e,r,i){return A(e)(t,w(r),i)},s.forEachOf=s.eachOf=function(t,e,r){r=p(r||o);for(var i,n=b(t=t||[]),s=0;null!=(i=n());)s+=1,e(t[i],i,c(a));function a(t){s--,t?r(t):null===i&&s<=0&&r(null)}0===s&&r(null)},s.forEachOfSeries=s.eachOfSeries=function(t,e,r){r=p(r||o);var i=b(t=t||[]),n=i();!function o(){var a=!0;if(null===n)return r(null);e(t[n],n,c(function(t){if(t)r(t);else{if(null===(n=i()))return r(null);a?s.setImmediate(o):o()}})),a=!1}()},s.forEachOfLimit=s.eachOfLimit=function(t,e,r,i){A(e)(t,r,i)},s.map=P(M),s.mapSeries=R(M),s.mapLimit=C(M),s.inject=s.foldl=s.reduce=function(t,e,r,i){s.eachOfSeries(t,function(t,i,n){r(e,t,function(t,r){e=r,n(t)})},function(t){i(t,e)})},s.foldr=s.reduceRight=function(t,e,r,i){var n=g(t,a).reverse();s.reduce(n,e,r,i)},s.transform=function(t,e,r,i){3===arguments.length&&(i=r,r=e,e=f(t)?[]:{}),s.eachOf(t,function(t,i,n){r(e,t,i,n)},function(t){i(t,e)})},s.select=s.filter=P(O),s.selectLimit=s.filterLimit=C(O),s.selectSeries=s.filterSeries=R(O),s.reject=P($),s.rejectLimit=C($),s.rejectSeries=R($),s.any=s.some=D(s.eachOf,l,a),s.someLimit=D(s.eachOfLimit,l,a),s.all=s.every=D(s.eachOf,h,h),s.everyLimit=D(s.eachOfLimit,h,h),s.detect=D(s.eachOf,a,L),s.detectSeries=D(s.eachOfSeries,a,L),s.detectLimit=D(s.eachOfLimit,a,L),s.sortBy=function(t,e,r){function i(t,e){var r=t.criteria,i=e.criteria;return r<i?-1:r>i?1:0}s.map(t,function(t,r){e(t,function(e,i){e?r(e):r(null,{value:t,criteria:i})})},function(t,e){if(t)return r(t);r(null,g(e.sort(i),function(t){return t.value}))})},s.auto=function(t,e,r){r||(r=e,e=null),r=p(r||o);var i=x(t),n=i.length;if(!n)return r(null);e||(e=n);var a={},l=0,h=[];function u(t){h.unshift(t)}function c(){n--,v(h.slice(0),function(t){t()})}u(function(){n||r(null,a)}),v(i,function(i){for(var n,o=f(t[i])?t[i]:[t[i]],p=T(function(t,e){if(l--,e.length<=1&&(e=e[0]),t){var n={};!function(t,e){v(x(t),function(r){e(t[r],r)})}(a,function(t,e){n[e]=t}),n[i]=e,r(t,n)}else a[i]=e,s.setImmediate(c)}),d=o.slice(0,o.length-1),m=d.length;m--;){if(!(n=t[d[m]]))throw new Error("Has inexistant dependency");if(f(n)&&y(n,i)>=0)throw new Error("Has cyclic dependencies")}function g(){return l<e&&function(t,e,r){return v(t,function(t,i,n){r=e(r,t,i,n)}),r}(d,function(t,e){return t&&a.hasOwnProperty(e)},!0)&&!a.hasOwnProperty(i)}g()?(l++,o[o.length-1](p,a)):u(function t(){g()&&(l++,function(t){var e=y(h,t);e>=0&&h.splice(e,1)}(t),o[o.length-1](p,a))})})},s.retry=function(t,e,r){var i=5,n=0,o=[],a={times:i,interval:n};var l=arguments.length;if(l<1||l>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");function h(t,e){function r(t,r){return function(i){t(function(t,e){i(!t||r,{err:t,result:e})},e)}}function i(t){return function(e){setTimeout(function(){e(null)},t)}}for(;a.times;){var n=!(a.times-=1);o.push(r(a.task,n)),!n&&a.interval>0&&o.push(i(a.interval))}s.series(o,function(e,r){r=r[r.length-1],(t||a.callback)(r.err,r.result)})}return l<=2&&"function"==typeof t&&(r=e,e=t),"function"!=typeof t&&function(t,e){if("number"==typeof e)t.times=parseInt(e,10)||i;else{if("object"!=typeof e)throw new Error("Unsupported argument type for 'times': "+typeof e);t.times=parseInt(e.times,10)||i,t.interval=parseInt(e.interval,10)||n}}(a,t),a.callback=r,a.task=e,a.callback?h():h},s.waterfall=function(t,e){if(e=p(e||o),!f(t)){var r=new Error("First argument to waterfall must be an array of functions");return e(r)}if(!t.length)return e();!function t(r){return T(function(i,n){if(i)e.apply(null,[i].concat(n));else{var s=r.next();s?n.push(t(s)):n.push(e),U(r).apply(null,n)}})}(s.iterator(t))()},s.parallel=function(t,e){F(s.eachOf,t,e)},s.parallelLimit=function(t,e,r){F(A(e),t,r)},s.series=function(t,e){F(s.eachOfSeries,t,e)},s.iterator=function(t){return function e(r){function i(){return t.length&&t[r].apply(null,arguments),i.next()}return i.next=function(){return r<t.length-1?e(r+1):null},i}(0)},s.apply=T(function(t,e){return T(function(r){return t.apply(null,e.concat(r))})}),s.concat=P(I),s.concatSeries=R(I),s.whilst=function(t,e,r){if(r=r||o,t()){var i=T(function(n,s){n?r(n):t.apply(this,s)?e(i):r(null)});e(i)}else r(null)},s.doWhilst=function(t,e,r){var i=0;return s.whilst(function(){return++i<=1||e.apply(this,arguments)},t,r)},s.until=function(t,e,r){return s.whilst(function(){return!t.apply(this,arguments)},e,r)},s.doUntil=function(t,e,r){return s.doWhilst(t,function(){return!e.apply(this,arguments)},r)},s.during=function(t,e,r){r=r||o;var i=T(function(e,i){e?r(e):(i.push(n),t.apply(this,i))}),n=function(t,n){t?r(t):n?e(i):r(null)};t(n)},s.doDuring=function(t,e,r){var i=0;s.during(function(t){i++<1?t(null,!0):e.apply(this,arguments)},t,r)},s.queue=function(t,e){return k(function(e,r){t(e[0],r)},e,1)},s.priorityQueue=function(t,e){function r(t,e){return t.priority-e.priority}var i=s.queue(t,e);return i.push=function(t,e,n){!function(t,e,i,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(t.started=!0,f(e)||(e=[e]),0===e.length)return s.setImmediate(function(){t.drain()});v(e,function(e){var a={data:e,priority:i,callback:"function"==typeof n?n:o};t.tasks.splice(function(t,e,r){for(var i=-1,n=t.length-1;i<n;){var s=i+(n-i+1>>>1);r(e,t[s])>=0?i=s:n=s-1}return i}(t.tasks,a,r)+1,0,a),t.tasks.length===t.concurrency&&t.saturated(),s.setImmediate(t.process)})}(i,t,e,n)},delete i.unshift,i},s.cargo=function(t,e){return k(t,1,e)},s.log=N("log"),s.dir=N("dir"),s.memoize=function(t,e){var r={},i={};e=e||a;var n=T(function(n){var o=n.pop(),a=e.apply(null,n);a in r?s.setImmediate(function(){o.apply(null,r[a])}):a in i?i[a].push(o):(i[a]=[o],t.apply(null,n.concat([T(function(t){r[a]=t;var e=i[a];delete i[a];for(var n=0,s=e.length;n<s;n++)e[n].apply(null,t)})])))});return n.memo=r,n.unmemoized=t,n},s.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},s.times=B(s.map),s.timesSeries=B(s.mapSeries),s.timesLimit=function(t,e,r,i){return s.mapLimit(_(t),e,r,i)},s.seq=function(){var t=arguments;return T(function(e){var r=this,i=e[e.length-1];"function"==typeof i?e.pop():i=o,s.reduce(t,e,function(t,e,i){e.apply(r,t.concat([T(function(t,e){i(t,e)})]))},function(t,e){i.apply(r,[t].concat(e))})})},s.compose=function(){return s.seq.apply(null,Array.prototype.reverse.call(arguments))},s.applyEach=j(s.eachOf),s.applyEachSeries=j(s.eachOfSeries),s.forever=function(t,e){var r=c(e||o),i=U(t);!function t(e){if(e)return r(e);i(t)}()},s.ensureAsync=U,s.constant=T(function(t){var e=[null].concat(t);return function(t){return t.apply(this,e)}}),s.wrapSync=s.asyncify=function(t){return T(function(e){var r,i=e.pop();try{r=t.apply(this,e)}catch(t){return i(t)}!function(t){var e=typeof t;return"function"===e||"object"===e&&!!t}(r)||"function"!=typeof r.then?i(null,r):r.then(function(t){i(null,t)}).catch(function(t){i(t.message?t:new Error(t))})})},"object"==typeof i&&i.exports?i.exports=s:u.async=s}()}).call(this,t("_process"),void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:6}],2:[function(t,e,r){"use strict";function i(t,e,r,i,n){var s,o,a,l=0;for(s=e,o=r-i;s<r;s+=i)l+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;if(n===l>0)for(s=e;s<r;s+=i)a=b(s,t[s],t[s+1],a);else for(s=r-i;s>=e;s-=i)a=b(s,t[s],t[s+1],a);return a}function n(t,e){if(!t)return t;e||(e=t);var r,i=t;do{if(r=!1,i.steiner||!g(i,i.next)&&0!==v(i.prev,i,i.next))i=i.next;else{if(T(i),(i=e=i.prev)===i.next)return null;r=!0}}while(r||i!==e);return e}function s(t,e,r,i,u,c,d){if(t){!d&&c&&function(t,e,r,i){var n=t;do{null===n.z&&(n.z=p(n.x,n.y,e,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,r,i,n,s,o,a,l,h=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,i=r,a=0,e=0;e<h&&(a++,i=i.nextZ);e++);for(l=h;a>0||l>0&&i;)0===a?(n=i,i=i.nextZ,l--):0!==l&&i?r.z<=i.z?(n=r,r=r.nextZ,a--):(n=i,i=i.nextZ,l--):(n=r,r=r.nextZ,a--),s?s.nextZ=n:t=n,n.prevZ=s,s=n;r=i}s.nextZ=null,h*=2}while(o>1)}(n)}(t,i,u,c);for(var f,m,v=t;t.prev!==t.next;)if(f=t.prev,m=t.next,c?a(t,i,u,c):o(t))e.push(f.i/r),e.push(t.i/r),e.push(m.i/r),T(t),t=m.next,v=m.next;else if((t=m)===v){d?1===d?s(t=l(t,e,r),e,r,i,u,c,2):2===d&&h(t,e,r,i,u,c):s(n(t),e,r,i,u,c,1);break}}}function o(t){var e=t.prev,r=t,i=t.next;if(v(e,r,i)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(f(e.x,e.y,r.x,r.y,i.x,i.y,n.x,n.y)&&v(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function a(t,e,r,i){var n=t.prev,s=t,o=t.next;if(v(n,s,o)>=0)return!1;for(var a=n.x<s.x?n.x<o.x?n.x:o.x:s.x<o.x?s.x:o.x,l=n.y<s.y?n.y<o.y?n.y:o.y:s.y<o.y?s.y:o.y,h=n.x>s.x?n.x>o.x?n.x:o.x:s.x>o.x?s.x:o.x,u=n.y>s.y?n.y>o.y?n.y:o.y:s.y>o.y?s.y:o.y,c=p(a,l,e,r,i),d=p(h,u,e,r,i),m=t.nextZ;m&&m.z<=d;){if(m!==t.prev&&m!==t.next&&f(n.x,n.y,s.x,s.y,o.x,o.y,m.x,m.y)&&v(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(m=t.prevZ;m&&m.z>=c;){if(m!==t.prev&&m!==t.next&&f(n.x,n.y,s.x,s.y,o.x,o.y,m.x,m.y)&&v(m.prev,m,m.next)>=0)return!1;m=m.prevZ}return!0}function l(t,e,r){var i=t;do{var n=i.prev,s=i.next.next;_(n,i,i.next,s)&&y(n,s)&&y(s,n)&&(e.push(n.i/r),e.push(i.i/r),e.push(s.i/r),T(i),T(i.next),i=t=s),i=i.next}while(i!==t);return i}function h(t,e,r,i,o,a){var l=t;do{for(var h=l.next.next;h!==l.prev;){if(l.i!==h.i&&m(l,h)){var u=x(l,h);return l=n(l,l.next),u=n(u,u.next),s(l,e,r,i,o,a),void s(u,e,r,i,o,a)}h=h.next}l=l.next}while(l!==t)}function u(t,e){return t.x-e.x}function c(t,e){if(e=function(t,e){var r,i=e,n=t.x,s=t.y,o=-1/0;do{if(s<=i.y&&s>=i.next.y){var a=i.x+(s-i.y)*(i.next.x-i.x)/(i.next.y-i.y);a<=n&&a>o&&(o=a,r=i.x<i.next.x?i:i.next)}i=i.next}while(i!==e);if(!r)return null;var l,h=r,u=1/0;i=r.next;for(;i!==h;)n>=i.x&&i.x>=r.x&&f(s<r.y?n:o,s,r.x,r.y,s<r.y?o:n,s,i.x,i.y)&&((l=Math.abs(s-i.y)/(n-i.x))<u||l===u&&i.x>r.x)&&y(i,t)&&(r=i,u=l),i=i.next;return r}(t,e)){var r=x(e,t);n(r,r.next)}}function p(t,e,r,i,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)/n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)/n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function d(t){var e=t,r=t;do{e.x<r.x&&(r=e),e=e.next}while(e!==t);return r}function f(t,e,r,i,n,s,o,a){return(n-o)*(e-a)-(t-o)*(s-a)>=0&&(t-o)*(i-a)-(r-o)*(e-a)>=0&&(r-o)*(s-a)-(n-o)*(i-a)>=0}function m(t,e){return g(t,e)||t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&_(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&y(t,e)&&y(e,t)&&function(t,e){var r=t,i=!1,n=(t.x+e.x)/2,s=(t.y+e.y)/2;do{r.y>s!=r.next.y>s&&n<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next}while(r!==t);return i}(t,e)}function v(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function g(t,e){return t.x===e.x&&t.y===e.y}function _(t,e,r,i){return v(t,e,r)>0!=v(t,e,i)>0&&v(r,i,t)>0!=v(r,i,e)>0}function y(t,e){return v(t.prev,t,t.next)<0?v(t,e,t.next)>=0&&v(t,t.prev,e)>=0:v(t,e,t.prev)<0||v(t,t.next,e)<0}function x(t,e){var r=new w(t.i,t.x,t.y),i=new w(e.i,e.x,e.y),n=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=n,n.prev=r,i.next=r,r.prev=i,s.next=i,i.prev=s,i}function b(t,e,r,i){var n=new w(t,e,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function T(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function w(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}e.exports=function(t,e,r){r=r||2;var o,a,l,h,p,f,m,v=e&&e.length,g=v?e[0]*r:t.length,_=i(t,0,g,r,!0),y=[];if(!_)return y;v&&(_=function(t,e,r,s){var o,a,l,h,p,f=[];for(o=0,a=e.length;o<a;o++)l=e[o]*s,h=o<a-1?e[o+1]*s:t.length,(p=i(t,l,h,s,!1))===p.next&&(p.steiner=!0),f.push(d(p));for(f.sort(u),o=0;o<f.length;o++)c(f[o],r),r=n(r,r.next);return r}(t,e,_,r));if(t.length>80*r){o=l=t[0],a=h=t[1];for(var x=r;x<g;x+=r)p=t[x],f=t[x+1],p<o&&(o=p),f<a&&(a=f),p>l&&(l=p),f>h&&(h=f);m=Math.max(l-o,h-a)}return s(_,y,r,o,a,m),y}},{}],3:[function(t,e,r){"use strict";var i="function"!=typeof Object.create&&"~";function n(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function s(){}s.prototype._events=void 0,s.prototype.listeners=function(t,e){var r=i?i+t:t,n=this._events&&this._events[r];if(e)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var s=0,o=n.length,a=new Array(o);s<o;s++)a[s]=n[s].fn;return a},s.prototype.has=s.prototype.hasEventListener=function(t){var e=i?i+t:t;return!(!this._events||!this._events[e])},s.prototype.emit=function(t,e,r,n,s,o){var a=i?i+t:t;if(!this._events||!this._events[a])return!1;var l,h,u=this._events[a],c=arguments.length;if("function"==typeof u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),c){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,r),!0;case 4:return u.fn.call(u.context,e,r,n),!0;case 5:return u.fn.call(u.context,e,r,n,s),!0;case 6:return u.fn.call(u.context,e,r,n,s,o),!0}for(h=1,l=new Array(c-1);h<c;h++)l[h-1]=arguments[h];u.fn.apply(u.context,l)}else{var p,d=u.length;for(h=0;h<d;h++)switch(u[h].once&&this.removeListener(t,u[h].fn,void 0,!0),c){case 1:u[h].fn.call(u[h].context);break;case 2:u[h].fn.call(u[h].context,e);break;case 3:u[h].fn.call(u[h].context,e,r);break;default:if(!l)for(p=1,l=new Array(c-1);p<c;p++)l[p-1]=arguments[p];u[h].fn.apply(u[h].context,l)}}return!0},s.prototype.on=function(t,e,r){return t===TouchEvent.TOUCH_BEGIN?(this.$on("mousedown",e,r),this.$on("touchstart",e,r),this):t===TouchEvent.TOUCH_MOVE?(this.$on("mousemove",e,r),this.$on("touchmove",e,r),this):t===TouchEvent.TOUCH_END?(this.$on("mouseup",e,r),this.$on("touchend",e,r),this):t===TouchEvent.TAP?(this.$on("click",e,r),this.$on("tap",e,r),this):t===TouchEvent.TOUCH_END_OUDSIDE?(this.$on("mouseupoutside",e,r),this.$on("touchendoutside",e,r),this):void this.$on(t,e,r)},s.prototype.$on=function(t,e,r){var s=new n(e,r||this),o=i?i+t:t;return this._events||(this._events=i?{}:Object.create(null)),this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],s]:this._events[o].push(s):this._events[o]=s,this},s.prototype.once=function(t,e,r){var s=new n(e,r||this,!0),o=i?i+t:t;return this._events||(this._events=i?{}:Object.create(null)),this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],s]:this._events[o].push(s):this._events[o]=s,this},s.prototype.$removeListener=function(t,e,r,n){var s=i?i+t:t;if(!this._events||!this._events[s])return this;var o=this._events[s],a=[];if(e){if(o.fn)(o.fn!==e||n&&!o.once||r&&o.context!==r)&&a.push(o);else for(var l=0,h=o.length;l<h;l++)(o[l].fn!==e||n&&!o[l].once||r&&o[l].context!==r)&&a.push(o[l]);return a.length?this._events[s]=1===a.length?a[0]:a:delete this._events[s],this}},s.prototype.removeEventListener=s.prototype.removeListener=function(t,e,r,i){return t===TouchEvent.TOUCH_BEGIN?(this.$removeListener("mousedown",e,r,i),void this.$removeListener("touchstart",e,r,i)):t===TouchEvent.TOUCH_MOVE?(this.$removeListener("mousemove",e,r,i),void this.$removeListener("touchmove",e,r,i)):t===TouchEvent.TOUCH_END?(this.$removeListener("mouseup",e,r,i),void this.$removeListener("touchend",e,r,i)):t===TouchEvent.TAP?(this.$removeListener("click",e,r,i),void this.$removeListener("tap",e,r,i)):t===TouchEvent.TOUCH_END_OUDSIDE?(this.$removeListener("mouseupoutside",e,r,i),void this.$removeListener("touchendoutside",e,r,i)):void this.$removeListener(t,e,r,i)},s.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[i?i+t:t]:this._events=i?{}:Object.create(null),this):this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=i,void 0!==e&&(e.exports=s)},{}],4:[function(t,e,r){"use strict";var i=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;e.exports=Object.assign||function(t,e){for(var r,s,o=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),a=1;a<arguments.length;a++){for(var l in r=Object(arguments[a]))i.call(r,l)&&(o[l]=r[l]);if(Object.getOwnPropertySymbols){s=Object.getOwnPropertySymbols(r);for(var h=0;h<s.length;h++)n.call(r,s[h])&&(o[s[h]]=r[s[h]])}}return o}},{}],5:[function(t,e,r){(function(t){function e(t,e){for(var r=0,i=t.length-1;i>=0;i--){var n=t[i];"."===n?t.splice(i,1):".."===n?(t.splice(i,1),r++):r&&(t.splice(i,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,n=function(t){return i.exec(t).slice(1)};function s(t,e){if(t.filter)return t.filter(e);for(var r=[],i=0;i<t.length;i++)e(t[i],i,t)&&r.push(t[i]);return r}r.resolve=function(){for(var r="",i=!1,n=arguments.length-1;n>=-1&&!i;n--){var o=n>=0?arguments[n]:t.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(r=o+"/"+r,i="/"===o.charAt(0))}return r=e(s(r.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+r||"."},r.normalize=function(t){var i=r.isAbsolute(t),n="/"===o(t,-1);return(t=e(s(t.split("/"),function(t){return!!t}),!i).join("/"))||i||(t="."),t&&n&&(t+="/"),(i?"/":"")+t},r.isAbsolute=function(t){return"/"===t.charAt(0)},r.join=function(){var t=Array.prototype.slice.call(arguments,0);return r.normalize(s(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},r.relative=function(t,e){function i(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=r.resolve(t).substr(1),e=r.resolve(e).substr(1);for(var n=i(t.split("/")),s=i(e.split("/")),o=Math.min(n.length,s.length),a=o,l=0;l<o;l++)if(n[l]!==s[l]){a=l;break}var h=[];for(l=a;l<n.length;l++)h.push("..");return(h=h.concat(s.slice(a))).join("/")},r.sep="/",r.delimiter=":",r.dirname=function(t){var e=n(t),r=e[0],i=e[1];return r||i?(i&&(i=i.substr(0,i.length-1)),r+i):"."},r.basename=function(t,e){var r=n(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},r.extname=function(t){return n(t)[3]};var o="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,t("_process"))},{_process:6}],6:[function(t,e,r){var i,n=e.exports={},s=[],o=!1,a=-1;function l(){o=!1,i.length?s=i.concat(s):a=-1,s.length&&h()}function h(){if(!o){var t=setTimeout(l);o=!0;for(var e=s.length;e;){for(i=s,s=[];++a<e;)i&&i[a].run();a=-1,e=s.length}i=null,o=!1,clearTimeout(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];s.push(new u(t,e)),1!==s.length||o||setTimeout(h,0)},u.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=c,n.addListener=c,n.once=c,n.off=c,n.removeListener=c,n.removeAllListeners=c,n.emit=c,n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],7:[function(t,r,i){(function(t){!function(e){var n="object"==typeof i&&i&&!i.nodeType&&i,s="object"==typeof r&&r&&!r.nodeType&&r,o="object"==typeof t&&t;o.global!==o&&o.window!==o&&o.self!==o||(e=o);var a,l,h=2147483647,u=36,c=1,p=26,d=38,f=700,m=72,v=128,g="-",_=/^xn--/,y=/[^\x20-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},T=u-c,w=Math.floor,S=String.fromCharCode;function E(t){throw new RangeError(b[t])}function A(t,e){for(var r=t.length,i=[];r--;)i[r]=e(t[r]);return i}function P(t,e){var r=t.split("@"),i="";return r.length>1&&(i=r[0]+"@",t=r[1]),i+A((t=t.replace(x,".")).split("."),e).join(".")}function C(t){for(var e,r,i=[],n=0,s=t.length;n<s;)(e=t.charCodeAt(n++))>=55296&&e<=56319&&n<s?56320==(64512&(r=t.charCodeAt(n++)))?i.push(((1023&e)<<10)+(1023&r)+65536):(i.push(e),n--):i.push(e);return i}function R(t){return A(t,function(t){var e="";return t>65535&&(e+=S((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=S(t)}).join("")}function M(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:u}function O(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function $(t,e,r){var i=0;for(t=r?w(t/f):t>>1,t+=w(t/e);t>T*p>>1;i+=u)t=w(t/T);return w(i+(T+1)*t/(t+d))}function D(t){var e,r,i,n,s,o,a,l,d,f,_=[],y=t.length,x=0,b=v,T=m;for((r=t.lastIndexOf(g))<0&&(r=0),i=0;i<r;++i)t.charCodeAt(i)>=128&&E("not-basic"),_.push(t.charCodeAt(i));for(n=r>0?r+1:0;n<y;){for(s=x,o=1,a=u;n>=y&&E("invalid-input"),((l=M(t.charCodeAt(n++)))>=u||l>w((h-x)/o))&&E("overflow"),x+=l*o,!(l<(d=a<=T?c:a>=T+p?p:a-T));a+=u)o>w(h/(f=u-d))&&E("overflow"),o*=f;T=$(x-s,e=_.length+1,0==s),w(x/e)>h-b&&E("overflow"),b+=w(x/e),x%=e,_.splice(x++,0,b)}return R(_)}function L(t){var e,r,i,n,s,o,a,l,d,f,_,y,x,b,T,A=[];for(y=(t=C(t)).length,e=v,r=0,s=m,o=0;o<y;++o)(_=t[o])<128&&A.push(S(_));for(i=n=A.length,n&&A.push(g);i<y;){for(a=h,o=0;o<y;++o)(_=t[o])>=e&&_<a&&(a=_);for(a-e>w((h-r)/(x=i+1))&&E("overflow"),r+=(a-e)*x,e=a,o=0;o<y;++o)if((_=t[o])<e&&++r>h&&E("overflow"),_==e){for(l=r,d=u;!(l<(f=d<=s?c:d>=s+p?p:d-s));d+=u)T=l-f,b=u-f,A.push(S(O(f+T%b,0))),l=w(T/b);A.push(S(O(l,0))),s=$(r,x,i==n),r=0,++i}++r,++e}return A.join("")}if(a={version:"1.3.2",ucs2:{decode:C,encode:R},decode:D,encode:L,toASCII:function(t){return P(t,function(t){return y.test(t)?"xn--"+L(t):t})},toUnicode:function(t){return P(t,function(t){return _.test(t)?D(t.slice(4).toLowerCase()):t})}},n&&s)if(r.exports==n)s.exports=a;else for(l in a)a.hasOwnProperty(l)&&(n[l]=a[l]);else e.punycode=a}(this)}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(t,e,r){"use strict";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,r,s){e=e||"&",r=r||"=";var o={};if("string"!=typeof t||0===t.length)return o;var a=/\+/g;t=t.split(e);var l=1e3;s&&"number"==typeof s.maxKeys&&(l=s.maxKeys);var h=t.length;l>0&&h>l&&(h=l);for(var u=0;u<h;++u){var c,p,d,f,m=t[u].replace(a,"%20"),v=m.indexOf(r);v>=0?(c=m.substr(0,v),p=m.substr(v+1)):(c=m,p=""),d=decodeURIComponent(c),f=decodeURIComponent(p),i(o,d)?n(o[d])?o[d].push(f):o[d]=[o[d],f]:o[d]=f}return o};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],9:[function(t,e,r){"use strict";var i=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,r,a){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?s(o(t),function(o){var a=encodeURIComponent(i(o))+r;return n(t[o])?s(t[o],function(t){return a+encodeURIComponent(i(t))}).join(e):a+encodeURIComponent(i(t[o]))}).join(e):a?encodeURIComponent(i(a))+r+encodeURIComponent(i(t)):""};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function s(t,e){if(t.map)return t.map(e);for(var r=[],i=0;i<t.length;i++)r.push(e(t[i],i));return r}var o=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},{}],10:[function(t,e,r){"use strict";r.decode=r.parse=t("./decode"),r.encode=r.stringify=t("./encode")},{"./decode":8,"./encode":9}],11:[function(t,e,i){(function(t){
/*!
 * async
 * https://github.com/caolan/async
 *
 * Copyright 2010-2014 Caolan McMahon
 * Released under the MIT license
 */
!function(){var i,n,s={};function o(t){var e=!1;return function(){if(e)throw new Error("Callback was already called.");e=!0,t.apply(i,arguments)}}null!=(i=this)&&(n=i.async),s.noConflict=function(){return i.async=n,s};var a=Object.prototype.toString,l=Array.isArray||function(t){return"[object Array]"===a.call(t)},h=function(t,e){for(var r=0;r<t.length;r+=1)e(t[r],r,t)},u=function(t,e){if(t.map)return t.map(e);var r=[];return h(t,function(t,i,n){r.push(e(t,i,n))}),r},c=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e};void 0!==t&&t.nextTick?(s.nextTick=t.nextTick,s.setImmediate=void 0!==r?function(t){r(t)}:s.nextTick):"function"==typeof r?(s.nextTick=function(t){r(t)},s.setImmediate=s.nextTick):(s.nextTick=function(t){setTimeout(t,0)},s.setImmediate=s.nextTick),s.each=function(t,e,r){if(r=r||function(){},!t.length)return r();var i=0;function n(e){e?(r(e),r=function(){}):(i+=1)>=t.length&&r()}h(t,function(t){e(t,o(n))})},s.forEach=s.each,s.eachSeries=function(t,e,r){if(r=r||function(){},!t.length)return r();var i=0,n=function(){e(t[i],function(e){e?(r(e),r=function(){}):(i+=1)>=t.length?r():n()})};n()},s.forEachSeries=s.eachSeries,s.eachLimit=function(t,e,r,i){p(e).apply(null,[t,r,i])},s.forEachLimit=s.eachLimit;var p=function(t){return function(e,r,i){if(i=i||function(){},!e.length||t<=0)return i();var n=0,s=0,o=0;!function a(){if(n>=e.length)return i();for(;o<t&&s<e.length;)o+=1,r(e[(s+=1)-1],function(t){t?(i(t),i=function(){}):(o-=1,(n+=1)>=e.length?i():a())})}()}},d=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[s.each].concat(e))}},f=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[s.eachSeries].concat(e))}},m=function(t,e,r,i){if(e=u(e,function(t,e){return{index:e,value:t}}),i){var n=[];t(e,function(t,e){r(t.value,function(r,i){n[t.index]=i,e(r)})},function(t){i(t,n)})}else t(e,function(t,e){r(t.value,function(t){e(t)})})};s.map=d(m),s.mapSeries=f(m),s.mapLimit=function(t,e,r,i){return v(e)(t,r,i)};var v=function(t){return function(t,e){return function(){var r=Array.prototype.slice.call(arguments);return e.apply(null,[p(t)].concat(r))}}(t,m)};s.reduce=function(t,e,r,i){s.eachSeries(t,function(t,i){r(e,t,function(t,r){e=r,i(t)})},function(t){i(t,e)})},s.inject=s.reduce,s.foldl=s.reduce,s.reduceRight=function(t,e,r,i){var n=u(t,function(t){return t}).reverse();s.reduce(n,e,r,i)},s.foldr=s.reduceRight;var g=function(t,e,r,i){var n=[];t(e=u(e,function(t,e){return{index:e,value:t}}),function(t,e){r(t.value,function(r){r&&n.push(t),e()})},function(t){i(u(n.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};s.filter=d(g),s.filterSeries=f(g),s.select=s.filter,s.selectSeries=s.filterSeries;var _=function(t,e,r,i){var n=[];t(e=u(e,function(t,e){return{index:e,value:t}}),function(t,e){r(t.value,function(r){r||n.push(t),e()})},function(t){i(u(n.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};s.reject=d(_),s.rejectSeries=f(_);var y=function(t,e,r,i){t(e,function(t,e){r(t,function(r){r?(i(t),i=function(){}):e()})},function(t){i()})};s.detect=d(y),s.detectSeries=f(y),s.some=function(t,e,r){s.each(t,function(t,i){e(t,function(t){t&&(r(!0),r=function(){}),i()})},function(t){r(!1)})},s.any=s.some,s.every=function(t,e,r){s.each(t,function(t,i){e(t,function(t){t||(r(!1),r=function(){}),i()})},function(t){r(!0)})},s.all=s.every,s.sortBy=function(t,e,r){s.map(t,function(t,r){e(t,function(e,i){e?r(e):r(null,{value:t,criteria:i})})},function(t,e){if(t)return r(t);r(null,u(e.sort(function(t,e){var r=t.criteria,i=e.criteria;return r<i?-1:r>i?1:0}),function(t){return t.value}))})},s.auto=function(t,e){e=e||function(){};var r=c(t),i=r.length;if(!i)return e();var n={},o=[],a=function(t){o.unshift(t)},u=function(){i--,h(o.slice(0),function(t){t()})};a(function(){if(!i){var t=e;e=function(){},t(null,n)}}),h(r,function(r){var i=l(t[r])?t[r]:[t[r]],p=function(t){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1&&(i=i[0]),t){var o={};h(c(n),function(t){o[t]=n[t]}),o[r]=i,e(t,o),e=function(){}}else n[r]=i,s.setImmediate(u)},d=i.slice(0,Math.abs(i.length-1))||[],f=function(){return function(t,e,r){return t.reduce?t.reduce(e,r):(h(t,function(t,i,n){r=e(r,t,i,n)}),r)}(d,function(t,e){return t&&n.hasOwnProperty(e)},!0)&&!n.hasOwnProperty(r)};if(f())i[i.length-1](p,n);else{var m=function(){f()&&(!function(t){for(var e=0;e<o.length;e+=1)if(o[e]===t)return void o.splice(e,1)}(m),i[i.length-1](p,n))};a(m)}})},s.retry=function(t,e,r){var i=[];"function"==typeof t&&(r=e,e=t,t=5),t=parseInt(t,10)||5;var n=function(n,o){for(var a=function(t,e){return function(r){t(function(t,i){r(!t||e,{err:t,result:i})},o)}};t;)i.push(a(e,!(t-=1)));s.series(i,function(t,e){e=e[e.length-1],(n||r)(e.err,e.result)})};return r?n():n},s.waterfall=function(t,e){if(e=e||function(){},!l(t)){var r=new Error("First argument to waterfall must be an array of functions");return e(r)}if(!t.length)return e();var i=function(t){return function(r){if(r)e.apply(null,arguments),e=function(){};else{var n=Array.prototype.slice.call(arguments,1),o=t.next();o?n.push(i(o)):n.push(e),s.setImmediate(function(){t.apply(null,n)})}}};i(s.iterator(t))()};var x=function(t,e,r){if(r=r||function(){},l(e))t.map(e,function(t,e){t&&t(function(t){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),e.call(null,t,r)})},r);else{var i={};t.each(c(e),function(t,r){e[t](function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),i[t]=n,r(e)})},function(t){r(t,i)})}};s.parallel=function(t,e){x({map:s.map,each:s.each},t,e)},s.parallelLimit=function(t,e,r){x({map:v(e),each:p(e)},t,r)},s.series=function(t,e){if(e=e||function(){},l(t))s.mapSeries(t,function(t,e){t&&t(function(t){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),e.call(null,t,r)})},e);else{var r={};s.eachSeries(c(t),function(e,i){t[e](function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),r[e]=n,i(t)})},function(t){e(t,r)})}},s.iterator=function(t){var e=function(r){var i=function(){return t.length&&t[r].apply(null,arguments),i.next()};return i.next=function(){return r<t.length-1?e(r+1):null},i};return e(0)},s.apply=function(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e.concat(Array.prototype.slice.call(arguments)))}};var b=function(t,e,r,i){var n=[];t(e,function(t,e){r(t,function(t,r){n=n.concat(r||[]),e(t)})},function(t){i(t,n)})};s.concat=d(b),s.concatSeries=f(b),s.whilst=function(t,e,r){t()?e(function(i){if(i)return r(i);s.whilst(t,e,r)}):r()},s.doWhilst=function(t,e,r){t(function(i){if(i)return r(i);var n=Array.prototype.slice.call(arguments,1);e.apply(null,n)?s.doWhilst(t,e,r):r()})},s.until=function(t,e,r){t()?r():e(function(i){if(i)return r(i);s.until(t,e,r)})},s.doUntil=function(t,e,r){t(function(i){if(i)return r(i);var n=Array.prototype.slice.call(arguments,1);e.apply(null,n)?r():s.doUntil(t,e,r)})},s.queue=function(t,e){function r(t,e,r,i){if(t.started||(t.started=!0),l(e)||(e=[e]),0==e.length)return s.setImmediate(function(){t.drain&&t.drain()});h(e,function(e){var n={data:e,callback:"function"==typeof i?i:null};r?t.tasks.unshift(n):t.tasks.push(n),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),s.setImmediate(t.process)})}void 0===e&&(e=1);var i=0,n={tasks:[],concurrency:e,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(t,e){r(n,t,!1,e)},kill:function(){n.drain=null,n.tasks=[]},unshift:function(t,e){r(n,t,!0,e)},process:function(){if(!n.paused&&i<n.concurrency&&n.tasks.length){var e=n.tasks.shift();n.empty&&0===n.tasks.length&&n.empty(),i+=1;var r=o(function(){i-=1,e.callback&&e.callback.apply(e,arguments),n.drain&&n.tasks.length+i===0&&n.drain(),n.process()});t(e.data,r)}},length:function(){return n.tasks.length},running:function(){return i},idle:function(){return n.tasks.length+i===0},pause:function(){!0!==n.paused&&(n.paused=!0)},resume:function(){if(!1!==n.paused){n.paused=!1;for(var t=1;t<=n.concurrency;t++)s.setImmediate(n.process)}}};return n},s.priorityQueue=function(t,e){function r(t,e){return t.priority-e.priority}var i=s.queue(t,e);return i.push=function(t,e,n){!function(t,e,i,n){if(t.started||(t.started=!0),l(e)||(e=[e]),0==e.length)return s.setImmediate(function(){t.drain&&t.drain()});h(e,function(e){var o={data:e,priority:i,callback:"function"==typeof n?n:null};t.tasks.splice(function(t,e,r){for(var i=-1,n=t.length-1;i<n;){var s=i+(n-i+1>>>1);r(e,t[s])>=0?i=s:n=s-1}return i}(t.tasks,o,r)+1,0,o),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),s.setImmediate(t.process)})}(i,t,e,n)},delete i.unshift,i},s.cargo=function(t,e){var r=!1,i=[],n={tasks:i,payload:e,saturated:null,empty:null,drain:null,drained:!0,push:function(t,r){l(t)||(t=[t]),h(t,function(t){i.push({data:t,callback:"function"==typeof r?r:null}),n.drained=!1,n.saturated&&i.length===e&&n.saturated()}),s.setImmediate(n.process)},process:function s(){if(!r){if(0===i.length)return n.drain&&!n.drained&&n.drain(),void(n.drained=!0);var o="number"==typeof e?i.splice(0,e):i.splice(0,i.length),a=u(o,function(t){return t.data});n.empty&&n.empty(),r=!0,t(a,function(){r=!1;var t=arguments;h(o,function(e){e.callback&&e.callback.apply(null,t)}),s()})}},length:function(){return i.length},running:function(){return r}};return n};var T=function(t){return function(e){var r=Array.prototype.slice.call(arguments,1);e.apply(null,r.concat([function(e){var r=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(e?console.error&&console.error(e):console[t]&&h(r,function(e){console[t](e)}))}]))}};s.log=T("log"),s.dir=T("dir"),s.memoize=function(t,e){var r={},i={};e=e||function(t){return t};var n=function(){var n=Array.prototype.slice.call(arguments),o=n.pop(),a=e.apply(null,n);a in r?s.nextTick(function(){o.apply(null,r[a])}):a in i?i[a].push(o):(i[a]=[o],t.apply(null,n.concat([function(){r[a]=arguments;var t=i[a];delete i[a];for(var e=0,n=t.length;e<n;e++)t[e].apply(null,arguments)}])))};return n.memo=r,n.unmemoized=t,n},s.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},s.times=function(t,e,r){for(var i=[],n=0;n<t;n++)i.push(n);return s.map(i,e,r)},s.timesSeries=function(t,e,r){for(var i=[],n=0;n<t;n++)i.push(n);return s.mapSeries(i,e,r)},s.seq=function(){var t=arguments;return function(){var e=this,r=Array.prototype.slice.call(arguments),i=r.pop();s.reduce(t,r,function(t,r,i){r.apply(e,t.concat([function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);i(t,e)}]))},function(t,r){i.apply(e,[t].concat(r))})}},s.compose=function(){return s.seq.apply(null,Array.prototype.reverse.call(arguments))};var w=function(t,e){var r=function(){var r=this,i=Array.prototype.slice.call(arguments),n=i.pop();return t(e,function(t,e){t.apply(r,i.concat([e]))},n)};if(arguments.length>2){var i=Array.prototype.slice.call(arguments,2);return r.apply(this,i)}return r};s.applyEach=d(w),s.applyEachSeries=f(w),s.forever=function(t,e){!function r(i){if(i){if(e)return e(i);throw i}t(r)}()},void 0!==e&&e.exports?e.exports=s:i.async=s}()}).call(this,t("_process"))},{_process:6}],12:[function(t,e,r){var i=t("async"),n=t("url"),s=t("./Resource"),o=t("eventemitter3");function a(t,e){o.call(this),e=e||10,this.baseUrl=t||"",this.progress=0,this.loading=!1,this._progressChunk=0,this._beforeMiddleware=[],this._afterMiddleware=[],this._boundLoadResource=this._loadResource.bind(this),this._boundOnLoad=this._onLoad.bind(this),this._buffer=[],this._numToLoad=0,this._queue=i.queue(this._boundLoadResource,e),this.resources={}}a.prototype=Object.create(o.prototype),a.prototype.constructor=a,e.exports=a,a.prototype.add=a.prototype.enqueue=function(t,e,r,i){if(Array.isArray(t)){for(var n=0;n<t.length;++n)this.add(t[n]);return this}if("object"==typeof t&&(i=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(i=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(i=r,r=null),this.resources[t])throw new Error('Resource with name "'+t+'" already exists.');return e=this._handleBaseUrl(e),this.resources[t]=new s(t,e,r),"function"==typeof i&&this.resources[t].once("afterMiddleware",i),this._numToLoad++,this._queue.started?(this._queue.push(this.resources[t]),this._progressChunk=(100-this.progress)/(this._queue.length()+this._queue.running())):(this._buffer.push(this.resources[t]),this._progressChunk=100/this._buffer.length),this},a.prototype._handleBaseUrl=function(t){var e=n.parse(t);return e.protocol||0===e.pathname.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&t.lastIndexOf("/")!==t.length-1?this.baseUrl+"/"+t:this.baseUrl+t},a.prototype.before=a.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},a.prototype.after=a.prototype.use=function(t){return this._afterMiddleware.push(t),this},a.prototype.reset=function(){this.progress=0,this.loading=!1,this._progressChunk=0,this._buffer.length=0,this._numToLoad=0,this._queue.kill(),this._queue.started=!1,this.resources={}},a.prototype.load=function(t){if("function"==typeof t&&this.once("complete",t),this._queue.started)return this;this.emit("start",this);for(var e=0;e<this._buffer.length;++e)this._queue.push(this._buffer[e]);return this._buffer.length=0,this},a.prototype._loadResource=function(t,e){var r=this;t._dequeue=e,this._runMiddleware(t,this._beforeMiddleware,function(){t.load(r._boundOnLoad)})},a.prototype._onComplete=function(){this.emit("complete",this,this.resources)},a.prototype._onLoad=function(t){this.progress+=this._progressChunk,this.emit("progress",this,t),this._runMiddleware(t,this._afterMiddleware,function(){t.emit("afterMiddleware",t),this._numToLoad--,0===this._numToLoad&&(this.progress=100,this._onComplete()),t.error?this.emit("error",t.error,this,t):this.emit("load",this,t)}),t._dequeue()},a.prototype._runMiddleware=function(t,e,r){var n=this;i.eachSeries(e,function(e,r){e.call(n,t,r)},r.bind(this,t))},a.LOAD_TYPE=s.LOAD_TYPE,a.XHR_READY_STATE=s.XHR_READY_STATE,a.XHR_RESPONSE_TYPE=s.XHR_RESPONSE_TYPE},{"./Resource":13,async:11,eventemitter3:3,url:18}],13:[function(t,e,r){var i=t("eventemitter3"),n=t("url"),s=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),o=null;function a(t,e,r){if(i.call(this),r=r||{},"string"!=typeof t||"string"!=typeof e)throw new Error("Both name and url are required for constructing a resource.");this.name=t,this.url=e,this.isDataUrl=0===this.url.indexOf("data:"),this.data=null,this.crossOrigin=!0===r.crossOrigin?"anonymous":null,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.isJson=!1,this.isXml=!1,this.isImage=!1,this.isAudio=!1,this.isVideo=!1,this._dequeue=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this)}function l(t){return t.toString().replace("object ","")}function h(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}a.prototype=Object.create(i.prototype),a.prototype.constructor=a,e.exports=a,a.prototype.complete=function(){this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError),this.data.removeEventListener("load",this._boundComplete),this.data.removeEventListener("progress",this._boundOnProgress),this.data.removeEventListener("canplaythrough",this._boundComplete)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError),this.xhr.removeEventListener("abort",this._boundXhrOnAbort),this.xhr.removeEventListener("progress",this._boundOnProgress),this.xhr.removeEventListener("load",this._boundXhrOnLoad)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.emit("complete",this)},a.prototype.load=function(t){switch(this.emit("start",this),t&&this.once("complete",t),"string"!=typeof this.crossOrigin&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case a.LOAD_TYPE.IMAGE:this._loadImage();break;case a.LOAD_TYPE.AUDIO:this._loadElement("audio");break;case a.LOAD_TYPE.VIDEO:this._loadElement("video");break;case a.LOAD_TYPE.XHR:default:s&&this.crossOrigin?this._loadXdr():this._loadXhr()}},a.prototype._loadImage=function(){this.data=new Image,this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.data.src=this.url,this.isImage=!0,this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},a.prototype._loadElement=function(t){if("audio"===t&&"undefined"!=typeof Audio?this.data=new Audio:this.data=document.createElement(t),null===this.data)return this.error=new Error("Unsupported element "+t),void this.complete();if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=0;e<this.url.length;++e)this.data.appendChild(this._createSource(t,this.url[e]));else this.data.appendChild(this._createSource(t,this.url));this["is"+t[0].toUpperCase()+t.substring(1)]=!0,this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()},a.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),this.xhrType===a.XHR_RESPONSE_TYPE.JSON||this.xhrType===a.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=a.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},a.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXdrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){t.send()},0)},a.prototype._createSource=function(t,e,r){r||(r=t+"/"+e.substr(e.lastIndexOf(".")+1));var i=document.createElement("source");return i.src=e,i.type=r,i},a.prototype._onError=function(t){this.error=new Error("Failed to load element using "+t.target.nodeName),this.complete()},a.prototype._onProgress=function(t){t&&t.lengthComputable&&this.emit("progress",this,t.loaded/t.total)},a.prototype._xhrOnError=function(){this.error=new Error(l(this.xhr)+" Request failed. Status: "+this.xhr.status+', text: "'+this.xhr.statusText+'"'),this.complete()},a.prototype._xhrOnAbort=function(){this.error=new Error(l(this.xhr)+" Request was aborted by the user."),this.complete()},a.prototype._xdrOnTimeout=function(){this.error=new Error(l(this.xhr)+" Request timed out."),this.complete()},a.prototype._xhrOnLoad=function(){var t=this.xhr,e=void 0!==t.status?t.status:200;if(200===e||204===e||0===e&&t.responseText.length>0)if(this.xhrType===a.XHR_RESPONSE_TYPE.TEXT)this.data=t.responseText;else if(this.xhrType===a.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(t.responseText),this.isJson=!0}catch(t){this.error=new Error("Error trying to parse loaded json:",t)}else if(this.xhrType===a.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var r=new DOMParser;this.data=r.parseFromString(t.responseText,"text/xml")}else{var i=document.createElement("div");i.innerHTML=t.responseText,this.data=i}this.isXml=!0}catch(t){this.error=new Error("Error trying to parse loaded xml:",t)}else this.data=t.response||t.responseText;else this.error=new Error("["+t.status+"]"+t.statusText+":"+t.responseURL);this.complete()},a.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";e=e||window.location,o||(o=document.createElement("a")),o.href=t;var r=!(t=n.parse(o.href)).port&&""===e.port||t.port===e.port;return t.hostname===e.hostname&&r&&t.protocol===e.protocol?"":"anonymous"},a.prototype._determineXhrType=function(){return a._xhrTypeMap[this._getExtension()]||a.XHR_RESPONSE_TYPE.TEXT},a.prototype._determineLoadType=function(){return a._loadTypeMap[this._getExtension()]||a.LOAD_TYPE.XHR},a.prototype._getExtension=function(){var t,e=this.url;if(this.isDataUrl){var r=e.indexOf("/");t=e.substring(r+1,e.indexOf(";",r))}else{var i=e.indexOf("?");-1!==i&&(e=e.substring(0,i)),t=e.substring(e.lastIndexOf(".")+1)}return t},a.prototype._getMimeFromXhrType=function(t){switch(t){case a.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case a.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case a.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case a.XHR_RESPONSE_TYPE.JSON:return"application/json";case a.XHR_RESPONSE_TYPE.DEFAULT:case a.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},a.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},a.XHR_READY_STATE={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},a.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},a._loadTypeMap={gif:a.LOAD_TYPE.IMAGE,png:a.LOAD_TYPE.IMAGE,bmp:a.LOAD_TYPE.IMAGE,jpg:a.LOAD_TYPE.IMAGE,jpeg:a.LOAD_TYPE.IMAGE,tif:a.LOAD_TYPE.IMAGE,tiff:a.LOAD_TYPE.IMAGE,webp:a.LOAD_TYPE.IMAGE,tga:a.LOAD_TYPE.IMAGE},a._xhrTypeMap={xhtml:a.XHR_RESPONSE_TYPE.DOCUMENT,html:a.XHR_RESPONSE_TYPE.DOCUMENT,htm:a.XHR_RESPONSE_TYPE.DOCUMENT,xml:a.XHR_RESPONSE_TYPE.DOCUMENT,tmx:a.XHR_RESPONSE_TYPE.DOCUMENT,tsx:a.XHR_RESPONSE_TYPE.DOCUMENT,svg:a.XHR_RESPONSE_TYPE.DOCUMENT,gif:a.XHR_RESPONSE_TYPE.BLOB,png:a.XHR_RESPONSE_TYPE.BLOB,bmp:a.XHR_RESPONSE_TYPE.BLOB,jpg:a.XHR_RESPONSE_TYPE.BLOB,jpeg:a.XHR_RESPONSE_TYPE.BLOB,tif:a.XHR_RESPONSE_TYPE.BLOB,tiff:a.XHR_RESPONSE_TYPE.BLOB,webp:a.XHR_RESPONSE_TYPE.BLOB,tga:a.XHR_RESPONSE_TYPE.BLOB,json:a.XHR_RESPONSE_TYPE.JSON,text:a.XHR_RESPONSE_TYPE.TEXT,txt:a.XHR_RESPONSE_TYPE.TEXT},a.setExtensionLoadType=function(t,e){h(a._loadTypeMap,t,e)},a.setExtensionXhrType=function(t,e){h(a._xhrTypeMap,t,e)}},{eventemitter3:3,url:18}],14:[function(t,e,r){e.exports={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encodeBinary:function(t){for(var e,r="",i=new Array(4),n=0,s=0;n<t.length;){for(e=new Array(3),s=0;s<e.length;s++)n<t.length?e[s]=255&t.charCodeAt(n++):e[s]=0;switch(i[0]=e[0]>>2,i[1]=(3&e[0])<<4|e[1]>>4,i[2]=(15&e[1])<<2|e[2]>>6,i[3]=63&e[2],n-(t.length-1)){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(s=0;s<i.length;s++)r+=this._keyStr.charAt(i[s])}return r}}},{}],15:[function(t,e,r){e.exports=t("./Loader"),e.exports.Resource=t("./Resource"),e.exports.middleware={caching:{memory:t("./middlewares/caching/memory")},parsing:{blob:t("./middlewares/parsing/blob")}}},{"./Loader":12,"./Resource":13,"./middlewares/caching/memory":16,"./middlewares/parsing/blob":17}],16:[function(t,e,r){var i={};e.exports=function(){return function(t,e){i[t.url]?(t.data=i[t.url],t.complete()):t.once("complete",function(){i[this.url]=this.data}),e()}}},{}],17:[function(t,e,r){var i=t("../../Resource"),n=t("../../b64");window.URL=window.URL||window.webkitURL,e.exports=function(){return function(t,e){if(!t.data)return e();if(t.xhr&&t.xhrType===i.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=URL.createObjectURL(t.data);t.blob=t.data,t.data=new Image,t.data.src=r,t.isImage=!0,t.data.onload=function(){URL.revokeObjectURL(r),t.data.onload=null,e()}}}else{var s=t.xhr.getResponseHeader("content-type");s&&0===s.indexOf("image")&&(t.data=new Image,t.data.src="data:"+s+";base64,"+n.encodeBinary(t.xhr.responseText),t.isImage=!0,t.data.onload=function(){t.data.onload=null,e()})}else e()}}},{"../../Resource":13,"../../b64":14}],18:[function(t,e,r){var i=t("punycode");function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}r.parse=g,r.resolve=function(t,e){return g(t,!1,!0).resolve(e)},r.resolveObject=function(t,e){return t?g(t,!1,!0).resolveObject(e):e},r.format=function(t){_(t)&&(t=g(t));return t instanceof n?t.format():n.prototype.format.call(t)},r.Url=n;var s=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,a=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(a),h=["%","/","?",";","#"].concat(l),u=["/","?","#"],c=/^[a-z0-9A-Z_-]{0,63}$/,p=/^([a-z0-9A-Z_-]{0,63})(.*)$/,d={javascript:!0,"javascript:":!0},f={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=t("querystring");function g(t,e,r){if(t&&y(t)&&t instanceof n)return t;var i=new n;return i.parse(t,e,r),i}function _(t){return"string"==typeof t}function y(t){return"object"==typeof t&&null!==t}function x(t){return null===t}n.prototype.parse=function(t,e,r){if(!_(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t;n=n.trim();var o=s.exec(n);if(o){var a=(o=o[0]).toLowerCase();this.protocol=a,n=n.substr(o.length)}if(r||o||n.match(/^\/\/[^@\/]+@[^@\/]+/)){var g="//"===n.substr(0,2);!g||o&&f[o]||(n=n.substr(2),this.slashes=!0)}if(!f[o]&&(g||o&&!m[o])){for(var y,x,b=-1,T=0;T<u.length;T++){-1!==(w=n.indexOf(u[T]))&&(-1===b||w<b)&&(b=w)}-1!==(x=-1===b?n.lastIndexOf("@"):n.lastIndexOf("@",b))&&(y=n.slice(0,x),n=n.slice(x+1),this.auth=decodeURIComponent(y)),b=-1;for(T=0;T<h.length;T++){var w;-1!==(w=n.indexOf(h[T]))&&(-1===b||w<b)&&(b=w)}-1===b&&(b=n.length),this.host=n.slice(0,b),n=n.slice(b),this.parseHost(),this.hostname=this.hostname||"";var S="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!S)for(var E=this.hostname.split(/\./),A=(T=0,E.length);T<A;T++){var P=E[T];if(P&&!P.match(c)){for(var C="",R=0,M=P.length;R<M;R++)P.charCodeAt(R)>127?C+="x":C+=P[R];if(!C.match(c)){var O=E.slice(0,T),$=E.slice(T+1),D=P.match(p);D&&(O.push(D[1]),$.unshift(D[2])),$.length&&(n="/"+$.join(".")+n),this.hostname=O.join(".");break}}}if(this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),!S){var L=this.hostname.split("."),F=[];for(T=0;T<L.length;++T){var I=L[T];F.push(I.match(/[^A-Za-z0-9_-]/)?"xn--"+i.encode(I):I)}this.hostname=F.join(".")}var k=this.port?":"+this.port:"",N=this.hostname||"";this.host=N+k,this.href+=this.host,S&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==n[0]&&(n="/"+n))}if(!d[a])for(T=0,A=l.length;T<A;T++){var B=l[T],j=encodeURIComponent(B);j===B&&(j=escape(B)),n=n.split(B).join(j)}var U=n.indexOf("#");-1!==U&&(this.hash=n.substr(U),n=n.slice(0,U));var H=n.indexOf("?");if(-1!==H?(this.search=n.substr(H),this.query=n.substr(H+1),e&&(this.query=v.parse(this.query)),n=n.slice(0,H)):e&&(this.search="",this.query={}),n&&(this.pathname=n),m[a]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){k=this.pathname||"",I=this.search||"";this.path=k+I}return this.href=this.format(),this},n.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",i=this.hash||"",n=!1,s="";this.host?n=t+this.host:this.hostname&&(n=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&y(this.query)&&Object.keys(this.query).length&&(s=v.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||m[e])&&!1!==n?(n="//"+(n||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):n||(n=""),i&&"#"!==i.charAt(0)&&(i="#"+i),o&&"?"!==o.charAt(0)&&(o="?"+o),e+n+(r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(o=o.replace("#","%23"))+i},n.prototype.resolve=function(t){return this.resolveObject(g(t,!1,!0)).format()},n.prototype.resolveObject=function(t){if(_(t)){var e=new n;e.parse(t,!1,!0),t=e}var r=new n;if(Object.keys(this).forEach(function(t){r[t]=this[t]},this),r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol)return Object.keys(t).forEach(function(e){"protocol"!==e&&(r[e]=t[e])}),m[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r;if(t.protocol&&t.protocol!==r.protocol){if(!m[t.protocol])return Object.keys(t).forEach(function(e){r[e]=t[e]}),r.href=r.format(),r;if(r.protocol=t.protocol,t.host||f[t.protocol])r.pathname=t.pathname;else{for(var i=(t.pathname||"").split("/");i.length&&!(t.host=i.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==i[0]&&i.unshift(""),i.length<2&&i.unshift(""),r.pathname=i.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var s=r.pathname||"",o=r.search||"";r.path=s+o}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var a=r.pathname&&"/"===r.pathname.charAt(0),l=t.host||t.pathname&&"/"===t.pathname.charAt(0),h=l||a||r.host&&t.pathname,u=h,c=r.pathname&&r.pathname.split("/")||[],p=(i=t.pathname&&t.pathname.split("/")||[],r.protocol&&!m[r.protocol]);if(p&&(r.hostname="",r.port=null,r.host&&(""===c[0]?c[0]=r.host:c.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===i[0]?i[0]=t.host:i.unshift(t.host)),t.host=null),h=h&&(""===i[0]||""===c[0])),l)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,c=i;else if(i.length)c||(c=[]),c.pop(),c=c.concat(i),r.search=t.search,r.query=t.query;else if(!function(t){return null==t}(t.search)){if(p)r.hostname=r.host=c.shift(),(b=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=b.shift(),r.host=r.hostname=b.shift());return r.search=t.search,r.query=t.query,x(r.pathname)&&x(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!c.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var d=c.slice(-1)[0],v=(r.host||t.host)&&("."===d||".."===d)||""===d,g=0,y=c.length;y>=0;y--)"."==(d=c[y])?c.splice(y,1):".."===d?(c.splice(y,1),g++):g&&(c.splice(y,1),g--);if(!h&&!u)for(;g--;g)c.unshift("..");!h||""===c[0]||c[0]&&"/"===c[0].charAt(0)||c.unshift(""),v&&"/"!==c.join("/").substr(-1)&&c.push("");var b,T=""===c[0]||c[0]&&"/"===c[0].charAt(0);p&&(r.hostname=r.host=T?"":c.length?c.shift():"",(b=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=b.shift(),r.host=r.hostname=b.shift()));return(h=h||r.host&&c.length)&&!T&&c.unshift(""),c.length?r.pathname=c.join("/"):(r.pathname=null,r.path=null),x(r.pathname)&&x(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},n.prototype.parseHost=function(){var t=this.host,e=o.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{punycode:7,querystring:10}],19:[function(t,e,r){e.exports={name:"pixi.js",version:"3.0.8",description:"Pixi.js is a fast lightweight 2D library that works across all devices.",author:"Mat Groves",contributors:["Chad Engler <chad@pantherdev.com>","Richard Davey <rdavey@gmail.com>"],main:"./src/index.js",homepage:"http://goodboydigital.com/",bugs:"https://github.com/pixijs/pixi.js/issues",license:"MIT",repository:{type:"git",url:"https://github.com/pixijs/pixi.js.git"},scripts:{start:"gulp && gulp watch",test:"gulp && testem ci",build:"gulp",docs:"jsdoc -c ./gulp/util/jsdoc.conf.json -R README.md"},files:["bin/","src/","CONTRIBUTING.md","LICENSE","package.json","README.md"],dependencies:{async:"^1.4.2",brfs:"^1.4.1",earcut:"^2.0.2",eventemitter3:"^1.1.1","gulp-header":"^1.7.1","object-assign":"^4.0.1","resource-loader":"^1.6.2"},devDependencies:{browserify:"^11.1.0",chai:"^3.2.0",del:"^2.0.2",gulp:"^3.9.0","gulp-cached":"^1.1.0","gulp-concat":"^2.6.0","gulp-debug":"^2.1.0","gulp-jshint":"^1.11.2","gulp-mirror":"^0.4.0","gulp-plumber":"^1.0.1","gulp-rename":"^1.2.2","gulp-sourcemaps":"^1.5.2","gulp-uglify":"^1.4.1","gulp-util":"^3.0.6","jaguarjs-jsdoc":"git+https://github.com/davidshimjs/jaguarjs-jsdoc.git",jsdoc:"^3.3.2","jshint-summary":"^0.4.0",minimist:"^1.2.0",mocha:"^2.3.2","require-dir":"^0.3.0","run-sequence":"^1.1.2",testem:"^0.9.4","vinyl-buffer":"^1.0.0","vinyl-source-stream":"^1.1.0",watchify:"^3.4.0"},browserify:{transform:["brfs"]}}},{}],20:[function(t,e,r){var i=t("../core");function n(t){var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.zIndex=2,this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,window.addEventListener("keydown",this._onKeyDown,!1)}Object.assign(i.DisplayObject.prototype,t("./accessibleTarget")),n.prototype.constructor=n,e.exports=n,n.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode.appendChild(this.div))},n.prototype.deactivate=function(){this.isActive&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode.removeChild(this.div))},n.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,r=e.length-1;r>=0;r--)this.updateAccessibleObjects(e[r])}},n.prototype.update=function(){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,r=t.height/this.renderer.height,n=this.div;n.style.left=t.left+"px",n.style.top=t.top+"px",n.style.width=this.renderer.width+"px",n.style.height=this.renderer.height+"px";for(var s=0;s<this.children.length;s++){var o=this.children[s];if(o.renderId!==this.renderId)o._accessibleActive=!1,i.utils.removeItems(this.children,s,1),this.div.removeChild(o._accessibleDiv),this.pool.push(o._accessibleDiv),o._accessibleDiv=null,s--,0===this.children.length&&this.deactivate();else{n=o._accessibleDiv;var a=o.hitArea,l=o.worldTransform;o.hitArea?(n.style.left=(l.tx+a.x*l.a)*e+"px",n.style.top=(l.ty+a.y*l.d)*r+"px",n.style.width=a.width*l.a*e+"px",n.style.height=a.height*l.d*r+"px"):(a=o.getBounds(),this.capHitArea(a),n.style.left=a.x*e+"px",n.style.top=a.y*r+"px",n.style.width=a.width*e+"px",n.style.height=a.height*r+"px")}}this.renderId++},n.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},n.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2,e.style.borderStyle="none",e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.title=t.accessibleTitle||"displayObject "+this.tabIndex,t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},n.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData)},n.prototype._onFocus=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},n.prototype._onFocusOut=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},n.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},n.prototype._onMouseMove=function(){this.deactivate()},n.prototype.destroy=function(){this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},i.WebGLRenderer.registerPlugin("accessibility",n),i.CanvasRenderer.registerPlugin("accessibility",n)},{"../core":30,"./accessibleTarget":21}],21:[function(t,e,r){e.exports={accessible:!1,accessibleTitle:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},{}],22:[function(t,e,r){
/**
 * @file        Main export of the PIXI accessibility library
 * @author      Mat Groves <mat@goodboydigital.com>
 * @copyright   2013-2015 GoodBoyDigital
 * @license     {@link https://github.com/pixijs/pixi.js/blob/master/LICENSE|MIT License}
 */
e.exports={accessibleTarget:t("./accessibleTarget"),AccessibilityManager:t("./AccessibilityManager")}},{"./AccessibilityManager":20,"./accessibleTarget":21}],23:[function(t,e,r){var i={VERSION:t("../../package.json").version,PI_2:2*Math.PI,RAD_TO_DEG:180/Math.PI,DEG_TO_RAD:Math.PI/180,TARGET_FPMS:.06,RENDERER_TYPE:{UNKNOWN:0,WEBGL:1,CANVAS:2},BLEND_MODES:{NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16},DRAW_MODES:{POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},SCALE_MODES:{DEFAULT:0,LINEAR:0,NEAREST:1},RETINA_PREFIX:/@(.+)x/,RESOLUTION:1,FILTER_RESOLUTION:1,DEFAULT_RENDER_OPTIONS:{view:null,resolution:1,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1},SHAPES:{POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},SPRITE_BATCH_SIZE:2e3};e.exports=i},{"../../package.json":19}],24:[function(t,e,r){var i=t("../math"),n=t("../utils"),s=t("./DisplayObject"),o=t("../textures/RenderTexture"),a=new i.Matrix;function l(){s.call(this),this.children=[]}l.prototype=Object.create(s.prototype),l.prototype.constructor=l,e.exports=l,l.prototype.addChildWithSamePos=function(t){var e=this.toLocal({x:0,y:0},t);t.x=e.x,t.y=e.y,this.addChild(t)},Object.defineProperties(l.prototype,{width:{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}},height:{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}}),l.prototype.onChildrenChange=function(){},l.prototype.addChild=function(t){var e=arguments.length;if(e>1)for(var r=0;r<e;r++)this.addChild(arguments[r]);else t.parent&&t.parent.removeChild(t),t.parent=this,this.children.push(t),this.onChildrenChange(this.children.length-1),t.emit("added",this);return t},l.prototype.addChildAt=function(t,e){if(t===this)return t;if(e>=0&&e<=this.children.length)return t.parent&&t.parent.removeChild(t),t.parent=this,this.children.splice(e,0,t),this.onChildrenChange(e),t.emit("added",this),t;throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length)},l.prototype.swapChildren=function(t,e){if(t!==e){var r=this.getChildIndex(t),i=this.getChildIndex(e);if(r<0||i<0)throw new Error("swapChildren: Both the supplied DisplayObjects must be children of the caller.");this.children[r]=e,this.children[i]=t,this.onChildrenChange(r<i?r:i)}},l.prototype.getChildIndex=function(t){return this.children.indexOf(t)},l.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The supplied index is out of bounds");var r=this.getChildIndex(t);n.removeItems(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},l.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Supplied index "+t+" does not exist in the child list, or the supplied DisplayObject is not a child of the caller");return this.children[t]},l.prototype.removeChild=function(t){var e=arguments.length;if(e>1)for(var r=0;r<e;r++)this.removeChild(arguments[r]);else{var i=this.children.indexOf(t);if(-1===i)return;t.parent=null,n.removeItems(this.children,i,1),this.onChildrenChange(i),t.emit("removed",this)}return t},l.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,n.removeItems(this.children,t,1),this.onChildrenChange(t),e.emit("removed",this),e},l.prototype.removeChildren=function(t,e){var r,i,n=t||0,s="number"==typeof e?e:this.children.length,o=s-n;if(o>0&&o<=s){for(r=this.children.splice(n,o),i=0;i<r.length;++i)r[i].parent=null;for(this.onChildrenChange(t),i=0;i<r.length;++i)r[i].emit("removed",this);return r}if(0===o&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},l.prototype.generateTexture=function(t,e,r){var i=this.getLocalBounds(),n=new o(t,0|i.width,0|i.height,r,e);return a.tx=-i.x,a.ty=-i.y,n.render(this,a),n},l.prototype.updateTransform=function(){if(this.visible){this.displayObjectUpdateTransform();for(var t=0,e=this.children.length;t<e;++t)this.children[t].updateTransform()}},l.prototype.containerUpdateTransform=l.prototype.updateTransform,l.prototype.getBounds=function(){if(!this._currentBounds){if(0===this.children.length)return i.Rectangle.EMPTY;for(var t,e,r,n=1/0,s=1/0,o=-1/0,a=-1/0,l=!1,h=0,u=this.children.length;h<u;++h){this.children[h].visible&&(l=!0,n=n<(t=this.children[h].getBounds()).x?n:t.x,s=s<t.y?s:t.y,e=t.width+t.x,r=t.height+t.y,o=o>e?o:e,a=a>r?a:r)}if(!l)return i.Rectangle.EMPTY;var c=this._bounds;c.x=n,c.y=s,c.width=o-n,c.height=a-s,this._currentBounds=c}return this._currentBounds},l.prototype.clone=function(){if(void 0!==this._nbData_){var t=instance.createChildFromData(this.parent,this._nbData_);return this.name&&""!==this.name&&(this.parent[this.name]=this),delete this.name,t}return console.warn("无法克隆"),null},l.prototype.containerGetBounds=l.prototype.getBounds,l.prototype.getLocalBounds=function(){var t=this.worldTransform;this.worldTransform=i.Matrix.IDENTITY;for(var e=0,r=this.children.length;e<r;++e)this.children[e].updateTransform();return this.worldTransform=t,this._currentBounds=null,this.getBounds(i.Matrix.IDENTITY)},l.prototype.renderWebGL=function(t){var e,r;if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this._filters){for(t.currentRenderer.flush(),this._filters&&this._filters.length&&t.filterManager.pushFilter(this,this._filters),this._mask&&t.maskManager.pushMask(this,this._mask),t.currentRenderer.start(),this._renderWebGL(t),e=0,r=this.children.length;e<r;e++)this.children[e].renderWebGL(t);t.currentRenderer.flush(),this._mask&&t.maskManager.popMask(this,this._mask),this._filters&&t.filterManager.popFilter(),t.currentRenderer.start()}else for(this._renderWebGL(t),e=0,r=this.children.length;e<r;++e)this.children[e].renderWebGL(t)},l.prototype._renderWebGL=function(t){},l.prototype._renderCanvas=function(t){},l.prototype.renderCanvas=function(t){if(this.visible&&!(this.alpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask,t),this._renderCanvas(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},l.prototype.destroy=function(t){if(s.prototype.destroy.call(this),t)for(var e=0,r=this.children.length;e<r;++e)this.children[e].destroy(t);this.removeChildren(),this.children=null}},{"../math":33,"../textures/RenderTexture":71,"../utils":77,"./DisplayObject":25}],25:[function(t,e,r){var i=t("../math"),n=t("../textures/RenderTexture"),s=t("eventemitter3"),o=t("../const"),a=new i.Matrix,l={worldTransform:new i.Matrix,worldAlpha:1,children:[]};function h(){s.call(this),this.position=new i.Point,this.scale=new i.Point(1,1),this.pivot=new i.Point(0,0),this.skew=new i.Point(0,0),this.rotation=0,this.alpha=1,this.visible=!0,this.renderable=!0,this.parent=null,this.worldAlpha=1,this.worldTransform=new i.Matrix,this.filterArea=null,this._sr=0,this._cr=1,this._bounds=new i.Rectangle(0,0,1,1),this._currentBounds=null,this._mask=null}h.prototype=Object.create(s.prototype),h.prototype.constructor=h,e.exports=h,Object.defineProperties(h.prototype,{x:{get:function(){return this.position.x},set:function(t){this.position.x=t}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t}},worldVisible:{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},mask:{get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0),this._mask=t,this._mask&&(this._mask.renderable=!1)}},filters:{get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}}),h.prototype.updateTransform=function(){var t,e,r,i,n,s,l=this.parent.worldTransform,h=this.worldTransform;this.skew.x||this.skew.y?(a.setTransform(this.position.x,this.position.y,this.pivot.x,this.pivot.y,this.scale.x,this.scale.y,this.rotation,this.skew.x,this.skew.y),h.a=a.a*l.a+a.b*l.c,h.b=a.a*l.b+a.b*l.d,h.c=a.c*l.a+a.d*l.c,h.d=a.c*l.b+a.d*l.d,h.tx=a.tx*l.a+a.ty*l.c+l.tx,h.ty=a.tx*l.b+a.ty*l.d+l.ty):this.rotation%o.PI_2?(this.rotation!==this.rotationCache&&(this.rotationCache=this.rotation,this._sr=Math.sin(this.rotation),this._cr=Math.cos(this.rotation)),t=this._cr*this.scale.x,e=this._sr*this.scale.x,r=-this._sr*this.scale.y,i=this._cr*this.scale.y,n=this.position.x,s=this.position.y,(this.pivot.x||this.pivot.y)&&(n-=this.pivot.x*t+this.pivot.y*r,s-=this.pivot.x*e+this.pivot.y*i),h.a=t*l.a+e*l.c,h.b=t*l.b+e*l.d,h.c=r*l.a+i*l.c,h.d=r*l.b+i*l.d,h.tx=n*l.a+s*l.c+l.tx,h.ty=n*l.b+s*l.d+l.ty):(t=this.scale.x,i=this.scale.y,n=this.position.x-this.pivot.x*t,s=this.position.y-this.pivot.y*i,h.a=t*l.a,h.b=t*l.b,h.c=i*l.c,h.d=i*l.d,h.tx=n*l.a+s*l.c+l.tx,h.ty=n*l.b+s*l.d+l.ty),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._currentBounds=null},h.prototype.displayObjectUpdateTransform=h.prototype.updateTransform,h.prototype.addEventListener=function(){this.interactive=!0,this.on.apply(this,arguments)},h.prototype.getBounds=function(t){return i.Rectangle.EMPTY},h.prototype.hitTest=function(t){return NBHitTest.hitTest(this,t)},h.prototype.hitTestPoint=function(t){return this.getBounds().contains(t.x,t.y)},h.prototype.getLocalBounds=function(){return this.getBounds(i.Matrix.IDENTITY)},h.prototype.toGlobal=function(t){return this.parent?this.displayObjectUpdateTransform():(this.parent=l,this.displayObjectUpdateTransform(),this.parent=null),this.worldTransform.apply(t)},h.prototype.toLocal=function(t,e,r){return e&&(t=e.toGlobal(t)),this.parent?this.displayObjectUpdateTransform():(this.parent=l,this.displayObjectUpdateTransform(),this.parent=null),this.worldTransform.applyInverse(t,r)},h.prototype.renderWebGL=function(t){},h.prototype.renderCanvas=function(t){},h.prototype.generateTexture=function(t,e,r){var i=this.getLocalBounds(),s=new n(t,0|i.width,0|i.height,e,r);return a.tx=-i.x,a.ty=-i.y,s.render(this,a),s},h.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},h.prototype.setTransform=function(t,e,r,i,n,s,o,a,l){return this.position.x=t||0,this.position.y=e||0,this.scale.x=r||1,this.scale.y=i||1,this.rotation=n||0,this.skew.x=s||0,this.skew.y=o||0,this.pivot.x=a||0,this.pivot.y=l||0,this},h.prototype.destroy=function(){this.position=null,this.scale=null,this.pivot=null,this.skew=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.worldTransform=null,this.filterArea=null}},{"../const":23,"../math":33,"../textures/RenderTexture":71,eventemitter3:3}],26:[function(t,e,r){var i=t("../display/Container"),n=t("../textures/Texture"),s=t("../renderers/canvas/utils/CanvasBuffer"),o=t("../renderers/canvas/utils/CanvasGraphics"),a=t("./GraphicsData"),l=t("../math"),h=t("../const"),u=new l.Point;function c(){i.call(this),this.fillAlpha=1,this.lineWidth=0,this.lineColor=0,this.graphicsData=[],this.tint=16777215,this._prevTint=16777215,this.blendMode=h.BLEND_MODES.NORMAL,this.currentPath=null,this._webGL={},this.isMask=!1,this.boundsPadding=0,this._localBounds=new l.Rectangle(0,0,1,1),this.dirty=!0,this.glDirty=!1,this.boundsDirty=!0,this.cachedSpriteDirty=!1}c.prototype=Object.create(i.prototype),c.prototype.constructor=c,e.exports=c,i.prototype.addChildWithSamePos=function(t){var e=this.toLocal({x:0,y:0},t);t.x=e.x,t.y=e.y,this.addChild(t)},c.prototype.clone=function(){var t=new c;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=!0,t.glDirty=!0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var e=0;e<this.graphicsData.length;++e)t.graphicsData.push(this.graphicsData[e].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},c.prototype.lineStyle=function(t,e,r){if(this.lineWidth=t||0,this.lineColor=e||0,this.lineAlpha=void 0===r?1:r,this.currentPath)if(this.currentPath.shape.points.length){var i=new l.Polygon(this.currentPath.shape.points.slice(-2));i.closed=!1,this.drawShape(i)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha;return this},c.prototype.moveTo=function(t,e){var r=new l.Polygon([t,e]);return r.closed=!1,this.drawShape(r),this},c.prototype.lineTo=function(t,e){return this.currentPath.shape.points.push(t,e),this.dirty=!0,this},c.prototype.quadraticCurveTo=function(t,e,r,i){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var n,s,o=this.currentPath.shape.points;0===o.length&&this.moveTo(0,0);for(var a=o[o.length-2],l=o[o.length-1],h=0,u=1;u<=20;++u)n=a+(t-a)*(h=u/20),s=l+(e-l)*h,o.push(n+(t+(r-t)*h-n)*h,s+(e+(i-e)*h-s)*h);return this.dirty=this.boundsDirty=!0,this},c.prototype.bezierCurveTo=function(t,e,r,i,n,s){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);for(var o,a,l,h,u,c=this.currentPath.shape.points,p=c[c.length-2],d=c[c.length-1],f=0,m=1;m<=20;++m)l=(a=(o=1-(f=m/20))*o)*o,u=(h=f*f)*f,c.push(l*p+3*a*f*t+3*o*h*r+u*n,l*d+3*a*f*e+3*o*h*i+u*s);return this.dirty=this.boundsDirty=!0,this},c.prototype.arcTo=function(t,e,r,i,n){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var s=this.currentPath.shape.points,o=s[s.length-2],a=s[s.length-1]-e,l=o-t,h=i-e,u=r-t,c=Math.abs(a*u-l*h);if(c<1e-8||0===n)s[s.length-2]===t&&s[s.length-1]===e||s.push(t,e);else{var p=a*a+l*l,d=h*h+u*u,f=a*h+l*u,m=n*Math.sqrt(p)/c,v=n*Math.sqrt(d)/c,g=m*f/p,_=v*f/d,y=m*u+v*l,x=m*h+v*a,b=l*(v+g),T=a*(v+g),w=u*(m+_),S=h*(m+_),E=Math.atan2(T-x,b-y),A=Math.atan2(S-x,w-y);this.arc(y+t,x+e,n,E,A,l*h>u*a)}return this.dirty=this.boundsDirty=!0,this},c.prototype.arc=function(t,e,r,i,n,s){if(s=s||!1,i===n)return this;!s&&n<=i?n+=2*Math.PI:s&&i<=n&&(i+=2*Math.PI);var o=s?-1*(i-n):n-i,a=40*Math.ceil(Math.abs(o)/(2*Math.PI));if(0===o)return this;var l=t+Math.cos(i)*r,h=e+Math.sin(i)*r;this.currentPath?this.currentPath.shape.points.push(l,h):this.moveTo(l,h);for(var u=this.currentPath.shape.points,c=o/(2*a),p=2*c,d=Math.cos(c),f=Math.sin(c),m=a-1,v=m%1/m,g=0;g<=m;g++){var _=c+i+p*(g+v*g),y=Math.cos(_),x=-Math.sin(_);u.push((d*y+f*x)*r+t,(d*-x+f*y)*r+e)}return this.dirty=this.boundsDirty=!0,this},c.prototype.beginFill=function(t,e){return this.filling=!0,this.fillColor=t||0,this.fillAlpha=void 0===e?1:e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},c.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},c.prototype.drawRect=function(t,e,r,i){return this.drawShape(new l.Rectangle(t,e,r,i)),this},c.prototype.drawRoundedRect=function(t,e,r,i,n){return this.drawShape(new l.RoundedRectangle(t,e,r,i,n)),this},c.prototype.drawCircle=function(t,e,r){return this.drawShape(new l.Circle(t,e,r)),this},c.prototype.drawEllipse=function(t,e,r,i){return this.drawShape(new l.Ellipse(t,e,r,i)),this},c.prototype.drawPolygon=function(t){var e=t,r=!0;if(e instanceof l.Polygon&&(r=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var i=0;i<e.length;++i)e[i]=arguments[i]}var n=new l.Polygon(e);return n.closed=r,this.drawShape(n),this},c.prototype.clear=function(){return this.lineWidth=0,this.filling=!1,this.dirty=!0,this.clearDirty=!0,this.graphicsData=[],this},c.prototype.generateTexture=function(t,e,r){e=e||1;var i=this.getLocalBounds(),a=new s(i.width*e,i.height*e),l=n.fromCanvas(a.canvas,r);return l.baseTexture.resolution=e,a.context.scale(e,e),a.context.translate(-i.x,-i.y),o.renderGraphics(this,a.context),l},c.prototype._renderWebGL=function(t){this.glDirty&&(this.dirty=!0,this.glDirty=!1),t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this)},c.prototype._renderCanvas=function(t){if(!0!==this.isMask){this._prevTint!==this.tint&&(this.dirty=!0);var e=t.context,r=this.worldTransform,i=t.blendModes[this.blendMode];i!==e.globalCompositeOperation&&(e.globalCompositeOperation=i);var n=t.resolution;e.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n,r.ty*n),o.renderGraphics(this,e)}},c.prototype.getBounds=function(t){if(!this._currentBounds){if(!this.renderable)return l.Rectangle.EMPTY;this.boundsDirty&&(this.updateLocalBounds(),this.glDirty=!0,this.cachedSpriteDirty=!0,this.boundsDirty=!1);var e=this._localBounds,r=e.x,i=e.width+e.x,n=e.y,s=e.height+e.y,o=t||this.worldTransform,a=o.a,h=o.b,u=o.c,c=o.d,p=o.tx,d=o.ty,f=a*i+u*s+p,m=c*s+h*i+d,v=a*r+u*s+p,g=c*s+h*r+d,_=a*r+u*n+p,y=c*n+h*r+d,x=a*i+u*n+p,b=c*n+h*i+d,T=f,w=m,S=f,E=m;S=x<(S=_<(S=v<S?v:S)?_:S)?x:S,E=b<(E=y<(E=g<E?g:E)?y:E)?b:E,T=x>(T=_>(T=v>T?v:T)?_:T)?x:T,w=b>(w=y>(w=g>w?g:w)?y:w)?b:w,this._bounds.x=S,this._bounds.width=T-S,this._bounds.y=E,this._bounds.height=w-E,this._currentBounds=this._bounds}return this._currentBounds},c.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,u);for(var e=this.graphicsData,r=0;r<e.length;r++){var i=e[r];if(i.fill&&(i.shape&&i.shape.contains(u.x,u.y)))return!0}return!1},c.prototype.updateLocalBounds=function(){var t=1/0,e=-1/0,r=1/0,i=-1/0;if(this.graphicsData.length)for(var n,s,o,a,l,u,c=0;c<this.graphicsData.length;c++){var p=this.graphicsData[c],d=p.type,f=p.lineWidth;if(n=p.shape,d===h.SHAPES.RECT||d===h.SHAPES.RREC)o=n.x-f/2,a=n.y-f/2,l=n.width+f,u=n.height+f,t=o<t?o:t,e=o+l>e?o+l:e,r=a<r?a:r,i=a+u>i?a+u:i;else if(d===h.SHAPES.CIRC)o=n.x,a=n.y,l=n.radius+f/2,u=n.radius+f/2,t=o-l<t?o-l:t,e=o+l>e?o+l:e,r=a-u<r?a-u:r,i=a+u>i?a+u:i;else if(d===h.SHAPES.ELIP)o=n.x,a=n.y,l=n.width+f/2,u=n.height+f/2,t=o-l<t?o-l:t,e=o+l>e?o+l:e,r=a-u<r?a-u:r,i=a+u>i?a+u:i;else{s=n.points;for(var m=0;m<s.length;m+=2)o=s[m],a=s[m+1],t=o-f<t?o-f:t,e=o+f>e?o+f:e,r=a-f<r?a-f:r,i=a+f>i?a+f:i}}else t=0,e=0,r=0,i=0;var v=this.boundsPadding;this._localBounds.x=t-v,this._localBounds.width=e-t+2*v,this._localBounds.y=r-v,this._localBounds.height=i-r+2*v},c.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new a(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,t);return this.graphicsData.push(e),e.type===h.SHAPES.POLY&&(e.shape.closed=e.shape.closed&&this.filling,e.shape.closed=e.shape.closed||this.filling,this.currentPath=e),this.dirty=this.boundsDirty=!0,e},c.prototype.destroy=function(){i.prototype.destroy.apply(this,arguments);for(var t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();for(var e in this._webgl)for(var r=0;r<this._webgl[e].data.length;++r)this._webgl[e].data[r].destroy();this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null}},{"../const":23,"../display/Container":24,"../math":33,"../renderers/canvas/utils/CanvasBuffer":45,"../renderers/canvas/utils/CanvasGraphics":46,"../textures/Texture":72,"./GraphicsData":27}],27:[function(t,e,r){function i(t,e,r,i,n,s,o){this.lineWidth=t,this.lineColor=e,this.lineAlpha=r,this._lineTint=e,this.fillColor=i,this.fillAlpha=n,this._fillTint=i,this.fill=s,this.shape=o,this.type=o.type}i.prototype.constructor=i,e.exports=i,i.prototype.clone=function(){return new i(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.shape)},i.prototype.destroy=function(){this.shape=null}},{}],28:[function(t,e,r){var i=t("../../utils"),n=t("../../math"),s=t("../../const"),o=t("../../renderers/webgl/utils/ObjectRenderer"),a=t("../../renderers/webgl/WebGLRenderer"),l=t("./WebGLGraphicsData"),h=t("earcut");function u(t){o.call(this,t),this.graphicsDataPool=[],this.primitiveShader=null,this.complexPrimitiveShader=null,this.maximumSimplePolySize=200}u.prototype=Object.create(o.prototype),u.prototype.constructor=u,e.exports=u,a.registerPlugin("graphics",u),u.prototype.onContextChange=function(){},u.prototype.destroy=function(){o.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},u.prototype.render=function(t){var e,r=this.renderer,n=r.gl,s=r.shaderManager.plugins.primitiveShader;!t.dirty&&t._webGL[n.id]||this.updateGraphics(t);var o=t._webGL[n.id];r.blendModeManager.setBlendMode(t.blendMode);for(var a=0,l=o.data.length;a<l;a++)e=o.data[a],1===o.data[a].mode?(r.stencilManager.pushStencil(t,e),n.uniform1f(r.shaderManager.complexPrimitiveShader.uniforms.alpha._location,t.worldAlpha*e.alpha),n.drawElements(n.TRIANGLE_FAN,4,n.UNSIGNED_SHORT,2*(e.indices.length-4)),r.stencilManager.popStencil(t,e)):(s=r.shaderManager.primitiveShader,r.shaderManager.setShader(s),n.uniformMatrix3fv(s.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),n.uniformMatrix3fv(s.uniforms.projectionMatrix._location,!1,r.currentRenderTarget.projectionMatrix.toArray(!0)),n.uniform3fv(s.uniforms.tint._location,i.hex2rgb(t.tint)),n.uniform1f(s.uniforms.alpha._location,t.worldAlpha),n.bindBuffer(n.ARRAY_BUFFER,e.buffer),n.vertexAttribPointer(s.attributes.aVertexPosition,2,n.FLOAT,!1,24,0),n.vertexAttribPointer(s.attributes.aColor,4,n.FLOAT,!1,24,8),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.indexBuffer),n.drawElements(n.TRIANGLE_STRIP,e.indices.length,n.UNSIGNED_SHORT,0)),r.drawCount++},u.prototype.updateGraphics=function(t){var e,r,i=this.renderer.gl,n=t._webGL[i.id];if(n||(n=t._webGL[i.id]={lastIndex:0,data:[],gl:i}),t.dirty=!1,t.clearDirty){for(t.clearDirty=!1,e=0;e<n.data.length;e++){var o=n.data[e];o.reset(),this.graphicsDataPool.push(o)}n.data=[],n.lastIndex=0}for(e=n.lastIndex;e<t.graphicsData.length;e++){var a=t.graphicsData[e];if(a.type===s.SHAPES.POLY){if(a.points=a.shape.points.slice(),a.shape.closed&&(a.points[0]===a.points[a.points.length-2]&&a.points[1]===a.points[a.points.length-1]||a.points.push(a.points[0],a.points[1])),a.fill)if(a.points.length>=6)if(a.points.length<2*this.maximumSimplePolySize)r=this.switchMode(n,0),this.buildPoly(a,r)||(r=this.switchMode(n,1),this.buildComplexPoly(a,r));else r=this.switchMode(n,1),this.buildComplexPoly(a,r);a.lineWidth>0&&(r=this.switchMode(n,0),this.buildLine(a,r))}else r=this.switchMode(n,0),a.type===s.SHAPES.RECT?this.buildRectangle(a,r):a.type===s.SHAPES.CIRC||a.type===s.SHAPES.ELIP?this.buildCircle(a,r):a.type===s.SHAPES.RREC&&this.buildRoundedRectangle(a,r);n.lastIndex++}for(e=0;e<n.data.length;e++)(r=n.data[e]).dirty&&r.upload()},u.prototype.switchMode=function(t,e){var r;return t.data.length?((r=t.data[t.data.length-1]).points.length>32e4||r.mode!==e||1===e)&&((r=this.graphicsDataPool.pop()||new l(t.gl)).mode=e,t.data.push(r)):((r=this.graphicsDataPool.pop()||new l(t.gl)).mode=e,t.data.push(r)),r.dirty=!0,r},u.prototype.buildRectangle=function(t,e){var r=t.shape,n=r.x,s=r.y,o=r.width,a=r.height;if(t.fill){var l=i.hex2rgb(t.fillColor),h=t.fillAlpha,u=l[0]*h,c=l[1]*h,p=l[2]*h,d=e.points,f=e.indices,m=d.length/6;d.push(n,s),d.push(u,c,p,h),d.push(n+o,s),d.push(u,c,p,h),d.push(n,s+a),d.push(u,c,p,h),d.push(n+o,s+a),d.push(u,c,p,h),f.push(m,m,m+1,m+2,m+3,m+3)}if(t.lineWidth){var v=t.points;t.points=[n,s,n+o,s,n+o,s+a,n,s+a,n,s],this.buildLine(t,e),t.points=v}},u.prototype.buildRoundedRectangle=function(t,e){var r=t.shape,n=r.x,s=r.y,o=r.width,a=r.height,l=r.radius,u=[];if(u.push(n,s+l),this.quadraticBezierCurve(n,s+a-l,n,s+a,n+l,s+a,u),this.quadraticBezierCurve(n+o-l,s+a,n+o,s+a,n+o,s+a-l,u),this.quadraticBezierCurve(n+o,s+l,n+o,s,n+o-l,s,u),this.quadraticBezierCurve(n+l,s,n,s,n,s+l+1e-10,u),t.fill){var c=i.hex2rgb(t.fillColor),p=t.fillAlpha,d=c[0]*p,f=c[1]*p,m=c[2]*p,v=e.points,g=e.indices,_=v.length/6,y=h(u,null,2),x=0;for(x=0;x<y.length;x+=3)g.push(y[x]+_),g.push(y[x]+_),g.push(y[x+1]+_),g.push(y[x+2]+_),g.push(y[x+2]+_);for(x=0;x<u.length;x++)v.push(u[x],u[++x],d,f,m,p)}if(t.lineWidth){var b=t.points;t.points=u,this.buildLine(t,e),t.points=b}},u.prototype.quadraticBezierCurve=function(t,e,r,i,n,s,o){var a,l,h,u,c,p,d=o||[];function f(t,e,r){return t+(e-t)*r}for(var m=0,v=0;v<=20;v++)a=f(t,r,m=v/20),l=f(e,i,m),h=f(r,n,m),u=f(i,s,m),c=f(a,h,m),p=f(l,u,m),d.push(c,p);return d},u.prototype.buildCircle=function(t,e){var r,n,o=t.shape,a=o.x,l=o.y;t.type===s.SHAPES.CIRC?(r=o.radius,n=o.radius):(r=o.width,n=o.height);var h=Math.floor(30*Math.sqrt(o.radius))||Math.floor(15*Math.sqrt(o.width+o.height)),u=2*Math.PI/h,c=0;if(t.fill){var p=i.hex2rgb(t.fillColor),d=t.fillAlpha,f=p[0]*d,m=p[1]*d,v=p[2]*d,g=e.points,_=e.indices,y=g.length/6;for(_.push(y),c=0;c<h+1;c++)g.push(a,l,f,m,v,d),g.push(a+Math.sin(u*c)*r,l+Math.cos(u*c)*n,f,m,v,d),_.push(y++,y++);_.push(y-1)}if(t.lineWidth){var x=t.points;for(t.points=[],c=0;c<h+1;c++)t.points.push(a+Math.sin(u*c)*r,l+Math.cos(u*c)*n);this.buildLine(t,e),t.points=x}},u.prototype.buildLine=function(t,e){var r=0,s=t.points;if(0!==s.length){var o=new n.Point(s[0],s[1]),a=new n.Point(s[s.length-2],s[s.length-1]);if(o.x===a.x&&o.y===a.y){(s=s.slice()).pop(),s.pop();var l=(a=new n.Point(s[s.length-2],s[s.length-1])).x+.5*(o.x-a.x),h=a.y+.5*(o.y-a.y);s.unshift(l,h),s.push(l,h)}var u,c,p,d,f,m,v,g,_,y,x,b,T,w,S,E,A,P,C,R,M,O,$=e.points,D=e.indices,L=s.length/2,F=s.length,I=$.length/6,k=t.lineWidth/2,N=i.hex2rgb(t.lineColor),B=t.lineAlpha,j=N[0]*B,U=N[1]*B,H=N[2]*B;for(p=s[0],d=s[1],f=s[2],_=-(d-(m=s[3])),y=p-f,_/=O=Math.sqrt(_*_+y*y),y/=O,_*=k,y*=k,$.push(p-_,d-y,j,U,H,B),$.push(p+_,d+y,j,U,H,B),r=1;r<L-1;r++)p=s[2*(r-1)],d=s[2*(r-1)+1],f=s[2*r],m=s[2*r+1],v=s[2*(r+1)],g=s[2*(r+1)+1],_=-(d-m),y=p-f,_/=O=Math.sqrt(_*_+y*y),y/=O,_*=k,y*=k,x=-(m-g),b=f-v,x/=O=Math.sqrt(x*x+b*b),b/=O,A=(-_+p)*(-y+m)-(-_+f)*(-y+d),R=(-(x*=k)+v)*(-(b*=k)+m)-(-x+f)*(-b+g),M=(S=-y+d-(-y+m))*(C=-x+f-(-x+v))-(P=-b+g-(-b+m))*(E=-_+f-(-_+p)),Math.abs(M)<.1?(M+=10.1,$.push(f-_,m-y,j,U,H,B),$.push(f+_,m+y,j,U,H,B)):((u=(E*R-C*A)/M)-f)*(u-f)+((c=(P*A-S*R)/M)-m)*(c-m)>19600?(T=_-x,w=y-b,T/=O=Math.sqrt(T*T+w*w),w/=O,T*=k,w*=k,$.push(f-T,m-w),$.push(j,U,H,B),$.push(f+T,m+w),$.push(j,U,H,B),$.push(f-T,m-w),$.push(j,U,H,B),F++):($.push(u,c),$.push(j,U,H,B),$.push(f-(u-f),m-(c-m)),$.push(j,U,H,B));for(p=s[2*(L-2)],d=s[2*(L-2)+1],f=s[2*(L-1)],_=-(d-(m=s[2*(L-1)+1])),y=p-f,_/=O=Math.sqrt(_*_+y*y),y/=O,_*=k,y*=k,$.push(f-_,m-y),$.push(j,U,H,B),$.push(f+_,m+y),$.push(j,U,H,B),D.push(I),r=0;r<F;r++)D.push(I++);D.push(I-1)}},u.prototype.buildComplexPoly=function(t,e){var r=t.points.slice();if(!(r.length<6)){var n=e.indices;e.points=r,e.alpha=t.fillAlpha,e.color=i.hex2rgb(t.fillColor);for(var s,o,a=1/0,l=-1/0,h=1/0,u=-1/0,c=0;c<r.length;c+=2)s=r[c],o=r[c+1],a=s<a?s:a,l=s>l?s:l,h=o<h?o:h,u=o>u?o:u;r.push(a,h,l,h,l,u,a,u);var p=r.length/2;for(c=0;c<p;c++)n.push(c)}},u.prototype.buildPoly=function(t,e){var r=t.points;if(!(r.length<6)){var n=e.points,s=e.indices,o=r.length/2,a=i.hex2rgb(t.fillColor),l=t.fillAlpha,u=a[0]*l,c=a[1]*l,p=a[2]*l,d=h(r,null,2);if(!d)return!1;var f=n.length/6,m=0;for(m=0;m<d.length;m+=3)s.push(d[m]+f),s.push(d[m]+f),s.push(d[m+1]+f),s.push(d[m+2]+f),s.push(d[m+2]+f);for(m=0;m<o;m++)n.push(r[2*m],r[2*m+1],u,c,p,l);return!0}}},{"../../const":23,"../../math":33,"../../renderers/webgl/WebGLRenderer":49,"../../renderers/webgl/utils/ObjectRenderer":63,"../../utils":77,"./WebGLGraphicsData":29,earcut:2}],29:[function(t,e,r){function i(t){this.gl=t,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.mode=1,this.alpha=1,this.dirty=!0,this.glPoints=null,this.glIndices=null}i.prototype.constructor=i,e.exports=i,i.prototype.reset=function(){this.points.length=0,this.indices.length=0},i.prototype.upload=function(){var t=this.gl;this.glPoints=new Float32Array(this.points),t.bindBuffer(t.ARRAY_BUFFER,this.buffer),t.bufferData(t.ARRAY_BUFFER,this.glPoints,t.STATIC_DRAW),this.glIndices=new Uint16Array(this.indices),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.glIndices,t.STATIC_DRAW),this.dirty=!1},i.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.gl.deleteBuffer(this.buffer),this.gl.deleteBuffer(this.indexBuffer),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null}},{}],30:[function(t,e,r){
/**
 * @file        Main export of the PIXI core library
 * @author      Mat Groves <mat@goodboydigital.com>
 * @copyright   2013-2015 GoodBoyDigital
 * @license     {@link https://github.com/pixijs/pixi.js/blob/master/LICENSE|MIT License}
 */
var i=e.exports=Object.assign(t("./const"),t("./math"),{utils:t("./utils"),ticker:t("./ticker"),DisplayObject:t("./display/DisplayObject"),Container:t("./display/Container"),Sprite:t("./sprites/Sprite"),ParticleContainer:t("./particles/ParticleContainer"),SpriteRenderer:t("./sprites/webgl/SpriteRenderer"),ParticleRenderer:t("./particles/webgl/ParticleRenderer"),Text:t("./text/Text"),Graphics:t("./graphics/Graphics"),GraphicsData:t("./graphics/GraphicsData"),GraphicsRenderer:t("./graphics/webgl/GraphicsRenderer"),Texture:t("./textures/Texture"),BaseTexture:t("./textures/BaseTexture"),RenderTexture:t("./textures/RenderTexture"),VideoBaseTexture:t("./textures/VideoBaseTexture"),TextureUvs:t("./textures/TextureUvs"),CanvasRenderer:t("./renderers/canvas/CanvasRenderer"),CanvasGraphics:t("./renderers/canvas/utils/CanvasGraphics"),CanvasBuffer:t("./renderers/canvas/utils/CanvasBuffer"),WebGLRenderer:t("./renderers/webgl/WebGLRenderer"),WebGLManager:t("./renderers/webgl/managers/WebGLManager"),ShaderManager:t("./renderers/webgl/managers/ShaderManager"),Shader:t("./renderers/webgl/shaders/Shader"),ObjectRenderer:t("./renderers/webgl/utils/ObjectRenderer"),RenderTarget:t("./renderers/webgl/utils/RenderTarget"),AbstractFilter:t("./renderers/webgl/filters/AbstractFilter"),FXAAFilter:t("./renderers/webgl/filters/FXAAFilter"),SpriteMaskFilter:t("./renderers/webgl/filters/SpriteMaskFilter"),autoDetectRenderer:function(t,e,r,n){return t=t||800,e=e||600,!n&&i.utils.isWebGLSupported()?new i.WebGLRenderer(t,e,r):new i.CanvasRenderer(t,e,r)}})},{"./const":23,"./display/Container":24,"./display/DisplayObject":25,"./graphics/Graphics":26,"./graphics/GraphicsData":27,"./graphics/webgl/GraphicsRenderer":28,"./math":33,"./particles/ParticleContainer":39,"./particles/webgl/ParticleRenderer":41,"./renderers/canvas/CanvasRenderer":44,"./renderers/canvas/utils/CanvasBuffer":45,"./renderers/canvas/utils/CanvasGraphics":46,"./renderers/webgl/WebGLRenderer":49,"./renderers/webgl/filters/AbstractFilter":50,"./renderers/webgl/filters/FXAAFilter":51,"./renderers/webgl/filters/SpriteMaskFilter":52,"./renderers/webgl/managers/ShaderManager":56,"./renderers/webgl/managers/WebGLManager":58,"./renderers/webgl/shaders/Shader":61,"./renderers/webgl/utils/ObjectRenderer":63,"./renderers/webgl/utils/RenderTarget":65,"./sprites/Sprite":67,"./sprites/webgl/SpriteRenderer":68,"./text/Text":69,"./textures/BaseTexture":70,"./textures/RenderTexture":71,"./textures/Texture":72,"./textures/TextureUvs":73,"./textures/VideoBaseTexture":74,"./ticker":76,"./utils":77}],31:[function(t,e,r){var i=t("./Point");function n(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0}n.prototype.constructor=n,e.exports=n,n.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},n.prototype.set=function(t,e,r,i,n,s){return this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=s,this},n.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},n.prototype.apply=function(t,e){e=e||new i;var r=t.x,n=t.y;return e.x=this.a*r+this.c*n+this.tx,e.y=this.b*r+this.d*n+this.ty,e},n.prototype.applyInverse=function(t,e){e=e||new i;var r=1/(this.a*this.d+this.c*-this.b),n=t.x,s=t.y;return e.x=this.d*r*n+-this.c*r*s+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*s+-this.b*r*n+(-this.ty*this.a+this.tx*this.b)*r,e},n.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},n.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},n.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),i=this.a,n=this.c,s=this.tx;return this.a=i*e-this.b*r,this.b=i*r+this.b*e,this.c=n*e-this.d*r,this.d=n*r+this.d*e,this.tx=s*e-this.ty*r,this.ty=s*r+this.ty*e,this},n.prototype.append=function(t){var e=this.a,r=this.b,i=this.c,n=this.d;return this.a=t.a*e+t.b*i,this.b=t.a*r+t.b*n,this.c=t.c*e+t.d*i,this.d=t.c*r+t.d*n,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*r+t.ty*n+this.ty,this},n.prototype.setTransform=function(t,e,r,i,n,s,o,a,l){var h,u,c,p,d,f,m,v,g,_;return d=Math.sin(o),f=Math.cos(o),m=Math.cos(l),v=Math.sin(l),g=-Math.sin(a),_=Math.cos(a),h=f*n,u=d*n,c=-d*s,p=f*s,this.a=m*h+v*c,this.b=m*u+v*p,this.c=g*h+_*c,this.d=g*u+_*p,this.tx=t+(r*h+i*c),this.ty=e+(r*u+i*p),this},n.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,i=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},n.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,i=this.d,n=this.tx,s=t*i-e*r;return this.a=i/s,this.b=-e/s,this.c=-r/s,this.d=t/s,this.tx=(r*this.ty-i*n)/s,this.ty=-(t*this.ty-e*n)/s,this},n.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},n.prototype.clone=function(){var t=new n;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n.IDENTITY=new n,n.TEMP_MATRIX=new n},{"./Point":32}],32:[function(t,e,r){function i(t,e){this.x=t||0,this.y=e||0}i.prototype.constructor=i,e.exports=i,i.prototype.clone=function(){return new i(this.x,this.y)},i.prototype.copy=function(t){this.set(t.x,t.y)},i.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},i.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)}},{}],33:[function(t,e,r){e.exports={Point:t("./Point"),Matrix:t("./Matrix"),Circle:t("./shapes/Circle"),Ellipse:t("./shapes/Ellipse"),Polygon:t("./shapes/Polygon"),Rectangle:t("./shapes/Rectangle"),RoundedRectangle:t("./shapes/RoundedRectangle")}},{"./Matrix":31,"./Point":32,"./shapes/Circle":34,"./shapes/Ellipse":35,"./shapes/Polygon":36,"./shapes/Rectangle":37,"./shapes/RoundedRectangle":38}],34:[function(t,e,r){var i=t("./Rectangle"),n=t("../../const");function s(t,e,r){this.x=t||0,this.y=e||0,this.radius=r||0,this.type=n.SHAPES.CIRC}s.prototype.constructor=s,e.exports=s,s.prototype.clone=function(){return new s(this.x,this.y,this.radius)},s.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.x-t,i=this.y-e,n=this.radius*this.radius;return(r*=r)+(i*=i)<=n},s.prototype.getBounds=function(){return new i(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}},{"../../const":23,"./Rectangle":37}],35:[function(t,e,r){var i=t("./Rectangle"),n=t("../../const");function s(t,e,r,i){this.x=t||0,this.y=e||0,this.width=r||0,this.height=i||0,this.type=n.SHAPES.ELIP}s.prototype.constructor=s,e.exports=s,s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height)},s.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,i=(e-this.y)/this.height;return(r*=r)+(i*=i)<=1},s.prototype.getBounds=function(){return new i(this.x-this.width,this.y-this.height,this.width,this.height)}},{"../../const":23,"./Rectangle":37}],36:[function(t,e,r){var i=t("../Point"),n=t("../../const");function s(t){var e=t;if(!Array.isArray(e)){e=new Array(arguments.length);for(var r=0;r<e.length;++r)e[r]=arguments[r]}if(e[0]instanceof i){for(var s=[],o=0,a=e.length;o<a;o++)s.push(e[o].x,e[o].y);e=s}this.closed=!0,this.points=e,this.type=n.SHAPES.POLY}s.prototype.constructor=s,e.exports=s,s.prototype.clone=function(){return new s(this.points.slice())},s.prototype.contains=function(t,e){for(var r=!1,i=this.points.length/2,n=0,s=i-1;n<i;s=n++){var o=this.points[2*n],a=this.points[2*n+1],l=this.points[2*s],h=this.points[2*s+1];a>e!=h>e&&t<(l-o)*(e-a)/(h-a)+o&&(r=!r)}return r}},{"../../const":23,"../Point":32}],37:[function(t,e,r){var i=t("../../const");function n(t,e,r,n){this.x=t||0,this.y=e||0,this.width=r||0,this.height=n||0,this.type=i.SHAPES.RECT}n.prototype.constructor=n,e.exports=n,n.EMPTY=new n(0,0,0,0),n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)}},{"../../const":23}],38:[function(t,e,r){var i=t("../../const");function n(t,e,r,n,s){this.x=t||0,this.y=e||0,this.width=r||0,this.height=n||0,this.radius=s||20,this.type=i.SHAPES.RREC}n.prototype.constructor=n,e.exports=n,n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height,this.radius)},n.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height)}},{"../../const":23}],39:[function(t,e,r){var i=t("../display/Container"),n=t("../const");function s(t,e,r){i.call(this),r=r||15e3,t=t||15e3;r>16384&&(r=16384),r>t&&(r=t),this._properties=[!1,!0,!1,!1,!1],this._maxSize=t,this._batchSize=r,this._buffers=null,this._bufferToUpdate=0,this.interactiveChildren=!1,this.blendMode=n.BLEND_MODES.NORMAL,this.roundPixels=!0,this.setProperties(e)}s.prototype=Object.create(i.prototype),s.prototype.constructor=s,e.exports=s,s.prototype.setProperties=function(t){t&&(this._properties[0]="scale"in t?!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="alpha"in t?!!t.alpha:this._properties[4])},s.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},s.prototype.renderWebGL=function(t){this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},s.prototype.onChildrenChange=function(t){var e=Math.floor(t/this._batchSize);e<this._bufferToUpdate&&(this._bufferToUpdate=e)},s.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,r=this.worldTransform,i=!0,n=0,s=0,o=0,a=0,l=t.blendModes[this.blendMode];l!==e.globalCompositeOperation&&(e.globalCompositeOperation=l),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var h=0;h<this.children.length;++h){var u=this.children[h];if(u.visible){var c=u.texture.frame;if(e.globalAlpha=this.worldAlpha*u.alpha,u.rotation%(2*Math.PI)==0)i&&(e.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty),i=!1),n=u.anchor.x*(-c.width*u.scale.x)+u.position.x+.5,s=u.anchor.y*(-c.height*u.scale.y)+u.position.y+.5,o=c.width*u.scale.x,a=c.height*u.scale.y;else{i||(i=!0),u.displayObjectUpdateTransform();var p=u.worldTransform;t.roundPixels?e.setTransform(p.a,p.b,p.c,p.d,0|p.tx,0|p.ty):e.setTransform(p.a,p.b,p.c,p.d,p.tx,p.ty),n=u.anchor.x*-c.width+.5,s=u.anchor.y*-c.height+.5,o=c.width,a=c.height}e.drawImage(u.texture.baseTexture.source,c.x,c.y,c.width,c.height,n,s,o,a)}}}},s.prototype.destroy=function(){if(i.prototype.destroy.apply(this,arguments),this._buffers)for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._properties=null,this._buffers=null}},{"../const":23,"../display/Container":24}],40:[function(t,e,r){function i(t,e,r,i){this.gl=t,this.vertSize=2,this.vertByteSize=4*this.vertSize,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var n=0;n<e.length;n++){var s=e[n];r[n]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.initBuffers()}i.prototype.constructor=i,e.exports=i,i.prototype.initBuffers=function(){var t,e,r=this.gl,i=0;for(this.dynamicStride=0,t=0;t<this.dynamicProperties.length;t++)(e=this.dynamicProperties[t]).offset=i,i+=e.size,this.dynamicStride+=e.size;this.dynamicData=new Float32Array(this.size*this.dynamicStride*4),this.dynamicBuffer=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,this.dynamicBuffer),r.bufferData(r.ARRAY_BUFFER,this.dynamicData,r.DYNAMIC_DRAW);var n=0;for(this.staticStride=0,t=0;t<this.staticProperties.length;t++)(e=this.staticProperties[t]).offset=n,n+=e.size,this.staticStride+=e.size;this.staticData=new Float32Array(this.size*this.staticStride*4),this.staticBuffer=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,this.staticBuffer),r.bufferData(r.ARRAY_BUFFER,this.staticData,r.DYNAMIC_DRAW)},i.prototype.uploadDynamic=function(t,e,r){for(var i=this.gl,n=0;n<this.dynamicProperties.length;n++){var s=this.dynamicProperties[n];s.uploadFunction(t,e,r,this.dynamicData,this.dynamicStride,s.offset)}i.bindBuffer(i.ARRAY_BUFFER,this.dynamicBuffer),i.bufferSubData(i.ARRAY_BUFFER,0,this.dynamicData)},i.prototype.uploadStatic=function(t,e,r){for(var i=this.gl,n=0;n<this.staticProperties.length;n++){var s=this.staticProperties[n];s.uploadFunction(t,e,r,this.staticData,this.staticStride,s.offset)}i.bindBuffer(i.ARRAY_BUFFER,this.staticBuffer),i.bufferSubData(i.ARRAY_BUFFER,0,this.staticData)},i.prototype.bind=function(){var t,e,r=this.gl;for(r.bindBuffer(r.ARRAY_BUFFER,this.dynamicBuffer),t=0;t<this.dynamicProperties.length;t++)e=this.dynamicProperties[t],r.vertexAttribPointer(e.attribute,e.size,r.FLOAT,!1,4*this.dynamicStride,4*e.offset);for(r.bindBuffer(r.ARRAY_BUFFER,this.staticBuffer),t=0;t<this.staticProperties.length;t++)e=this.staticProperties[t],r.vertexAttribPointer(e.attribute,e.size,r.FLOAT,!1,4*this.staticStride,4*e.offset)},i.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicData=null,this.gl.deleteBuffer(this.dynamicBuffer),this.staticProperties=null,this.staticData=null,this.gl.deleteBuffer(this.staticBuffer)}},{}],41:[function(t,e,r){var i=t("../../renderers/webgl/utils/ObjectRenderer"),n=t("../../renderers/webgl/WebGLRenderer"),s=t("./ParticleShader"),o=t("./ParticleBuffer"),a=t("../../math");function l(t){i.call(this,t);this.indices=new Uint16Array(98304);for(var e=0,r=0;e<98304;e+=6,r+=4)this.indices[e+0]=r+0,this.indices[e+1]=r+1,this.indices[e+2]=r+2,this.indices[e+3]=r+0,this.indices[e+4]=r+2,this.indices[e+5]=r+3;this.shader=null,this.indexBuffer=null,this.properties=null,this.tempMatrix=new a.Matrix}l.prototype=Object.create(i.prototype),l.prototype.constructor=l,e.exports=l,n.registerPlugin("particle",l),l.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new s(this.renderer.shaderManager),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,uploadFunction:this.uploadAlpha,offset:0}]},l.prototype.start=function(){var t=this.renderer.gl;t.activeTexture(t.TEXTURE0),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var e=this.shader;this.renderer.shaderManager.setShader(e)},l.prototype.render=function(t){var e=t.children,r=e.length,i=t._maxSize,n=t._batchSize;if(0!==r){r>i&&(r=i),t._buffers||(t._buffers=this.generateBuffers(t)),this.renderer.blendModeManager.setBlendMode(t.blendMode);var s=this.renderer.gl,o=t.worldTransform.copy(this.tempMatrix);o.prepend(this.renderer.currentRenderTarget.projectionMatrix),s.uniformMatrix3fv(this.shader.uniforms.projectionMatrix._location,!1,o.toArray(!0)),s.uniform1f(this.shader.uniforms.uAlpha._location,t.worldAlpha);var a=e[0]._texture.baseTexture;if(a._glTextures[s.id])s.bindTexture(s.TEXTURE_2D,a._glTextures[s.id]);else{if(!this.renderer.updateTexture(a))return;t._properties[0]&&t._properties[3]||(t._bufferToUpdate=0)}for(var l=0,h=0;l<r;l+=n,h+=1){var u=r-l;u>n&&(u=n);var c=t._buffers[h];c.uploadDynamic(e,l,u),t._bufferToUpdate===h&&(c.uploadStatic(e,l,u),t._bufferToUpdate=h+1),c.bind(this.shader),s.drawElements(s.TRIANGLES,6*u,s.UNSIGNED_SHORT,0),this.renderer.drawCount++}}},l.prototype.generateBuffers=function(t){var e,r=this.renderer.gl,i=[],n=t._maxSize,s=t._batchSize,a=t._properties;for(e=0;e<n;e+=s)i.push(new o(r,this.properties,a,s));return i},l.prototype.uploadVertices=function(t,e,r,i,n,s){for(var o,a,l,h,u,c,p,d,f,m=0;m<r;m++)a=(o=t[e+m])._texture,h=o.scale.x,u=o.scale.y,a.trim?(c=(p=(l=a.trim).x-o.anchor.x*l.width)+a.crop.width,d=(f=l.y-o.anchor.y*l.height)+a.crop.height):(c=a._frame.width*(1-o.anchor.x),p=a._frame.width*-o.anchor.x,d=a._frame.height*(1-o.anchor.y),f=a._frame.height*-o.anchor.y),i[s]=p*h,i[s+1]=f*u,i[s+n]=c*h,i[s+n+1]=f*u,i[s+2*n]=c*h,i[s+2*n+1]=d*u,i[s+3*n]=p*h,i[s+3*n+1]=d*u,s+=4*n},l.prototype.uploadPosition=function(t,e,r,i,n,s){for(var o=0;o<r;o++){var a=t[e+o].position;i[s]=a.x,i[s+1]=a.y,i[s+n]=a.x,i[s+n+1]=a.y,i[s+2*n]=a.x,i[s+2*n+1]=a.y,i[s+3*n]=a.x,i[s+3*n+1]=a.y,s+=4*n}},l.prototype.uploadRotation=function(t,e,r,i,n,s){for(var o=0;o<r;o++){var a=t[e+o].rotation;i[s]=a,i[s+n]=a,i[s+2*n]=a,i[s+3*n]=a,s+=4*n}},l.prototype.uploadUvs=function(t,e,r,i,n,s){for(var o=0;o<r;o++){var a=t[e+o]._texture._uvs;a?(i[s]=a.x0,i[s+1]=a.y0,i[s+n]=a.x1,i[s+n+1]=a.y1,i[s+2*n]=a.x2,i[s+2*n+1]=a.y2,i[s+3*n]=a.x3,i[s+3*n+1]=a.y3,s+=4*n):(i[s]=0,i[s+1]=0,i[s+n]=0,i[s+n+1]=0,i[s+2*n]=0,i[s+2*n+1]=0,i[s+3*n]=0,i[s+3*n+1]=0,s+=4*n)}},l.prototype.uploadAlpha=function(t,e,r,i,n,s){for(var o=0;o<r;o++){var a=t[e+o].alpha;i[s]=a,i[s+n]=a,i[s+2*n]=a,i[s+3*n]=a,s+=4*n}},l.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),i.prototype.destroy.apply(this,arguments),this.shader.destroy(),this.indices=null,this.tempMatrix=null}},{"../../math":33,"../../renderers/webgl/WebGLRenderer":49,"../../renderers/webgl/utils/ObjectRenderer":63,"./ParticleBuffer":40,"./ParticleShader":42}],42:[function(t,e,r){var i=t("../../renderers/webgl/shaders/TextureShader");function n(t){i.call(this,t,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute float aColor;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying float vColor;","void main(void){","   vec2 v = aVertexPosition;","   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","uniform float uAlpha;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;","  if (color.a == 0.0) discard;","  gl_FragColor = color;","}"].join("\n"),{uAlpha:{type:"1f",value:1}},{aPositionCoord:0,aRotation:0})}n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n},{"../../renderers/webgl/shaders/TextureShader":62}],43:[function(t,e,r){var i=t("../utils"),n=t("../math"),s=t("../const"),o=t("eventemitter3");function a(t,e,r,a){if(o.call(this),i.sayHello(t),a)for(var l in s.DEFAULT_RENDER_OPTIONS)void 0===a[l]&&(a[l]=s.DEFAULT_RENDER_OPTIONS[l]);else a=s.DEFAULT_RENDER_OPTIONS;this.type=s.RENDERER_TYPE.UNKNOWN,this.width=e||800,this.height=r||600,this.view=a.view||document.createElement("canvas"),this.resolution=a.resolution,this.transparent=a.transparent,this.autoResize=a.autoResize||!1,this.blendModes=null,this.preserveDrawingBuffer=a.preserveDrawingBuffer,this.clearBeforeRender=a.clearBeforeRender,this.roundPixels=a.roundPixels,this._backgroundColor=0,this._backgroundColorRgb=[0,0,0],this._backgroundColorString="#000000",this.backgroundColor=a.backgroundColor||this._backgroundColor,this._tempDisplayObjectParent={worldTransform:new n.Matrix,worldAlpha:1,children:[]},this._lastObjectRendered=this._tempDisplayObjectParent}a.prototype=Object.create(o.prototype),a.prototype.constructor=a,e.exports=a,Object.defineProperties(a.prototype,{backgroundColor:{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=i.hex2string(t),i.hex2rgb(t,this._backgroundColorRgb)}}}),a.prototype.resize=function(t,e){this.width=t*this.resolution,this.height=e*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px")},a.prototype.destroy=function(t){t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=s.RENDERER_TYPE.UNKNOWN,this.width=0,this.height=0,this.view=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgb=null,this._backgroundColorString=null}},{"../const":23,"../math":33,"../utils":77,eventemitter3:3}],44:[function(t,e,r){var i=t("../SystemRenderer"),n=t("./utils/CanvasMaskManager"),s=t("../../utils"),o=t("../../math"),a=t("../../const");function l(t,e,r){r=r||{},i.call(this,"Canvas",t,e,r),this.type=a.RENDERER_TYPE.CANVAS,this.context=this.view.getContext("2d",{alpha:this.transparent}),this.refresh=!0,this.maskManager=new n,this.smoothProperty="imageSmoothingEnabled",this.context.imageSmoothingEnabled||(this.context.webkitImageSmoothingEnabled?this.smoothProperty="webkitImageSmoothingEnabled":this.context.mozImageSmoothingEnabled?this.smoothProperty="mozImageSmoothingEnabled":this.context.oImageSmoothingEnabled?this.smoothProperty="oImageSmoothingEnabled":this.context.msImageSmoothingEnabled&&(this.smoothProperty="msImageSmoothingEnabled")),this.initPlugins(),this._mapBlendModes(),this._tempDisplayObjectParent={worldTransform:new o.Matrix,worldAlpha:1},this.resize(t,e)}l.prototype=Object.create(i.prototype),l.prototype.constructor=l,e.exports=l,s.pluginTarget.mixin(l),l.prototype.render=function(t){this.emit("prerender");var e=t.parent;this._lastObjectRendered=t,t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=e,this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,this.context.globalCompositeOperation=this.blendModes[a.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(this.context.fillStyle="black",this.context.clear()),this.clearBeforeRender&&(this.transparent?this.context.clearRect(0,0,this.width,this.height):(this.context.fillStyle=this._backgroundColorString,this.context.fillRect(0,0,this.width,this.height))),this.renderDisplayObject(t,this.context),this.emit("postrender")},l.prototype.destroy=function(t){this.destroyPlugins(),i.prototype.destroy.call(this,t),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},l.prototype.renderDisplayObject=function(t,e){var r=this.context;this.context=e,t.renderCanvas(this),this.context=r},l.prototype.resize=function(t,e){i.prototype.resize.call(this,t,e),this.smoothProperty&&(this.context[this.smoothProperty]=a.SCALE_MODES.DEFAULT===a.SCALE_MODES.LINEAR)},l.prototype._mapBlendModes=function(){this.blendModes||(this.blendModes={},s.canUseNewCanvasBlendModes()?(this.blendModes[a.BLEND_MODES.NORMAL]="source-over",this.blendModes[a.BLEND_MODES.ADD]="lighter",this.blendModes[a.BLEND_MODES.MULTIPLY]="multiply",this.blendModes[a.BLEND_MODES.SCREEN]="screen",this.blendModes[a.BLEND_MODES.OVERLAY]="overlay",this.blendModes[a.BLEND_MODES.DARKEN]="darken",this.blendModes[a.BLEND_MODES.LIGHTEN]="lighten",this.blendModes[a.BLEND_MODES.COLOR_DODGE]="color-dodge",this.blendModes[a.BLEND_MODES.COLOR_BURN]="color-burn",this.blendModes[a.BLEND_MODES.HARD_LIGHT]="hard-light",this.blendModes[a.BLEND_MODES.SOFT_LIGHT]="soft-light",this.blendModes[a.BLEND_MODES.DIFFERENCE]="difference",this.blendModes[a.BLEND_MODES.EXCLUSION]="exclusion",this.blendModes[a.BLEND_MODES.HUE]="hue",this.blendModes[a.BLEND_MODES.SATURATION]="saturate",this.blendModes[a.BLEND_MODES.COLOR]="color",this.blendModes[a.BLEND_MODES.LUMINOSITY]="luminosity"):(this.blendModes[a.BLEND_MODES.NORMAL]="source-over",this.blendModes[a.BLEND_MODES.ADD]="lighter",this.blendModes[a.BLEND_MODES.MULTIPLY]="source-over",this.blendModes[a.BLEND_MODES.SCREEN]="source-over",this.blendModes[a.BLEND_MODES.OVERLAY]="source-over",this.blendModes[a.BLEND_MODES.DARKEN]="source-over",this.blendModes[a.BLEND_MODES.LIGHTEN]="source-over",this.blendModes[a.BLEND_MODES.COLOR_DODGE]="source-over",this.blendModes[a.BLEND_MODES.COLOR_BURN]="source-over",this.blendModes[a.BLEND_MODES.HARD_LIGHT]="source-over",this.blendModes[a.BLEND_MODES.SOFT_LIGHT]="source-over",this.blendModes[a.BLEND_MODES.DIFFERENCE]="source-over",this.blendModes[a.BLEND_MODES.EXCLUSION]="source-over",this.blendModes[a.BLEND_MODES.HUE]="source-over",this.blendModes[a.BLEND_MODES.SATURATION]="source-over",this.blendModes[a.BLEND_MODES.COLOR]="source-over",this.blendModes[a.BLEND_MODES.LUMINOSITY]="source-over"))}},{"../../const":23,"../../math":33,"../../utils":77,"../SystemRenderer":43,"./utils/CanvasMaskManager":47}],45:[function(t,e,r){function i(t,e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.canvas.width=t,this.canvas.height=e}i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{width:{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},height:{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}}),i.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},i.prototype.resize=function(t,e){this.canvas.width=t,this.canvas.height=e},i.prototype.destroy=function(){this.context=null,this.canvas=null}},{}],46:[function(t,e,r){var i=t("../../../const"),n={};e.exports=n,n.renderGraphics=function(t,e){var r=t.worldAlpha;t.dirty&&(this.updateGraphicsTint(t),t.dirty=!1);for(var n=0;n<t.graphicsData.length;n++){var s=t.graphicsData[n],o=s.shape,a=s._fillTint,l=s._lineTint;if(e.lineWidth=s.lineWidth,s.type===i.SHAPES.POLY){e.beginPath();var h=o.points;e.moveTo(h[0],h[1]);for(var u=1;u<h.length/2;u++)e.lineTo(h[2*u],h[2*u+1]);o.closed&&e.lineTo(h[0],h[1]),h[0]===h[h.length-2]&&h[1]===h[h.length-1]&&e.closePath(),s.fill&&(e.globalAlpha=s.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),s.lineWidth&&(e.globalAlpha=s.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|l).toString(16)).substr(-6),e.stroke())}else if(s.type===i.SHAPES.RECT)(s.fillColor||0===s.fillColor)&&(e.globalAlpha=s.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fillRect(o.x,o.y,o.width,o.height)),s.lineWidth&&(e.globalAlpha=s.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|l).toString(16)).substr(-6),e.strokeRect(o.x,o.y,o.width,o.height));else if(s.type===i.SHAPES.CIRC)e.beginPath(),e.arc(o.x,o.y,o.radius,0,2*Math.PI),e.closePath(),s.fill&&(e.globalAlpha=s.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),s.lineWidth&&(e.globalAlpha=s.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|l).toString(16)).substr(-6),e.stroke());else if(s.type===i.SHAPES.ELIP){var c=2*o.width,p=2*o.height,d=o.x-c/2,f=o.y-p/2;e.beginPath();var m=c/2*.5522848,v=p/2*.5522848,g=d+c,_=f+p,y=d+c/2,x=f+p/2;e.moveTo(d,x),e.bezierCurveTo(d,x-v,y-m,f,y,f),e.bezierCurveTo(y+m,f,g,x-v,g,x),e.bezierCurveTo(g,x+v,y+m,_,y,_),e.bezierCurveTo(y-m,_,d,x+v,d,x),e.closePath(),s.fill&&(e.globalAlpha=s.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),s.lineWidth&&(e.globalAlpha=s.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|l).toString(16)).substr(-6),e.stroke())}else if(s.type===i.SHAPES.RREC){var b=o.x,T=o.y,w=o.width,S=o.height,E=o.radius,A=Math.min(w,S)/2|0;E=E>A?A:E,e.beginPath(),e.moveTo(b,T+E),e.lineTo(b,T+S-E),e.quadraticCurveTo(b,T+S,b+E,T+S),e.lineTo(b+w-E,T+S),e.quadraticCurveTo(b+w,T+S,b+w,T+S-E),e.lineTo(b+w,T+E),e.quadraticCurveTo(b+w,T,b+w-E,T),e.lineTo(b+E,T),e.quadraticCurveTo(b,T,b,T+E),e.closePath(),(s.fillColor||0===s.fillColor)&&(e.globalAlpha=s.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),s.lineWidth&&(e.globalAlpha=s.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|l).toString(16)).substr(-6),e.stroke())}}},n.renderGraphicsMask=function(t,e){var r=t.graphicsData.length;if(0!==r){e.beginPath();for(var n=0;n<r;n++){var s=t.graphicsData[n],o=s.shape;if(s.type===i.SHAPES.POLY){var a=o.points;e.moveTo(a[0],a[1]);for(var l=1;l<a.length/2;l++)e.lineTo(a[2*l],a[2*l+1]);a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&e.closePath()}else if(s.type===i.SHAPES.RECT)e.rect(o.x,o.y,o.width,o.height),e.closePath();else if(s.type===i.SHAPES.CIRC)e.arc(o.x,o.y,o.radius,0,2*Math.PI),e.closePath();else if(s.type===i.SHAPES.ELIP){var h=2*o.width,u=2*o.height,c=o.x-h/2,p=o.y-u/2,d=h/2*.5522848,f=u/2*.5522848,m=c+h,v=p+u,g=c+h/2,_=p+u/2;e.moveTo(c,_),e.bezierCurveTo(c,_-f,g-d,p,g,p),e.bezierCurveTo(g+d,p,m,_-f,m,_),e.bezierCurveTo(m,_+f,g+d,v,g,v),e.bezierCurveTo(g-d,v,c,_+f,c,_),e.closePath()}else if(s.type===i.SHAPES.RREC){var y=o.x,x=o.y,b=o.width,T=o.height,w=o.radius,S=Math.min(b,T)/2|0;w=w>S?S:w,e.moveTo(y,x+w),e.lineTo(y,x+T-w),e.quadraticCurveTo(y,x+T,y+w,x+T),e.lineTo(y+b-w,x+T),e.quadraticCurveTo(y+b,x+T,y+b,x+T-w),e.lineTo(y+b,x+w),e.quadraticCurveTo(y+b,x,y+b-w,x),e.lineTo(y+w,x),e.quadraticCurveTo(y,x,y,x+w),e.closePath()}}}},n.updateGraphicsTint=function(t){if(16777215!==t.tint||t._prevTint!==t.tint){t._prevTint=t.tint;for(var e=(t.tint>>16&255)/255,r=(t.tint>>8&255)/255,i=(255&t.tint)/255,n=0;n<t.graphicsData.length;n++){var s=t.graphicsData[n],o=0|s.fillColor,a=0|s.lineColor;s._fillTint=((o>>16&255)/255*e*255<<16)+((o>>8&255)/255*r*255<<8)+(255&o)/255*i*255,s._lineTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*r*255<<8)+(255&a)/255*i*255}}}},{"../../../const":23}],47:[function(t,e,r){var i=t("./CanvasGraphics");function n(){}n.prototype.constructor=n,e.exports=n,n.prototype.pushMask=function(t,e){e.context.save();var r=t.alpha,n=t.worldTransform,s=e.resolution;e.context.setTransform(n.a*s,n.b*s,n.c*s,n.d*s,n.tx*s,n.ty*s),t.texture||(i.renderGraphicsMask(t,e.context),e.context.clip()),t.worldAlpha=r},n.prototype.popMask=function(t){t.context.restore()},n.prototype.destroy=function(){}},{"./CanvasGraphics":46}],48:[function(t,e,r){var i=t("../../../utils"),n={};e.exports=n,n.getTintedTexture=function(t,e){var r=t.texture,i="#"+("00000"+(0|(e=n.roundColor(e))).toString(16)).substr(-6);if(r.tintCache=r.tintCache||{},r.tintCache[i])return r.tintCache[i];var s=n.canvas||document.createElement("canvas");if(n.tintMethod(r,e,s),n.convertTintToImage){var o=new Image;o.src=s.toDataURL(),r.tintCache[i]=o}else r.tintCache[i]=s,n.canvas=null;return s},n.tintWithMultiply=function(t,e,r){var i=r.getContext("2d"),n=t.baseTexture.resolution,s=t.crop.clone();s.x*=n,s.y*=n,s.width*=n,s.height*=n,r.width=s.width,r.height=s.height,i.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),i.fillRect(0,0,s.width,s.height),i.globalCompositeOperation="multiply",i.drawImage(t.baseTexture.source,s.x,s.y,s.width,s.height,0,0,s.width,s.height),i.globalCompositeOperation="destination-atop",i.drawImage(t.baseTexture.source,s.x,s.y,s.width,s.height,0,0,s.width,s.height)},n.tintWithOverlay=function(t,e,r){var i=r.getContext("2d"),n=t.baseTexture.resolution,s=t.crop.clone();s.x*=n,s.y*=n,s.width*=n,s.height*=n,r.width=s.width,r.height=s.height,i.globalCompositeOperation="copy",i.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),i.fillRect(0,0,s.width,s.height),i.globalCompositeOperation="destination-atop",i.drawImage(t.baseTexture.source,s.x,s.y,s.width,s.height,0,0,s.width,s.height)},n.tintWithPerPixel=function(t,e,r){var n=r.getContext("2d"),s=t.baseTexture.resolution,o=t.crop.clone();o.x*=s,o.y*=s,o.width*=s,o.height*=s,r.width=o.width,r.height=o.height,n.globalCompositeOperation="copy",n.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height);for(var a=i.hex2rgb(e),l=a[0],h=a[1],u=a[2],c=n.getImageData(0,0,o.width,o.height),p=c.data,d=0;d<p.length;d+=4)p[d+0]*=l,p[d+1]*=h,p[d+2]*=u;n.putImageData(c,0,0)},n.roundColor=function(t){var e=n.cacheStepsPerColorChannel,r=i.hex2rgb(t);return r[0]=Math.min(255,r[0]/e*e),r[1]=Math.min(255,r[1]/e*e),r[2]=Math.min(255,r[2]/e*e),i.rgb2hex(r)},n.cacheStepsPerColorChannel=8,n.convertTintToImage=!1,n.canUseMultiply=i.canUseNewCanvasBlendModes(),n.tintMethod=n.canUseMultiply?n.tintWithMultiply:n.tintWithPerPixel},{"../../../utils":77}],49:[function(t,e,r){var i=t("../SystemRenderer"),n=t("./managers/ShaderManager"),s=t("./managers/MaskManager"),o=t("./managers/StencilManager"),a=t("./managers/FilterManager"),l=t("./managers/BlendModeManager"),h=t("./utils/RenderTarget"),u=t("./utils/ObjectRenderer"),c=t("./filters/FXAAFilter"),p=t("../../utils"),d=t("../../const");function f(t,e,r){r=r||{},i.call(this,"WebGL",t,e,r),this.type=d.RENDERER_TYPE.WEBGL,this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),this.view.addEventListener("webglcontextlost",this.handleContextLost,!1),this.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1),this._useFXAA=!!r.forceFXAA&&r.antialias,this._FXAAFilter=null,this._contextOptions={alpha:this.transparent,antialias:r.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer},this.drawCount=0,this.shaderManager=new n(this),this.maskManager=new s(this),this.stencilManager=new o(this),this.filterManager=new a(this),this.blendModeManager=new l(this),this.currentRenderTarget=null,this.currentRenderer=new u(this),this.initPlugins(),this._createContext(),this._initContext(),this._mapGlModes(),this._managedTextures=[],this._renderTargetStack=[]}f.prototype=Object.create(i.prototype),f.prototype.constructor=f,e.exports=f,p.pluginTarget.mixin(f),f.glContextId=0,f.prototype._createContext=function(){var t=this.view.getContext("webgl",this._contextOptions)||this.view.getContext("experimental-webgl",this._contextOptions);if(this.gl=t,!t)throw new Error("This browser does not support webGL. Try using the canvas renderer");this.glContextId=f.glContextId++,t.id=this.glContextId,t.renderer=this},f.prototype._initContext=function(){var t=this.gl;t.disable(t.DEPTH_TEST),t.disable(t.CULL_FACE),t.enable(t.BLEND),this.renderTarget=new h(t,this.width,this.height,null,this.resolution,!0),this.setRenderTarget(this.renderTarget),this.emit("context",t),this.resize(this.width,this.height),this._useFXAA||(this._useFXAA=this._contextOptions.antialias&&!t.getContextAttributes().antialias),this._useFXAA&&(window.console.warn("FXAA antialiasing being used instead of native antialiasing"),this._FXAAFilter=[new c])},f.prototype.render=function(t){if(this.emit("prerender"),!this.gl.isContextLost()){this.drawCount=0,this._lastObjectRendered=t,this._useFXAA&&(this._FXAAFilter[0].uniforms.resolution.value.x=this.width,this._FXAAFilter[0].uniforms.resolution.value.y=this.height,t.filterArea=this.renderTarget.size,t.filters=this._FXAAFilter);var e=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=e;var r=this.gl;this.setRenderTarget(this.renderTarget),this.clearBeforeRender&&(this.transparent?r.clearColor(0,0,0,0):r.clearColor(this._backgroundColorRgb[0],this._backgroundColorRgb[1],this._backgroundColorRgb[2],1),r.clear(r.COLOR_BUFFER_BIT)),this.renderDisplayObject(t,this.renderTarget),this.emit("postrender")}},f.prototype.renderDisplayObject=function(t,e,r){this.setRenderTarget(e),r&&e.clear(),this.filterManager.setFilterStack(e.filterStack),t.renderWebGL(this),this.currentRenderer.flush()},f.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},f.prototype.setRenderTarget=function(t){this.currentRenderTarget!==t&&(this.currentRenderTarget=t,this.currentRenderTarget.activate(),this.stencilManager.setMaskStack(t.stencilMaskStack))},f.prototype.resize=function(t,e){i.prototype.resize.call(this,t,e),this.filterManager.resize(t,e),this.renderTarget.resize(t,e),this.currentRenderTarget===this.renderTarget&&(this.renderTarget.activate(),this.gl.viewport(0,0,this.width,this.height))},f.prototype.updateTexture=function(t){if((t=t.baseTexture||t).hasLoaded){var e=this.gl;return t._glTextures[e.id]||(t._glTextures[e.id]=e.createTexture(),t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this),this._managedTextures.push(t)),e.bindTexture(e.TEXTURE_2D,t._glTextures[e.id]),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultipliedAlpha),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t.source),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t.scaleMode===d.SCALE_MODES.LINEAR?e.LINEAR:e.NEAREST),t.mipmap&&t.isPowerOfTwo?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.scaleMode===d.SCALE_MODES.LINEAR?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.scaleMode===d.SCALE_MODES.LINEAR?e.LINEAR:e.NEAREST),t.isPowerOfTwo?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)),t._glTextures[e.id]}},f.prototype.destroyTexture=function(t,e){if((t=t.baseTexture||t).hasLoaded&&t._glTextures[this.gl.id]&&(this.gl.deleteTexture(t._glTextures[this.gl.id]),delete t._glTextures[this.gl.id],!e)){var r=this._managedTextures.indexOf(t);-1!==r&&p.removeItems(this._managedTextures,r,1)}},f.prototype.handleContextLost=function(t){t.preventDefault()},f.prototype.handleContextRestored=function(){this._initContext();for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.gl.id]&&delete e._glTextures[this.gl.id]}},f.prototype.destroy=function(t){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored);for(var e=0;e<this._managedTextures.length;++e){var r=this._managedTextures[e];this.destroyTexture(r,!0),r.off("update",this.updateTexture,this),r.off("dispose",this.destroyTexture,this)}i.prototype.destroy.call(this,t),this.uid=0,this.shaderManager.destroy(),this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.blendModeManager.destroy(),this.shaderManager=null,this.maskManager=null,this.filterManager=null,this.blendModeManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this._managedTextures=null,this.drawCount=0,this.gl.useProgram(null),this.gl=null},f.prototype._mapGlModes=function(){var t=this.gl;this.blendModes||(this.blendModes={},this.blendModes[d.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.ADD]=[t.SRC_ALPHA,t.DST_ALPHA],this.blendModes[d.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.SCREEN]=[t.SRC_ALPHA,t.ONE],this.blendModes[d.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA]),this.drawModes||(this.drawModes={},this.drawModes[d.DRAW_MODES.POINTS]=t.POINTS,this.drawModes[d.DRAW_MODES.LINES]=t.LINES,this.drawModes[d.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,this.drawModes[d.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,this.drawModes[d.DRAW_MODES.TRIANGLES]=t.TRIANGLES,this.drawModes[d.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,this.drawModes[d.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN)}},{"../../const":23,"../../utils":77,"../SystemRenderer":43,"./filters/FXAAFilter":51,"./managers/BlendModeManager":53,"./managers/FilterManager":54,"./managers/MaskManager":55,"./managers/ShaderManager":56,"./managers/StencilManager":57,"./utils/ObjectRenderer":63,"./utils/RenderTarget":65}],50:[function(t,e,r){var i=t("../shaders/TextureShader");function n(t,e,r){this.shaders=[],this.padding=0,this.uniforms=r||{},this.vertexSrc=t||i.defaultVertexSrc,this.fragmentSrc=e||i.defaultFragmentSrc}n.prototype.constructor=n,e.exports=n,n.prototype.getShader=function(t){var e=t.gl,r=this.shaders[e.id];return r||(r=new i(t.shaderManager,this.vertexSrc,this.fragmentSrc,this.uniforms,this.attributes),this.shaders[e.id]=r),r},n.prototype.applyFilter=function(t,e,r,i){var n=this.getShader(t);t.filterManager.applyFilter(n,e,r,i)},n.prototype.syncUniform=function(t){for(var e=0,r=this.shaders.length;e<r;++e)this.shaders[e].syncUniform(t)}},{"../shaders/TextureShader":62}],51:[function(t,e,r){var i=t("./AbstractFilter");function n(){i.call(this,"\nprecision mediump float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform vec2 resolution;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n            out vec2 v_rgbNW, out vec2 v_rgbNE,\n            out vec2 v_rgbSW, out vec2 v_rgbSE,\n            out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n   vResolution = resolution;\n\n   //compute the texture coords and send them to varyings\n   texcoords(aTextureCoord * resolution, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'precision lowp float;\n\n\n/**\nBasic FXAA implementation based on the code on geeks3d.com with the\nmodification that the texture2DLod stuff was removed since it\'s\nunsupported by WebGL.\n\n--\n\nFrom:\nhttps://github.com/mitsuhiko/webgl-meincraft\n\nCopyright (c) 2011 by Armin Ronacher.\n\nSome rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are\nmet:\n\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n\n    * Redistributions in binary form must reproduce the above\n      copyright notice, this list of conditions and the following\n      disclaimer in the documentation and/or other materials provided\n      with the distribution.\n\n    * The names of the contributors may not be used to endorse or\n      promote products derived from this software without specific\n      prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\nLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\nA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\nOWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\nDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n#ifndef FXAA_REDUCE_MIN\n    #define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n    #define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n    #define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n            vec2 v_rgbNW, vec2 v_rgbNE,\n            vec2 v_rgbSW, vec2 v_rgbSE,\n            vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n              dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform sampler2D uSampler;\n\n\nvoid main(void){\n\n    gl_FragColor = fxaa(uSampler, vTextureCoord * vResolution, vResolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n}\n',{resolution:{type:"v2",value:{x:1,y:1}}})}n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.applyFilter=function(t,e,r){var i=t.filterManager,n=this.getShader(t);i.applyFilter(n,e,r)}},{"./AbstractFilter":50}],52:[function(t,e,r){var i=t("./AbstractFilter"),n=t("../../../math");function s(t){var e=new n.Matrix;i.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    original *= (masky.r * masky.a * alpha * clip);\n    gl_FragColor = original;\n}\n",{mask:{type:"sampler2D",value:t._texture},alpha:{type:"f",value:1},otherMatrix:{type:"mat3",value:e.toArray(!0)}}),this.maskSprite=t,this.maskMatrix=e}s.prototype=Object.create(i.prototype),s.prototype.constructor=s,e.exports=s,s.prototype.applyFilter=function(t,e,r){var i=t.filterManager;this.uniforms.mask.value=this.maskSprite._texture,i.calculateMappedMatrix(e.frame,this.maskSprite,this.maskMatrix),this.uniforms.otherMatrix.value=this.maskMatrix.toArray(!0),this.uniforms.alpha.value=this.maskSprite.worldAlpha;var n=this.getShader(t);i.applyFilter(n,e,r)},Object.defineProperties(s.prototype,{map:{get:function(){return this.uniforms.mask.value},set:function(t){this.uniforms.mask.value=t}},offset:{get:function(){return this.uniforms.offset.value},set:function(t){this.uniforms.offset.value=t}}})},{"../../../math":33,"./AbstractFilter":50}],53:[function(t,e,r){var i=t("./WebGLManager");function n(t){i.call(this,t),this.currentBlendMode=99999}n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.setBlendMode=function(t){if(this.currentBlendMode===t)return!1;this.currentBlendMode=t;var e=this.renderer.blendModes[this.currentBlendMode];return this.renderer.gl.blendFunc(e[0],e[1]),!0}},{"./WebGLManager":58}],54:[function(t,e,r){var i=t("./WebGLManager"),n=t("../utils/RenderTarget"),s=t("../../../const"),o=t("../utils/Quad"),a=t("../../../math");function l(t){i.call(this,t),this.filterStack=[],this.filterStack.push({renderTarget:t.currentRenderTarget,filter:[],bounds:null}),this.texturePool=[],this.textureSize=new a.Rectangle(0,0,t.width,t.height),this.currentFrame=null}l.prototype=Object.create(i.prototype),l.prototype.constructor=l,e.exports=l,l.prototype.onContextChange=function(){this.texturePool.length=0;var t=this.renderer.gl;this.quad=new o(t)},l.prototype.setFilterStack=function(t){this.filterStack=t},l.prototype.pushFilter=function(t,e){var r=t.filterArea?t.filterArea.clone():t.getBounds();r.x=0|r.x,r.y=0|r.y,r.width=0|r.width,r.height=0|r.height;var i=0|e[0].padding;if(r.x-=i,r.y-=i,r.width+=2*i,r.height+=2*i,this.renderer.currentRenderTarget.transform){var n=this.renderer.currentRenderTarget.transform;r.x+=n.tx,r.y+=n.ty,this.capFilterArea(r),r.x-=n.tx,r.y-=n.ty}else this.capFilterArea(r);if(r.width>0&&r.height>0){this.currentFrame=r;var s=this.getRenderTarget();this.renderer.setRenderTarget(s),s.clear(),this.filterStack.push({renderTarget:s,filter:e})}else this.filterStack.push({renderTarget:null,filter:e})},l.prototype.popFilter=function(){var t=this.filterStack.pop(),e=this.filterStack[this.filterStack.length-1],r=t.renderTarget;if(t.renderTarget){var i=e.renderTarget,n=this.renderer.gl;this.currentFrame=r.frame,this.quad.map(this.textureSize,r.frame),n.bindBuffer(n.ARRAY_BUFFER,this.quad.vertexBuffer),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.quad.indexBuffer);var o=t.filter;if(n.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aVertexPosition,2,n.FLOAT,!1,0,0),n.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aTextureCoord,2,n.FLOAT,!1,0,32),n.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aColor,4,n.FLOAT,!1,0,64),this.renderer.blendModeManager.setBlendMode(s.BLEND_MODES.NORMAL),1===o.length)o[0].uniforms.dimensions&&(o[0].uniforms.dimensions.value[0]=this.renderer.width,o[0].uniforms.dimensions.value[1]=this.renderer.height,o[0].uniforms.dimensions.value[2]=this.quad.vertices[0],o[0].uniforms.dimensions.value[3]=this.quad.vertices[5]),o[0].applyFilter(this.renderer,r,i),this.returnRenderTarget(r);else{for(var a=r,l=this.getRenderTarget(!0),h=0;h<o.length-1;h++){var u=o[h];u.uniforms.dimensions&&(u.uniforms.dimensions.value[0]=this.renderer.width,u.uniforms.dimensions.value[1]=this.renderer.height,u.uniforms.dimensions.value[2]=this.quad.vertices[0],u.uniforms.dimensions.value[3]=this.quad.vertices[5]),u.applyFilter(this.renderer,a,l);var c=a;a=l,l=c}o[o.length-1].applyFilter(this.renderer,a,i),this.returnRenderTarget(a),this.returnRenderTarget(l)}return t.filter}},l.prototype.getRenderTarget=function(t){var e=this.texturePool.pop()||new n(this.renderer.gl,this.textureSize.width,this.textureSize.height,s.SCALE_MODES.LINEAR,this.renderer.resolution*s.FILTER_RESOLUTION);return e.frame=this.currentFrame,t&&e.clear(!0),e},l.prototype.returnRenderTarget=function(t){this.texturePool.push(t)},l.prototype.applyFilter=function(t,e,r,i){var n=this.renderer.gl;this.renderer.setRenderTarget(r),i&&r.clear(),this.renderer.shaderManager.setShader(t),t.uniforms.projectionMatrix.value=this.renderer.currentRenderTarget.projectionMatrix.toArray(!0),t.syncUniforms(),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,e.texture),n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,0),this.renderer.drawCount++},l.prototype.calculateMappedMatrix=function(t,e,r){var i=e.worldTransform.copy(a.Matrix.TEMP_MATRIX),n=e._texture.baseTexture,s=r.identity(),o=this.textureSize.height/this.textureSize.width;s.translate(t.x/this.textureSize.width,t.y/this.textureSize.height),s.scale(1,o);var l=this.textureSize.width/n.width,h=this.textureSize.height/n.height;return i.tx/=n.width*l,i.ty/=n.width*l,i.invert(),s.prepend(i),s.scale(1,1/o),s.scale(l,h),s.translate(e.anchor.x,e.anchor.y),s},l.prototype.capFilterArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.textureSize.width&&(t.width=this.textureSize.width-t.x),t.y+t.height>this.textureSize.height&&(t.height=this.textureSize.height-t.y)},l.prototype.resize=function(t,e){this.textureSize.width=t,this.textureSize.height=e;for(var r=0;r<this.texturePool.length;r++)this.texturePool[r].resize(t,e)},l.prototype.destroy=function(){this.quad.destroy(),i.prototype.destroy.call(this),this.filterStack=null,this.offsetY=0;for(var t=0;t<this.texturePool.length;t++)this.texturePool[t].destroy();this.texturePool=null}},{"../../../const":23,"../../../math":33,"../utils/Quad":64,"../utils/RenderTarget":65,"./WebGLManager":58}],55:[function(t,e,r){var i=t("./WebGLManager"),n=t("../filters/SpriteMaskFilter");function s(t){i.call(this,t),this.stencilStack=[],this.reverse=!0,this.count=0,this.alphaMaskPool=[]}s.prototype=Object.create(i.prototype),s.prototype.constructor=s,e.exports=s,s.prototype.pushMask=function(t,e){e.texture?this.pushSpriteMask(t,e):this.pushStencilMask(t,e)},s.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.popStencilMask(t,e)},s.prototype.pushSpriteMask=function(t,e){var r=this.alphaMaskPool.pop();r||(r=[new n(e)]),r[0].maskSprite=e,this.renderer.filterManager.pushFilter(t,r)},s.prototype.popSpriteMask=function(){var t=this.renderer.filterManager.popFilter();this.alphaMaskPool.push(t)},s.prototype.pushStencilMask=function(t,e){this.renderer.stencilManager.pushMask(e)},s.prototype.popStencilMask=function(t,e){this.renderer.stencilManager.popMask(e)}},{"../filters/SpriteMaskFilter":52,"./WebGLManager":58}],56:[function(t,e,r){var i=t("./WebGLManager"),n=t("../shaders/TextureShader"),s=t("../shaders/ComplexPrimitiveShader"),o=t("../shaders/PrimitiveShader"),a=t("../../../utils");function l(t){i.call(this,t),this.maxAttibs=10,this.attribState=[],this.tempAttribState=[];for(var e=0;e<this.maxAttibs;e++)this.attribState[e]=!1;this.stack=[],this._currentId=-1,this.currentShader=null}l.prototype=Object.create(i.prototype),l.prototype.constructor=l,a.pluginTarget.mixin(l),e.exports=l,l.prototype.onContextChange=function(){this.initPlugins();var t=this.renderer.gl;this.maxAttibs=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.attribState=[];for(var e=0;e<this.maxAttibs;e++)this.attribState[e]=!1;this.defaultShader=new n(this),this.primitiveShader=new o(this),this.complexPrimitiveShader=new s(this)},l.prototype.setAttribs=function(t){var e;for(e=0;e<this.tempAttribState.length;e++)this.tempAttribState[e]=!1;for(var r in t)this.tempAttribState[t[r]]=!0;var i=this.renderer.gl;for(e=0;e<this.attribState.length;e++)this.attribState[e]!==this.tempAttribState[e]&&(this.attribState[e]=this.tempAttribState[e],this.attribState[e]?i.enableVertexAttribArray(e):i.disableVertexAttribArray(e))},l.prototype.setShader=function(t){return this._currentId!==t.uid&&(this._currentId=t.uid,this.currentShader=t,this.renderer.gl.useProgram(t.program),this.setAttribs(t.attributes),!0)},l.prototype.destroy=function(){this.primitiveShader.destroy(),this.complexPrimitiveShader.destroy(),i.prototype.destroy.call(this),this.destroyPlugins(),this.attribState=null,this.tempAttribState=null}},{"../../../utils":77,"../shaders/ComplexPrimitiveShader":59,"../shaders/PrimitiveShader":60,"../shaders/TextureShader":62,"./WebGLManager":58}],57:[function(t,e,r){var i=t("./WebGLManager"),n=t("../../../utils");function s(t){i.call(this,t),this.stencilMaskStack=null}s.prototype=Object.create(i.prototype),s.prototype.constructor=s,e.exports=s,s.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.stencilStack.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},s.prototype.pushStencil=function(t,e){this.renderer.currentRenderTarget.attachStencilBuffer();var r=this.renderer.gl,i=this.stencilMaskStack;this.bindGraphics(t,e),0===i.stencilStack.length&&(r.enable(r.STENCIL_TEST),r.clear(r.STENCIL_BUFFER_BIT),i.reverse=!0,i.count=0),i.stencilStack.push(e);var n=i.count;r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.ALWAYS,0,255),r.stencilOp(r.KEEP,r.KEEP,r.INVERT),1===e.mode?(r.drawElements(r.TRIANGLE_FAN,e.indices.length-4,r.UNSIGNED_SHORT,0),i.reverse?(r.stencilFunc(r.EQUAL,255-n,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)):(r.stencilFunc(r.EQUAL,n,255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)),r.drawElements(r.TRIANGLE_FAN,4,r.UNSIGNED_SHORT,2*(e.indices.length-4)),i.reverse?r.stencilFunc(r.EQUAL,255-(n+1),255):r.stencilFunc(r.EQUAL,n+1,255),i.reverse=!i.reverse):(i.reverse?(r.stencilFunc(r.EQUAL,n,255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)):(r.stencilFunc(r.EQUAL,255-n,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)),r.drawElements(r.TRIANGLE_STRIP,e.indices.length,r.UNSIGNED_SHORT,0),i.reverse?r.stencilFunc(r.EQUAL,n+1,255):r.stencilFunc(r.EQUAL,255-(n+1),255)),r.colorMask(!0,!0,!0,!0),r.stencilOp(r.KEEP,r.KEEP,r.KEEP),i.count++},s.prototype.bindGraphics=function(t,e){var r,i=this.renderer.gl;1===e.mode?(r=this.renderer.shaderManager.complexPrimitiveShader,this.renderer.shaderManager.setShader(r),i.uniformMatrix3fv(r.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),i.uniformMatrix3fv(r.uniforms.projectionMatrix._location,!1,this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)),i.uniform3fv(r.uniforms.tint._location,n.hex2rgb(t.tint)),i.uniform3fv(r.uniforms.color._location,e.color),i.uniform1f(r.uniforms.alpha._location,t.worldAlpha),i.bindBuffer(i.ARRAY_BUFFER,e.buffer),i.vertexAttribPointer(r.attributes.aVertexPosition,2,i.FLOAT,!1,8,0),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.indexBuffer)):(r=this.renderer.shaderManager.primitiveShader,this.renderer.shaderManager.setShader(r),i.uniformMatrix3fv(r.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),i.uniformMatrix3fv(r.uniforms.projectionMatrix._location,!1,this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)),i.uniform3fv(r.uniforms.tint._location,n.hex2rgb(t.tint)),i.uniform1f(r.uniforms.alpha._location,t.worldAlpha),i.bindBuffer(i.ARRAY_BUFFER,e.buffer),i.vertexAttribPointer(r.attributes.aVertexPosition,2,i.FLOAT,!1,24,0),i.vertexAttribPointer(r.attributes.aColor,4,i.FLOAT,!1,24,8),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.indexBuffer))},s.prototype.popStencil=function(t,e){var r=this.renderer.gl,i=this.stencilMaskStack;if(i.stencilStack.pop(),i.count--,0===i.stencilStack.length)r.disable(r.STENCIL_TEST);else{var n=i.count;this.bindGraphics(t,e),r.colorMask(!1,!1,!1,!1),1===e.mode?(i.reverse=!i.reverse,i.reverse?(r.stencilFunc(r.EQUAL,255-(n+1),255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)):(r.stencilFunc(r.EQUAL,n+1,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)),r.drawElements(r.TRIANGLE_FAN,4,r.UNSIGNED_SHORT,2*(e.indices.length-4)),r.stencilFunc(r.ALWAYS,0,255),r.stencilOp(r.KEEP,r.KEEP,r.INVERT),r.drawElements(r.TRIANGLE_FAN,e.indices.length-4,r.UNSIGNED_SHORT,0),this.renderer.drawCount+=2,i.reverse?r.stencilFunc(r.EQUAL,n,255):r.stencilFunc(r.EQUAL,255-n,255)):(i.reverse?(r.stencilFunc(r.EQUAL,n+1,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)):(r.stencilFunc(r.EQUAL,255-(n+1),255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)),r.drawElements(r.TRIANGLE_STRIP,e.indices.length,r.UNSIGNED_SHORT,0),this.renderer.drawCount++,i.reverse?r.stencilFunc(r.EQUAL,n,255):r.stencilFunc(r.EQUAL,255-n,255)),r.colorMask(!0,!0,!0,!0),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)}},s.prototype.destroy=function(){i.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},s.prototype.pushMask=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),t.dirty&&this.renderer.plugins.graphics.updateGraphics(t,this.renderer.gl),t._webGL[this.renderer.gl.id].data.length&&this.pushStencil(t,t._webGL[this.renderer.gl.id].data[0])},s.prototype.popMask=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.popStencil(t,t._webGL[this.renderer.gl.id].data[0])}},{"../../../utils":77,"./WebGLManager":58}],58:[function(t,e,r){function i(t){this.renderer=t,this.renderer.on("context",this.onContextChange,this)}i.prototype.constructor=i,e.exports=i,i.prototype.onContextChange=function(){},i.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null}},{}],59:[function(t,e,r){var i=t("./Shader");function n(t){i.call(this,t,["attribute vec2 aVertexPosition;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform vec3 tint;","uniform float alpha;","uniform vec3 color;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = vec4(color * alpha * tint, alpha);","}"].join("\n"),["precision mediump float;","varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n"),{tint:{type:"3f",value:[0,0,0]},alpha:{type:"1f",value:0},color:{type:"3f",value:[0,0,0]},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0})}n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n},{"./Shader":61}],60:[function(t,e,r){var i=t("./Shader");function n(t){i.call(this,t,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform float flipY;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["precision mediump float;","varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n"),{tint:{type:"3f",value:[0,0,0]},alpha:{type:"1f",value:0},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0,aColor:0})}n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n},{"./Shader":61}],61:[function(t,e,r){var i=t("../../../utils");function n(t,e,r,n,s){if(!e||!r)throw new Error("Pixi.js Error. Shader requires vertexSrc and fragmentSrc");this.uid=i.uid(),this.gl=t.renderer.gl,this.shaderManager=t,this.program=null,this.uniforms=n||{},this.attributes=s||{},this.textureCount=1,this.vertexSrc=e,this.fragmentSrc=r,this.init()}n.prototype.constructor=n,e.exports=n,n.prototype.init=function(){this.compile(),this.gl.useProgram(this.program),this.cacheUniformLocations(Object.keys(this.uniforms)),this.cacheAttributeLocations(Object.keys(this.attributes))},n.prototype.cacheUniformLocations=function(t){for(var e=0;e<t.length;++e)this.uniforms[t[e]]._location=this.gl.getUniformLocation(this.program,t[e])},n.prototype.cacheAttributeLocations=function(t){for(var e=0;e<t.length;++e)this.attributes[t[e]]=this.gl.getAttribLocation(this.program,t[e])},n.prototype.compile=function(){var t=this.gl,e=this._glCompile(t.VERTEX_SHADER,this.vertexSrc),r=this._glCompile(t.FRAGMENT_SHADER,this.fragmentSrc),i=t.createProgram();return t.attachShader(i,e),t.attachShader(i,r),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(i,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(i)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(i)),t.deleteProgram(i),i=null),t.deleteShader(e),t.deleteShader(r),this.program=i},n.prototype.syncUniform=function(t){var e,r,n=t._location,s=t.value,o=this.gl;switch(t.type){case"b":case"bool":case"boolean":o.uniform1i(n,s?1:0);break;case"i":case"1i":o.uniform1i(n,s);break;case"f":case"1f":o.uniform1f(n,s);break;case"2f":o.uniform2f(n,s[0],s[1]);break;case"3f":o.uniform3f(n,s[0],s[1],s[2]);break;case"4f":o.uniform4f(n,s[0],s[1],s[2],s[3]);break;case"v2":o.uniform2f(n,s.x,s.y);break;case"v3":o.uniform3f(n,s.x,s.y,s.z);break;case"v4":o.uniform4f(n,s.x,s.y,s.z,s.w);break;case"1iv":o.uniform1iv(n,s);break;case"2iv":o.uniform2iv(n,s);break;case"3iv":o.uniform3iv(n,s);break;case"4iv":o.uniform4iv(n,s);break;case"1fv":o.uniform1fv(n,s);break;case"2fv":o.uniform2fv(n,s);break;case"3fv":o.uniform3fv(n,s);break;case"4fv":o.uniform4fv(n,s);break;case"m2":case"mat2":case"Matrix2fv":o.uniformMatrix2fv(n,t.transpose,s);break;case"m3":case"mat3":case"Matrix3fv":o.uniformMatrix3fv(n,t.transpose,s);break;case"m4":case"mat4":case"Matrix4fv":o.uniformMatrix4fv(n,t.transpose,s);break;case"c":"number"==typeof s&&(s=i.hex2rgb(s)),o.uniform3f(n,s[0],s[1],s[2]);break;case"iv1":o.uniform1iv(n,s);break;case"iv":o.uniform3iv(n,s);break;case"fv1":o.uniform1fv(n,s);break;case"fv":o.uniform3fv(n,s);break;case"v2v":for(t._array||(t._array=new Float32Array(2*s.length)),e=0,r=s.length;e<r;++e)t._array[2*e]=s[e].x,t._array[2*e+1]=s[e].y;o.uniform2fv(n,t._array);break;case"v3v":for(t._array||(t._array=new Float32Array(3*s.length)),e=0,r=s.length;e<r;++e)t._array[3*e]=s[e].x,t._array[3*e+1]=s[e].y,t._array[3*e+2]=s[e].z;o.uniform3fv(n,t._array);break;case"v4v":for(t._array||(t._array=new Float32Array(4*s.length)),e=0,r=s.length;e<r;++e)t._array[4*e]=s[e].x,t._array[4*e+1]=s[e].y,t._array[4*e+2]=s[e].z,t._array[4*e+3]=s[e].w;o.uniform4fv(n,t._array);break;case"t":case"sampler2D":if(!t.value||!t.value.baseTexture.hasLoaded)break;o.activeTexture(o["TEXTURE"+this.textureCount]);var a=t.value.baseTexture._glTextures[o.id];a||(this.initSampler2D(t),a=t.value.baseTexture._glTextures[o.id]),o.bindTexture(o.TEXTURE_2D,a),o.uniform1i(t._location,this.textureCount),this.textureCount++;break;default:console.warn("Pixi.js Shader Warning: Unknown uniform type: "+t.type)}},n.prototype.syncUniforms=function(){for(var t in this.textureCount=1,this.uniforms)this.syncUniform(this.uniforms[t])},n.prototype.initSampler2D=function(t){var e=this.gl,r=t.value.baseTexture;if(r.hasLoaded)if(t.textureData){var i=t.textureData;r._glTextures[e.id]=e.createTexture(),e.bindTexture(e.TEXTURE_2D,r._glTextures[e.id]),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultipliedAlpha),e.texImage2D(e.TEXTURE_2D,0,i.luminance?e.LUMINANCE:e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r.source),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,i.magFilter?i.magFilter:e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,i.wrapS?i.wrapS:e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,i.wrapS?i.wrapS:e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,i.wrapT?i.wrapT:e.CLAMP_TO_EDGE)}else this.shaderManager.renderer.updateTexture(r)},n.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.gl=null,this.uniforms=null,this.attributes=null,this.vertexSrc=null,this.fragmentSrc=null},n.prototype._glCompile=function(t,e){var r=this.gl.createShader(t);return this.gl.shaderSource(r,e),this.gl.compileShader(r),this.gl.getShaderParameter(r,this.gl.COMPILE_STATUS)?r:(console.log(this.gl.getShaderInfoLog(r)),null)}},{"../../../utils":77}],62:[function(t,e,r){var i=t("./Shader");function n(t,e,r,s,o){var a={uSampler:{type:"sampler2D",value:0},projectionMatrix:{type:"mat3",value:new Float32Array([1,0,0,0,1,0,0,0,1])}};if(s)for(var l in s)a[l]=s[l];var h={aVertexPosition:0,aTextureCoord:0,aColor:0};if(o)for(var u in o)h[u]=o[u];e=e||n.defaultVertexSrc,r=r||n.defaultFragmentSrc,i.call(this,t,e,r,a,h)}n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n,n.defaultVertexSrc=["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"].join("\n"),n.defaultFragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"].join("\n")},{"./Shader":61}],63:[function(t,e,r){var i=t("../managers/WebGLManager");function n(t){i.call(this,t)}n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.start=function(){},n.prototype.stop=function(){this.flush()},n.prototype.flush=function(){},n.prototype.render=function(t){}},{"../managers/WebGLManager":58}],64:[function(t,e,r){function i(t){this.gl=t,this.vertices=new Float32Array([0,0,200,0,200,200,0,200]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.colors=new Float32Array([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]),this.indices=new Uint16Array([0,1,2,0,3,2]),this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,128,t.DYNAMIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),this.upload()}i.prototype.constructor=i,i.prototype.map=function(t,e){var r=0,i=0;this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+e.width/t.width,this.uvs[3]=i,this.uvs[4]=r+e.width/t.width,this.uvs[5]=i+e.height/t.height,this.uvs[6]=r,this.uvs[7]=i+e.height/t.height,r=e.x,i=e.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+e.width,this.vertices[3]=i,this.vertices[4]=r+e.width,this.vertices[5]=i+e.height,this.vertices[6]=r,this.vertices[7]=i+e.height,this.upload()},i.prototype.upload=function(){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferSubData(t.ARRAY_BUFFER,0,this.vertices),t.bufferSubData(t.ARRAY_BUFFER,32,this.uvs),t.bufferSubData(t.ARRAY_BUFFER,64,this.colors)},i.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)},e.exports=i},{}],65:[function(t,e,r){var i=t("../../../math"),n=t("../../../utils"),s=t("../../../const"),o=t("./StencilMaskStack"),a=function(t,e,r,a,l,h){(this.gl=t,this.frameBuffer=null,this.texture=null,this.size=new i.Rectangle(0,0,1,1),this.resolution=l||s.RESOLUTION,this.projectionMatrix=new i.Matrix,this.transform=null,this.frame=null,this.stencilBuffer=null,this.stencilMaskStack=new o,this.filterStack=[{renderTarget:this,filter:[],bounds:this.size}],this.scaleMode=a||s.SCALE_MODES.DEFAULT,this.root=h,this.root)||(this.frameBuffer=t.createFramebuffer(),this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,a===s.SCALE_MODES.LINEAR?t.LINEAR:t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,a===s.SCALE_MODES.LINEAR?t.LINEAR:t.NEAREST),n.isPowerOfTwo(e,r)?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture,0));this.resize(e,r)};a.prototype.constructor=a,e.exports=a,a.prototype.clear=function(t){var e=this.gl;t&&e.bindFramebuffer(e.FRAMEBUFFER,this.frameBuffer),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)},a.prototype.attachStencilBuffer=function(){if(!this.stencilBuffer&&!this.root){var t=this.gl;this.stencilBuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencilBuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencilBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.size.width*this.resolution,this.size.height*this.resolution)}},a.prototype.activate=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer);var e=this.frame||this.size;this.calculateProjection(e),this.transform&&this.projectionMatrix.append(this.transform),t.viewport(0,0,e.width*this.resolution,e.height*this.resolution)},a.prototype.calculateProjection=function(t){var e=this.projectionMatrix;e.identity(),this.root?(e.a=1/t.width*2,e.d=-1/t.height*2,e.tx=-1-t.x*e.a,e.ty=1-t.y*e.d):(e.a=1/t.width*2,e.d=1/t.height*2,e.tx=-1-t.x*e.a,e.ty=-1-t.y*e.d)},a.prototype.resize=function(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){if(this.size.width=t,this.size.height=e,!this.root){var r=this.gl;r.bindTexture(r.TEXTURE_2D,this.texture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,t*this.resolution,e*this.resolution,0,r.RGBA,r.UNSIGNED_BYTE,null),this.stencilBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,this.stencilBuffer),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t*this.resolution,e*this.resolution))}var i=this.frame||this.size;this.calculateProjection(i)}},a.prototype.destroy=function(){var t=this.gl;t.deleteRenderbuffer(this.stencilBuffer),t.deleteFramebuffer(this.frameBuffer),t.deleteTexture(this.texture),this.frameBuffer=null,this.texture=null}},{"../../../const":23,"../../../math":33,"../../../utils":77,"./StencilMaskStack":66}],66:[function(t,e,r){function i(){this.stencilStack=[],this.reverse=!0,this.count=0}i.prototype.constructor=i,e.exports=i},{}],67:[function(t,e,r){var i=t("../math"),n=t("../textures/Texture"),s=t("../display/Container"),o=t("../renderers/canvas/utils/CanvasTinter"),a=t("../utils"),l=t("../const"),h=new i.Point;function u(t){s.call(this),this.anchor=new i.Point,this._texture=null,this._width=0,this._height=0,this.tint=16777215,this.blendMode=l.BLEND_MODES.NORMAL,this.shader=null,this.cachedTint=16777215,this.texture=t||n.EMPTY}u.prototype=Object.create(s.prototype),u.prototype.constructor=u,e.exports=u,Object.defineProperties(u.prototype,{width:{get:function(){return Math.abs(this.scale.x)*this.texture._frame.width},set:function(t){var e=a.sign(this.scale.x)||1;this.scale.x=e*t/this.texture._frame.width,this._width=t}},height:{get:function(){return Math.abs(this.scale.y)*this.texture._frame.height},set:function(t){var e=a.sign(this.scale.y)||1;this.scale.y=e*t/this.texture._frame.height,this._height=t}},texture:{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,this.cachedTint=16777215,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}}),u.prototype._onTextureUpdate=function(){this._width&&(this.scale.x=a.sign(this.scale.x)*this._width/this.texture.frame.width),this._height&&(this.scale.y=a.sign(this.scale.y)*this._height/this.texture.frame.height)},u.prototype._renderWebGL=function(t){t.setObjectRenderer(t.plugins.sprite),t.plugins.sprite.render(this)},u.prototype.getBounds=function(t){if(!this._currentBounds){var e,r,i,n,s=this._texture._frame.width,o=this._texture._frame.height,a=s*(1-this.anchor.x),l=s*-this.anchor.x,h=o*(1-this.anchor.y),u=o*-this.anchor.y,c=t||this.worldTransform,p=c.a,d=c.b,f=c.c,m=c.d,v=c.tx,g=c.ty,_=p*l+f*u+v,y=m*u+d*l+g,x=p*a+f*u+v,b=m*u+d*a+g,T=p*a+f*h+v,w=m*h+d*a+g,S=p*l+f*h+v,E=m*h+d*l+g;if(e=S<(e=T<(e=x<(e=_)?x:e)?T:e)?S:e,i=E<(i=w<(i=b<(i=y)?b:i)?w:i)?E:i,r=S>(r=T>(r=x>(r=_)?x:r)?T:r)?S:r,n=E>(n=w>(n=b>(n=y)?b:n)?w:n)?E:n,this.children.length){var A=this.containerGetBounds();a=A.x,l=A.x+A.width,h=A.y,u=A.y+A.height,e=e<a?e:a,i=i<h?i:h,r=r>l?r:l,n=n>u?n:u}var P=this._bounds;P.x=e,P.width=r-e,P.y=i,P.height=n-i,this._currentBounds=P}return this._currentBounds},u.prototype.getLocalBounds=function(){return this._bounds.x=-this._texture._frame.width*this.anchor.x,this._bounds.y=-this._texture._frame.height*this.anchor.y,this._bounds.width=this._texture._frame.width,this._bounds.height=this._texture._frame.height,this._bounds},u.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,h);var e,r=this._texture._frame.width,i=this._texture._frame.height,n=-r*this.anchor.x;return h.x>n&&h.x<n+r&&(e=-i*this.anchor.y,h.y>e&&h.y<e+i)},u.prototype._renderCanvas=function(t){if(!(this.texture.crop.width<=0||this.texture.crop.height<=0)){var e=t.blendModes[this.blendMode];if(e!==t.context.globalCompositeOperation&&(t.context.globalCompositeOperation=e),this.texture.valid){var r,i,n,s,a=this._texture,h=this.worldTransform;t.context.globalAlpha=this.worldAlpha;var u=a.baseTexture.scaleMode===l.SCALE_MODES.LINEAR;if(t.smoothProperty&&t.context[t.smoothProperty]!==u&&(t.context[t.smoothProperty]=u),a.rotate){n=a.crop.height,s=a.crop.width,r=a.trim?a.trim.y-this.anchor.y*a.trim.height:this.anchor.y*-a._frame.height,i=a.trim?a.trim.x-this.anchor.x*a.trim.width:this.anchor.x*-a._frame.width,r+=n,h.tx=i*h.a+r*h.c+h.tx,h.ty=i*h.b+r*h.d+h.ty;var c=h.a;h.a=-h.c,h.c=c,c=h.b,h.b=-h.d,h.d=c,r=0,i=0}else n=a.crop.width,s=a.crop.height,r=a.trim?a.trim.x-this.anchor.x*a.trim.width:this.anchor.x*-a._frame.width,i=a.trim?a.trim.y-this.anchor.y*a.trim.height:this.anchor.y*-a._frame.height;t.roundPixels?(t.context.setTransform(h.a,h.b,h.c,h.d,h.tx*t.resolution|0,h.ty*t.resolution|0),r|=0,i|=0):t.context.setTransform(h.a,h.b,h.c,h.d,h.tx*t.resolution,h.ty*t.resolution);var p=a.baseTexture.resolution;16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=o.getTintedTexture(this,this.tint)),t.context.drawImage(this.tintedTexture,0,0,n*p,s*p,r*t.resolution,i*t.resolution,n*t.resolution,s*t.resolution)):t.context.drawImage(a.baseTexture.source,a.crop.x*p,a.crop.y*p,n*p,s*p,r*t.resolution,i*t.resolution,n*t.resolution,s*t.resolution)}}},u.prototype.destroy=function(t,e){s.prototype.destroy.call(this),this.anchor=null,t&&this._texture.destroy(e),this._texture=null,this.shader=null},u.fromFrame=function(t){var e=a.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return new u(e)},u.fromImage=function(t,e,r){return new u(n.fromImage(t,e,r))}},{"../const":23,"../display/Container":24,"../math":33,"../renderers/canvas/utils/CanvasTinter":48,"../textures/Texture":72,"../utils":77}],68:[function(t,e,r){var i=t("../../renderers/webgl/utils/ObjectRenderer"),n=t("../../renderers/webgl/WebGLRenderer"),s=t("../../const");function o(t){i.call(this,t),this.vertSize=5,this.vertByteSize=4*this.vertSize,this.size=s.SPRITE_BATCH_SIZE;var e=4*this.size*this.vertByteSize,r=6*this.size;this.vertices=new ArrayBuffer(e),this.positions=new Float32Array(this.vertices),this.colors=new Uint32Array(this.vertices),this.indices=new Uint16Array(r);for(var n=0,o=0;n<r;n+=6,o+=4)this.indices[n+0]=o+0,this.indices[n+1]=o+1,this.indices[n+2]=o+2,this.indices[n+3]=o+0,this.indices[n+4]=o+2,this.indices[n+5]=o+3;this.currentBatchSize=0,this.sprites=[],this.shader=null}o.prototype=Object.create(i.prototype),o.prototype.constructor=o,e.exports=o,n.registerPlugin("sprite",o),o.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=this.renderer.shaderManager.defaultShader,this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertices,t.DYNAMIC_DRAW),this.currentBlendMode=99999},o.prototype.render=function(t){var e=t._texture;this.currentBatchSize>=this.size&&this.flush();var r=e._uvs;if(r){var i,n,s,o,a=t.anchor.x,l=t.anchor.y;if(e.trim&&void 0===t.tileScale){var h=e.trim;i=(n=h.x-a*h.width)+e.crop.width,s=(o=h.y-l*h.height)+e.crop.height}else i=e._frame.width*(1-a),n=e._frame.width*-a,s=e._frame.height*(1-l),o=e._frame.height*-l;var u=this.currentBatchSize*this.vertByteSize,c=t.worldTransform,p=c.a,d=c.b,f=c.c,m=c.d,v=c.tx,g=c.ty,_=this.colors,y=this.positions;if(this.renderer.roundPixels){var x=this.renderer.resolution;y[u]=((p*n+f*o+v)*x|0)/x,y[u+1]=((m*o+d*n+g)*x|0)/x,y[u+5]=((p*i+f*o+v)*x|0)/x,y[u+6]=((m*o+d*i+g)*x|0)/x,y[u+10]=((p*i+f*s+v)*x|0)/x,y[u+11]=((m*s+d*i+g)*x|0)/x,y[u+15]=((p*n+f*s+v)*x|0)/x,y[u+16]=((m*s+d*n+g)*x|0)/x}else y[u]=p*n+f*o+v,y[u+1]=m*o+d*n+g,y[u+5]=p*i+f*o+v,y[u+6]=m*o+d*i+g,y[u+10]=p*i+f*s+v,y[u+11]=m*s+d*i+g,y[u+15]=p*n+f*s+v,y[u+16]=m*s+d*n+g;y[u+2]=r.x0,y[u+3]=r.y0,y[u+7]=r.x1,y[u+8]=r.y1,y[u+12]=r.x2,y[u+13]=r.y2,y[u+17]=r.x3,y[u+18]=r.y3;var b=t.tint;_[u+4]=_[u+9]=_[u+14]=_[u+19]=(b>>16)+(65280&b)+((255&b)<<16)+(255*t.worldAlpha<<24),this.sprites[this.currentBatchSize++]=t}},o.prototype.flush=function(){if(0!==this.currentBatchSize){var t,e,r,i,n=this.renderer.gl;if(this.currentBatchSize>.5*this.size)n.bufferSubData(n.ARRAY_BUFFER,0,this.vertices);else{var s=this.positions.subarray(0,this.currentBatchSize*this.vertByteSize);n.bufferSubData(n.ARRAY_BUFFER,0,s)}for(var o,a=0,l=0,h=null,u=this.renderer.blendModeManager.currentBlendMode,c=null,p=!1,d=!1,f=0,m=this.currentBatchSize;f<m;f++)e=(o=this.sprites[f])._texture.baseTexture,p=u!==(r=o.blendMode),d=c!==(i=o.shader||this.shader),(h!==e||p||d)&&(this.renderBatch(h,a,l),l=f,a=0,h=e,p&&(u=r,this.renderer.blendModeManager.setBlendMode(u)),d&&((t=(c=i).shaders?c.shaders[n.id]:c)||(t=c.getShader(this.renderer)),this.renderer.shaderManager.setShader(t),t.uniforms.projectionMatrix.value=this.renderer.currentRenderTarget.projectionMatrix.toArray(!0),t.syncUniforms(),n.activeTexture(n.TEXTURE0))),a++;this.renderBatch(h,a,l),this.currentBatchSize=0}},o.prototype.renderBatch=function(t,e,r){if(0!==e){var i=this.renderer.gl;t._glTextures[i.id]?i.bindTexture(i.TEXTURE_2D,t._glTextures[i.id]):this.renderer.updateTexture(t),i.drawElements(i.TRIANGLES,6*e,i.UNSIGNED_SHORT,6*r*2),this.renderer.drawCount++}},o.prototype.start=function(){var t=this.renderer.gl;t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var e=this.vertByteSize;t.vertexAttribPointer(this.shader.attributes.aVertexPosition,2,t.FLOAT,!1,e,0),t.vertexAttribPointer(this.shader.attributes.aTextureCoord,2,t.FLOAT,!1,e,8),t.vertexAttribPointer(this.shader.attributes.aColor,4,t.UNSIGNED_BYTE,!0,e,16)},o.prototype.destroy=function(){this.renderer.gl.deleteBuffer(this.vertexBuffer),this.renderer.gl.deleteBuffer(this.indexBuffer),i.prototype.destroy.call(this),this.shader.destroy(),this.renderer=null,this.vertices=null,this.positions=null,this.colors=null,this.indices=null,this.vertexBuffer=null,this.indexBuffer=null,this.sprites=null,this.shader=null}},{"../../const":23,"../../renderers/webgl/WebGLRenderer":49,"../../renderers/webgl/utils/ObjectRenderer":63}],69:[function(t,e,r){var i=t("../sprites/Sprite"),n=t("../textures/Texture"),s=t("../math"),o=t("../utils"),a=t("../const");function l(t,e,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||a.RESOLUTION,this._text=null,this._style=null;var o=n.fromCanvas(this.canvas);o.trim=new s.Rectangle,i.call(this,o),this.text=t,this.style=e}l.prototype=Object.create(i.prototype),l.prototype.constructor=l,e.exports=l,l.fontPropertiesCache={},l.fontPropertiesCanvas=document.createElement("canvas"),l.fontPropertiesContext=l.fontPropertiesCanvas.getContext("2d"),Object.defineProperties(l.prototype,{width:{get:function(){return this.dirty&&this.updateText(),this.scale.x*this._texture._frame.width},set:function(t){this.scale.x=t/this._texture._frame.width,this._width=t}},height:{get:function(){return this.dirty&&this.updateText(),this.scale.y*this._texture._frame.height},set:function(t){this.scale.y=t/this._texture._frame.height,this._height=t}},style:{get:function(){return this._style},set:function(t){"number"==typeof(t=t||{}).fill&&(t.fill=o.hex2string(t.fill)),"number"==typeof t.stroke&&(t.stroke=o.hex2string(t.stroke)),"number"==typeof t.dropShadowColor&&(t.dropShadowColor=o.hex2string(t.dropShadowColor)),t.font=t.font||"bold 20pt Arial",t.fill=t.fill||"black",t.align=t.align||"left",t.stroke=t.stroke||"black",t.strokeThickness=t.strokeThickness||0,t.wordWrap=t.wordWrap||!1,t.wordWrapWidth=t.wordWrapWidth||100,t.dropShadow=t.dropShadow||!1,t.dropShadowColor=t.dropShadowColor||"#000000",t.dropShadowAngle=t.dropShadowAngle||Math.PI/6,t.dropShadowDistance=t.dropShadowDistance||5,t.padding=t.padding||0,t.textBaseline=t.textBaseline||"alphabetic",t.lineJoin=t.lineJoin||"miter",t.miterLimit=t.miterLimit||10,this._style=t,this.dirty=!0}},text:{get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}}}),l.prototype.updateText=function(){var t=this._style;this.context.font=t.font;for(var e=(t.wordWrap?this.wordWrap(this._text,this.text_join||""):this._text).split(/(?:\r\n|\r|\n)/),r=new Array(e.length),i=0,n=this.determineFontProperties(t.font),s=0;s<e.length;s++){var o=this.context.measureText(e[s]).width;r[s]=o,i=Math.max(i,o)}!0===t.wordWrap&&(i=Math.max(i,t.wordWrapWidth));var a=i+t.strokeThickness;t.dropShadow&&(a+=t.dropShadowDistance),this.canvas.width=(a+this.context.lineWidth)*this.resolution;var l,h,u=this.style.lineHeight||n.fontSize+t.strokeThickness,c=u*e.length;if(t.dropShadow&&(c+=t.dropShadowDistance),this.canvas.height=(c+2*this._style.padding)*this.resolution,this.context.scale(this.resolution,this.resolution),navigator.isCocoonJS&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.font=t.font,this.context.strokeStyle=t.stroke,this.context.lineWidth=t.strokeThickness,this.context.textBaseline=t.textBaseline,this.context.lineJoin=t.lineJoin,this.context.miterLimit=t.miterLimit,t.dropShadow){t.dropShadowBlur>0?(this.context.shadowColor=t.dropShadowColor,this.context.shadowBlur=t.dropShadowBlur):this.context.fillStyle=t.dropShadowColor;var p=Math.cos(t.dropShadowAngle)*t.dropShadowDistance,d=Math.sin(t.dropShadowAngle)*t.dropShadowDistance;for(s=0;s<e.length;s++)l=t.strokeThickness/2,h=t.strokeThickness/2+s*u+n.ascent,"right"===t.align?l+=i-r[s]:"center"===t.align&&(l+=(i-r[s])/2),t.fill&&this.context.fillText(e[s],l+p,h+d+this._style.padding)}for(this.context.fillStyle=t.fill,s=0;s<e.length;s++)l=t.strokeThickness/2,h=t.strokeThickness/2+s*u+n.ascent,"right"===t.align?l+=i-r[s]:"center"===t.align&&(l+=(i-r[s])/2),t.stroke&&t.strokeThickness&&this.context.strokeText(e[s],l,h+this._style.padding),t.fill&&this.context.fillText(e[s],l,h+this._style.padding);this.updateTexture()},l.prototype.updateTexture=function(){var t=this._texture;t.baseTexture.hasLoaded=!0,t.baseTexture.resolution=this.resolution,t.baseTexture.width=this.canvas.width/this.resolution,t.baseTexture.height=this.canvas.height/this.resolution,t.crop.width=t._frame.width=this.canvas.width/this.resolution,t.crop.height=t._frame.height=this.canvas.height/this.resolution,t.trim.x=0,t.trim.y=-this._style.padding,t.trim.width=t._frame.width,t.trim.height=t._frame.height-2*this._style.padding,this._width=this.canvas.width/this.resolution,this._height=this.canvas.height/this.resolution,t.baseTexture.emit("update",t.baseTexture),this.dirty=!1},l.prototype.renderWebGL=function(t){this.dirty&&this.updateText(),i.prototype.renderWebGL.call(this,t)},l.prototype._renderCanvas=function(t){this.dirty&&this.updateText(),i.prototype._renderCanvas.call(this,t)},l.prototype.determineFontProperties=function(t){var e=l.fontPropertiesCache[t];if(!e){e={};var r=l.fontPropertiesCanvas,i=l.fontPropertiesContext;i.font=t;var n=Math.ceil(i.measureText("|MÉq").width),s=Math.ceil(i.measureText("M").width),o=2*s;s=1.4*s|0,r.width=n,r.height=o,i.fillStyle="#f00",i.fillRect(0,0,n,o),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText("|MÉq",0,s);var a,h,u=i.getImageData(0,0,n,o).data,c=u.length,p=4*n,d=0,f=!1;for(a=0;a<s;a++){for(h=0;h<p;h+=4)if(255!==u[d+h]){f=!0;break}if(f)break;d+=p}for(e.ascent=s-a,d=c-p,f=!1,a=o;a>s;a--){for(h=0;h<p;h+=4)if(255!==u[d+h]){f=!0;break}if(f)break;d-=p}e.descent=a-s,e.fontSize=e.ascent+e.descent,l.fontPropertiesCache[t]=e}return e},l.prototype.wordWrap=function(t,e){for(var r="",i=t.split("\n"),n=this._style.wordWrapWidth,s=0;s<i.length;s++){for(var o=n,a=i[s].split(""),l=0;l<a.length;l++){var h=this.context.measureText(a[l]).width,u=h+this.context.measureText(e).width;0===l||u>o?(l>0&&(r+="\n"),r+=a[l],o=n-h):(o-=u,r+=e+a[l])}s<i.length-1&&(r+="\n")}return r},l.prototype.getBounds=function(t){return this.dirty&&this.updateText(),i.prototype.getBounds.call(this,t)},l.prototype.destroy=function(t){this.context=null,this.canvas=null,this._style=null,this._texture.destroy(void 0===t||t)}},{"../const":23,"../math":33,"../sprites/Sprite":67,"../textures/Texture":72,"../utils":77}],70:[function(t,e,r){var i=t("../utils"),n=t("../const"),s=t("eventemitter3");function o(t,e,r){s.call(this),this.uid=i.uid(),this.resolution=r||1,this.width=100,this.height=100,this.realWidth=100,this.realHeight=100,this.scaleMode=e||n.SCALE_MODES.DEFAULT,this.hasLoaded=!1,this.isLoading=!1,this.source=null,this.premultipliedAlpha=!0,this.imageUrl=null,this.isPowerOfTwo=!1,this.mipmap=!1,this._glTextures={},t&&this.loadSource(t)}o.prototype=Object.create(s.prototype),o.prototype.constructor=o,e.exports=o,o.prototype.update=function(){this.realWidth=this.source.naturalWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.height,this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=i.isPowerOfTwo(this.realWidth,this.realHeight),this.emit("update",this)},o.prototype.loadSource=function(t){var e=this.isLoading;if(this.hasLoaded=!1,this.isLoading=!1,e&&this.source&&(this.source.onload=null,this.source.onerror=null),this.source=t,(this.source.complete||this.source.getContext)&&this.source.width&&this.source.height)this._sourceLoaded();else if(!t.getContext){this.isLoading=!0;var r=this;t.onload=function(){t.onload=null,t.onerror=null,r.isLoading&&(r.isLoading=!1,r._sourceLoaded(),r.emit("loaded",r))},t.onerror=function(){t.onload=null,t.onerror=null,r.isLoading&&(r.isLoading=!1,r.emit("error",r))},t.complete&&t.src&&(this.isLoading=!1,t.onload=null,t.onerror=null,t.width&&t.height?(this._sourceLoaded(),e&&this.emit("loaded",this)):e&&this.emit("error",this))}},o.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},o.prototype.destroy=function(){this.imageUrl?(delete i.BaseTextureCache[this.imageUrl],delete i.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")):this.source&&this.source._pixiId&&delete i.BaseTextureCache[this.source._pixiId],this.source=null,this.dispose()},o.prototype.dispose=function(){this.emit("dispose",this)},o.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},o.fromImage=function(t,e,r){var n=i.BaseTextureCache[t];if(void 0===e&&0!==t.indexOf("data:")&&(e=!0),!n){var s=new Image;e&&(s.crossOrigin=""),(n=new o(s,r)).imageUrl=t,s.src=t,i.BaseTextureCache[t]=n,n.resolution=i.getResolutionOfUrl(t)}return n},o.fromCanvas=function(t,e){t._pixiId||(t._pixiId="canvas_"+i.uid());var r=i.BaseTextureCache[t._pixiId];return r||(r=new o(t,e),i.BaseTextureCache[t._pixiId]=r),r}},{"../const":23,"../utils":77,eventemitter3:3}],71:[function(t,e,r){var i=t("./BaseTexture"),n=t("./Texture"),s=t("../renderers/webgl/utils/RenderTarget"),o=t("../renderers/webgl/managers/FilterManager"),a=t("../renderers/canvas/utils/CanvasBuffer"),l=t("../math"),h=t("../const"),u=new l.Matrix;function c(t,e,r,u,c){if(!t)throw new Error("Unable to create RenderTexture, you must pass a renderer into the constructor.");e=e||100,r=r||100,c=c||h.RESOLUTION;var p=new i;if(p.width=e,p.height=r,p.resolution=c,p.scaleMode=u||h.SCALE_MODES.DEFAULT,p.hasLoaded=!0,n.call(this,p,new l.Rectangle(0,0,e,r)),this.width=e,this.height=r,this.resolution=c,this.render=null,this.renderer=t,this.renderer.type===h.RENDERER_TYPE.WEBGL){var d=this.renderer.gl;this.textureBuffer=new s(d,this.width,this.height,p.scaleMode,this.resolution),this.baseTexture._glTextures[d.id]=this.textureBuffer.texture,this.filterManager=new o(this.renderer),this.filterManager.onContextChange(),this.filterManager.resize(e,r),this.render=this.renderWebGL,this.renderer.currentRenderer.start(),this.renderer.currentRenderTarget.activate()}else this.render=this.renderCanvas,this.textureBuffer=new a(this.width*this.resolution,this.height*this.resolution),this.baseTexture.source=this.textureBuffer.canvas;this.valid=!0,this._updateUvs()}c.prototype=Object.create(n.prototype),c.prototype.constructor=c,e.exports=c,c.prototype.resize=function(t,e,r){t===this.width&&e===this.height||(this.valid=t>0&&e>0,this.width=this._frame.width=this.crop.width=t,this.height=this._frame.height=this.crop.height=e,r&&(this.baseTexture.width=this.width,this.baseTexture.height=this.height),this.valid&&(this.textureBuffer.resize(this.width,this.height),this.filterManager&&this.filterManager.resize(this.width,this.height)))},c.prototype.clear=function(){this.valid&&(this.renderer.type===h.RENDERER_TYPE.WEBGL&&this.renderer.gl.bindFramebuffer(this.renderer.gl.FRAMEBUFFER,this.textureBuffer.frameBuffer),this.textureBuffer.clear())},c.prototype.renderWebGL=function(t,e,r,i){if(this.valid){if(i=void 0===i||i,//!updateTransform;
this.textureBuffer.transform=e,this.textureBuffer.activate(),t.worldAlpha=1,i){t.worldTransform.identity(),t.currentBounds=null;var n,s,o=t.children;for(n=0,s=o.length;n<s;++n)o[n].updateTransform()}var a=this.renderer.filterManager;this.renderer.filterManager=this.filterManager,this.renderer.renderDisplayObject(t,this.textureBuffer,r),this.renderer.filterManager=a}},c.prototype.renderCanvas=function(t,e,r,i){if(this.valid){i=!!i;var n=u;n.identity(),e&&n.append(e);var s=t.worldTransform;t.worldTransform=n,t.worldAlpha=1;var o,a,l=t.children;for(o=0,a=l.length;o<a;++o)l[o].updateTransform();r&&this.textureBuffer.clear();var h=this.textureBuffer.context,c=this.renderer.resolution;this.renderer.resolution=this.resolution,this.renderer.renderDisplayObject(t,h),this.renderer.resolution=c,t.worldTransform===n&&(t.worldTransform=s)}},c.prototype.destroy=function(){n.prototype.destroy.call(this,!0),this.textureBuffer.destroy(),this.filterManager&&this.filterManager.destroy(),this.renderer=null},c.prototype.getImage=function(){var t=new Image;return t.src=this.getBase64(),t},c.prototype.getBase64=function(){return this.getCanvas().toDataURL()},c.prototype.getCanvas=function(){if(this.renderer.type===h.RENDERER_TYPE.WEBGL){var t=this.renderer.gl,e=this.textureBuffer.size.width,r=this.textureBuffer.size.height,i=new Uint8Array(4*e*r);t.bindFramebuffer(t.FRAMEBUFFER,this.textureBuffer.frameBuffer),t.readPixels(0,0,e,r,t.RGBA,t.UNSIGNED_BYTE,i),t.bindFramebuffer(t.FRAMEBUFFER,null);var n=new a(e,r),s=n.context.getImageData(0,0,e,r);return s.data.set(i),n.context.putImageData(s,0,0),n.canvas}return this.textureBuffer.canvas},c.prototype.getPixels=function(){var t,e;if(this.renderer.type===h.RENDERER_TYPE.WEBGL){var r=this.renderer.gl;t=this.textureBuffer.size.width,e=this.textureBuffer.size.height;var i=new Uint8Array(4*t*e);return r.bindFramebuffer(r.FRAMEBUFFER,this.textureBuffer.frameBuffer),r.readPixels(0,0,t,e,r.RGBA,r.UNSIGNED_BYTE,i),r.bindFramebuffer(r.FRAMEBUFFER,null),i}return t=this.textureBuffer.canvas.width,e=this.textureBuffer.canvas.height,this.textureBuffer.canvas.getContext("2d").getImageData(0,0,t,e).data},c.prototype.getPixel=function(t,e){if(this.renderer.type===h.RENDERER_TYPE.WEBGL){var r=this.renderer.gl,i=new Uint8Array(4);return r.bindFramebuffer(r.FRAMEBUFFER,this.textureBuffer.frameBuffer),r.readPixels(t,e,1,1,r.RGBA,r.UNSIGNED_BYTE,i),r.bindFramebuffer(r.FRAMEBUFFER,null),i}return this.textureBuffer.canvas.getContext("2d").getImageData(t,e,1,1).data}},{"../const":23,"../math":33,"../renderers/canvas/utils/CanvasBuffer":45,"../renderers/webgl/managers/FilterManager":54,"../renderers/webgl/utils/RenderTarget":65,"./BaseTexture":70,"./Texture":72}],72:[function(t,e,r){var i=t("./BaseTexture"),n=t("./VideoBaseTexture"),s=t("./TextureUvs"),o=t("eventemitter3"),a=t("../math"),l=t("../utils");function h(t,e,r,i,n){o.call(this),this.noFrame=!1,e||(this.noFrame=!0,e=new a.Rectangle(0,0,1,1)),t instanceof h&&(t=t.baseTexture),this.baseTexture=t,this._frame=e,this.trim=i,this.valid=!1,this.requiresUpdate=!1,this._uvs=null,this.width=0,this.height=0,this.crop=r||e,this.rotate=!!n,t.hasLoaded?(this.noFrame&&(e=new a.Rectangle(0,0,t.width,t.height),t.on("update",this.onBaseTextureUpdated,this)),this.frame=e):t.once("loaded",this.onBaseTextureLoaded,this)}h.prototype=Object.create(o.prototype),h.prototype.constructor=h,e.exports=h,Object.defineProperties(h.prototype,{frame:{get:function(){return this._frame},set:function(t){if(this._frame=t,this.noFrame=!1,this.width=t.width,this.height=t.height,!this.trim&&!this.rotate&&(t.x+t.width>this.baseTexture.width||t.y+t.height>this.baseTexture.height))throw new Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.valid=t&&t.width&&t.height&&this.baseTexture.hasLoaded,this.trim?(this.width=this.trim.width,this.height=this.trim.height,this._frame.width=this.trim.width,this._frame.height=this.trim.height):this.crop=t,this.valid&&this._updateUvs()}}}),h.prototype.update=function(){this.baseTexture.update()},h.prototype.onBaseTextureLoaded=function(t){this.noFrame?this.frame=new a.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.emit("update",this)},h.prototype.onBaseTextureUpdated=function(t){this._frame.width=t.width,this._frame.height=t.height,this.emit("update",this)},h.prototype.destroy=function(t){this.baseTexture&&(t&&this.baseTexture.destroy(),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.crop=null,this.valid=!1,this.off("dispose",this.dispose,this),this.off("update",this.update,this)},h.prototype.clone=function(){return new h(this.baseTexture,this.frame,this.crop,this.trim,this.rotate)},h.prototype._updateUvs=function(){this._uvs||(this._uvs=new s),this._uvs.set(this.crop,this.baseTexture,this.rotate)},h.fromImage=function(t,e,r){var n=l.TextureCache[t];return n||(n=new h(i.fromImage(t,e,r)),l.TextureCache[t]=n),n},h.fromFrame=function(t){var e=l.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return e},h.fromCanvas=function(t,e){return new h(i.fromCanvas(t,e))},h.fromVideo=function(t,e){return"string"==typeof t?h.fromVideoUrl(t,e):new h(n.fromVideo(t,e))},h.fromVideoUrl=function(t,e){return new h(n.fromUrl(t,e))},h.addTextureToCache=function(t,e){l.TextureCache[e]=t},h.removeTextureFromCache=function(t){var e=l.TextureCache[t];return delete l.TextureCache[t],delete l.BaseTextureCache[t],e},h.EMPTY=new h(new i)},{"../math":33,"../utils":77,"./BaseTexture":70,"./TextureUvs":73,"./VideoBaseTexture":74,eventemitter3:3}],73:[function(t,e,r){function i(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1}e.exports=i,i.prototype.set=function(t,e,r){var i=e.width,n=e.height;r?(this.x0=(t.x+t.height)/i,this.y0=t.y/n,this.x1=(t.x+t.height)/i,this.y1=(t.y+t.width)/n,this.x2=t.x/i,this.y2=(t.y+t.width)/n,this.x3=t.x/i,this.y3=t.y/n):(this.x0=t.x/i,this.y0=t.y/n,this.x1=(t.x+t.width)/i,this.y1=t.y/n,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/n,this.x3=t.x/i,this.y3=(t.y+t.height)/n)}},{}],74:[function(t,e,r){var i=t("./BaseTexture"),n=t("../utils");function s(t,e){if(!t)throw new Error("No video source element specified.");(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),i.call(this,t,e),this.autoUpdate=!1,this._onUpdate=this._onUpdate.bind(this),this._onCanPlay=this._onCanPlay.bind(this),t.complete||(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this))),this.__loaded=!1}function o(t,e){e||(e="video/"+t.substr(t.lastIndexOf(".")+1));var r=document.createElement("source");return r.src=t,r.type=e,r}s.prototype=Object.create(i.prototype),s.prototype.constructor=s,e.exports=s,s.prototype._onUpdate=function(){this.autoUpdate&&(window.requestAnimationFrame(this._onUpdate),this.update())},s.prototype._onPlayStart=function(){this.autoUpdate||(window.requestAnimationFrame(this._onUpdate),this.autoUpdate=!0)},s.prototype._onPlayStop=function(){this.autoUpdate=!1},s.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.source.play(),this.__loaded||(this.__loaded=!0,this.emit("loaded",this)))},s.prototype.destroy=function(){this.source&&this.source._pixiId&&(delete n.BaseTextureCache[this.source._pixiId],delete this.source._pixiId),i.prototype.destroy.call(this)},s.fromVideo=function(t,e){t._pixiId||(t._pixiId="video_"+n.uid());var r=n.BaseTextureCache[t._pixiId];return r||(r=new s(t,e),n.BaseTextureCache[t._pixiId]=r),r},s.fromUrl=function(t,e){var r=document.createElement("video");if(Array.isArray(t))for(var i=0;i<t.length;++i)r.appendChild(o(t[i].src||t[i],t[i].mime));else r.appendChild(o(t.src||t,t.mime));return r.load(),r.play(),s.fromVideo(r,e)},s.fromUrls=s.fromUrl},{"../utils":77,"./BaseTexture":70}],75:[function(t,e,r){var i=t("../const"),n=t("eventemitter3"),s="tick";function o(){var t=this;this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._emitter.listeners(s,!0)&&(t._requestId=requestAnimationFrame(t._tick)))},this._emitter=new n,this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/i.TARGET_FPMS,this.lastTime=0,this.speed=1,this.started=!1}Object.defineProperties(o.prototype,{FPS:{get:function(){return 1e3/this.elapsedMS}},minFPS:{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,i.TARGET_FPMS);this._maxElapsedMS=1/e}}}),o.prototype._requestIfNeeded=function(){null===this._requestId&&this._emitter.listeners(s,!0)&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},o.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},o.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},o.prototype.add=function(t,e){return this._emitter.on(s,t,e),this._startIfPossible(),this},o.prototype.addOnce=function(t,e){return this._emitter.once(s,t,e),this._startIfPossible(),this},o.prototype.remove=function(t,e){return this._emitter.off(s,t,e),this._emitter.listeners(s,!0)||this._cancelIfNeeded(),this},o.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},o.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},o.prototype.update=function(t){var e;t=t||performance.now(),(e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*i.TARGET_FPMS*this.speed,this._emitter.emit(s,this.deltaTime),this.lastTime=t},e.exports=o},{"../const":23,eventemitter3:3}],76:[function(t,e,r){var i=t("./Ticker"),n=new i;n.autoStart=!0,e.exports={shared:n,Ticker:i}},{"./Ticker":75}],77:[function(t,e,r){var i=t("../const"),n=e.exports={_uid:0,_saidHello:!1,EventEmitter:t("eventemitter3"),pluginTarget:t("./pluginTarget"),async:t("async"),uid:function(){return++n._uid},hex2rgb:function(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},hex2string:function(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)},rgb2hex:function(t){return(255*t[0]<<16)+(255*t[1]<<8)+255*t[2]},canUseNewCanvasBlendModes:function(){if("undefined"==typeof document)return!1;var t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",e="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",r=new Image;r.src=t+"AP804Oa6"+e;var i=new Image;i.src=t+"/wCKxvRF"+e;var n=document.createElement("canvas");n.width=6,n.height=1;var s=n.getContext("2d");s.globalCompositeOperation="multiply",s.drawImage(r,0,0),s.drawImage(i,2,0);var o=s.getImageData(2,0,1,1).data;return 255===o[0]&&0===o[1]&&0===o[2]},getNextPowerOfTwo:function(t){if(t>0&&0==(t&t-1))return t;for(var e=1;e<t;)e<<=1;return e},isPowerOfTwo:function(t,e){return t>0&&0==(t&t-1)&&e>0&&0==(e&e-1)},getResolutionOfUrl:function(t){var e=i.RETINA_PREFIX.exec(t);return e?parseFloat(e[1]):1},sayHello:function(t){},isWebGLSupported:function(){var t={stencil:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t);return!(!r||!r.getContextAttributes().stencil)}catch(t){return!1}},sign:function(t){return t?t<0?-1:1:0},removeItems:function(t,e,r){var i=t.length;if(!(e>=i||0===r)){for(var n=e,s=i-(r=e+r>i?i-e:r);n<s;++n)t[n]=t[n+r];t.length=s}},TextureCache:{},BaseTextureCache:{}}},{"../const":23,"./pluginTarget":78,async:1,eventemitter3:3}],78:[function(t,e,r){e.exports={mixin:function(t){!function(t){t.__plugins={},t.registerPlugin=function(e,r){t.__plugins[e]=r},t.prototype.initPlugins=function(){for(var e in this.plugins=this.plugins||{},t.__plugins)this.plugins[e]=new t.__plugins[e](this)},t.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}(t)}}},{}],79:[function(t,e,r){var i=t("./core"),n=t("./mesh"),s=t("./extras"),o=t("./filters");i.SpriteBatch=function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")},i.AssetLoader=function(){throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.")},Object.defineProperties(i,{Stage:{get:function(){return console.warn("You do not need to use a PIXI Stage any more, you can simply render any container."),i.Container}},DisplayObjectContainer:{get:function(){return console.warn("DisplayObjectContainer has been shortened to Container, please use Container from now on."),i.Container}},Strip:{get:function(){return console.warn("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),n.Mesh}},Rope:{get:function(){return console.warn("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),n.Rope}},MovieClip:{get:function(){return console.warn("The MovieClip class has been moved to extras.MovieClip, please use extras.MovieClip from now on."),s.MovieClip}},TilingSprite:{get:function(){return console.warn("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),s.TilingSprite}},BitmapText:{get:function(){return console.warn("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),s.BitmapText}},blendModes:{get:function(){return console.warn("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),i.BLEND_MODES}},scaleModes:{get:function(){return console.warn("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),i.SCALE_MODES}},BaseTextureCache:{get:function(){return console.warn("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),i.utils.BaseTextureCache}},TextureCache:{get:function(){return console.warn("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),i.utils.TextureCache}},math:{get:function(){return console.warn("The math namespace is deprecated, please access members already accessible on PIXI."),i}}}),i.Sprite.prototype.setTexture=function(t){this.texture=t,console.warn("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},s.BitmapText.prototype.setText=function(t){this.text=t,console.warn("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")},i.Text.prototype.setText=function(t){this.text=t,console.warn("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},i.Text.prototype.setStyle=function(t){this.style=t,console.warn("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},i.Texture.prototype.setFrame=function(t){this.frame=t,console.warn("setFrame is now deprecated, please use the frame property, e.g : myTexture.frame = frame;")},Object.defineProperties(o,{AbstractFilter:{get:function(){return console.warn("filters.AbstractFilter is an undocumented alias, please use AbstractFilter from now on."),i.AbstractFilter}},FXAAFilter:{get:function(){return console.warn("filters.FXAAFilter is an undocumented alias, please use FXAAFilter from now on."),i.FXAAFilter}},SpriteMaskFilter:{get:function(){return console.warn("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),i.SpriteMaskFilter}}}),i.utils.uuid=function(){return console.warn("utils.uuid() is deprecated, please use utils.uid() from now on."),i.utils.uid()}},{"./core":30,"./extras":86,"./filters":103,"./mesh":128}],80:[function(t,e,r){var i=t("../core");function n(t,e){i.Container.call(this),e=e||{},this.textWidth=0,this.textHeight=0,this._glyphs=[],this._font={tint:void 0!==e.tint?e.tint:16777215,align:e.align||"left",name:null,size:0},this.font=e.font,this._text=t,this.maxWidth=0,this.maxLineHeight=0,this.dirty=!1,this.updateText()}n.prototype=Object.create(i.Container.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{tint:{get:function(){return this._font.tint},set:function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0}},align:{get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},font:{get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):n.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},text:{get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}}}),n.prototype.updateText=function(){for(var t=n.fonts[this._font.name],e=new i.Point,r=null,s=[],o=0,a=0,l=[],h=0,u=this._font.size/t.size,c=-1,p=0,d=0;d<this.text.length;d++){var f=this.text.charCodeAt(d);if(c=/(\s)/.test(this.text.charAt(d))?d:c,/(?:\r\n|\r|\n)/.test(this.text.charAt(d)))l.push(o),a=Math.max(a,o),h++,e.x=0,e.y+=t.lineHeight,r=null;else if(-1!==c&&this.maxWidth>0&&e.x*u>this.maxWidth)i.utils.removeItems(s,c,d-c),d=c,c=-1,l.push(o),a=Math.max(a,o),h++,e.x=0,e.y+=t.lineHeight,r=null;else{var m=t.chars[f];m&&(r&&m.kerning[r]&&(e.x+=m.kerning[r]),s.push({texture:m.texture,line:h,charCode:f,position:new i.Point(e.x+m.xOffset,e.y+m.yOffset)}),o=e.x+(m.texture.width+m.xOffset),e.x+=m.xAdvance,p=Math.max(p,m.yOffset+m.texture.height),r=f)}}l.push(o),a=Math.max(a,o);var v=[];for(d=0;d<=h;d++){var g=0;"right"===this._font.align?g=a-l[d]:"center"===this._font.align&&(g=(a-l[d])/2),v.push(g)}var _=s.length,y=this.tint;for(d=0;d<_;d++){var x=this._glyphs[d];x?x.texture=s[d].texture:(x=new i.Sprite(s[d].texture),this._glyphs.push(x)),x.position.x=(s[d].position.x+v[s[d].line])*u,x.position.y=s[d].position.y*u,x.scale.x=x.scale.y=u,x.tint=y,x.parent||this.addChild(x)}for(d=_;d<this._glyphs.length;++d)this.removeChild(this._glyphs[d]);this.textWidth=a*u,this.textHeight=(e.y+t.lineHeight)*u,this.maxLineHeight=p*u},n.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},n.prototype.getLocalBounds=function(){return this.validate(),i.Container.prototype.getLocalBounds.call(this)},n.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},n.fonts={}},{"../core":30}],81:[function(t,e,r){var i=t("../core");function n(t){i.Sprite.call(this,t[0]instanceof i.Texture?t[0]:t[0].texture),this._textures=null,this._durations=null,this.textures=t,this.animationSpeed=1,this.loop=!0,this.onComplete=null,this._currentTime=0,this.playing=!1}n.prototype=Object.create(i.Sprite.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{totalFrames:{get:function(){return this._textures.length}},textures:{get:function(){return this._textures},set:function(t){if(t[0]instanceof i.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}}},currentFrame:{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}}}),n.prototype.stop=function(){this.playing&&(this.playing=!1,i.ticker.shared.remove(this.update,this))},n.prototype.play=function(){this.playing||(this.playing=!0,i.ticker.shared.add(this.update,this))},n.prototype.gotoAndStop=function(t){this.stop(),this._currentTime=t,this._texture=this._textures[this.currentFrame]},n.prototype.gotoAndPlay=function(t){this._currentTime=t,this.play()},n.prototype.update=function(t){var e=this.animationSpeed*t;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=e/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):this._texture=this._textures[this.currentFrame]},n.prototype.destroy=function(){this.stop(),i.Sprite.prototype.destroy.call(this)},n.fromFrames=function(t){for(var e=[],r=0;r<t.length;++r)e.push(new i.Texture.fromFrame(t[r]));return new n(e)},n.fromImages=function(t){for(var e=[],r=0;r<t.length;++r)e.push(new i.Texture.fromImage(t[r]));return new n(e)}},{"../core":30}],82:[function(t,e,r){var i=t("../core"),n=new i.Point,s=t("../core/renderers/canvas/utils/CanvasTinter");function o(t,e,r){i.Sprite.call(this,t),this.tileScale=new i.Point(1,1),this.tilePosition=new i.Point(0,0),this._width=e||100,this._height=r||100,this._uvs=new i.TextureUvs,this._canvasPattern=null,this.shader=new i.AbstractFilter(["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform mat3 projectionMatrix;","uniform vec4 uFrame;","uniform vec4 uTransform;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vec2 coord = aTextureCoord;","   coord -= uTransform.xy;","   coord /= uTransform.zw;","   vTextureCoord = coord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","uniform vec4 uFrame;","uniform vec2 uPixelSize;","void main(void){","   vec2 coord = mod(vTextureCoord, uFrame.zw);","   coord = clamp(coord, uPixelSize, uFrame.zw - uPixelSize);","   coord += uFrame.xy;","   gl_FragColor =  texture2D(uSampler, coord) * vColor ;","}"].join("\n"),{uFrame:{type:"4fv",value:[0,0,1,1]},uTransform:{type:"4fv",value:[0,0,1,1]},uPixelSize:{type:"2fv",value:[1,1]}})}o.prototype=Object.create(i.Sprite.prototype),o.prototype.constructor=o,e.exports=o,Object.defineProperties(o.prototype,{width:{get:function(){return this._width},set:function(t){this._width=t}},height:{get:function(){return this._height},set:function(t){this._height=t}}}),o.prototype._onTextureUpdate=function(){},o.prototype._renderWebGL=function(t){var e=this._texture;if(e&&e._uvs){var r=e._uvs,i=e._frame.width,n=e._frame.height,s=e.baseTexture.width,o=e.baseTexture.height;e._uvs=this._uvs,e._frame.width=this.width,e._frame.height=this.height,this.shader.uniforms.uPixelSize.value[0]=1/s,this.shader.uniforms.uPixelSize.value[1]=1/o,this.shader.uniforms.uFrame.value[0]=r.x0,this.shader.uniforms.uFrame.value[1]=r.y0,this.shader.uniforms.uFrame.value[2]=r.x1-r.x0,this.shader.uniforms.uFrame.value[3]=r.y2-r.y0,this.shader.uniforms.uTransform.value[0]=this.tilePosition.x%(i*this.tileScale.x)/this._width,this.shader.uniforms.uTransform.value[1]=this.tilePosition.y%(n*this.tileScale.y)/this._height,this.shader.uniforms.uTransform.value[2]=s/this._width*this.tileScale.x,this.shader.uniforms.uTransform.value[3]=o/this._height*this.tileScale.y,t.setObjectRenderer(t.plugins.sprite),t.plugins.sprite.render(this),e._uvs=r,e._frame.width=i,e._frame.height=n}},o.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.hasLoaded){var r=t.context,n=this.worldTransform,o=t.resolution,a=e.baseTexture,l=this.tilePosition.x/this.tileScale.x%e._frame.width,h=this.tilePosition.y/this.tileScale.y%e._frame.height;if(!this._canvasPattern){var u=new i.CanvasBuffer(e._frame.width,e._frame.height);16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=s.getTintedTexture(this,this.tint)),u.context.drawImage(this.tintedTexture,0,0)):u.context.drawImage(a.source,-e._frame.x,-e._frame.y),this._canvasPattern=u.context.createPattern(u.canvas,"repeat")}r.globalAlpha=this.worldAlpha,r.setTransform(n.a*o,n.b*o,n.c*o,n.d*o,n.tx*o,n.ty*o),r.scale(this.tileScale.x,this.tileScale.y),r.translate(l+this.anchor.x*-this._width,h+this.anchor.y*-this._height);var c=t.blendModes[this.blendMode];c!==t.context.globalCompositeOperation&&(r.globalCompositeOperation=c),r.fillStyle=this._canvasPattern,r.fillRect(-l,-h,this._width/this.tileScale.x,this._height/this.tileScale.y)}},o.prototype.getBounds=function(){var t,e,r,i,n=this._width,s=this._height,o=n*(1-this.anchor.x),a=n*-this.anchor.x,l=s*(1-this.anchor.y),h=s*-this.anchor.y,u=this.worldTransform,c=u.a,p=u.b,d=u.c,f=u.d,m=u.tx,v=u.ty,g=c*a+d*h+m,_=f*h+p*a+v,y=c*o+d*h+m,x=f*h+p*o+v,b=c*o+d*l+m,T=f*l+p*o+v,w=c*a+d*l+m,S=f*l+p*a+v;t=w<(t=b<(t=y<(t=g)?y:t)?b:t)?w:t,r=S<(r=T<(r=x<(r=_)?x:r)?T:r)?S:r,e=w>(e=b>(e=y>(e=g)?y:e)?b:e)?w:e,i=S>(i=T>(i=x>(i=_)?x:i)?T:i)?S:i;var E=this._bounds;return E.x=t,E.width=e-t,E.y=r,E.height=i-r,this._currentBounds=E,E},o.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,n);var e,r=this._width,i=this._height,s=-r*this.anchor.x;return n.x>s&&n.x<s+r&&(e=-i*this.anchor.y,n.y>e&&n.y<e+i)},o.prototype.destroy=function(){i.Sprite.prototype.destroy.call(this),this.tileScale=null,this._tileScaleOffset=null,this.tilePosition=null,this._uvs=null},o.fromFrame=function(t,e,r){var n=i.utils.TextureCache[t];if(!n)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new o(n,e,r)},o.fromImage=function(t,e,r,n,s){return new o(i.Texture.fromImage(t,n,s),e,r)}},{"../core":30,"../core/renderers/canvas/utils/CanvasTinter":48}],83:[function(t,e,r){var i=t("../core"),n=i.DisplayObject,s=new i.Matrix;n.prototype._cacheAsBitmap=!1,n.prototype._originalRenderWebGL=null,n.prototype._originalRenderCanvas=null,n.prototype._originalUpdateTransform=null,n.prototype._originalHitTest=null,n.prototype._originalDestroy=null,n.prototype._cachedSprite=null,Object.defineProperties(n.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._originalRenderWebGL=this.renderWebGL,this._originalRenderCanvas=this.renderCanvas,this._originalUpdateTransform=this.updateTransform,this._originalGetBounds=this.getBounds,this._originalDestroy=this.destroy,this._originalContainsPoint=this.containsPoint,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(this._cachedSprite&&this._destroyCachedDisplayObject(),this.renderWebGL=this._originalRenderWebGL,this.renderCanvas=this._originalRenderCanvas,this.getBounds=this._originalGetBounds,this.destroy=this._originalDestroy,this.updateTransform=this._originalUpdateTransform,this.containsPoint=this._originalContainsPoint))}}}),n.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cachedSprite.worldAlpha=this.worldAlpha,t.setObjectRenderer(t.plugins.sprite),t.plugins.sprite.render(this._cachedSprite))},n.prototype._initCachedDisplayObject=function(t){if(!this._cachedSprite){t.currentRenderer.flush();var e=this.getLocalBounds().clone();if(this._filters){var r=this._filters[0].padding;e.x-=r,e.y-=r,e.width+=2*r,e.height+=2*r}var n=t.currentRenderTarget,o=t.filterManager.filterStack,a=new i.RenderTexture(t,0|e.width,0|e.height),l=s;l.tx=-e.x,l.ty=-e.y,this.renderWebGL=this._originalRenderWebGL,a.render(this,l,!0,!0),t.setRenderTarget(n),t.filterManager.filterStack=o,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this.getBounds=this._getCachedBounds,this._cachedSprite=new i.Sprite(a),this._cachedSprite.worldTransform=this.worldTransform,this._cachedSprite.anchor.x=-e.x/e.width,this._cachedSprite.anchor.y=-e.y/e.height,this.updateTransform(),this.containsPoint=this._cachedSprite.containsPoint.bind(this._cachedSprite)}},n.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cachedSprite.worldAlpha=this.worldAlpha,this._cachedSprite.renderCanvas(t))},n.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cachedSprite){var e=this.getLocalBounds(),r=t.context,n=new i.RenderTexture(t,0|e.width,0|e.height),o=s;o.tx=-e.x,o.ty=-e.y,this.renderCanvas=this._originalRenderCanvas,n.render(this,o,!0),t.context=r,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.getBounds=this._getCachedBounds,this._cachedSprite=new i.Sprite(n),this._cachedSprite.worldTransform=this.worldTransform,this._cachedSprite.anchor.x=-e.x/e.width,this._cachedSprite.anchor.y=-e.y/e.height,this.updateTransform(),this.containsPoint=this._cachedSprite.containsPoint.bind(this._cachedSprite)}},n.prototype._getCachedBounds=function(){return this._cachedSprite._currentBounds=null,this._cachedSprite.getBounds()},n.prototype._destroyCachedDisplayObject=function(){this._cachedSprite._texture.destroy(),this._cachedSprite=null},n.prototype._cacheAsBitmapDestroy=function(){this.cacheAsBitmap=!1,this._originalDestroy()}},{"../core":30}],84:[function(t,e,r){var i=t("../core");i.DisplayObject.prototype.name=null,i.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},{"../core":30}],85:[function(t,e,r){var i=t("../core");i.DisplayObject.prototype.getGlobalPosition=function(t){return t=t||new i.Point,this.parent?(this.displayObjectUpdateTransform(),t.x=this.worldTransform.tx,t.y=this.worldTransform.ty):(t.x=this.position.x,t.y=this.position.y),t}},{"../core":30}],86:[function(t,e,r){
/**
 * @file        Main export of the PIXI extras library
 * @author      Mat Groves <mat@goodboydigital.com>
 * @copyright   2013-2015 GoodBoyDigital
 * @license     {@link https://github.com/pixijs/pixi.js/blob/master/LICENSE|MIT License}
 */
t("./cacheAsBitmap"),t("./getChildByName"),t("./getGlobalPosition"),e.exports={MovieClip:t("./MovieClip"),TilingSprite:t("./TilingSprite"),BitmapText:t("./BitmapText")}},{"./BitmapText":80,"./MovieClip":81,"./TilingSprite":82,"./cacheAsBitmap":83,"./getChildByName":84,"./getGlobalPosition":85}],87:[function(t,e,r){var i=t("../../core");function n(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nuniform vec4 dimensions;\nuniform float pixelSize;\nuniform sampler2D uSampler;\n\nfloat character(float n, vec2 p)\n{\n    p = floor(p*vec2(4.0, -4.0) + 2.5);\n    if (clamp(p.x, 0.0, 4.0) == p.x && clamp(p.y, 0.0, 4.0) == p.y)\n    {\n        if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;\n    }\n    return 0.0;\n}\n\nvoid main()\n{\n    vec2 uv = gl_FragCoord.xy;\n\n    vec3 col = texture2D(uSampler, floor( uv / pixelSize ) * pixelSize / dimensions.xy).rgb;\n\n    float gray = (col.r + col.g + col.b) / 3.0;\n\n    float n =  65536.0;             // .\n    if (gray > 0.2) n = 65600.0;    // :\n    if (gray > 0.3) n = 332772.0;   // *\n    if (gray > 0.4) n = 15255086.0; // o\n    if (gray > 0.5) n = 23385164.0; // &\n    if (gray > 0.6) n = 15252014.0; // 8\n    if (gray > 0.7) n = 13199452.0; // @\n    if (gray > 0.8) n = 11512810.0; // #\n\n    vec2 p = mod( uv / ( pixelSize * 0.5 ), 2.0) - vec2(1.0);\n    col = col * character(n, p);\n\n    gl_FragColor = vec4(col, 1.0);\n}\n",{dimensions:{type:"4fv",value:new Float32Array([0,0,0,0])},pixelSize:{type:"1f",value:8}})}n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{size:{get:function(){return this.uniforms.pixelSize.value},set:function(t){this.uniforms.pixelSize.value=t}}})},{"../../core":30}],88:[function(t,e,r){var i=t("../../core"),n=t("../blur/BlurXFilter"),s=t("../blur/BlurYFilter");function o(){i.AbstractFilter.call(this),this.blurXFilter=new n,this.blurYFilter=new s,this.defaultFilter=new i.AbstractFilter}o.prototype=Object.create(i.AbstractFilter.prototype),o.prototype.constructor=o,e.exports=o,o.prototype.applyFilter=function(t,e,r){var n=t.filterManager.getRenderTarget(!0);this.defaultFilter.applyFilter(t,e,r),this.blurXFilter.applyFilter(t,e,n),t.blendModeManager.setBlendMode(i.BLEND_MODES.SCREEN),this.blurYFilter.applyFilter(t,n,r),t.blendModeManager.setBlendMode(i.BLEND_MODES.NORMAL),t.filterManager.returnRenderTarget(n)},Object.defineProperties(o.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t}},blurX:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}},blurY:{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t}}})},{"../../core":30,"../blur/BlurXFilter":91,"../blur/BlurYFilter":92}],89:[function(t,e,r){var i=t("../../core");function n(t,e){i.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform float dirX;\nuniform float dirY;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[3];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[0] = aTextureCoord + vec2( (0.004 * strength) * dirX, (0.004 * strength) * dirY );\n    vBlurTexCoords[1] = aTextureCoord + vec2( (0.008 * strength) * dirX, (0.008 * strength) * dirY );\n    vBlurTexCoords[2] = aTextureCoord + vec2( (0.012 * strength) * dirX, (0.012 * strength) * dirY );\n\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[3];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vTextureCoord     ) * 0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0]) * 0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1]) * 0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2]) * 0.004431848411938341;\n}\n",{strength:{type:"1f",value:1},dirX:{type:"1f",value:t||0},dirY:{type:"1f",value:e||0}}),this.defaultFilter=new i.AbstractFilter,this.passes=1,this.dirX=t||0,this.dirY=e||0,this.strength=4}n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.applyFilter=function(t,e,r,i){var n=this.getShader(t);if(this.uniforms.strength.value=this.strength/4/this.passes*(e.frame.width/e.size.width),1===this.passes)t.filterManager.applyFilter(n,e,r,i);else{var s=t.filterManager.getRenderTarget(!0);t.filterManager.applyFilter(n,e,s,i);for(var o=0;o<this.passes-2;o++)t.filterManager.applyFilter(n,s,s,i);t.filterManager.applyFilter(n,s,r,i),t.filterManager.returnRenderTarget(s)}},Object.defineProperties(n.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*t,this.strength=t}},dirX:{get:function(){return this.dirX},set:function(t){this.uniforms.dirX.value=t}},dirY:{get:function(){return this.dirY},set:function(t){this.uniforms.dirY.value=t}}})},{"../../core":30}],90:[function(t,e,r){var i=t("../../core"),n=t("./BlurXFilter"),s=t("./BlurYFilter");function o(){i.AbstractFilter.call(this),this.blurXFilter=new n,this.blurYFilter=new s}o.prototype=Object.create(i.AbstractFilter.prototype),o.prototype.constructor=o,e.exports=o,o.prototype.applyFilter=function(t,e,r){var i=t.filterManager.getRenderTarget(!0);this.blurXFilter.applyFilter(t,e,i),this.blurYFilter.applyFilter(t,i,r),t.filterManager.returnRenderTarget(i)},Object.defineProperties(o.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(t){this.padding=.5*Math.abs(t),this.blurXFilter.blur=this.blurYFilter.blur=t}},passes:{get:function(){return this.blurXFilter.passes},set:function(t){this.blurXFilter.passes=this.blurYFilter.passes=t}},blurX:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}},blurY:{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t}}})},{"../../core":30,"./BlurXFilter":91,"./BlurYFilter":92}],91:[function(t,e,r){var i=t("../../core");function n(){i.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(-0.012 * strength, 0.0);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(-0.008 * strength, 0.0);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(-0.004 * strength, 0.0);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2( 0.004 * strength, 0.0);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2( 0.008 * strength, 0.0);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2( 0.012 * strength, 0.0);\n\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n}\n",{strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.applyFilter=function(t,e,r,i){var n=this.getShader(t);if(this.uniforms.strength.value=this.strength/4/this.passes*(e.frame.width/e.size.width),1===this.passes)t.filterManager.applyFilter(n,e,r,i);else{for(var s=t.filterManager.getRenderTarget(!0),o=e,a=s,l=0;l<this.passes-1;l++){t.filterManager.applyFilter(n,o,a,!0);var h=a;a=o,o=h}t.filterManager.applyFilter(n,o,r,i),t.filterManager.returnRenderTarget(s)}},Object.defineProperties(n.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*Math.abs(t),this.strength=t}}})},{"../../core":30}],92:[function(t,e,r){var i=t("../../core");function n(){i.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(0.0, -0.012 * strength);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(0.0, -0.008 * strength);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(0.0, -0.004 * strength);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2(0.0,  0.004 * strength);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2(0.0,  0.008 * strength);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2(0.0,  0.012 * strength);\n\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n}\n",{strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.applyFilter=function(t,e,r,i){var n=this.getShader(t);if(this.uniforms.strength.value=Math.abs(this.strength)/4/this.passes*(e.frame.height/e.size.height),1===this.passes)t.filterManager.applyFilter(n,e,r,i);else{for(var s=t.filterManager.getRenderTarget(!0),o=e,a=s,l=0;l<this.passes-1;l++){t.filterManager.applyFilter(n,o,a,!0);var h=a;a=o,o=h}t.filterManager.applyFilter(n,o,r,i),t.filterManager.returnRenderTarget(s)}},Object.defineProperties(n.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*Math.abs(t),this.strength=t}}})},{"../../core":30}],93:[function(t,e,r){var i=t("../../core");function n(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 delta;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta * percent);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n",{delta:{type:"v2",value:{x:.1,y:0}}})}n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n},{"../../core":30}],94:[function(t,e,r){var i=t("../../core");function n(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[25];\n\nvoid main(void)\n{\n\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.r = (m[0] * c.r);\n        gl_FragColor.r += (m[1] * c.g);\n        gl_FragColor.r += (m[2] * c.b);\n        gl_FragColor.r += (m[3] * c.a);\n        gl_FragColor.r += m[4];\n\n    gl_FragColor.g = (m[5] * c.r);\n        gl_FragColor.g += (m[6] * c.g);\n        gl_FragColor.g += (m[7] * c.b);\n        gl_FragColor.g += (m[8] * c.a);\n        gl_FragColor.g += m[9];\n\n     gl_FragColor.b = (m[10] * c.r);\n        gl_FragColor.b += (m[11] * c.g);\n        gl_FragColor.b += (m[12] * c.b);\n        gl_FragColor.b += (m[13] * c.a);\n        gl_FragColor.b += m[14];\n\n     gl_FragColor.a = (m[15] * c.r);\n        gl_FragColor.a += (m[16] * c.g);\n        gl_FragColor.a += (m[17] * c.b);\n        gl_FragColor.a += (m[18] * c.a);\n        gl_FragColor.a += m[19];\n\n}\n",{m:{type:"1fv",value:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]}})}n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,n.prototype._loadMatrix=function(t,e){var r=t;(e=!!e)&&(this._multiply(r,this.uniforms.m.value,t),r=this._colorMatrix(r)),this.uniforms.m.value=r},n.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19],t},n.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},n.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},n.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},n.prototype.grayscale=n.prototype.greyscale,n.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},n.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),i=Math.sin(t),n=[.213+.787*r+-.213*i,.715+-.715*r+-.715*i,.072+-.072*r+.928*i,0,0,.213+-.213*r+.143*i,.715+r*(1-.715)+.14*i,.072+-.072*r+-.283*i,0,0,.213+-.213*r+-.787*i,.715+-.715*r+.715*i,.072+.928*r+.072*i,0,0,0,0,0,1,0];this._loadMatrix(n,e)},n.prototype.contrast=function(t,e){var r=(t||0)+1,i=-128*(r-1),n=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(n,e)},n.prototype.saturate=function(t,e){var r=2*(t||0)/3+1,i=-.5*(r-1),n=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(n,e)},n.prototype.desaturate=function(t){this.saturate(-1)},n.prototype.negative=function(t){this._loadMatrix([0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0],t)},n.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},n.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},n.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},n.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},n.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},n.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},n.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},n.prototype.colorTone=function(t,e,r,i,n){t=t||.2,e=e||.15;var s=((r=r||16770432)>>16&255)/255,o=(r>>8&255)/255,a=(255&r)/255,l=((i=i||3375104)>>16&255)/255,h=(i>>8&255)/255,u=(255&i)/255,c=[.3,.59,.11,0,0,s,o,a,t,0,l,h,u,e,0,s-l,o-h,a-u,0,0];this._loadMatrix(c,n)},n.prototype.night=function(t,e){var r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},n.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},n.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},n.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperties(n.prototype,{matrix:{get:function(){return this.uniforms.m.value},set:function(t){this.uniforms.m.value=t}}})},{"../../core":30}],95:[function(t,e,r){var i=t("../../core");function n(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float step;\n\nvoid main(void)\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    color = floor(color * step) / step;\n\n    gl_FragColor = color;\n}\n",{step:{type:"1f",value:5}})}n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{step:{get:function(){return this.uniforms.step.value},set:function(t){this.uniforms.step.value=t}}})},{"../../core":30}],96:[function(t,e,r){var i=t("../../core");function n(t,e,r){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying mediump vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 texelSize;\nuniform float matrix[9];\n\nvoid main(void)\n{\n   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left\n   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center\n   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right\n\n   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left\n   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center\n   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right\n\n   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left\n   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center\n   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right\n\n   gl_FragColor =\n       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +\n       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +\n       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];\n\n   gl_FragColor.a = c22.a;\n}\n",{matrix:{type:"1fv",value:new Float32Array(t)},texelSize:{type:"v2",value:{x:1/e,y:1/r}}})}n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{matrix:{get:function(){return this.uniforms.matrix.value},set:function(t){this.uniforms.matrix.value=new Float32Array(t)}},width:{get:function(){return 1/this.uniforms.texelSize.value.x},set:function(t){this.uniforms.texelSize.value.x=1/t}},height:{get:function(){return 1/this.uniforms.texelSize.value.y},set:function(t){this.uniforms.texelSize.value.y=1/t}}})},{"../../core":30}],97:[function(t,e,r){var i=t("../../core");function n(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);\n\n    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\n\n    if (lum < 1.00)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.75)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.50)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.3)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n}\n")}n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n},{"../../core":30}],98:[function(t,e,r){var i=t("../../core");function n(t,e){var r=new i.Matrix;t.renderable=!1,i.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMapCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vMapCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision mediump float;\n\nvarying vec2 vMapCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vMapCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y));\n}\n",{mapSampler:{type:"sampler2D",value:t.texture},otherMatrix:{type:"mat3",value:r.toArray(!0)},scale:{type:"v2",value:{x:1,y:1}}}),this.maskSprite=t,this.maskMatrix=r,null!==e&&void 0!==e||(e=20),this.scale=new i.Point(e,e)}n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.applyFilter=function(t,e,r){var i=t.filterManager;i.calculateMappedMatrix(e.frame,this.maskSprite,this.maskMatrix),this.uniforms.otherMatrix.value=this.maskMatrix.toArray(!0),this.uniforms.scale.value.x=this.scale.x*(1/e.frame.width),this.uniforms.scale.value.y=this.scale.y*(1/e.frame.height);var n=this.getShader(t);i.applyFilter(n,e,r)},Object.defineProperties(n.prototype,{map:{get:function(){return this.uniforms.mapSampler.value},set:function(t){this.uniforms.mapSampler.value=t}}})},{"../../core":30}],99:[function(t,e,r){var i=t("../../core");function n(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec4 dimensions;\nuniform sampler2D uSampler;\n\nuniform float angle;\nuniform float scale;\n\nfloat pattern()\n{\n   float s = sin(angle), c = cos(angle);\n   vec2 tex = vTextureCoord * dimensions.xy;\n   vec2 point = vec2(\n       c * tex.x - s * tex.y,\n       s * tex.x + c * tex.y\n   ) * scale;\n   return (sin(point.x) * sin(point.y)) * 4.0;\n}\n\nvoid main()\n{\n   vec4 color = texture2D(uSampler, vTextureCoord);\n   float average = (color.r + color.g + color.b) / 3.0;\n   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);\n}\n",{scale:{type:"1f",value:1},angle:{type:"1f",value:5},dimensions:{type:"4fv",value:[0,0,0,0]}})}n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{scale:{get:function(){return this.uniforms.scale.value},set:function(t){this.uniforms.scale.value=t}},angle:{get:function(){return this.uniforms.angle.value},set:function(t){this.uniforms.angle.value=t}}})},{"../../core":30}],100:[function(t,e,r){var i=t("../../core");function n(){i.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform vec2 offset;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition+offset), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(0.0, -0.012 * strength);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(0.0, -0.008 * strength);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(0.0, -0.004 * strength);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2(0.0,  0.004 * strength);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2(0.0,  0.008 * strength);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2(0.0,  0.012 * strength);\n\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform vec3 color;\nuniform float alpha;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    vec4 sum = vec4(0.0);\n\n    sum += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    sum += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    sum += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    sum += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    sum += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    sum += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    sum += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n\n    gl_FragColor = vec4( color.rgb * sum.a * alpha, sum.a * alpha );\n}\n",{blur:{type:"1f",value:1/512},color:{type:"c",value:[0,0,0]},alpha:{type:"1f",value:.7},offset:{type:"2f",value:[5,5]},strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.applyFilter=function(t,e,r,i){var n=this.getShader(t);if(this.uniforms.strength.value=this.strength/4/this.passes*(e.frame.height/e.size.height),1===this.passes)t.filterManager.applyFilter(n,e,r,i);else{for(var s=t.filterManager.getRenderTarget(!0),o=e,a=s,l=0;l<this.passes-1;l++){t.filterManager.applyFilter(n,o,a,i);var h=a;a=o,o=h}t.filterManager.applyFilter(n,o,r,i),t.filterManager.returnRenderTarget(s)}},Object.defineProperties(n.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*t,this.strength=t}}})},{"../../core":30}],101:[function(t,e,r){var i=t("../../core"),n=t("../blur/BlurXFilter"),s=t("./BlurYTintFilter");function o(){i.AbstractFilter.call(this),this.blurXFilter=new n,this.blurYTintFilter=new s,this.defaultFilter=new i.AbstractFilter,this.padding=30,this._dirtyPosition=!0,this._angle=45*Math.PI/180,this._distance=10,this.alpha=.75,this.hideObject=!1,this.blendMode=i.BLEND_MODES.MULTIPLY}o.prototype=Object.create(i.AbstractFilter.prototype),o.prototype.constructor=o,e.exports=o,o.prototype.applyFilter=function(t,e,r){var n=t.filterManager.getRenderTarget(!0);this._dirtyPosition&&(this._dirtyPosition=!1,this.blurYTintFilter.uniforms.offset.value[0]=Math.sin(this._angle)*this._distance,this.blurYTintFilter.uniforms.offset.value[1]=Math.cos(this._angle)*this._distance),this.blurXFilter.applyFilter(t,e,n),t.blendModeManager.setBlendMode(this.blendMode),this.blurYTintFilter.applyFilter(t,n,r),t.blendModeManager.setBlendMode(i.BLEND_MODES.NORMAL),this.hideObject||this.defaultFilter.applyFilter(t,e,r),t.filterManager.returnRenderTarget(n)},Object.defineProperties(o.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYTintFilter.blur=t}},blurX:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}},blurY:{get:function(){return this.blurYTintFilter.blur},set:function(t){this.blurYTintFilter.blur=t}},color:{get:function(){return i.utils.rgb2hex(this.blurYTintFilter.uniforms.color.value)},set:function(t){this.blurYTintFilter.uniforms.color.value=i.utils.hex2rgb(t)}},alpha:{get:function(){return this.blurYTintFilter.uniforms.alpha.value},set:function(t){this.blurYTintFilter.uniforms.alpha.value=t}},distance:{get:function(){return this._distance},set:function(t){this._dirtyPosition=!0,this._distance=t}},angle:{get:function(){return this._angle},set:function(t){this._dirtyPosition=!0,this._angle=t}}})},{"../../core":30,"../blur/BlurXFilter":91,"./BlurYTintFilter":100}],102:[function(t,e,r){var i=t("../../core");function n(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float gray;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor.rgb = mix(gl_FragColor.rgb, vec3(0.2126*gl_FragColor.r + 0.7152*gl_FragColor.g + 0.0722*gl_FragColor.b), gray);\n}\n",{gray:{type:"1f",value:1}})}n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{gray:{get:function(){return this.uniforms.gray.value},set:function(t){this.uniforms.gray.value=t}}})},{"../../core":30}],103:[function(t,e,r){
/**
 * @file        Main export of the PIXI filters library
 * @author      Mat Groves <mat@goodboydigital.com>
 * @copyright   2013-2015 GoodBoyDigital
 * @license     {@link https://github.com/pixijs/pixi.js/blob/master/LICENSE|MIT License}
 */
e.exports={AsciiFilter:t("./ascii/AsciiFilter"),BloomFilter:t("./bloom/BloomFilter"),BlurFilter:t("./blur/BlurFilter"),BlurXFilter:t("./blur/BlurXFilter"),BlurYFilter:t("./blur/BlurYFilter"),BlurDirFilter:t("./blur/BlurDirFilter"),ColorMatrixFilter:t("./color/ColorMatrixFilter"),ColorStepFilter:t("./color/ColorStepFilter"),ConvolutionFilter:t("./convolution/ConvolutionFilter"),CrossHatchFilter:t("./crosshatch/CrossHatchFilter"),DisplacementFilter:t("./displacement/DisplacementFilter"),DotScreenFilter:t("./dot/DotScreenFilter"),GrayFilter:t("./gray/GrayFilter"),DropShadowFilter:t("./dropshadow/DropShadowFilter"),InvertFilter:t("./invert/InvertFilter"),NoiseFilter:t("./noise/NoiseFilter"),PixelateFilter:t("./pixelate/PixelateFilter"),RGBSplitFilter:t("./rgb/RGBSplitFilter"),ShockwaveFilter:t("./shockwave/ShockwaveFilter"),SepiaFilter:t("./sepia/SepiaFilter"),SmartBlurFilter:t("./blur/SmartBlurFilter"),TiltShiftFilter:t("./tiltshift/TiltShiftFilter"),TiltShiftXFilter:t("./tiltshift/TiltShiftXFilter"),TiltShiftYFilter:t("./tiltshift/TiltShiftYFilter"),TwistFilter:t("./twist/TwistFilter")}},{"./ascii/AsciiFilter":87,"./bloom/BloomFilter":88,"./blur/BlurDirFilter":89,"./blur/BlurFilter":90,"./blur/BlurXFilter":91,"./blur/BlurYFilter":92,"./blur/SmartBlurFilter":93,"./color/ColorMatrixFilter":94,"./color/ColorStepFilter":95,"./convolution/ConvolutionFilter":96,"./crosshatch/CrossHatchFilter":97,"./displacement/DisplacementFilter":98,"./dot/DotScreenFilter":99,"./dropshadow/DropShadowFilter":101,"./gray/GrayFilter":102,"./invert/InvertFilter":104,"./noise/NoiseFilter":105,"./pixelate/PixelateFilter":106,"./rgb/RGBSplitFilter":107,"./sepia/SepiaFilter":108,"./shockwave/ShockwaveFilter":109,"./tiltshift/TiltShiftFilter":111,"./tiltshift/TiltShiftXFilter":112,"./tiltshift/TiltShiftYFilter":113,"./twist/TwistFilter":114}],104:[function(t,e,r){var i=t("../../core");function n(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform float invert;\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.rgb = mix( (vec3(1)-gl_FragColor.rgb) * gl_FragColor.a, gl_FragColor.rgb, 1.0 - invert);\n}\n",{invert:{type:"1f",value:1}})}n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{invert:{get:function(){return this.uniforms.invert.value},set:function(t){this.uniforms.invert.value=t}}})},{"../../core":30}],105:[function(t,e,r){var i=t("../../core");function n(){i.AbstractFilter.call(this,null,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float noise;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    float diff = (rand(vTextureCoord) - 0.5) * noise;\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    gl_FragColor = color;\n}\n",{noise:{type:"1f",value:.5}})}n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{noise:{get:function(){return this.uniforms.noise.value},set:function(t){this.uniforms.noise.value=t}}})},{"../../core":30}],106:[function(t,e,r){var i=t("../../core");function n(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 dimensions;\nuniform vec2 pixelSize;\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord;\n\n    vec2 size = dimensions.xy / pixelSize;\n\n    vec2 color = floor( ( vTextureCoord * size ) ) / size + pixelSize/dimensions.xy * 0.5;\n\n    gl_FragColor = texture2D(uSampler, color);\n}\n",{dimensions:{type:"4fv",value:new Float32Array([0,0,0,0])},pixelSize:{type:"v2",value:{x:10,y:10}}})}n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{size:{get:function(){return this.uniforms.pixelSize.value},set:function(t){this.uniforms.pixelSize.value=t}}})},{"../../core":30}],107:[function(t,e,r){var i=t("../../core");function n(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 dimensions;\nuniform vec2 red;\nuniform vec2 green;\nuniform vec2 blue;\n\nvoid main(void)\n{\n   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/dimensions.xy).r;\n   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/dimensions.xy).g;\n   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/dimensions.xy).b;\n   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;\n}\n",{red:{type:"v2",value:{x:20,y:20}},green:{type:"v2",value:{x:-20,y:20}},blue:{type:"v2",value:{x:20,y:-20}},dimensions:{type:"4fv",value:[0,0,0,0]}})}n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{red:{get:function(){return this.uniforms.red.value},set:function(t){this.uniforms.red.value=t}},green:{get:function(){return this.uniforms.green.value},set:function(t){this.uniforms.green.value=t}},blue:{get:function(){return this.uniforms.blue.value},set:function(t){this.uniforms.blue.value=t}}})},{"../../core":30}],108:[function(t,e,r){var i=t("../../core");function n(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float sepia;\n\nconst mat3 sepiaMatrix = mat3(0.3588, 0.7044, 0.1368, 0.2990, 0.5870, 0.1140, 0.2392, 0.4696, 0.0912);\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb * sepiaMatrix, sepia);\n}\n",{sepia:{type:"1f",value:1}})}n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{sepia:{get:function(){return this.uniforms.sepia.value},set:function(t){this.uniforms.sepia.value=t}}})},{"../../core":30}],109:[function(t,e,r){var i=t("../../core");function n(){i.AbstractFilter.call(this,null,"precision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nuniform vec2 center;\nuniform vec3 params; // 10.0, 0.8, 0.1\nuniform float time;\n\nvoid main()\n{\n    vec2 uv = vTextureCoord;\n    vec2 texCoord = uv;\n\n    float dist = distance(uv, center);\n\n    if ( (dist <= (time + params.z)) && (dist >= (time - params.z)) )\n    {\n        float diff = (dist - time);\n        float powDiff = 1.0 - pow(abs(diff*params.x), params.y);\n\n        float diffTime = diff  * powDiff;\n        vec2 diffUV = normalize(uv - center);\n        texCoord = uv + (diffUV * diffTime);\n    }\n\n    gl_FragColor = texture2D(uSampler, texCoord);\n}\n",{center:{type:"v2",value:{x:.5,y:.5}},params:{type:"v3",value:{x:10,y:.8,z:.1}},time:{type:"1f",value:0}})}n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{center:{get:function(){return this.uniforms.center.value},set:function(t){this.uniforms.center.value=t}},params:{get:function(){return this.uniforms.params.value},set:function(t){this.uniforms.params.value=t}},time:{get:function(){return this.uniforms.time.value},set:function(t){this.uniforms.time.value=t}}})},{"../../core":30}],110:[function(t,e,r){var i=t("../../core");function n(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float blur;\nuniform float gradientBlur;\nuniform vec2 start;\nuniform vec2 end;\nuniform vec2 delta;\nuniform vec2 texSize;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));\n    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n",{blur:{type:"1f",value:100},gradientBlur:{type:"1f",value:600},start:{type:"v2",value:{x:0,y:window.innerHeight/2}},end:{type:"v2",value:{x:600,y:window.innerHeight/2}},delta:{type:"v2",value:{x:30,y:30}},texSize:{type:"v2",value:{x:window.innerWidth,y:window.innerHeight}}}),this.updateDelta()}n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.updateDelta=function(){this.uniforms.delta.value.x=0,this.uniforms.delta.value.y=0},Object.defineProperties(n.prototype,{blur:{get:function(){return this.uniforms.blur.value},set:function(t){this.uniforms.blur.value=t}},gradientBlur:{get:function(){return this.uniforms.gradientBlur.value},set:function(t){this.uniforms.gradientBlur.value=t}},start:{get:function(){return this.uniforms.start.value},set:function(t){this.uniforms.start.value=t,this.updateDelta()}},end:{get:function(){return this.uniforms.end.value},set:function(t){this.uniforms.end.value=t,this.updateDelta()}}})},{"../../core":30}],111:[function(t,e,r){var i=t("../../core"),n=t("./TiltShiftXFilter"),s=t("./TiltShiftYFilter");function o(){i.AbstractFilter.call(this),this.tiltShiftXFilter=new n,this.tiltShiftYFilter=new s}o.prototype=Object.create(i.AbstractFilter.prototype),o.prototype.constructor=o,e.exports=o,o.prototype.applyFilter=function(t,e,r){var i=t.filterManager.getRenderTarget(!0);this.tiltShiftXFilter.applyFilter(t,e,i),this.tiltShiftYFilter.applyFilter(t,i,r),t.filterManager.returnRenderTarget(i)},Object.defineProperties(o.prototype,{blur:{get:function(){return this.tiltShiftXFilter.blur},set:function(t){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=t}},gradientBlur:{get:function(){return this.tiltShiftXFilter.gradientBlur},set:function(t){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=t}},start:{get:function(){return this.tiltShiftXFilter.start},set:function(t){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=t}},end:{get:function(){return this.tiltShiftXFilter.end},set:function(t){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=t}}})},{"../../core":30,"./TiltShiftXFilter":112,"./TiltShiftYFilter":113}],112:[function(t,e,r){var i=t("./TiltShiftAxisFilter");function n(){i.call(this)}n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.updateDelta=function(){var t=this.uniforms.end.value.x-this.uniforms.start.value.x,e=this.uniforms.end.value.y-this.uniforms.start.value.y,r=Math.sqrt(t*t+e*e);this.uniforms.delta.value.x=t/r,this.uniforms.delta.value.y=e/r}},{"./TiltShiftAxisFilter":110}],113:[function(t,e,r){var i=t("./TiltShiftAxisFilter");function n(){i.call(this)}n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.updateDelta=function(){var t=this.uniforms.end.value.x-this.uniforms.start.value.x,e=this.uniforms.end.value.y-this.uniforms.start.value.y,r=Math.sqrt(t*t+e*e);this.uniforms.delta.value.x=-e/r,this.uniforms.delta.value.y=t/r}},{"./TiltShiftAxisFilter":110}],114:[function(t,e,r){var i=t("../../core");function n(){i.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\n\nvoid main(void)\n{\n   vec2 coord = vTextureCoord - offset;\n   float dist = length(coord);\n\n   if (dist < radius)\n   {\n       float ratio = (radius - dist) / radius;\n       float angleMod = ratio * ratio * angle;\n       float s = sin(angleMod);\n       float c = cos(angleMod);\n       coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);\n   }\n\n   gl_FragColor = texture2D(uSampler, coord+offset);\n}\n",{radius:{type:"1f",value:.5},angle:{type:"1f",value:5},offset:{type:"v2",value:{x:.5,y:.5}}})}n.prototype=Object.create(i.AbstractFilter.prototype),n.prototype.constructor=n,e.exports=n,Object.defineProperties(n.prototype,{offset:{get:function(){return this.uniforms.offset.value},set:function(t){this.uniforms.offset.value=t}},radius:{get:function(){return this.uniforms.radius.value},set:function(t){this.uniforms.radius.value=t}},angle:{get:function(){return this.uniforms.angle.value},set:function(t){this.uniforms.angle.value=t}}})},{"../../core":30}],115:[function(t,r,i){(function(e){t("./polyfill");var i=r.exports=t("./core");i.extras=t("./extras"),i.filters=t("./filters"),i.interaction=t("./interaction"),i.loaders=t("./loaders"),i.mesh=t("./mesh"),i.accessibility=t("./accessibility"),i.loader=new i.loaders.Loader,Object.assign(i,t("./deprecation")),e.PIXI=i}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./accessibility":22,"./core":30,"./deprecation":79,"./extras":86,"./filters":103,"./interaction":118,"./loaders":121,"./mesh":128,"./polyfill":133}],116:[function(t,e,r){var i=t("../core");function n(){this.global=new i.Point,this.target=null,this.originalEvent=null}n.prototype.constructor=n,e.exports=n,n.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)}},{"../core":30}],117:[function(t,e,r){var i=t("../core"),n=t("./InteractionData");function s(t,e){e=e||{},this.renderer=t,this.autoPreventDefault=void 0===e.autoPreventDefault||e.autoPreventDefault,this.interactionFrequency=e.interactionFrequency||10,this.mouse=new n,Object.defineProperty(this.mouse,"isPropagationStopped",{get:function(){return this.originalEvent._isPropagationStopped||!1},set:function(t){this.originalEvent._isPropagationStopped=t}}),this.eventData={stopped:!1,target:null,type:null,data:this.mouse,stopPropagation:function(){this.stopped=!0}},this.interactiveDataPool=[],this.interactionDOMElement=null,this.eventsAdded=!1,this.onMouseUp=this.onMouseUp.bind(this),this.processMouseUp=this.processMouseUp.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.processMouseDown=this.processMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.processMouseMove=this.processMouseMove.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.processMouseOverOut=this.processMouseOverOut.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.processTouchStart=this.processTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.processTouchEnd=this.processTouchEnd.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.processTouchMove=this.processTouchMove.bind(this),this.last=0,this.currentCursorStyle="inherit",this._tempPoint=new i.Point,this.resolution=1,this.setTargetElement(this.renderer.view,this.renderer.resolution)}Object.assign(i.DisplayObject.prototype,t("./interactiveTarget")),s.prototype.constructor=s,e.exports=s,s.prototype.setTargetElement=function(t,e){this.removeEvents(),this.interactionDOMElement=t,this.resolution=e||1,this.addEvents()},s.prototype.addEvents=function(){this.interactionDOMElement&&(i.ticker.shared.add(this.update,this),window.navigator.msPointerEnabled&&(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"),window.document.addEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.addEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.addEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.addEventListener("touchmove",this.onTouchMove,!0),window.addEventListener("mouseup",this.onMouseUp,!0),this.eventsAdded=!0)},s.prototype.removeEvents=function(){this.interactionDOMElement&&(i.ticker.shared.remove(this.update),window.navigator.msPointerEnabled&&(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""),window.document.removeEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.removeEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.removeEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onTouchMove,!0),this.interactionDOMElement=null,window.removeEventListener("mouseup",this.onMouseUp,!0),this.eventsAdded=!1)},s.prototype.update=function(t){this._deltaTime+=t,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.interactionDOMElement&&(this.didMove?this.didMove=!1:(this.cursor="inherit",this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor))))},s.prototype.dispatchEvent=function(t,e,r){r.stopped||(r.target=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},s.prototype.mapPositionToPoint=function(t,e,r){var i=this.interactionDOMElement.getBoundingClientRect();t.x=(e-i.left)*(this.interactionDOMElement.width/i.width)/this.resolution,t.y=(r-i.top)*(this.interactionDOMElement.height/i.height)/this.resolution},s.prototype.processInteractive=function(t,e,r,i,n){if(!e||!e.visible)return!1;var s=!1,o=n=e.interactive||n;if(e.hitArea&&(o=!1),e.interactiveChildren)for(var a=e.children,l=a.length-1;l>=0;l--)this.processInteractive(t,a[l],r,i,o)&&(s=!0,o=!1,a[l]&&a[l].interactive&&(i=!1));return n&&(i&&!s&&(e.hitArea?(e.worldTransform.applyInverse(t,this._tempPoint),s=e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)):e.containsPoint&&(s=e.containsPoint(t))),e.interactive&&r(e,s)),s},s.prototype.onMouseDown=function(t){this.mouse.originalEvent=t,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.autoPreventDefault&&this.mouse.originalEvent.preventDefault(),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseDown,!0)},s.prototype.processMouseDown=function(t,e){var r=this.mouse.originalEvent,i=2===r.button||3===r.which;e&&(t[i?"_isRightDown":"_isLeftDown"]=!0,this.dispatchEvent(t,i?"rightdown":"mousedown",this.eventData))},s.prototype.onMouseUp=function(t){this.mouse.originalEvent=t,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseUp,!0)},s.prototype.processMouseUp=function(t,e){var r=this.mouse.originalEvent,i=2===r.button||3===r.which,n=i?"_isRightDown":"_isLeftDown";e?(this.dispatchEvent(t,i?"rightup":"mouseup",this.eventData),t[n]&&(t[n]=!1,this.dispatchEvent(t,i?"rightclick":"click",this.eventData))):t[n]&&(t[n]=!1,this.dispatchEvent(t,i?"rightupoutside":"mouseupoutside",this.eventData))},s.prototype.onMouseMove=function(t){this.mouse.originalEvent=t,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.didMove=!0,this.cursor="inherit",this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseMove,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)},s.prototype.processMouseMove=function(t,e){this.eventData.hit=e,this.dispatchEvent(t,"mousemove",this.eventData),this.processMouseOverOut(t,e)},s.prototype.onMouseOut=function(t){this.mouse.originalEvent=t,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.interactionDOMElement.style.cursor="inherit",this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!1)},s.prototype.processMouseOverOut=function(t,e){e?(t._over||(t._over=!0,this.dispatchEvent(t,"mouseover",this.eventData)),t.buttonMode&&(this.cursor=t.defaultCursor)):t._over&&(t._over=!1,this.dispatchEvent(t,"mouseout",this.eventData))},s.prototype.onTouchStart=function(t){this.autoPreventDefault&&t.preventDefault();for(var e=t.changedTouches,r=e.length,i=0;i<r;i++){var n=e[i],s=this.getTouchData(n);s.originalEvent=t,this.eventData.data=s,this.eventData.stopped=!1,this.processInteractive(s.global,this.renderer._lastObjectRendered,this.processTouchStart,!0),this.returnTouchData(s)}},s.prototype.processTouchStart=function(t,e){e&&(t._touchDown=!0,this.dispatchEvent(t,"touchstart",this.eventData))},s.prototype.onTouchEnd=function(t){this.autoPreventDefault&&t.preventDefault();for(var e=t.changedTouches,r=e.length,i=0;i<r;i++){var n=e[i],s=this.getTouchData(n);s.originalEvent=t,this.eventData.data=s,this.eventData.stopped=!1,this.processInteractive(s.global,this.renderer._lastObjectRendered,this.processTouchEnd,!0),this.returnTouchData(s)}},s.prototype.processTouchEnd=function(t,e){e?(this.dispatchEvent(t,"touchend",this.eventData),t._touchDown&&(t._touchDown=!1,this.dispatchEvent(t,"tap",this.eventData))):t._touchDown&&(t._touchDown=!1,this.dispatchEvent(t,"touchendoutside",this.eventData))},s.prototype.onTouchMove=function(t){this.autoPreventDefault&&t.preventDefault();for(var e=t.changedTouches,r=e.length,i=0;i<r;i++){var n=e[i],s=this.getTouchData(n);s.originalEvent=t,this.eventData.data=s,this.eventData.stopped=!1,this.processInteractive(s.global,this.renderer._lastObjectRendered,this.processTouchMove,!0),this.returnTouchData(s)}},s.prototype.processTouchMove=function(t,e){this.eventData.hit=e,this.dispatchEvent(t,"touchmove",this.eventData)},s.prototype.getTouchData=function(t){var e=this.interactiveDataPool.pop();return e||(e=new n),e.isPropagationStopped=!1,e.identifier=t.identifier,this.mapPositionToPoint(e.global,t.clientX,t.clientY),navigator.isCocoonJS&&(e.global.x=e.global.x/this.resolution,e.global.y=e.global.y/this.resolution),t.globalX=e.global.x,t.globalY=e.global.y,e},s.prototype.returnTouchData=function(t){this.interactiveDataPool.push(t)},s.prototype.destroy=function(){this.removeEvents(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactiveDataPool=null,this.interactionDOMElement=null,this.onMouseUp=null,this.processMouseUp=null,this.onMouseDown=null,this.processMouseDown=null,this.onMouseMove=null,this.processMouseMove=null,this.onMouseOut=null,this.processMouseOverOut=null,this.onTouchStart=null,this.processTouchStart=null,this.onTouchEnd=null,this.processTouchEnd=null,this.onTouchMove=null,this.processTouchMove=null,this._tempPoint=null},i.WebGLRenderer.registerPlugin("interaction",s),i.CanvasRenderer.registerPlugin("interaction",s)},{"../core":30,"./InteractionData":116,"./interactiveTarget":119}],118:[function(t,e,r){
/**
 * @file        Main export of the PIXI interactions library
 * @author      Mat Groves <mat@goodboydigital.com>
 * @copyright   2013-2015 GoodBoyDigital
 * @license     {@link https://github.com/pixijs/pixi.js/blob/master/LICENSE|MIT License}
 */
e.exports={InteractionData:t("./InteractionData"),InteractionManager:t("./InteractionManager"),interactiveTarget:t("./interactiveTarget")}},{"./InteractionData":116,"./InteractionManager":117,"./interactiveTarget":119}],119:[function(t,e,r){e.exports={interactive:!1,buttonMode:!1,interactiveChildren:!0,defaultCursor:"pointer",_over:!1,_touchDown:!1}},{}],120:[function(t,e,r){var i=t("resource-loader").Resource,n=t("../core"),s=t("../extras"),o=t("path");function a(t,e){var r={},i=t.data.getElementsByTagName("info")[0],o=t.data.getElementsByTagName("common")[0];r.font=i.getAttribute("face"),r.size=parseInt(i.getAttribute("size"),10),r.lineHeight=parseInt(o.getAttribute("lineHeight"),10),r.chars={};for(var a=t.data.getElementsByTagName("char"),l=0;l<a.length;l++){var h=parseInt(a[l].getAttribute("id"),10),u=new n.Rectangle(parseInt(a[l].getAttribute("x"),10)+e.frame.x,parseInt(a[l].getAttribute("y"),10)+e.frame.y,parseInt(a[l].getAttribute("width"),10),parseInt(a[l].getAttribute("height"),10));r.chars[h]={xOffset:parseInt(a[l].getAttribute("xoffset"),10),yOffset:parseInt(a[l].getAttribute("yoffset"),10),xAdvance:parseInt(a[l].getAttribute("xadvance"),10),kerning:{},texture:new n.Texture(e.baseTexture,u)}}var c=t.data.getElementsByTagName("kerning");for(l=0;l<c.length;l++){var p=parseInt(c[l].getAttribute("first"),10),d=parseInt(c[l].getAttribute("second"),10),f=parseInt(c[l].getAttribute("amount"),10);r.chars[d].kerning[p]=f}t.bitmapFont=r,s.BitmapText.fonts[r.font]=r}e.exports=function(){return function(t,e){if(!t.data||!t.isXml)return e();if(0===t.data.getElementsByTagName("page").length||0===t.data.getElementsByTagName("info").length||null===t.data.getElementsByTagName("info")[0].getAttribute("face"))return e();var r=o.dirname(t.url);"."===r&&(r=""),this.baseUrl&&r&&("/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(r+="/"),r=r.replace(this.baseUrl,"")),r&&"/"!==r.charAt(r.length-1)&&(r+="/");var s=r+t.data.getElementsByTagName("page")[0].getAttribute("file");if(n.utils.TextureCache[s])a(t,n.utils.TextureCache[s]),e();else{var l={crossOrigin:t.crossOrigin,loadType:i.LOAD_TYPE.IMAGE,metadata:t.metadata.imageMetadata};this.add(t.name+"_image",s,l,function(r){a(t,r.texture),e()})}}}},{"../core":30,"../extras":86,path:5,"resource-loader":15}],121:[function(t,e,r){
/**
 * @file        Main export of the PIXI loaders library
 * @author      Mat Groves <mat@goodboydigital.com>
 * @copyright   2013-2015 GoodBoyDigital
 * @license     {@link https://github.com/pixijs/pixi.js/blob/master/LICENSE|MIT License}
 */
e.exports={Loader:t("./loader"),bitmapFontParser:t("./bitmapFontParser"),spritesheetParser:t("./spritesheetParser"),textureParser:t("./textureParser"),Resource:t("resource-loader").Resource}},{"./bitmapFontParser":120,"./loader":122,"./spritesheetParser":123,"./textureParser":124,"resource-loader":15}],122:[function(t,e,r){var i=t("resource-loader"),n=t("./textureParser"),s=t("./spritesheetParser"),o=t("./bitmapFontParser");function a(t,e){i.call(this,t,e);for(var r=0;r<a._pixiMiddleware.length;++r)this.use(a._pixiMiddleware[r]())}a.prototype=Object.create(i.prototype),a.prototype.constructor=a,e.exports=a,a._pixiMiddleware=[i.middleware.parsing.blob,n,s,o],a.addPixiMiddleware=function(t){a._pixiMiddleware.push(t)};var l=i.Resource;l.setExtensionXhrType("fnt",l.XHR_RESPONSE_TYPE.DOCUMENT)},{"./bitmapFontParser":120,"./spritesheetParser":123,"./textureParser":124,"resource-loader":15}],123:[function(t,e,r){var i=t("resource-loader").Resource,n=t("path"),s=t("../core");e.exports=function(){return function(t,e){if(!t.data||!t.isJson||!t.data.frames)return e();var r={crossOrigin:t.crossOrigin,loadType:i.LOAD_TYPE.IMAGE,metadata:t.metadata.imageMetadata},o=n.dirname(t.url.replace(this.baseUrl,"")),a=s.utils.getResolutionOfUrl(t.url);this.add(t.name+"_image",o+"/"+t.data.meta.image,r,function(r){t.textures={};var i=t.data.frames;for(var n in i){var o=i[n].frame;if(o){var l=null,h=null;if(l=i[n].rotated?new s.Rectangle(o.x,o.y,o.h,o.w):new s.Rectangle(o.x,o.y,o.w,o.h),i[n].trimmed&&(h=new s.Rectangle(i[n].spriteSourceSize.x/a,i[n].spriteSourceSize.y/a,i[n].sourceSize.w/a,i[n].sourceSize.h/a)),i[n].rotated){var u=l.width;l.width=l.height,l.height=u}l.x/=a,l.y/=a,l.width/=a,l.height/=a,t.textures[n]=new s.Texture(r.texture.baseTexture,l,l.clone(),h,i[n].rotated),s.utils.TextureCache[n]=t.textures[n]}}e()})}}},{"../core":30,path:5,"resource-loader":15}],124:[function(t,e,r){var i=t("../core");e.exports=function(){return function(t,e){if(t.data&&t.isImage){var r=new i.BaseTexture(t.data,null,i.utils.getResolutionOfUrl(t.url));r.imageUrl=t.url,t.texture=new i.Texture(r),i.utils.BaseTextureCache[t.url]=r,i.utils.TextureCache[t.url]=t.texture}e()}}},{"../core":30}],125:[function(t,e,r){var i=t("../core"),n=new i.Point,s=new i.Polygon;function o(t,e,r,n,s){i.Container.call(this),this._texture=null,this.uvs=r||new Float32Array([0,0,1,0,1,1,0,1]),this.vertices=e||new Float32Array([0,0,100,0,100,100,0,100]),this.indices=n||new Uint16Array([0,1,3,2]),this.dirty=!0,this.blendMode=i.BLEND_MODES.NORMAL,this.canvasPadding=0,this.drawMode=s||o.DRAW_MODES.TRIANGLE_MESH,this.texture=t,this.shader=null}o.prototype=Object.create(i.Container.prototype),o.prototype.constructor=o,e.exports=o,Object.defineProperties(o.prototype,{texture:{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}}),o.prototype._renderWebGL=function(t){t.setObjectRenderer(t.plugins.mesh),t.plugins.mesh.render(this)},o.prototype._renderCanvas=function(t){var e=t.context,r=this.worldTransform;t.roundPixels?e.setTransform(r.a,r.b,r.c,r.d,0|r.tx,0|r.ty):e.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty),this.drawMode===o.DRAW_MODES.TRIANGLE_MESH?this._renderCanvasTriangleMesh(e):this._renderCanvasTriangles(e)},o.prototype._renderCanvasTriangleMesh=function(t){for(var e=this.vertices,r=this.uvs,i=e.length/2,n=0;n<i-2;n++){var s=2*n;this._renderCanvasDrawTriangle(t,e,r,s,s+2,s+4)}},o.prototype._renderCanvasTriangles=function(t){for(var e=this.vertices,r=this.uvs,i=this.indices,n=i.length,s=0;s<n;s+=3){var o=2*i[s],a=2*i[s+1],l=2*i[s+2];this._renderCanvasDrawTriangle(t,e,r,o,a,l)}},o.prototype._renderCanvasDrawTriangle=function(t,e,r,i,n,s){var o=this._texture.baseTexture.source,a=this._texture.baseTexture.width,l=this._texture.baseTexture.height,h=e[i],u=e[n],c=e[s],p=e[i+1],d=e[n+1],f=e[s+1],m=r[i]*a,v=r[n]*a,g=r[s]*a,_=r[i+1]*l,y=r[n+1]*l,x=r[s+1]*l;if(this.canvasPadding>0){var b=this.canvasPadding/this.worldTransform.a,T=this.canvasPadding/this.worldTransform.d,w=(h+u+c)/3,S=(p+d+f)/3,E=h-w,A=p-S,P=Math.sqrt(E*E+A*A);h=w+E/P*(P+b),p=S+A/P*(P+T),A=d-S,u=w+(E=u-w)/(P=Math.sqrt(E*E+A*A))*(P+b),d=S+A/P*(P+T),A=f-S,c=w+(E=c-w)/(P=Math.sqrt(E*E+A*A))*(P+b),f=S+A/P*(P+T)}t.save(),t.beginPath(),t.moveTo(h,p),t.lineTo(u,d),t.lineTo(c,f),t.closePath(),t.clip();var C=m*y+_*g+v*x-y*g-_*v-m*x,R=h*y+_*c+u*x-y*c-_*u-h*x,M=m*u+h*g+v*c-u*g-h*v-m*c,O=m*y*c+_*u*g+h*v*x-h*y*g-_*v*c-m*u*x,$=p*y+_*f+d*x-y*f-_*d-p*x,D=m*d+p*g+v*f-d*g-p*v-m*f,L=m*y*f+_*d*g+p*v*x-p*y*g-_*v*f-m*d*x;t.transform(R/C,$/C,M/C,D/C,O/C,L/C),t.drawImage(o,0,0),t.restore()},o.prototype.renderMeshFlat=function(t){var e=this.context,r=t.vertices,i=r.length/2;e.beginPath();for(var n=1;n<i-2;n++){var s=2*n,o=r[s],a=r[s+2],l=r[s+4],h=r[s+1],u=r[s+3],c=r[s+5];e.moveTo(o,h),e.lineTo(a,u),e.lineTo(l,c)}e.fillStyle="#FF0000",e.fill(),e.closePath()},o.prototype._onTextureUpdate=function(){this.updateFrame=!0},o.prototype.getBounds=function(t){if(!this._currentBounds){for(var e=t||this.worldTransform,r=e.a,n=e.b,s=e.c,o=e.d,a=e.tx,l=e.ty,h=-1/0,u=-1/0,c=1/0,p=1/0,d=this.vertices,f=0,m=d.length;f<m;f+=2){var v=d[f],g=d[f+1],_=r*v+s*g+a,y=o*g+n*v+l;c=_<c?_:c,p=y<p?y:p,h=_>h?_:h,u=y>u?y:u}if(c===-1/0||u===1/0)return i.Rectangle.EMPTY;var x=this._bounds;x.x=c,x.width=h-c,x.y=p,x.height=u-p,this._currentBounds=x}return this._currentBounds},o.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,n);var e,r,i=this.vertices,a=s.points;if(this.drawMode===o.DRAW_MODES.TRIANGLES){var l=this.indices;for(r=this.indices.length,e=0;e<r;e+=3){var h=2*l[e],u=2*l[e+1],c=2*l[e+2];if(a[0]=i[h],a[1]=i[h+1],a[2]=i[u],a[3]=i[u+1],a[4]=i[c],a[5]=i[c+1],s.contains(n.x,n.y))return!0}}else for(r=i.length,e=0;e<r;e+=6)if(a[0]=i[e],a[1]=i[e+1],a[2]=i[e+2],a[3]=i[e+3],a[4]=i[e+4],a[5]=i[e+5],s.contains(n.x,n.y))return!0;return!1},o.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},{"../core":30}],126:[function(t,e,r){var i=t("./Mesh");function n(t,e,r){i.call(this,t),this._ready=!0,this.segmentsX=e||10,this.segmentsY=r||10,this.drawMode=i.DRAW_MODES.TRIANGLES,this.refresh()}n.prototype=Object.create(i.prototype),n.prototype.constructor=n,e.exports=n,n.prototype.refresh=function(){var t=this.segmentsX*this.segmentsY,e=[],r=[],i=[],n=this.texture,s=this.segmentsX-1,o=this.segmentsY-1,a=0,l=n.width/s,h=n.height/o;for(a=0;a<t;a++){var u=a%this.segmentsX,c=a/this.segmentsX|0;e.push(u*l,c*h),r.push(u/(this.segmentsX-1),c/(this.segmentsY-1))}var p=s*o;for(a=0;a<p;a++){var d=a%s,f=a/s|0,m=f*this.segmentsX+d,v=f*this.segmentsX+d+1,g=(f+1)*this.segmentsX+d,_=(f+1)*this.segmentsX+d+1;i.push(m,v,g),i.push(v,_,g)}this.vertices=new Float32Array(e),this.uvs=new Float32Array(r),this.colors=new Float32Array([]),this.indices=new Uint16Array(i)},n.prototype._onTextureUpdate=function(){i.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()}},{"./Mesh":125}],127:[function(t,e,r){var i=t("./Mesh"),n=t("../core");function s(t,e){i.call(this,t),this.points=e,this.vertices=new Float32Array(4*e.length),this.uvs=new Float32Array(4*e.length),this.colors=new Float32Array(2*e.length),this.indices=new Uint16Array(2*e.length),this._ready=!0,this.refresh()}s.prototype=Object.create(i.prototype),s.prototype.constructor=s,e.exports=s,s.prototype.refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){var e=this.uvs,r=this.indices,i=this.colors,s=this._texture._uvs,o=new n.Point(s.x0,s.y0),a=new n.Point(s.x2-s.x0,s.y2-s.y0);e[0]=0+o.x,e[1]=0+o.y,e[2]=0+o.x,e[3]=1*a.y+o.y,i[0]=1,i[1]=1,r[0]=0,r[1]=1;for(var l,h,u=t.length,c=1;c<u;c++)t[c],h=c/(u-1),e[l=4*c]=h*a.x+o.x,e[l+1]=0+o.y,e[l+2]=h*a.x+o.x,e[l+3]=1*a.y+o.y,i[l=2*c]=1,i[l+1]=1,r[l=2*c]=l,r[l+1]=l+1;this.dirty=!0}},s.prototype._onTextureUpdate=function(){i.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},s.prototype.updateTransform=function(){var t=this.points;if(!(t.length<1)){for(var e,r,i,n,s,o=t[0],a=0,l=0,h=this.vertices,u=t.length,c=0;c<u;c++)r=t[c],i=4*c,l=-((e=c<t.length-1?t[c+1]:r).x-o.x),a=e.y-o.y,10*(1-c/(u-1))>1&&1,a/=n=Math.sqrt(a*a+l*l),l/=n,a*=s=this._texture.height/2,l*=s,h[i]=r.x+a,h[i+1]=r.y+l,h[i+2]=r.x-a,h[i+3]=r.y-l,o=r;this.containerUpdateTransform()}}},{"../core":30,"./Mesh":125}],128:[function(t,e,r){
/**
 * @file        Main export of the PIXI extras library
 * @author      Mat Groves <mat@goodboydigital.com>
 * @copyright   2013-2015 GoodBoyDigital
 * @license     {@link https://github.com/pixijs/pixi.js/blob/master/LICENSE|MIT License}
 */
e.exports={Mesh:t("./Mesh"),Plane:t("./Plane"),Rope:t("./Rope"),MeshRenderer:t("./webgl/MeshRenderer"),MeshShader:t("./webgl/MeshShader")}},{"./Mesh":125,"./Plane":126,"./Rope":127,"./webgl/MeshRenderer":129,"./webgl/MeshShader":130}],129:[function(t,e,r){var i=t("../../core"),n=t("../Mesh");function s(t){i.ObjectRenderer.call(this,t),this.indices=new Uint16Array(15e3);for(var e=0,r=0;e<15e3;e+=6,r+=4)this.indices[e+0]=r+0,this.indices[e+1]=r+1,this.indices[e+2]=r+2,this.indices[e+3]=r+0,this.indices[e+4]=r+2,this.indices[e+5]=r+3;this.currentShader=null}s.prototype=Object.create(i.ObjectRenderer.prototype),s.prototype.constructor=s,e.exports=s,i.WebGLRenderer.registerPlugin("mesh",s),s.prototype.onContextChange=function(){},s.prototype.render=function(t){t._vertexBuffer||this._initWebGL(t);var e=this.renderer,r=e.gl,i=t._texture.baseTexture,s=t.shader,o=t.drawMode===n.DRAW_MODES.TRIANGLE_MESH?r.TRIANGLE_STRIP:r.TRIANGLES;e.blendModeManager.setBlendMode(t.blendMode),s=s?s.shaders[r.id]||s.getShader(e):e.shaderManager.plugins.meshShader,this.renderer.shaderManager.setShader(s),s.uniforms.translationMatrix.value=t.worldTransform.toArray(!0),s.uniforms.projectionMatrix.value=e.currentRenderTarget.projectionMatrix.toArray(!0),s.uniforms.alpha.value=t.worldAlpha,s.syncUniforms(),t.dirty?(t.dirty=!1,r.bindBuffer(r.ARRAY_BUFFER,t._vertexBuffer),r.bufferData(r.ARRAY_BUFFER,t.vertices,r.STATIC_DRAW),r.vertexAttribPointer(s.attributes.aVertexPosition,2,r.FLOAT,!1,0,0),r.bindBuffer(r.ARRAY_BUFFER,t._uvBuffer),r.bufferData(r.ARRAY_BUFFER,t.uvs,r.STATIC_DRAW),r.vertexAttribPointer(s.attributes.aTextureCoord,2,r.FLOAT,!1,0,0),r.activeTexture(r.TEXTURE0),i._glTextures[r.id]?r.bindTexture(r.TEXTURE_2D,i._glTextures[r.id]):this.renderer.updateTexture(i),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t._indexBuffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,t.indices,r.STATIC_DRAW)):(r.bindBuffer(r.ARRAY_BUFFER,t._vertexBuffer),r.bufferSubData(r.ARRAY_BUFFER,0,t.vertices),r.vertexAttribPointer(s.attributes.aVertexPosition,2,r.FLOAT,!1,0,0),r.bindBuffer(r.ARRAY_BUFFER,t._uvBuffer),r.vertexAttribPointer(s.attributes.aTextureCoord,2,r.FLOAT,!1,0,0),r.activeTexture(r.TEXTURE0),i._glTextures[r.id]?r.bindTexture(r.TEXTURE_2D,i._glTextures[r.id]):this.renderer.updateTexture(i),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t._indexBuffer),r.bufferSubData(r.ELEMENT_ARRAY_BUFFER,0,t.indices)),r.drawElements(o,t.indices.length,r.UNSIGNED_SHORT,0)},s.prototype._initWebGL=function(t){var e=this.renderer.gl;t._vertexBuffer=e.createBuffer(),t._indexBuffer=e.createBuffer(),t._uvBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,t._vertexBuffer),e.bufferData(e.ARRAY_BUFFER,t.vertices,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,t._uvBuffer),e.bufferData(e.ARRAY_BUFFER,t.uvs,e.STATIC_DRAW),t.colors&&(t._colorBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,t._colorBuffer),e.bufferData(e.ARRAY_BUFFER,t.colors,e.STATIC_DRAW)),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,t.indices,e.STATIC_DRAW)},s.prototype.flush=function(){},s.prototype.start=function(){this.currentShader=null},s.prototype.destroy=function(){i.ObjectRenderer.prototype.destroy.call(this)}},{"../../core":30,"../Mesh":125}],130:[function(t,e,r){var i=t("../../core");function n(t){i.Shader.call(this,t,["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","uniform float alpha;","uniform sampler2D uSampler;","void main(void){","   gl_FragColor = texture2D(uSampler, vTextureCoord) * alpha ;","}"].join("\n"),{alpha:{type:"1f",value:0},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0,aTextureCoord:0})}n.prototype=Object.create(i.Shader.prototype),n.prototype.constructor=n,e.exports=n,i.ShaderManager.registerPlugin("meshShader",n)},{"../../core":30}],131:[function(t,e,r){Math.sign||(Math.sign=function(t){return 0===(t=+t)||isNaN(t)?t:t>0?1:-1})},{}],132:[function(t,e,r){Object.assign||(Object.assign=t("object-assign"))},{"object-assign":4}],133:[function(t,e,r){t("./Object.assign"),t("./requestAnimationFrame"),t("./Math.sign")},{"./Math.sign":131,"./Object.assign":132,"./requestAnimationFrame":134}],134:[function(t,r,i){(function(t){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!t.performance||!t.performance.now){var e=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e}}for(var r=Date.now(),i=["ms","moz","webkit","o"],n=0;n<i.length&&!t.requestAnimationFrame;++n)t.requestAnimationFrame=t[i[n]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[i[n]+"CancelAnimationFrame"]||t[i[n]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),i=16+r-e;return i<0&&(i=0),r=e,setTimeout(function(){r=Date.now(),t(performance.now())},i)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){clearTimeout(t)})}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[115])(115)})}).call(e,r(5),r(40).setImmediate)},182:function(t,e,r){(function(r){var i,n=void 0!==t&&t.exports&&void 0!==r?r:this||window;
/*!
 * VERSION: 1.17.0
 * DATE: 2015-05-27
 * UPDATES AND DOCS AT: http://greensock.com
 * 
 * Includes all of the following: TweenLite, TweenMax, TimelineLite, TimelineMax, EasePack, CSSPlugin, RoundPropsPlugin, BezierPlugin, AttrPlugin, DirectionalRotationPlugin
 *
 * @license Copyright (c) 2008-2015, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/(n._gsQueue||(n._gsQueue=[])).push(function(){"use strict";n._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,r){var i=function(t){var e,r=[],i=t.length;for(e=0;e!==i;r.push(t[e++]));return r},n=function(t,e,i){r.call(this,t,e,i),this._cycle=0,this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=n.prototype.render},s=1e-10,o=r._internals,a=o.isSelector,l=o.isArray,h=n.prototype=r.to({},.1,{}),u=[];n.version="1.17.0",h.constructor=n,h.kill()._gc=!1,n.killTweensOf=n.killDelayedCallsTo=r.killTweensOf,n.getTweensOf=r.getTweensOf,n.lagSmoothing=r.lagSmoothing,n.ticker=r.ticker,n.render=r.render,h.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),r.prototype.invalidate.call(this)},h.updateTo=function(t,e){var i,n=this.ratio,s=this.vars.immediateRender||t.immediateRender;for(i in e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay)),t)this.vars[i]=t[i];if(this._initted||s)if(e)this._initted=!1,s&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&r._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var o=this._time;this.render(0,!0,!1),this._initted=!1,this.render(o,!0,!1)}else if(this._time>0||s){this._initted=!1,this._init();for(var a,l=1/(1-n),h=this._firstPT;h;)a=h.s+h.c,h.c*=l,h.s=a-h.c,h=h._next}return this},h.render=function(t,e,r){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var i,n,a,l,h,u,c,p,d=this._dirty?this.totalDuration():this._totalDuration,f=this._time,m=this._totalTime,v=this._cycle,g=this._duration,_=this._rawPrevTime;if(t>=d?(this._totalTime=d,this._cycle=this._repeat,this._yoyo&&0!=(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=g,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(i=!0,n="onComplete",r=r||this._timeline.autoRemoveChildren),0===g&&(this._initted||!this.vars.lazy||r)&&(this._startTime===this._timeline._duration&&(t=0),(0===t||0>_||_===s)&&_!==t&&(r=!0,_>s&&(n="onReverseComplete")),this._rawPrevTime=p=!e||t||_===t?t:s)):1e-7>t?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==m||0===g&&_>0)&&(n="onReverseComplete",i=this._reversed),0>t&&(this._active=!1,0===g&&(this._initted||!this.vars.lazy||r)&&(_>=0&&(r=!0),this._rawPrevTime=p=!e||t||_===t?t:s)),this._initted||(r=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(l=g+this._repeatDelay,this._cycle=this._totalTime/l>>0,0!==this._cycle&&this._cycle===this._totalTime/l&&this._cycle--,this._time=this._totalTime-this._cycle*l,this._yoyo&&0!=(1&this._cycle)&&(this._time=g-this._time),this._time>g?this._time=g:0>this._time&&(this._time=0)),this._easeType?(h=this._time/g,u=this._easeType,c=this._easePower,(1===u||3===u&&h>=.5)&&(h=1-h),3===u&&(h*=2),1===c?h*=h:2===c?h*=h*h:3===c?h*=h*h*h:4===c&&(h*=h*h*h*h),this.ratio=1===u?1-h:2===u?h:.5>this._time/g?h/2:1-h/2):this.ratio=this._ease.getRatio(this._time/g)),f!==this._time||r||v!==this._cycle){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!r&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=f,this._totalTime=m,this._rawPrevTime=_,this._cycle=v,o.lazyTweens.push(this),void(this._lazy=[t,e]);this._time&&!i?this.ratio=this._ease.getRatio(this._time/g):i&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==f&&t>=0&&(this._active=!0),0===m&&(2===this._initted&&t>0&&this._init(),this._startAt&&(t>=0?this._startAt.render(t,e,r):n||(n="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===g)&&(e||this._callback("onStart"))),a=this._firstPT;a;)a.f?a.t[a.p](a.c*this.ratio+a.s):a.t[a.p]=a.c*this.ratio+a.s,a=a._next;this._onUpdate&&(0>t&&this._startAt&&this._startTime&&this._startAt.render(t,e,r),e||(this._totalTime!==m||i)&&this._callback("onUpdate")),this._cycle!==v&&(e||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),n&&(!this._gc||r)&&(0>t&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,e,r),i&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[n]&&this._callback(n),0===g&&this._rawPrevTime===s&&p!==s&&(this._rawPrevTime=0))}else m!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate"))},n.to=function(t,e,r){return new n(t,e,r)},n.from=function(t,e,r){return r.runBackwards=!0,r.immediateRender=0!=r.immediateRender,new n(t,e,r)},n.fromTo=function(t,e,r,i){return i.startAt=r,i.immediateRender=0!=i.immediateRender&&0!=r.immediateRender,new n(t,e,i)},n.staggerTo=n.allTo=function(t,e,s,o,h,c,p){o=o||0;var d,f,m,v,g=s.delay||0,_=[],y=function(){s.onComplete&&s.onComplete.apply(s.onCompleteScope||this,arguments),h.apply(p||s.callbackScope||this,c||u)};for(l(t)||("string"==typeof t&&(t=r.selector(t)||t),a(t)&&(t=i(t))),t=t||[],0>o&&((t=i(t)).reverse(),o*=-1),d=t.length-1,m=0;d>=m;m++){for(v in f={},s)f[v]=s[v];f.delay=g,m===d&&h&&(f.onComplete=y),_[m]=new n(t[m],e,f),g+=o}return _},n.staggerFrom=n.allFrom=function(t,e,r,i,s,o,a){return r.runBackwards=!0,r.immediateRender=0!=r.immediateRender,n.staggerTo(t,e,r,i,s,o,a)},n.staggerFromTo=n.allFromTo=function(t,e,r,i,s,o,a,l){return i.startAt=r,i.immediateRender=0!=i.immediateRender&&0!=r.immediateRender,n.staggerTo(t,e,i,s,o,a,l)},n.delayedCall=function(t,e,r,i,s){return new n(e,0,{delay:t,onComplete:e,onCompleteParams:r,callbackScope:i,onReverseComplete:e,onReverseCompleteParams:r,immediateRender:!1,useFrames:s,overwrite:0})},n.set=function(t,e){return new n(t,0,e)},n.isTweening=function(t){return r.getTweensOf(t,!0).length>0};var c=function(t,e){for(var i=[],n=0,s=t._first;s;)s instanceof r?i[n++]=s:(e&&(i[n++]=s),n=(i=i.concat(c(s,e))).length),s=s._next;return i},p=n.getAllTweens=function(e){return c(t._rootTimeline,e).concat(c(t._rootFramesTimeline,e))};n.killAll=function(t,r,i,n){null==r&&(r=!0),null==i&&(i=!0);var s,o,a,l=p(0!=n),h=l.length,u=r&&i&&n;for(a=0;h>a;a++)o=l[a],(u||o instanceof e||(s=o.target===o.vars.onComplete)&&i||r&&!s)&&(t?o.totalTime(o._reversed?0:o.totalDuration()):o._enabled(!1,!1))},n.killChildTweensOf=function(t,e){if(null!=t){var s,h,u,c,p,d=o.tweenLookup;if("string"==typeof t&&(t=r.selector(t)||t),a(t)&&(t=i(t)),l(t))for(c=t.length;--c>-1;)n.killChildTweensOf(t[c],e);else{for(u in s=[],d)for(h=d[u].target.parentNode;h;)h===t&&(s=s.concat(d[u].tweens)),h=h.parentNode;for(p=s.length,c=0;p>c;c++)e&&s[c].totalTime(s[c].totalDuration()),s[c]._enabled(!1,!1)}}};var d=function(t,r,i,n){r=!1!==r,i=!1!==i;for(var s,o,a=p(n=!1!==n),l=r&&i&&n,h=a.length;--h>-1;)o=a[h],(l||o instanceof e||(s=o.target===o.vars.onComplete)&&i||r&&!s)&&o.paused(t)};return n.pauseAll=function(t,e,r){d(!0,t,e,r)},n.resumeAll=function(t,e,r){d(!1,t,e,r)},n.globalTimeScale=function(e){var i=t._rootTimeline,n=r.ticker.time;return arguments.length?(e=e||s,i._startTime=n-(n-i._startTime)*i._timeScale/e,i=t._rootFramesTimeline,n=r.ticker.frame,i._startTime=n-(n-i._startTime)*i._timeScale/e,i._timeScale=t._rootTimeline._timeScale=e,e):i._timeScale},h.progress=function(t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},h.totalProgress=function(t){return arguments.length?this.totalTime(this.totalDuration()*t,!1):this._totalTime/this.totalDuration()},h.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!=(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},h.duration=function(e){return arguments.length?t.prototype.duration.call(this,e):this._duration},h.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},h.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},h.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},h.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},n},!0),n._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,r){var i=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=!0===this.vars.autoRemoveChildren,this.smoothChildTiming=!0===this.vars.smoothChildTiming,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var r,i,n=this.vars;for(i in n)r=n[i],h(r)&&-1!==r.join("").indexOf("{self}")&&(n[i]=this._swapSelfInParams(r));h(n.tweens)&&this.add(n.tweens,0,n.align,n.stagger)},s=1e-10,o=r._internals,a=i._internals={},l=o.isSelector,h=o.isArray,u=o.lazyTweens,c=o.lazyRender,p=[],d=n._gsDefine.globals,f=function(t){var e,r={};for(e in t)r[e]=t[e];return r},m=a.pauseCallback=function(t,e,r,i){var n,o=t._timeline,a=o._totalTime,l=t._startTime,h=0>t._rawPrevTime||0===t._rawPrevTime&&o._reversed,u=h?0:s,c=h?s:0;if(e||!this._forcingPlayhead){for(o.pause(l),n=t._prev;n&&n._startTime===l;)n._rawPrevTime=c,n=n._prev;for(n=t._next;n&&n._startTime===l;)n._rawPrevTime=u,n=n._next;e&&e.apply(i||o.vars.callbackScope||o,r||p),(this._forcingPlayhead||!o._paused)&&o.seek(a)}},v=function(t){var e,r=[],i=t.length;for(e=0;e!==i;r.push(t[e++]));return r},g=i.prototype=new e;return i.version="1.17.0",g.constructor=i,g.kill()._gc=g._forcingPlayhead=!1,g.to=function(t,e,i,n){var s=i.repeat&&d.TweenMax||r;return e?this.add(new s(t,e,i),n):this.set(t,i,n)},g.from=function(t,e,i,n){return this.add((i.repeat&&d.TweenMax||r).from(t,e,i),n)},g.fromTo=function(t,e,i,n,s){var o=n.repeat&&d.TweenMax||r;return e?this.add(o.fromTo(t,e,i,n),s):this.set(t,n,s)},g.staggerTo=function(t,e,n,s,o,a,h,u){var c,p=new i({onComplete:a,onCompleteParams:h,callbackScope:u,smoothChildTiming:this.smoothChildTiming});for("string"==typeof t&&(t=r.selector(t)||t),l(t=t||[])&&(t=v(t)),0>(s=s||0)&&((t=v(t)).reverse(),s*=-1),c=0;t.length>c;c++)n.startAt&&(n.startAt=f(n.startAt)),p.to(t[c],e,f(n),c*s);return this.add(p,o)},g.staggerFrom=function(t,e,r,i,n,s,o,a){return r.immediateRender=0!=r.immediateRender,r.runBackwards=!0,this.staggerTo(t,e,r,i,n,s,o,a)},g.staggerFromTo=function(t,e,r,i,n,s,o,a,l){return i.startAt=r,i.immediateRender=0!=i.immediateRender&&0!=r.immediateRender,this.staggerTo(t,e,i,n,s,o,a,l)},g.call=function(t,e,i,n){return this.add(r.delayedCall(0,t,e,i),n)},g.set=function(t,e,i){return i=this._parseTimeOrLabel(i,0,!0),null==e.immediateRender&&(e.immediateRender=i===this._time&&!this._paused),this.add(new r(t,0,e),i)},i.exportRoot=function(t,e){null==(t=t||{}).smoothChildTiming&&(t.smoothChildTiming=!0);var n,s,o=new i(t),a=o._timeline;for(null==e&&(e=!0),a._remove(o,!0),o._startTime=0,o._rawPrevTime=o._time=o._totalTime=a._time,n=a._first;n;)s=n._next,e&&n instanceof r&&n.target===n.vars.onComplete||o.add(n,n._startTime-n._delay),n=s;return a.add(o,0),o},g.add=function(n,s,o,a){var l,u,c,p,d,f;if("number"!=typeof s&&(s=this._parseTimeOrLabel(s,0,!0,n)),!(n instanceof t)){if(n instanceof Array||n&&n.push&&h(n)){for(o=o||"normal",a=a||0,l=s,u=n.length,c=0;u>c;c++)h(p=n[c])&&(p=new i({tweens:p})),this.add(p,l),"string"!=typeof p&&"function"!=typeof p&&("sequence"===o?l=p._startTime+p.totalDuration()/p._timeScale:"start"===o&&(p._startTime-=p.delay())),l+=a;return this._uncache(!0)}if("string"==typeof n)return this.addLabel(n,s);if("function"!=typeof n)throw"Cannot add "+n+" into the timeline; it is not a tween, timeline, function, or string.";n=r.delayedCall(0,n)}if(e.prototype.add.call(this,n,s),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(f=(d=this).rawTime()>n._startTime;d._timeline;)f&&d._timeline.smoothChildTiming?d.totalTime(d._totalTime,!0):d._gc&&d._enabled(!0,!1),d=d._timeline;return this},g.remove=function(e){if(e instanceof t)return this._remove(e,!1);if(e instanceof Array||e&&e.push&&h(e)){for(var r=e.length;--r>-1;)this.remove(e[r]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},g._remove=function(t,r){e.prototype._remove.call(this,t,r);var i=this._last;return i?this._time>i._startTime+i._totalDuration/i._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},g.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},g.insert=g.insertMultiple=function(t,e,r,i){return this.add(t,e||0,r,i)},g.appendMultiple=function(t,e,r,i){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),r,i)},g.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},g.addPause=function(t,e,i,n){var s=r.delayedCall(0,m,["{self}",e,i,n],this);return s.data="isPause",this.add(s,t)},g.removeLabel=function(t){return delete this._labels[t],this},g.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},g._parseTimeOrLabel=function(e,r,i,n){var s;if(n instanceof t&&n.timeline===this)this.remove(n);else if(n&&(n instanceof Array||n.push&&h(n)))for(s=n.length;--s>-1;)n[s]instanceof t&&n[s].timeline===this&&this.remove(n[s]);if("string"==typeof r)return this._parseTimeOrLabel(r,i&&"number"==typeof e&&null==this._labels[r]?e-this.duration():0,i);if(r=r||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=this.duration());else{if(-1===(s=e.indexOf("=")))return null==this._labels[e]?i?this._labels[e]=this.duration()+r:r:this._labels[e]+r;r=parseInt(e.charAt(s-1)+"1",10)*Number(e.substr(s+1)),e=s>1?this._parseTimeOrLabel(e.substr(0,s-1),0,i):this.duration()}return Number(e)+r},g.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),!1!==e)},g.stop=function(){return this.paused(!0)},g.gotoAndPlay=function(t,e){return this.play(t,e)},g.gotoAndStop=function(t,e){return this.pause(t,e)},g.render=function(t,e,r){this._gc&&this._enabled(!0,!1);var i,n,o,a,l,h=this._dirty?this.totalDuration():this._totalDuration,p=this._time,d=this._startTime,f=this._timeScale,m=this._paused;if(t>=h)this._totalTime=this._time=h,this._reversed||this._hasPausedChild()||(n=!0,a="onComplete",l=!!this._timeline.autoRemoveChildren,0===this._duration&&(0===t||0>this._rawPrevTime||this._rawPrevTime===s)&&this._rawPrevTime!==t&&this._first&&(l=!0,this._rawPrevTime>s&&(a="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:s,t=h+1e-4;else if(1e-7>t)if(this._totalTime=this._time=0,(0!==p||0===this._duration&&this._rawPrevTime!==s&&(this._rawPrevTime>0||0>t&&this._rawPrevTime>=0))&&(a="onReverseComplete",n=this._reversed),0>t)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(l=n=!0,a="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(l=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:s,0===t&&n)for(i=this._first;i&&0===i._startTime;)i._duration||(n=!1),i=i._next;t=0,this._initted||(l=!0)}else this._totalTime=this._time=this._rawPrevTime=t;if(this._time!==p&&this._first||r||l){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==p&&t>0&&(this._active=!0),0===p&&this.vars.onStart&&0!==this._time&&(e||this._callback("onStart")),this._time>=p)for(i=this._first;i&&(o=i._next,!this._paused||m);)(i._active||i._startTime<=this._time&&!i._paused&&!i._gc)&&(i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,r):i.render((t-i._startTime)*i._timeScale,e,r)),i=o;else for(i=this._last;i&&(o=i._prev,!this._paused||m);)(i._active||p>=i._startTime&&!i._paused&&!i._gc)&&(i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,r):i.render((t-i._startTime)*i._timeScale,e,r)),i=o;this._onUpdate&&(e||(u.length&&c(),this._callback("onUpdate"))),a&&(this._gc||(d===this._startTime||f!==this._timeScale)&&(0===this._time||h>=this.totalDuration())&&(n&&(u.length&&c(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[a]&&this._callback(a)))}},g._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof i&&t._hasPausedChild())return!0;t=t._next}return!1},g.getChildren=function(t,e,i,n){n=n||-9999999999;for(var s=[],o=this._first,a=0;o;)n>o._startTime||(o instanceof r?!1!==e&&(s[a++]=o):(!1!==i&&(s[a++]=o),!1!==t&&(a=(s=s.concat(o.getChildren(!0,e,i))).length))),o=o._next;return s},g.getTweensOf=function(t,e){var i,n,s=this._gc,o=[],a=0;for(s&&this._enabled(!0,!0),n=(i=r.getTweensOf(t)).length;--n>-1;)(i[n].timeline===this||e&&this._contains(i[n]))&&(o[a++]=i[n]);return s&&this._enabled(!1,!0),o},g.recent=function(){return this._recent},g._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},g.shiftChildren=function(t,e,r){r=r||0;for(var i,n=this._first,s=this._labels;n;)n._startTime>=r&&(n._startTime+=t),n=n._next;if(e)for(i in s)s[i]>=r&&(s[i]+=t);return this._uncache(!0)},g._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var r=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),i=r.length,n=!1;--i>-1;)r[i]._kill(t,e)&&(n=!0);return n},g.clear=function(t){var e=this.getChildren(!1,!0,!0),r=e.length;for(this._time=this._totalTime=0;--r>-1;)e[r]._enabled(!1,!1);return!1!==t&&(this._labels={}),this._uncache(!0)},g.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},g._enabled=function(t,r){if(t===this._gc)for(var i=this._first;i;)i._enabled(t,!0),i=i._next;return e.prototype._enabled.call(this,t,r)},g.totalTime=function(){this._forcingPlayhead=!0;var e=t.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,e},g.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},g.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,r,i=0,n=this._last,s=999999999999;n;)e=n._prev,n._dirty&&n.totalDuration(),n._startTime>s&&this._sortChildren&&!n._paused?this.add(n,n._startTime-n._delay):s=n._startTime,0>n._startTime&&!n._paused&&(i-=n._startTime,this._timeline.smoothChildTiming&&(this._startTime+=n._startTime/this._timeScale),this.shiftChildren(-n._startTime,!1,-9999999999),s=0),(r=n._startTime+n._totalDuration/n._timeScale)>i&&(i=r),n=e;this._duration=this._totalDuration=i,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==t&&this.timeScale(this._totalDuration/t),this},g.paused=function(e){if(!e)for(var r=this._first,i=this._time;r;)r._startTime===i&&"isPause"===r.data&&(r._rawPrevTime=0),r=r._next;return t.prototype.paused.apply(this,arguments)},g.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},g.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},i},!0),n._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(t,e,r){var i=function(e){t.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=!0===this.vars.yoyo,this._dirty=!0},n=1e-10,s=e._internals,o=s.lazyTweens,a=s.lazyRender,l=new r(null,null,1,0),h=i.prototype=new t;return h.constructor=i,h.kill()._gc=!1,i.version="1.17.0",h.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),t.prototype.invalidate.call(this)},h.addCallback=function(t,r,i,n){return this.add(e.delayedCall(0,t,i,n),r)},h.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var r=this.getTweensOf(t,!1),i=r.length,n=this._parseTimeOrLabel(e);--i>-1;)r[i]._startTime===n&&r[i]._enabled(!1,!1);return this},h.removePause=function(e){return this.removeCallback(t._internals.pauseCallback,e)},h.tweenTo=function(t,r){r=r||{};var i,n,s,o={ease:l,useFrames:this.usesFrames(),immediateRender:!1};for(n in r)o[n]=r[n];return o.time=this._parseTimeOrLabel(t),i=Math.abs(Number(o.time)-this._time)/this._timeScale||.001,s=new e(this,i,o),o.onStart=function(){s.target.paused(!0),s.vars.time!==s.target.time()&&i===s.duration()&&s.duration(Math.abs(s.vars.time-s.target.time())/s.target._timeScale),r.onStart&&s._callback("onStart")},s},h.tweenFromTo=function(t,e,r){r=r||{},t=this._parseTimeOrLabel(t),r.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},r.immediateRender=!1!==r.immediateRender;var i=this.tweenTo(e,r);return i.duration(Math.abs(i.vars.time-t)/this._timeScale||.001)},h.render=function(t,e,r){this._gc&&this._enabled(!0,!1);var i,s,l,h,u,c,p=this._dirty?this.totalDuration():this._totalDuration,d=this._duration,f=this._time,m=this._totalTime,v=this._startTime,g=this._timeScale,_=this._rawPrevTime,y=this._paused,x=this._cycle;if(t>=p)this._locked||(this._totalTime=p,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(s=!0,h="onComplete",u=!!this._timeline.autoRemoveChildren,0===this._duration&&(0===t||0>_||_===n)&&_!==t&&this._first&&(u=!0,_>n&&(h="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:n,this._yoyo&&0!=(1&this._cycle)?this._time=t=0:(this._time=d,t=d+1e-4);else if(1e-7>t)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==f||0===d&&_!==n&&(_>0||0>t&&_>=0)&&!this._locked)&&(h="onReverseComplete",s=this._reversed),0>t)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(u=s=!0,h="onReverseComplete"):_>=0&&this._first&&(u=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=d||!e||t||this._rawPrevTime===t?t:n,0===t&&s)for(i=this._first;i&&0===i._startTime;)i._duration||(s=!1),i=i._next;t=0,this._initted||(u=!0)}else 0===d&&0>_&&(u=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(c=d+this._repeatDelay,this._cycle=this._totalTime/c>>0,0!==this._cycle&&this._cycle===this._totalTime/c&&this._cycle--,this._time=this._totalTime-this._cycle*c,this._yoyo&&0!=(1&this._cycle)&&(this._time=d-this._time),this._time>d?(this._time=d,t=d+1e-4):0>this._time?this._time=t=0:t=this._time));if(this._cycle!==x&&!this._locked){var b=this._yoyo&&0!=(1&x),T=b===(this._yoyo&&0!=(1&this._cycle)),w=this._totalTime,S=this._cycle,E=this._rawPrevTime,A=this._time;if(this._totalTime=x*d,x>this._cycle?b=!b:this._totalTime+=d,this._time=f,this._rawPrevTime=0===d?_-1e-4:_,this._cycle=x,this._locked=!0,f=b?0:d,this.render(f,e,0===d),e||this._gc||this.vars.onRepeat&&this._callback("onRepeat"),T&&(f=b?d+1e-4:-1e-4,this.render(f,!0,!1)),this._locked=!1,this._paused&&!y)return;this._time=A,this._totalTime=w,this._cycle=S,this._rawPrevTime=E}if(this._time!==f&&this._first||r||u){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==m&&t>0&&(this._active=!0),0===m&&this.vars.onStart&&0!==this._totalTime&&(e||this._callback("onStart")),this._time>=f)for(i=this._first;i&&(l=i._next,!this._paused||y);)(i._active||i._startTime<=this._time&&!i._paused&&!i._gc)&&(i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,r):i.render((t-i._startTime)*i._timeScale,e,r)),i=l;else for(i=this._last;i&&(l=i._prev,!this._paused||y);)(i._active||f>=i._startTime&&!i._paused&&!i._gc)&&(i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,r):i.render((t-i._startTime)*i._timeScale,e,r)),i=l;this._onUpdate&&(e||(o.length&&a(),this._callback("onUpdate"))),h&&(this._locked||this._gc||(v===this._startTime||g!==this._timeScale)&&(0===this._time||p>=this.totalDuration())&&(s&&(o.length&&a(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[h]&&this._callback(h)))}else m!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate"))},h.getActive=function(t,e,r){null==t&&(t=!0),null==e&&(e=!0),null==r&&(r=!1);var i,n,s=[],o=this.getChildren(t,e,r),a=0,l=o.length;for(i=0;l>i;i++)(n=o[i]).isActive()&&(s[a++]=n);return s},h.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,r=this.getLabelsArray(),i=r.length;for(e=0;i>e;e++)if(r[e].time>t)return r[e].name;return null},h.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),r=e.length;--r>-1;)if(t>e[r].time)return e[r].name;return null},h.getLabelsArray=function(){var t,e=[],r=0;for(t in this._labels)e[r++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},h.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},h.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},h.totalDuration=function(e){return arguments.length?-1===this._repeat?this:this.duration((e-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(t.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},h.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!=(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},h.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},h.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},h.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},h.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},i},!0),function(){var t=180/Math.PI,e=[],r=[],i=[],s={},o=n._gsDefine.globals,a=function(t,e,r,i){this.a=t,this.b=e,this.c=r,this.d=i,this.da=i-t,this.ca=r-t,this.ba=e-t},l=function(t,e,r,i){var n={a:t},s={},o={},a={c:i},l=(t+e)/2,h=(e+r)/2,u=(r+i)/2,c=(l+h)/2,p=(h+u)/2,d=(p-c)/8;return n.b=l+(t-l)/4,s.b=c+d,n.c=s.a=(n.b+s.b)/2,s.c=o.a=(c+p)/2,o.b=p-d,a.b=u+(i-u)/4,o.c=a.a=(o.b+a.b)/2,[n,s,o,a]},h=function(t,n,s,o,a){var h,u,c,p,d,f,m,v,g,_,y,x,b,T=t.length-1,w=0,S=t[0].a;for(h=0;T>h;h++)u=(d=t[w]).a,c=d.d,p=t[w+1].d,a?(y=e[h],b=.25*((x=r[h])+y)*n/(o?.5:i[h]||.5),v=c-((f=c-(c-u)*(o?.5*n:0!==y?b/y:0))+(((m=c+(p-c)*(o?.5*n:0!==x?b/x:0))-f)*(3*y/(y+x)+.5)/4||0))):v=c-((f=c-.5*(c-u)*n)+(m=c+.5*(p-c)*n))/2,f+=v,m+=v,d.c=g=f,d.b=0!==h?S:S=d.a+.6*(d.c-d.a),d.da=c-u,d.ca=g-u,d.ba=S-u,s?(_=l(u,S,g,c),t.splice(w,1,_[0],_[1],_[2],_[3]),w+=4):w++,S=m;(d=t[w]).b=S,d.c=S+.4*(d.d-S),d.da=d.d-d.a,d.ca=d.c-d.a,d.ba=S-d.a,s&&(_=l(d.a,S,d.c,d.d),t.splice(w,1,_[0],_[1],_[2],_[3]))},u=function(t,i,n,s){var o,l,h,u,c,p,d=[];if(s)for(l=(t=[s].concat(t)).length;--l>-1;)"string"==typeof(p=t[l][i])&&"="===p.charAt(1)&&(t[l][i]=s[i]+Number(p.charAt(0)+p.substr(2)));if(0>(o=t.length-2))return d[0]=new a(t[0][i],0,0,t[-1>o?0:1][i]),d;for(l=0;o>l;l++)h=t[l][i],u=t[l+1][i],d[l]=new a(h,0,0,u),n&&(c=t[l+2][i],e[l]=(e[l]||0)+(u-h)*(u-h),r[l]=(r[l]||0)+(c-u)*(c-u));return d[l]=new a(t[l][i],0,0,t[l+1][i]),d},c=function(t,n,o,a,l,c){var p,d,f,m,v,g,_,y,x={},b=[],T=c||t[0];for(d in l="string"==typeof l?","+l+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",null==n&&(n=1),t[0])b.push(d);if(t.length>1){for(y=t[t.length-1],_=!0,p=b.length;--p>-1;)if(d=b[p],Math.abs(T[d]-y[d])>.05){_=!1;break}_&&(t=t.concat(),c&&t.unshift(c),t.push(t[1]),c=t[t.length-3])}for(e.length=r.length=i.length=0,p=b.length;--p>-1;)d=b[p],s[d]=-1!==l.indexOf(","+d+","),x[d]=u(t,d,s[d],c);for(p=e.length;--p>-1;)e[p]=Math.sqrt(e[p]),r[p]=Math.sqrt(r[p]);if(!a){for(p=b.length;--p>-1;)if(s[d])for(g=(f=x[b[p]]).length-1,m=0;g>m;m++)v=f[m+1].da/r[m]+f[m].da/e[m],i[m]=(i[m]||0)+v*v;for(p=i.length;--p>-1;)i[p]=Math.sqrt(i[p])}for(p=b.length,m=o?4:1;--p>-1;)f=x[d=b[p]],h(f,n,o,a,s[d]),_&&(f.splice(0,m),f.splice(f.length-m,m));return x},p=function(t,e,r){var i,n,s,o,l,h,u,c,p,d,f,m={},v="cubic"===(e=e||"soft")?3:2,g="soft"===e,_=[];if(g&&r&&(t=[r].concat(t)),null==t||v+1>t.length)throw"invalid Bezier data";for(p in t[0])_.push(p);for(h=_.length;--h>-1;){for(m[p=_[h]]=l=[],d=0,c=t.length,u=0;c>u;u++)i=null==r?t[u][p]:"string"==typeof(f=t[u][p])&&"="===f.charAt(1)?r[p]+Number(f.charAt(0)+f.substr(2)):Number(f),g&&u>1&&c-1>u&&(l[d++]=(i+l[d-2])/2),l[d++]=i;for(c=d-v+1,d=0,u=0;c>u;u+=v)i=l[u],n=l[u+1],s=l[u+2],o=2===v?0:l[u+3],l[d++]=f=3===v?new a(i,n,s,o):new a(i,(2*n+i)/3,(2*n+s)/3,s);l.length=d}return m},d=function(t,e,r){for(var i,n,s,o,a,l,h,u,c,p,d,f=1/r,m=t.length;--m>-1;)for(s=(p=t[m]).a,o=p.d-s,a=p.c-s,l=p.b-s,i=n=0,u=1;r>=u;u++)i=n-(n=((h=f*u)*h*o+3*(c=1-h)*(h*a+c*l))*h),e[d=m*r+u-1]=(e[d]||0)+i*i},f=function(t,e){var r,i,n,s,o=[],a=[],l=0,h=0,u=(e=e>>0||6)-1,c=[],p=[];for(r in t)d(t[r],o,e);for(n=o.length,i=0;n>i;i++)l+=Math.sqrt(o[i]),p[s=i%e]=l,s===u&&(h+=l,c[s=i/e>>0]=p,a[s]=h,l=0,p=[]);return{length:h,lengths:a,segments:c}},m=n._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.4",API:2,global:!0,init:function(t,e,r){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._round={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var i,n,s,o,a,l=e.values||[],h={},u=l[0],d=e.autoRotate||r.vars.orientToBezier;for(i in this._autoRotate=d?d instanceof Array?d:[["x","y","rotation",!0===d?0:Number(d)||0]]:null,u)this._props.push(i);for(s=this._props.length;--s>-1;)i=this._props[s],this._overwriteProps.push(i),n=this._func[i]="function"==typeof t[i],h[i]=n?t[i.indexOf("set")||"function"!=typeof t["get"+i.substr(3)]?i:"get"+i.substr(3)]():parseFloat(t[i]),a||h[i]!==l[0][i]&&(a=h);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?c(l,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,a):p(l,e.type,h),this._segCount=this._beziers[i].length,this._timeRes){var m=f(this._beziers,this._timeRes);this._length=m.length,this._lengths=m.lengths,this._segments=m.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(d=this._autoRotate)for(this._initialRotations=[],d[0]instanceof Array||(this._autoRotate=d=[d]),s=d.length;--s>-1;){for(o=0;3>o;o++)i=d[s][o],this._func[i]="function"==typeof t[i]&&t[i.indexOf("set")||"function"!=typeof t["get"+i.substr(3)]?i:"get"+i.substr(3)];i=d[s][2],this._initialRotations[s]=this._func[i]?this._func[i].call(this._target):this._target[i]}return this._startRatio=r.vars.runBackwards?1:0,!0},set:function(e){var r,i,n,s,o,a,l,h,u,c,p=this._segCount,d=this._func,f=this._target,m=e!==this._startRatio;if(this._timeRes){if(u=this._lengths,c=this._curSeg,e*=this._length,n=this._li,e>this._l2&&p-1>n){for(h=p-1;h>n&&e>=(this._l2=u[++n]););this._l1=u[n-1],this._li=n,this._curSeg=c=this._segments[n],this._s2=c[this._s1=this._si=0]}else if(this._l1>e&&n>0){for(;n>0&&(this._l1=u[--n])>=e;);0===n&&this._l1>e?this._l1=0:n++,this._l2=u[n],this._li=n,this._curSeg=c=this._segments[n],this._s1=c[(this._si=c.length-1)-1]||0,this._s2=c[this._si]}if(r=n,e-=this._l1,n=this._si,e>this._s2&&c.length-1>n){for(h=c.length-1;h>n&&e>=(this._s2=c[++n]););this._s1=c[n-1],this._si=n}else if(this._s1>e&&n>0){for(;n>0&&(this._s1=c[--n])>=e;);0===n&&this._s1>e?this._s1=0:n++,this._s2=c[n],this._si=n}a=(n+(e-this._s1)/(this._s2-this._s1))*this._prec}else a=(e-(r=0>e?0:e>=1?p-1:p*e>>0)*(1/p))*p;for(i=1-a,n=this._props.length;--n>-1;)s=this._props[n],l=(a*a*(o=this._beziers[s][r]).da+3*i*(a*o.ca+i*o.ba))*a+o.a,this._round[s]&&(l=Math.round(l)),d[s]?f[s](l):f[s]=l;if(this._autoRotate){var v,g,_,y,x,b,T,w=this._autoRotate;for(n=w.length;--n>-1;)s=w[n][2],b=w[n][3]||0,T=!0===w[n][4]?1:t,o=this._beziers[w[n][0]],v=this._beziers[w[n][1]],o&&v&&(o=o[r],v=v[r],g=o.a+(o.b-o.a)*a,g+=((y=o.b+(o.c-o.b)*a)-g)*a,y+=(o.c+(o.d-o.c)*a-y)*a,_=v.a+(v.b-v.a)*a,_+=((x=v.b+(v.c-v.b)*a)-_)*a,x+=(v.c+(v.d-v.c)*a-x)*a,l=m?Math.atan2(x-_,y-g)*T+b:this._initialRotations[n],d[s]?f[s](l):f[s]=l)}}}),v=m.prototype;m.bezierThrough=c,m.cubicToQuadratic=l,m._autoCSS=!0,m.quadraticToCubic=function(t,e,r){return new a(t,(2*e+t)/3,(2*e+r)/3,r)},m._cssRegister=function(){var t=o.CSSPlugin;if(t){var e=t._internals,r=e._parseToProxy,i=e._setPluginRatio,n=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,s,o,a,l){e instanceof Array&&(e={values:e}),l=new m;var h,u,c,p=e.values,d=p.length-1,f=[],v={};if(0>d)return a;for(h=0;d>=h;h++)c=r(t,p[h],o,a,l,d!==h),f[h]=c.end;for(u in e)v[u]=e[u];return v.values=f,(a=new n(t,"bezier",0,0,c.pt,2)).data=c,a.plugin=l,a.setRatio=i,0===v.autoRotate&&(v.autoRotate=!0),!v.autoRotate||v.autoRotate instanceof Array||(h=!0===v.autoRotate?0:Number(v.autoRotate),v.autoRotate=null!=c.end.left?[["left","top","rotation",h,!1]]:null!=c.end.x&&[["x","y","rotation",h,!1]]),v.autoRotate&&(o._transform||o._enableTransforms(!1),c.autoRotate=o._target._gsTransform),l._onInitTween(c.proxy,v,o._tween),a}})}},v._roundProps=function(t,e){for(var r=this._overwriteProps,i=r.length;--i>-1;)(t[r[i]]||t.bezier||t.bezierThrough)&&(this._round[r[i]]=e)},v._kill=function(t){var e,r,i=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],r=i.length;--r>-1;)i[r]===e&&i.splice(r,1);return this._super._kill.call(this,t)}}(),n._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var r,i,s,o,a=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=a.prototype.setRatio},l=n._gsDefine.globals,h={},u=a.prototype=new t("css");u.constructor=a,a.version="1.17.0",a.API=2,a.defaultTransformPerspective=0,a.defaultSkewType="compensated",a.defaultSmoothOrigin=!0,u="px",a.suffixMap={top:u,right:u,bottom:u,left:u,width:u,height:u,fontSize:u,padding:u,margin:u,perspective:u,lineHeight:""};var c,p,d,f,m,v,g=/(?:\d|\-\d|\.\d|\-\.\d)+/g,_=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,y=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,x=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,b=/(?:\d|\-|\+|=|#|\.)*/g,T=/opacity *= *([^)]*)/i,w=/opacity:([^;]*)/i,S=/alpha\(opacity *=.+?\)/i,E=/^(rgb|hsl)/,A=/([A-Z])/g,P=/-([a-z])/gi,C=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,R=function(t,e){return e.toUpperCase()},M=/(?:Left|Right|Width)/i,O=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,$=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,D=/,(?=[^\)]*(?:\(|$))/gi,L=Math.PI/180,F=180/Math.PI,I={},k=document,N=function(t){return k.createElementNS?k.createElementNS("http://www.w3.org/1999/xhtml",t):k.createElement(t)},B=N("div"),j=N("img"),U=a._internals={_specialProps:h},H=navigator.userAgent,X=function(){var t=H.indexOf("Android"),e=N("a");return d=-1!==H.indexOf("Safari")&&-1===H.indexOf("Chrome")&&(-1===t||Number(H.substr(t+8,1))>3),m=d&&6>Number(H.substr(H.indexOf("Version/")+8,1)),f=-1!==H.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(H)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(H))&&(v=parseFloat(RegExp.$1)),!!e&&(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity))}(),z=function(t){return T.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},q=function(t){window.console&&console.log(t)},Y="",G="",W=function(t,e){var r,i,n=(e=e||B).style;if(void 0!==n[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),r=["O","Moz","ms","Ms","Webkit"],i=5;--i>-1&&void 0===n[r[i]+t];);return i>=0?(Y="-"+(G=3===i?"ms":r[i]).toLowerCase()+"-",G+t):null},V=k.defaultView?k.defaultView.getComputedStyle:function(){},K=a.getStyle=function(t,e,r,i,n){var s;return X||"opacity"!==e?(!i&&t.style[e]?s=t.style[e]:(r=r||V(t))?s=r[e]||r.getPropertyValue(e)||r.getPropertyValue(e.replace(A,"-$1").toLowerCase()):t.currentStyle&&(s=t.currentStyle[e]),null==n||s&&"none"!==s&&"auto"!==s&&"auto auto"!==s?s:n):z(t)},Z=U.convertToPixels=function(t,r,i,n,s){if("px"===n||!n)return i;if("auto"===n||!i)return 0;var o,l,h,u=M.test(r),c=t,p=B.style,d=0>i;if(d&&(i=-i),"%"===n&&-1!==r.indexOf("border"))o=i/100*(u?t.clientWidth:t.clientHeight);else{if(p.cssText="border:0 solid red;position:"+K(t,"position")+";line-height:0;","%"!==n&&c.appendChild)p[u?"borderLeftWidth":"borderTopWidth"]=i+n;else{if(l=(c=t.parentNode||k.body)._gsCache,h=e.ticker.frame,l&&u&&l.time===h)return l.width*i/100;p[u?"width":"height"]=i+n}c.appendChild(B),o=parseFloat(B[u?"offsetWidth":"offsetHeight"]),c.removeChild(B),u&&"%"===n&&!1!==a.cacheWidths&&((l=c._gsCache=c._gsCache||{}).time=h,l.width=o/i*100),0!==o||s||(o=Z(t,r,i,n,!0))}return d?-o:o},Q=U.calculateOffset=function(t,e,r){if("absolute"!==K(t,"position",r))return 0;var i="left"===e?"Left":"Top",n=K(t,"margin"+i,r);return t["offset"+i]-(Z(t,e,parseFloat(n),n.replace(b,""))||0)},J=function(t,e){var r,i,n,s={};if(e=e||V(t,null))if(r=e.length)for(;--r>-1;)(-1===(n=e[r]).indexOf("-transform")||Et===n)&&(s[n.replace(P,R)]=e.getPropertyValue(n));else for(r in e)(-1===r.indexOf("Transform")||St===r)&&(s[r]=e[r]);else if(e=t.currentStyle||t.style)for(r in e)"string"==typeof r&&void 0===s[r]&&(s[r.replace(P,R)]=e[r]);return X||(s.opacity=z(t)),i=kt(t,e,!1),s.rotation=i.rotation,s.skewX=i.skewX,s.scaleX=i.scaleX,s.scaleY=i.scaleY,s.x=i.x,s.y=i.y,Pt&&(s.z=i.z,s.rotationX=i.rotationX,s.rotationY=i.rotationY,s.scaleZ=i.scaleZ),s.filters&&delete s.filters,s},tt=function(t,e,r,i,n){var s,o,a,l={},h=t.style;for(o in r)"cssText"!==o&&"length"!==o&&isNaN(o)&&(e[o]!==(s=r[o])||n&&n[o])&&-1===o.indexOf("Origin")&&("number"==typeof s||"string"==typeof s)&&(l[o]="auto"!==s||"left"!==o&&"top"!==o?""!==s&&"auto"!==s&&"none"!==s||"string"!=typeof e[o]||""===e[o].replace(x,"")?s:0:Q(t,o),void 0!==h[o]&&(a=new ft(h,o,h[o],a)));if(i)for(o in i)"className"!==o&&(l[o]=i[o]);return{difs:l,firstMPT:a}},et={width:["Left","Right"],height:["Top","Bottom"]},rt=["marginLeft","marginRight","marginTop","marginBottom"],it=function(t,e,r){var i=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),n=et[e],s=n.length;for(r=r||V(t,null);--s>-1;)i-=parseFloat(K(t,"padding"+n[s],r,!0))||0,i-=parseFloat(K(t,"border"+n[s]+"Width",r,!0))||0;return i},nt=function(t,e){(null==t||""===t||"auto"===t||"auto auto"===t)&&(t="0 0");var r=t.split(" "),i=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":r[0],n=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":r[1];return null==n?n="center"===i?"50%":"0":"center"===n&&(n="50%"),("center"===i||isNaN(parseFloat(i))&&-1===(i+"").indexOf("="))&&(i="50%"),t=i+" "+n+(r.length>2?" "+r[2]:""),e&&(e.oxp=-1!==i.indexOf("%"),e.oyp=-1!==n.indexOf("%"),e.oxr="="===i.charAt(1),e.oyr="="===n.charAt(1),e.ox=parseFloat(i.replace(x,"")),e.oy=parseFloat(n.replace(x,"")),e.v=t),e||t},st=function(t,e){return"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)},ot=function(t,e){return null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)},at=function(t,e,r,i){var n,s,o,a,l;return null==t?a=e:"number"==typeof t?a=t:(n=360,s=t.split("_"),o=((l="="===t.charAt(1))?parseInt(t.charAt(0)+"1",10)*parseFloat(s[0].substr(2)):parseFloat(s[0]))*(-1===t.indexOf("rad")?1:F)-(l?0:e),s.length&&(i&&(i[r]=e+o),-1!==t.indexOf("short")&&((o%=n)!==o%(n/2)&&(o=0>o?o+n:o-n)),-1!==t.indexOf("_cw")&&0>o?o=(o+9999999999*n)%n-(0|o/n)*n:-1!==t.indexOf("ccw")&&o>0&&(o=(o-9999999999*n)%n-(0|o/n)*n)),a=e+o),1e-6>a&&a>-1e-6&&(a=0),a},lt={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ht=function(t,e,r){return 0|255*(1>6*(t=0>t?t+1:t>1?t-1:t)?e+6*(r-e)*t:.5>t?r:2>3*t?e+6*(r-e)*(2/3-t):e)+.5},ut=a.parseColor=function(t){var e,r,i,n,s,o;return t&&""!==t?"number"==typeof t?[t>>16,255&t>>8,255&t]:(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),lt[t]?lt[t]:"#"===t.charAt(0)?(4===t.length&&(t="#"+(e=t.charAt(1))+e+(r=t.charAt(2))+r+(i=t.charAt(3))+i),[(t=parseInt(t.substr(1),16))>>16,255&t>>8,255&t]):"hsl"===t.substr(0,3)?(t=t.match(g),n=Number(t[0])%360/360,s=Number(t[1])/100,e=2*(o=Number(t[2])/100)-(r=.5>=o?o*(s+1):o+s-o*s),t.length>3&&(t[3]=Number(t[3])),t[0]=ht(n+1/3,e,r),t[1]=ht(n,e,r),t[2]=ht(n-1/3,e,r),t):((t=t.match(g)||lt.transparent)[0]=Number(t[0]),t[1]=Number(t[1]),t[2]=Number(t[2]),t.length>3&&(t[3]=Number(t[3])),t)):lt.black},ct="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(u in lt)ct+="|"+u+"\\b";ct=RegExp(ct+")","gi");var pt=function(t,e,r,i){if(null==t)return function(t){return t};var n,s=e?(t.match(ct)||[""])[0]:"",o=t.split(s).join("").match(y)||[],a=t.substr(0,t.indexOf(o[0])),l=")"===t.charAt(t.length-1)?")":"",h=-1!==t.indexOf(" ")?" ":",",u=o.length,c=u>0?o[0].replace(g,""):"";return u?n=e?function(t){var e,p,d,f;if("number"==typeof t)t+=c;else if(i&&D.test(t)){for(f=t.replace(D,"|").split("|"),d=0;f.length>d;d++)f[d]=n(f[d]);return f.join(",")}if(e=(t.match(ct)||[s])[0],d=(p=t.split(e).join("").match(y)||[]).length,u>d--)for(;u>++d;)p[d]=r?p[0|(d-1)/2]:o[d];return a+p.join(h)+h+e+l+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,s,p;if("number"==typeof t)t+=c;else if(i&&D.test(t)){for(s=t.replace(D,"|").split("|"),p=0;s.length>p;p++)s[p]=n(s[p]);return s.join(",")}if(p=(e=t.match(y)||[]).length,u>p--)for(;u>++p;)e[p]=r?e[0|(p-1)/2]:o[p];return a+e.join(h)+l}:function(t){return t}},dt=function(t){return t=t.split(","),function(e,r,i,n,s,o,a){var l,h=(r+"").split(" ");for(a={},l=0;4>l;l++)a[t[l]]=h[l]=h[l]||h[(l-1)/2>>0];return n.parse(e,a,s,o)}},ft=(U._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,r,i,n,s=this.data,o=s.proxy,a=s.firstMPT;a;)e=o[a.v],a.r?e=Math.round(e):1e-6>e&&e>-1e-6&&(e=0),a.t[a.p]=e,a=a._next;if(s.autoRotate&&(s.autoRotate.rotation=o.rotation),1===t)for(a=s.firstMPT;a;){if((r=a.t).type){if(1===r.type){for(n=r.xs0+r.s+r.xs1,i=1;r.l>i;i++)n+=r["xn"+i]+r["xs"+(i+1)];r.e=n}}else r.e=r.s+r.xs0;a=a._next}},function(t,e,r,i,n){this.t=t,this.p=e,this.v=r,this.r=n,i&&(i._prev=this,this._next=i)}),mt=(U._parseToProxy=function(t,e,r,i,n,s){var o,a,l,h,u,c=i,p={},d={},f=r._transform,m=I;for(r._transform=null,I=e,i=u=r.parse(t,e,i,n),I=m,s&&(r._transform=f,c&&(c._prev=null,c._prev&&(c._prev._next=null)));i&&i!==c;){if(1>=i.type&&(d[a=i.p]=i.s+i.c,p[a]=i.s,s||(h=new ft(i,"s",a,h,i.r),i.c=0),1===i.type))for(o=i.l;--o>0;)l="xn"+o,d[a=i.p+"_"+l]=i.data[l],p[a]=i[l],s||(h=new ft(i,l,a,h,i.rxp[l]));i=i._next}return{proxy:p,end:d,firstMPT:h,pt:u}},U.CSSPropTween=function(t,e,i,n,s,a,l,h,u,c,p){this.t=t,this.p=e,this.s=i,this.c=n,this.n=l||e,t instanceof mt||o.push(this.n),this.r=h,this.type=a||0,u&&(this.pr=u,r=!0),this.b=void 0===c?i:c,this.e=void 0===p?i+n:p,s&&(this._next=s,s._prev=this)}),vt=function(t,e,r,i,n,s){var o=new mt(t,e,r,i-r,n,-1,s);return o.b=r,o.e=o.xs0=i,o},gt=a.parseComplex=function(t,e,r,i,n,s,o,a,l,h){r=r||s||"",o=new mt(t,e,0,0,o,h?2:1,null,!1,a,r,i),i+="";var u,p,d,f,m,v,y,x,b,T,w,S,A=r.split(", ").join(",").split(" "),P=i.split(", ").join(",").split(" "),C=A.length,R=!1!==c;for((-1!==i.indexOf(",")||-1!==r.indexOf(","))&&(A=A.join(" ").replace(D,", ").split(" "),P=P.join(" ").replace(D,", ").split(" "),C=A.length),C!==P.length&&(C=(A=(s||"").split(" ")).length),o.plugin=l,o.setRatio=h,u=0;C>u;u++)if(f=A[u],m=P[u],(x=parseFloat(f))||0===x)o.appendXtra("",x,st(m,x),m.replace(_,""),R&&-1!==m.indexOf("px"),!0);else if(n&&("#"===f.charAt(0)||lt[f]||E.test(f)))S=","===m.charAt(m.length-1)?"),":")",f=ut(f),m=ut(m),(b=f.length+m.length>6)&&!X&&0===m[3]?(o["xs"+o.l]+=o.l?" transparent":"transparent",o.e=o.e.split(P[u]).join("transparent")):(X||(b=!1),o.appendXtra(b?"rgba(":"rgb(",f[0],m[0]-f[0],",",!0,!0).appendXtra("",f[1],m[1]-f[1],",",!0).appendXtra("",f[2],m[2]-f[2],b?",":S,!0),b&&(f=4>f.length?1:f[3],o.appendXtra("",f,(4>m.length?1:m[3])-f,S,!1)));else if(v=f.match(g)){if(!(y=m.match(_))||y.length!==v.length)return o;for(d=0,p=0;v.length>p;p++)w=v[p],T=f.indexOf(w,d),o.appendXtra(f.substr(d,T-d),Number(w),st(y[p],w),"",R&&"px"===f.substr(T+w.length,2),0===p),d=T+w.length;o["xs"+o.l]+=f.substr(d)}else o["xs"+o.l]+=o.l?" "+f:f;if(-1!==i.indexOf("=")&&o.data){for(S=o.xs0+o.data.s,u=1;o.l>u;u++)S+=o["xs"+u]+o.data["xn"+u];o.e=S+o["xs"+u]}return o.l||(o.type=-1,o.xs0=o.e),o.xfirst||o},_t=9;for((u=mt.prototype).l=u.pr=0;--_t>0;)u["xn"+_t]=0,u["xs"+_t]="";u.xs0="",u._next=u._prev=u.xfirst=u.data=u.plugin=u.setRatio=u.rxp=null,u.appendXtra=function(t,e,r,i,n,s){var o=this,a=o.l;return o["xs"+a]+=s&&a?" "+t:t||"",r||0===a||o.plugin?(o.l++,o.type=o.setRatio?2:1,o["xs"+o.l]=i||"",a>0?(o.data["xn"+a]=e+r,o.rxp["xn"+a]=n,o["xn"+a]=e,o.plugin||(o.xfirst=new mt(o,"xn"+a,e,r,o.xfirst||o,0,o.n,n,o.pr),o.xfirst.xs0=0),o):(o.data={s:e+r},o.rxp={},o.s=e,o.c=r,o.r=n,o)):(o["xs"+a]+=e+(i||""),o)};var yt=function(t,e){e=e||{},this.p=e.prefix&&W(t)||t,h[t]=h[this.p]=this,this.format=e.formatter||pt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},xt=U._registerComplexSpecialProp=function(t,e,r){"object"!=typeof e&&(e={parser:r});var i,n=t.split(","),s=e.defaultValue;for(r=r||[s],i=0;n.length>i;i++)e.prefix=0===i&&e.prefix,e.defaultValue=r[i]||s,new yt(n[i],e)},bt=function(t){if(!h[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";xt(t,{parser:function(t,r,i,n,s,o,a){var u=l.com.greensock.plugins[e];return u?(u._cssRegister(),h[i].parse(t,r,i,n,s,o,a)):(q("Error: "+e+" js file not loaded."),s)}})}};(u=yt.prototype).parseComplex=function(t,e,r,i,n,s){var o,a,l,h,u,c,p=this.keyword;if(this.multi&&(D.test(r)||D.test(e)?(a=e.replace(D,"|").split("|"),l=r.replace(D,"|").split("|")):p&&(a=[e],l=[r])),l){for(h=l.length>a.length?l.length:a.length,o=0;h>o;o++)e=a[o]=a[o]||this.dflt,r=l[o]=l[o]||this.dflt,p&&((u=e.indexOf(p))!==(c=r.indexOf(p))&&(-1===c?a[o]=a[o].split(p).join(""):-1===u&&(a[o]+=" "+p)));e=a.join(", "),r=l.join(", ")}return gt(t,this.p,e,r,this.clrs,this.dflt,i,this.pr,n,s)},u.parse=function(t,e,r,i,n,o){return this.parseComplex(t.style,this.format(K(t,this.p,s,!1,this.dflt)),this.format(e),n,o)},a.registerSpecialProp=function(t,e,r){xt(t,{parser:function(t,i,n,s,o,a){var l=new mt(t,n,0,0,o,2,n,!1,r);return l.plugin=a,l.setRatio=e(t,i,s._tween,n),l},priority:r})},a.useSVGTransformAttr=d||f;var Tt,wt="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),St=W("transform"),Et=Y+"transform",At=W("transformOrigin"),Pt=null!==W("perspective"),Ct=U.Transform=function(){this.perspective=parseFloat(a.defaultTransformPerspective)||0,this.force3D=!(!1===a.defaultForce3D||!Pt)&&(a.defaultForce3D||"auto")},Rt=window.SVGElement,Mt=function(t,e,r){var i,n=k.createElementNS("http://www.w3.org/2000/svg",t),s=/([a-z])([A-Z])/g;for(i in r)n.setAttributeNS(null,i.replace(s,"$1-$2").toLowerCase(),r[i]);return e.appendChild(n),n},Ot=k.documentElement,$t=function(){var t,e,r,i=v||/Android/i.test(H)&&!window.chrome;return k.createElementNS&&!i&&(t=Mt("svg",Ot),r=(e=Mt("rect",t,{width:100,height:50,x:100})).getBoundingClientRect().width,e.style[At]="50% 50%",e.style[St]="scaleX(0.5)",i=r===e.getBoundingClientRect().width&&!(f&&Pt),Ot.removeChild(t)),i}(),Dt=function(t,e,r,i,n){var s,o,l,h,u,c,p,d,f,m,v,g,_,y,x=t._gsTransform,b=It(t,!0);x&&(_=x.xOrigin,y=x.yOrigin),(!i||2>(s=i.split(" ")).length)&&(p=t.getBBox(),s=[(-1!==(e=nt(e).split(" "))[0].indexOf("%")?parseFloat(e[0])/100*p.width:parseFloat(e[0]))+p.x,(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*p.height:parseFloat(e[1]))+p.y]),r.xOrigin=h=parseFloat(s[0]),r.yOrigin=u=parseFloat(s[1]),i&&b!==Ft&&(c=b[0],p=b[1],d=b[2],f=b[3],m=b[4],v=b[5],o=h*(f/(g=c*f-p*d))+u*(-d/g)+(d*v-f*m)/g,l=h*(-p/g)+u*(c/g)-(c*v-p*m)/g,h=r.xOrigin=s[0]=o,u=r.yOrigin=s[1]=l),x&&(n||!1!==n&&!1!==a.defaultSmoothOrigin?(o=h-_,l=u-y,x.xOffset+=o*b[0]+l*b[2]-o,x.yOffset+=o*b[1]+l*b[3]-l):x.xOffset=x.yOffset=0),t.setAttribute("data-svg-origin",s.join(" "))},Lt=function(t){return!!(Rt&&"function"==typeof t.getBBox&&t.getCTM&&(!t.parentNode||t.parentNode.getBBox&&t.parentNode.getCTM))},Ft=[1,0,0,1,0,0],It=function(t,e){var r,i,n,s,o,a=t._gsTransform||new Ct;if(St?i=K(t,Et,null,!0):t.currentStyle&&(i=(i=t.currentStyle.filter.match(O))&&4===i.length?[i[0].substr(4),Number(i[2].substr(4)),Number(i[1].substr(4)),i[3].substr(4),a.x||0,a.y||0].join(","):""),r=!i||"none"===i||"matrix(1, 0, 0, 1, 0, 0)"===i,(a.svg||t.getBBox&&Lt(t))&&(r&&-1!==(t.style[St]+"").indexOf("matrix")&&(i=t.style[St],r=0),n=t.getAttribute("transform"),r&&n&&(-1!==n.indexOf("matrix")?(i=n,r=0):-1!==n.indexOf("translate")&&(i="matrix(1,0,0,1,"+n.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",r=0))),r)return Ft;for(n=(i||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],_t=n.length;--_t>-1;)s=Number(n[_t]),n[_t]=(o=s-(s|=0))?(0|1e5*o+(0>o?-.5:.5))/1e5+s:s;return e&&n.length>6?[n[0],n[1],n[4],n[5],n[12],n[13]]:n},kt=U.getTransform=function(t,r,i,n){if(t._gsTransform&&i&&!n)return t._gsTransform;var o,l,h,u,c,p,d=i&&t._gsTransform||new Ct,f=0>d.scaleX,m=1e5,v=Pt&&(parseFloat(K(t,At,r,!1,"0 0 0").split(" ")[2])||d.zOrigin)||0,g=parseFloat(a.defaultTransformPerspective)||0;if(d.svg=!(!t.getBBox||!Lt(t)),d.svg&&(Dt(t,K(t,At,s,!1,"50% 50%")+"",d,t.getAttribute("data-svg-origin")),Tt=a.useSVGTransformAttr||$t),(o=It(t))!==Ft){if(16===o.length){var _,y,x,b,T,w=o[0],S=o[1],E=o[2],A=o[3],P=o[4],C=o[5],R=o[6],M=o[7],O=o[8],$=o[9],D=o[10],L=o[12],I=o[13],k=o[14],N=o[11],B=Math.atan2(R,D);d.zOrigin&&(L=O*(k=-d.zOrigin)-o[12],I=$*k-o[13],k=D*k+d.zOrigin-o[14]),d.rotationX=B*F,B&&(_=P*(b=Math.cos(-B))+O*(T=Math.sin(-B)),y=C*b+$*T,x=R*b+D*T,O=P*-T+O*b,$=C*-T+$*b,D=R*-T+D*b,N=M*-T+N*b,P=_,C=y,R=x),B=Math.atan2(O,D),d.rotationY=B*F,B&&(y=S*(b=Math.cos(-B))-$*(T=Math.sin(-B)),x=E*b-D*T,$=S*T+$*b,D=E*T+D*b,N=A*T+N*b,w=_=w*b-O*T,S=y,E=x),B=Math.atan2(S,w),d.rotation=B*F,B&&(w=w*(b=Math.cos(-B))+P*(T=Math.sin(-B)),y=S*b+C*T,C=S*-T+C*b,R=E*-T+R*b,S=y),d.rotationX&&Math.abs(d.rotationX)+Math.abs(d.rotation)>359.9&&(d.rotationX=d.rotation=0,d.rotationY+=180),d.scaleX=(0|Math.sqrt(w*w+S*S)*m+.5)/m,d.scaleY=(0|Math.sqrt(C*C+$*$)*m+.5)/m,d.scaleZ=(0|Math.sqrt(R*R+D*D)*m+.5)/m,d.skewX=0,d.perspective=N?1/(0>N?-N:N):0,d.x=L,d.y=I,d.z=k,d.svg&&(d.x-=d.xOrigin-(d.xOrigin*w-d.yOrigin*P),d.y-=d.yOrigin-(d.yOrigin*S-d.xOrigin*C))}else if(!(Pt&&!n&&o.length&&d.x===o[4]&&d.y===o[5]&&(d.rotationX||d.rotationY)||void 0!==d.x&&"none"===K(t,"display",r))){var j=o.length>=6,U=j?o[0]:1,H=o[1]||0,X=o[2]||0,z=j?o[3]:1;d.x=o[4]||0,d.y=o[5]||0,h=Math.sqrt(U*U+H*H),u=Math.sqrt(z*z+X*X),c=U||H?Math.atan2(H,U)*F:d.rotation||0,p=X||z?Math.atan2(X,z)*F+c:d.skewX||0,Math.abs(p)>90&&270>Math.abs(p)&&(f?(h*=-1,p+=0>=c?180:-180,c+=0>=c?180:-180):(u*=-1,p+=0>=p?180:-180)),d.scaleX=h,d.scaleY=u,d.rotation=c,d.skewX=p,Pt&&(d.rotationX=d.rotationY=d.z=0,d.perspective=g,d.scaleZ=1),d.svg&&(d.x-=d.xOrigin-(d.xOrigin*U+d.yOrigin*X),d.y-=d.yOrigin-(d.xOrigin*H+d.yOrigin*z))}for(l in d.zOrigin=v,d)2e-5>d[l]&&d[l]>-2e-5&&(d[l]=0)}return i&&(t._gsTransform=d,d.svg&&(Tt&&t.style[St]?e.delayedCall(.001,function(){Ut(t.style,St)}):!Tt&&t.getAttribute("transform")&&e.delayedCall(.001,function(){t.removeAttribute("transform")}))),d},Nt=function(t){var e,r,i=this.data,n=-i.rotation*L,s=n+i.skewX*L,o=1e5,a=(0|Math.cos(n)*i.scaleX*o)/o,l=(0|Math.sin(n)*i.scaleX*o)/o,h=(0|Math.sin(s)*-i.scaleY*o)/o,u=(0|Math.cos(s)*i.scaleY*o)/o,c=this.t.style,p=this.t.currentStyle;if(p){r=l,l=-h,h=-r,e=p.filter,c.filter="";var d,f,m=this.t.offsetWidth,g=this.t.offsetHeight,_="absolute"!==p.position,y="progid:DXImageTransform.Microsoft.Matrix(M11="+a+", M12="+l+", M21="+h+", M22="+u,x=i.x+m*i.xPercent/100,w=i.y+g*i.yPercent/100;if(null!=i.ox&&(x+=(d=(i.oxp?.01*m*i.ox:i.ox)-m/2)-(d*a+(f=(i.oyp?.01*g*i.oy:i.oy)-g/2)*l),w+=f-(d*h+f*u)),_?y+=", Dx="+((d=m/2)-(d*a+(f=g/2)*l)+x)+", Dy="+(f-(d*h+f*u)+w)+")":y+=", sizingMethod='auto expand')",c.filter=-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?e.replace($,y):y+" "+e,(0===t||1===t)&&1===a&&0===l&&0===h&&1===u&&(_&&-1===y.indexOf("Dx=0, Dy=0")||T.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf(e.indexOf("Alpha"))&&c.removeAttribute("filter")),!_){var S,E,A,P=8>v?1:-1;for(d=i.ieOffsetX||0,f=i.ieOffsetY||0,i.ieOffsetX=Math.round((m-((0>a?-a:a)*m+(0>l?-l:l)*g))/2+x),i.ieOffsetY=Math.round((g-((0>u?-u:u)*g+(0>h?-h:h)*m))/2+w),_t=0;4>_t;_t++)A=(r=-1!==(S=p[E=rt[_t]]).indexOf("px")?parseFloat(S):Z(this.t,E,parseFloat(S),S.replace(b,""))||0)!==i[E]?2>_t?-i.ieOffsetX:-i.ieOffsetY:2>_t?d-i.ieOffsetX:f-i.ieOffsetY,c[E]=(i[E]=Math.round(r-A*(0===_t||2===_t?1:P)))+"px"}}},Bt=U.set3DTransformRatio=U.setTransformRatio=function(t){var e,r,i,n,s,o,a,l,h,u,c,p,d,m,v,g,_,y,x,b,T,w,S,E=this.data,A=this.t.style,P=E.rotation,C=E.rotationX,R=E.rotationY,M=E.scaleX,O=E.scaleY,$=E.scaleZ,D=E.x,F=E.y,I=E.z,k=E.svg,N=E.perspective,B=E.force3D;if(!((1!==t&&0!==t||"auto"!==B||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&B||I||N||R||C)||Tt&&k||!Pt)P||E.skewX||k?(P*=L,w=E.skewX*L,S=1e5,e=Math.cos(P)*M,n=Math.sin(P)*M,r=Math.sin(P-w)*-O,s=Math.cos(P-w)*O,w&&"simple"===E.skewType&&(_=Math.tan(w),r*=_=Math.sqrt(1+_*_),s*=_,E.skewY&&(e*=_,n*=_)),k&&(D+=E.xOrigin-(E.xOrigin*e+E.yOrigin*r)+E.xOffset,F+=E.yOrigin-(E.xOrigin*n+E.yOrigin*s)+E.yOffset,Tt&&(E.xPercent||E.yPercent)&&(m=this.t.getBBox(),D+=.01*E.xPercent*m.width,F+=.01*E.yPercent*m.height),(m=1e-6)>D&&D>-m&&(D=0),m>F&&F>-m&&(F=0)),x=(0|e*S)/S+","+(0|n*S)/S+","+(0|r*S)/S+","+(0|s*S)/S+","+D+","+F+")",k&&Tt?this.t.setAttribute("transform","matrix("+x):A[St]=(E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) matrix(":"matrix(")+x):A[St]=(E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) matrix(":"matrix(")+M+",0,0,"+O+","+D+","+F+")";else{if(f&&((m=1e-4)>M&&M>-m&&(M=$=2e-5),m>O&&O>-m&&(O=$=2e-5),!N||E.z||E.rotationX||E.rotationY||(N=0)),P||E.skewX)P*=L,v=e=Math.cos(P),g=n=Math.sin(P),E.skewX&&(P-=E.skewX*L,v=Math.cos(P),g=Math.sin(P),"simple"===E.skewType&&(_=Math.tan(E.skewX*L),v*=_=Math.sqrt(1+_*_),g*=_,E.skewY&&(e*=_,n*=_))),r=-g,s=v;else{if(!(R||C||1!==$||N||k))return void(A[St]=(E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) translate3d(":"translate3d(")+D+"px,"+F+"px,"+I+"px)"+(1!==M||1!==O?" scale("+M+","+O+")":""));e=s=1,r=n=0}h=1,i=o=a=l=u=c=0,p=N?-1/N:0,d=E.zOrigin,m=1e-6,b=",",T="0",(P=R*L)&&(v=Math.cos(P),a=-(g=Math.sin(P)),u=p*-g,i=e*g,o=n*g,h=v,p*=v,e*=v,n*=v),(P=C*L)&&(_=r*(v=Math.cos(P))+i*(g=Math.sin(P)),y=s*v+o*g,l=h*g,c=p*g,i=r*-g+i*v,o=s*-g+o*v,h*=v,p*=v,r=_,s=y),1!==$&&(i*=$,o*=$,h*=$,p*=$),1!==O&&(r*=O,s*=O,l*=O,c*=O),1!==M&&(e*=M,n*=M,a*=M,u*=M),(d||k)&&(d&&(D+=i*-d,F+=o*-d,I+=h*-d+d),k&&(D+=E.xOrigin-(E.xOrigin*e+E.yOrigin*r)+E.xOffset,F+=E.yOrigin-(E.xOrigin*n+E.yOrigin*s)+E.yOffset),m>D&&D>-m&&(D=T),m>F&&F>-m&&(F=T),m>I&&I>-m&&(I=0)),x=E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) matrix3d(":"matrix3d(",x+=(m>e&&e>-m?T:e)+b+(m>n&&n>-m?T:n)+b+(m>a&&a>-m?T:a),x+=b+(m>u&&u>-m?T:u)+b+(m>r&&r>-m?T:r)+b+(m>s&&s>-m?T:s),C||R?(x+=b+(m>l&&l>-m?T:l)+b+(m>c&&c>-m?T:c)+b+(m>i&&i>-m?T:i),x+=b+(m>o&&o>-m?T:o)+b+(m>h&&h>-m?T:h)+b+(m>p&&p>-m?T:p)+b):x+=",0,0,0,0,1,0,",x+=D+b+F+b+I+b+(N?1+-I/N:1)+")",A[St]=x}};(u=Ct.prototype).x=u.y=u.z=u.skewX=u.skewY=u.rotation=u.rotationX=u.rotationY=u.zOrigin=u.xPercent=u.yPercent=u.xOffset=u.yOffset=0,u.scaleX=u.scaleY=u.scaleZ=1,xt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,r,i,n,o,l){if(i._lastParsedTransform===l)return n;i._lastParsedTransform=l;var h,u,c,p,d,f,m,v,g,_=t._gsTransform,y=i._transform=kt(t,s,!0,l.parseTransform),x=t.style,b=wt.length,T=l,w={},S="transformOrigin";if("string"==typeof T.transform&&St)(c=B.style)[St]=T.transform,c.display="block",c.position="absolute",k.body.appendChild(B),h=kt(B,null,!1),k.body.removeChild(B),null!=T.xPercent&&(h.xPercent=ot(T.xPercent,y.xPercent)),null!=T.yPercent&&(h.yPercent=ot(T.yPercent,y.yPercent));else if("object"==typeof T){if(h={scaleX:ot(null!=T.scaleX?T.scaleX:T.scale,y.scaleX),scaleY:ot(null!=T.scaleY?T.scaleY:T.scale,y.scaleY),scaleZ:ot(T.scaleZ,y.scaleZ),x:ot(T.x,y.x),y:ot(T.y,y.y),z:ot(T.z,y.z),xPercent:ot(T.xPercent,y.xPercent),yPercent:ot(T.yPercent,y.yPercent),perspective:ot(T.transformPerspective,y.perspective)},null!=(m=T.directionalRotation))if("object"==typeof m)for(c in m)T[c]=m[c];else T.rotation=m;"string"==typeof T.x&&-1!==T.x.indexOf("%")&&(h.x=0,h.xPercent=ot(T.x,y.xPercent)),"string"==typeof T.y&&-1!==T.y.indexOf("%")&&(h.y=0,h.yPercent=ot(T.y,y.yPercent)),h.rotation=at("rotation"in T?T.rotation:"shortRotation"in T?T.shortRotation+"_short":"rotationZ"in T?T.rotationZ:y.rotation,y.rotation,"rotation",w),Pt&&(h.rotationX=at("rotationX"in T?T.rotationX:"shortRotationX"in T?T.shortRotationX+"_short":y.rotationX||0,y.rotationX,"rotationX",w),h.rotationY=at("rotationY"in T?T.rotationY:"shortRotationY"in T?T.shortRotationY+"_short":y.rotationY||0,y.rotationY,"rotationY",w)),h.skewX=null==T.skewX?y.skewX:at(T.skewX,y.skewX),h.skewY=null==T.skewY?y.skewY:at(T.skewY,y.skewY),(u=h.skewY-y.skewY)&&(h.skewX+=u,h.rotation+=u)}for(Pt&&null!=T.force3D&&(y.force3D=T.force3D,f=!0),y.skewType=T.skewType||y.skewType||a.defaultSkewType,(d=y.force3D||y.z||y.rotationX||y.rotationY||h.z||h.rotationX||h.rotationY||h.perspective)||null==T.scale||(h.scaleZ=1);--b>-1;)((p=h[r=wt[b]]-y[r])>1e-6||-1e-6>p||null!=T[r]||null!=I[r])&&(f=!0,n=new mt(y,r,y[r],p,n),r in w&&(n.e=w[r]),n.xs0=0,n.plugin=o,i._overwriteProps.push(n.n));return p=T.transformOrigin,y.svg&&(p||T.svgOrigin)&&(v=y.xOffset,g=y.yOffset,Dt(t,nt(p),h,T.svgOrigin,T.smoothOrigin),n=vt(y,"xOrigin",(_?y:h).xOrigin,h.xOrigin,n,S),n=vt(y,"yOrigin",(_?y:h).yOrigin,h.yOrigin,n,S),(v!==y.xOffset||g!==y.yOffset)&&(n=vt(y,"xOffset",_?v:y.xOffset,y.xOffset,n,S),n=vt(y,"yOffset",_?g:y.yOffset,y.yOffset,n,S)),p=Tt?null:"0px 0px"),(p||Pt&&d&&y.zOrigin)&&(St?(f=!0,r=At,p=(p||K(t,r,s,!1,"50% 50%"))+"",(n=new mt(x,r,0,0,n,-1,S)).b=x[r],n.plugin=o,Pt?(c=y.zOrigin,p=p.split(" "),y.zOrigin=(p.length>2&&(0===c||"0px"!==p[2])?parseFloat(p[2]):c)||0,n.xs0=n.e=p[0]+" "+(p[1]||"50%")+" 0px",(n=new mt(y,"zOrigin",0,0,n,-1,n.n)).b=c,n.xs0=n.e=y.zOrigin):n.xs0=n.e=p):nt(p+"",y)),f&&(i._transformType=y.svg&&Tt||!d&&3!==this._transformType?2:3),n},prefix:!0}),xt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),xt("borderRadius",{defaultValue:"0px",parser:function(t,e,r,n,o){e=this.format(e);var a,l,h,u,c,p,d,f,m,v,g,_,y,x,b,T,w=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],S=t.style;for(m=parseFloat(t.offsetWidth),v=parseFloat(t.offsetHeight),a=e.split(" "),l=0;w.length>l;l++)this.p.indexOf("border")&&(w[l]=W(w[l])),-1!==(c=u=K(t,w[l],s,!1,"0px")).indexOf(" ")&&(c=(u=c.split(" "))[0],u=u[1]),p=h=a[l],d=parseFloat(c),_=c.substr((d+"").length),(y="="===p.charAt(1))?(f=parseInt(p.charAt(0)+"1",10),p=p.substr(2),f*=parseFloat(p),g=p.substr((f+"").length-(0>f?1:0))||""):(f=parseFloat(p),g=p.substr((f+"").length)),""===g&&(g=i[r]||_),g!==_&&(x=Z(t,"borderLeft",d,_),b=Z(t,"borderTop",d,_),"%"===g?(c=x/m*100+"%",u=b/v*100+"%"):"em"===g?(c=x/(T=Z(t,"borderLeft",1,"em"))+"em",u=b/T+"em"):(c=x+"px",u=b+"px"),y&&(p=parseFloat(c)+f+g,h=parseFloat(u)+f+g)),o=gt(S,w[l],c+" "+u,p+" "+h,!1,"0px",o);return o},prefix:!0,formatter:pt("0px 0px 0px 0px",!1,!0)}),xt("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,r,i,n,o){var a,l,h,u,c,p,d="background-position",f=s||V(t,null),m=this.format((f?v?f.getPropertyValue(d+"-x")+" "+f.getPropertyValue(d+"-y"):f.getPropertyValue(d):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),g=this.format(e);if(-1!==m.indexOf("%")!=(-1!==g.indexOf("%"))&&((p=K(t,"backgroundImage").replace(C,""))&&"none"!==p)){for(a=m.split(" "),l=g.split(" "),j.setAttribute("src",p),h=2;--h>-1;)(u=-1!==(m=a[h]).indexOf("%"))!==(-1!==l[h].indexOf("%"))&&(c=0===h?t.offsetWidth-j.width:t.offsetHeight-j.height,a[h]=u?parseFloat(m)/100*c+"px":parseFloat(m)/c*100+"%");m=a.join(" ")}return this.parseComplex(t.style,m,g,n,o)},formatter:nt}),xt("backgroundSize",{defaultValue:"0 0",formatter:nt}),xt("perspective",{defaultValue:"0px",prefix:!0}),xt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),xt("transformStyle",{prefix:!0}),xt("backfaceVisibility",{prefix:!0}),xt("userSelect",{prefix:!0}),xt("margin",{parser:dt("marginTop,marginRight,marginBottom,marginLeft")}),xt("padding",{parser:dt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),xt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,r,i,n,o){var a,l,h;return 9>v?(l=t.currentStyle,h=8>v?" ":",",a="rect("+l.clipTop+h+l.clipRight+h+l.clipBottom+h+l.clipLeft+")",e=this.format(e).split(",").join(h)):(a=this.format(K(t,this.p,s,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,a,e,n,o)}}),xt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),xt("autoRound,strictUnits",{parser:function(t,e,r,i,n){return n}}),xt("border",{defaultValue:"0px solid #000",parser:function(t,e,r,i,n,o){return this.parseComplex(t.style,this.format(K(t,"borderTopWidth",s,!1,"0px")+" "+K(t,"borderTopStyle",s,!1,"solid")+" "+K(t,"borderTopColor",s,!1,"#000")),this.format(e),n,o)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(ct)||["#000"])[0]}}),xt("borderWidth",{parser:dt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),xt("float,cssFloat,styleFloat",{parser:function(t,e,r,i,n){var s=t.style,o="cssFloat"in s?"cssFloat":"styleFloat";return new mt(s,o,0,0,n,-1,r,!1,0,s[o],e)}});var jt=function(t){var e,r=this.t,i=r.filter||K(this.data,"filter")||"",n=0|this.s+this.c*t;100===n&&(-1===i.indexOf("atrix(")&&-1===i.indexOf("radient(")&&-1===i.indexOf("oader(")?(r.removeAttribute("filter"),e=!K(this.data,"filter")):(r.filter=i.replace(S,""),e=!0)),e||(this.xn1&&(r.filter=i=i||"alpha(opacity="+n+")"),-1===i.indexOf("pacity")?0===n&&this.xn1||(r.filter=i+" alpha(opacity="+n+")"):r.filter=i.replace(T,"opacity="+n))};xt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,r,i,n,o){var a=parseFloat(K(t,"opacity",s,!1,"1")),l=t.style,h="autoAlpha"===r;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+a),h&&1===a&&"hidden"===K(t,"visibility",s)&&0!==e&&(a=0),X?n=new mt(l,"opacity",a,e-a,n):((n=new mt(l,"opacity",100*a,100*(e-a),n)).xn1=h?1:0,l.zoom=1,n.type=2,n.b="alpha(opacity="+n.s+")",n.e="alpha(opacity="+(n.s+n.c)+")",n.data=t,n.plugin=o,n.setRatio=jt),h&&((n=new mt(l,"visibility",0,0,n,-1,null,!1,0,0!==a?"inherit":"hidden",0===e?"hidden":"inherit")).xs0="inherit",i._overwriteProps.push(n.n),i._overwriteProps.push(r)),n}});var Ut=function(t,e){e&&(t.removeProperty?(("ms"===e.substr(0,2)||"webkit"===e.substr(0,6))&&(e="-"+e),t.removeProperty(e.replace(A,"-$1").toLowerCase())):t.removeAttribute(e))},Ht=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,r=this.t.style;e;)e.v?r[e.p]=e.v:Ut(r,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};xt("className",{parser:function(t,e,i,n,o,a,l){var h,u,c,p,d,f=t.getAttribute("class")||"",m=t.style.cssText;if((o=n._classNamePT=new mt(t,i,0,0,o,2)).setRatio=Ht,o.pr=-11,r=!0,o.b=f,u=J(t,s),c=t._gsClassPT){for(p={},d=c.data;d;)p[d.p]=1,d=d._next;c.setRatio(1)}return t._gsClassPT=o,o.e="="!==e.charAt(1)?e:f.replace(RegExp("\\s*\\b"+e.substr(2)+"\\b"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",o.e),h=tt(t,u,J(t),l,p),t.setAttribute("class",f),o.data=h.firstMPT,t.style.cssText=m,o.xfirst=n.parse(t,h.difs,o,a)}});var Xt=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,r,i,n,s,o=this.t.style,a=h.transform.parse;if("all"===this.e)o.cssText="",n=!0;else for(i=(e=this.e.split(" ").join("").split(",")).length;--i>-1;)r=e[i],h[r]&&(h[r].parse===a?n=!0:r="transformOrigin"===r?At:h[r].p),Ut(o,r);n&&(Ut(o,St),(s=this.t._gsTransform)&&(s.svg&&this.t.removeAttribute("data-svg-origin"),delete this.t._gsTransform))}};for(xt("clearProps",{parser:function(t,e,i,n,s){return(s=new mt(t,i,0,0,s,2)).setRatio=Xt,s.e=e,s.pr=-10,s.data=n._tween,r=!0,s}}),u="bezier,throwProps,physicsProps,physics2D".split(","),_t=u.length;_t--;)bt(u[_t]);(u=a.prototype)._firstPT=u._lastParsedTransform=u._transform=null,u._onInitTween=function(t,e,n){if(!t.nodeType)return!1;this._target=t,this._tween=n,this._vars=e,c=e.autoRound,r=!1,i=e.suffixMap||a.suffixMap,s=V(t,""),o=this._overwriteProps;var l,u,f,v,g,_,y,x,b,T=t.style;if(p&&""===T.zIndex&&(("auto"===(l=K(t,"zIndex",s))||""===l)&&this._addLazySet(T,"zIndex",0)),"string"==typeof e&&(v=T.cssText,l=J(t,s),T.cssText=v+";"+e,l=tt(t,l,J(t)).difs,!X&&w.test(e)&&(l.opacity=parseFloat(RegExp.$1)),e=l,T.cssText=v),this._firstPT=u=e.className?h.className.parse(t,e.className,"className",this,null,null,e):this.parse(t,e,null),this._transformType){for(b=3===this._transformType,St?d&&(p=!0,""===T.zIndex&&(("auto"===(y=K(t,"zIndex",s))||""===y)&&this._addLazySet(T,"zIndex",0)),m&&this._addLazySet(T,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(b?"visible":"hidden"))):T.zoom=1,f=u;f&&f._next;)f=f._next;x=new mt(t,"transform",0,0,null,2),this._linkCSSP(x,null,f),x.setRatio=St?Bt:Nt,x.data=this._transform||kt(t,s,!0),x.tween=n,x.pr=-1,o.pop()}if(r){for(;u;){for(_=u._next,f=v;f&&f.pr>u.pr;)f=f._next;(u._prev=f?f._prev:g)?u._prev._next=u:v=u,(u._next=f)?f._prev=u:g=u,u=_}this._firstPT=v}return!0},u.parse=function(t,e,r,n){var o,a,l,u,p,d,f,m,v,g,_=t.style;for(o in e)d=e[o],(a=h[o])?r=a.parse(t,d,o,this,r,n,e):(p=K(t,o,s)+"",v="string"==typeof d,"color"===o||"fill"===o||"stroke"===o||-1!==o.indexOf("Color")||v&&E.test(d)?(v||(d=((d=ut(d)).length>3?"rgba(":"rgb(")+d.join(",")+")"),r=gt(_,o,p,d,!0,"transparent",r,0,n)):!v||-1===d.indexOf(" ")&&-1===d.indexOf(",")?(f=(l=parseFloat(p))||0===l?p.substr((l+"").length):"",(""===p||"auto"===p)&&("width"===o||"height"===o?(l=it(t,o,s),f="px"):"left"===o||"top"===o?(l=Q(t,o,s),f="px"):(l="opacity"!==o?0:1,f="")),(g=v&&"="===d.charAt(1))?(u=parseInt(d.charAt(0)+"1",10),d=d.substr(2),u*=parseFloat(d),m=d.replace(b,"")):(u=parseFloat(d),m=v?d.replace(b,""):""),""===m&&(m=o in i?i[o]:f),d=u||0===u?(g?u+l:u)+m:e[o],f!==m&&""!==m&&(u||0===u)&&l&&(l=Z(t,o,l,f),"%"===m?(l/=Z(t,o,100,"%")/100,!0!==e.strictUnits&&(p=l+"%")):"em"===m?l/=Z(t,o,1,"em"):"px"!==m&&(u=Z(t,o,u,m),m="px"),g&&(u||0===u)&&(d=u+l+m)),g&&(u+=l),!l&&0!==l||!u&&0!==u?void 0!==_[o]&&(d||"NaN"!=d+""&&null!=d)?(r=new mt(_,o,u||l||0,0,r,-1,o,!1,0,p,d)).xs0="none"!==d||"display"!==o&&-1===o.indexOf("Style")?d:p:q("invalid "+o+" tween value: "+e[o]):(r=new mt(_,o,l,u-l,r,0,o,!1!==c&&("px"===m||"zIndex"===o),0,p,d)).xs0=m):r=gt(_,o,p,d,!0,null,r,0,n)),n&&r&&!r.plugin&&(r.plugin=n);return r},u.setRatio=function(t){var e,r,i,n=this._firstPT;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;n;){if(e=n.c*t+n.s,n.r?e=Math.round(e):1e-6>e&&e>-1e-6&&(e=0),n.type)if(1===n.type)if(2===(i=n.l))n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2;else if(3===i)n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3;else if(4===i)n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3+n.xn3+n.xs4;else if(5===i)n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3+n.xn3+n.xs4+n.xn4+n.xs5;else{for(r=n.xs0+e+n.xs1,i=1;n.l>i;i++)r+=n["xn"+i]+n["xs"+(i+1)];n.t[n.p]=r}else-1===n.type?n.t[n.p]=n.xs0:n.setRatio&&n.setRatio(t);else n.t[n.p]=e+n.xs0;n=n._next}else for(;n;)2!==n.type?n.t[n.p]=n.b:n.setRatio(t),n=n._next;else for(;n;){if(2!==n.type)if(n.r&&-1!==n.type)if(e=Math.round(n.s+n.c),n.type){if(1===n.type){for(i=n.l,r=n.xs0+e+n.xs1,i=1;n.l>i;i++)r+=n["xn"+i]+n["xs"+(i+1)];n.t[n.p]=r}}else n.t[n.p]=e+n.xs0;else n.t[n.p]=n.e;else n.setRatio(t);n=n._next}},u._enableTransforms=function(t){this._transform=this._transform||kt(this._target,s,!0),this._transformType=this._transform.svg&&Tt||!t&&3!==this._transformType?2:3};var zt=function(){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};u._addLazySet=function(t,e,r){var i=this._firstPT=new mt(t,e,0,0,this._firstPT,2);i.e=r,i.setRatio=zt,i.data=this},u._linkCSSP=function(t,e,r,i){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,i=!0),r?r._next=t:i||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=r),t},u._kill=function(e){var r,i,n,s=e;if(e.autoAlpha||e.alpha){for(i in s={},e)s[i]=e[i];s.opacity=1,s.autoAlpha&&(s.visibility=1)}return e.className&&(r=this._classNamePT)&&((n=r.xfirst)&&n._prev?this._linkCSSP(n._prev,r._next,n._prev._prev):n===this._firstPT&&(this._firstPT=r._next),r._next&&this._linkCSSP(r._next,r._next._next,n._prev),this._classNamePT=null),t.prototype._kill.call(this,s)};var qt=function(t,e,r){var i,n,s,o;if(t.slice)for(n=t.length;--n>-1;)qt(t[n],e,r);else for(n=(i=t.childNodes).length;--n>-1;)o=(s=i[n]).type,s.style&&(e.push(J(s)),r&&r.push(s)),1!==o&&9!==o&&11!==o||!s.childNodes.length||qt(s,e,r)};return a.cascadeTo=function(t,r,i){var n,s,o,a,l=e.to(t,r,i),h=[l],u=[],c=[],p=[],d=e._internals.reservedProps;for(t=l._targets||l.target,qt(t,u,p),l.render(r,!0,!0),qt(t,c),l.render(0,!0,!0),l._enabled(!0),n=p.length;--n>-1;)if((s=tt(p[n],u[n],c[n])).firstMPT){for(o in s=s.difs,i)d[o]&&(s[o]=i[o]);for(o in a={},s)a[o]=u[n][o];h.push(e.fromTo(p[n],r,a,s))}return h},t.activate([a]),a},!0),function(){var t=n._gsDefine.plugin({propName:"roundProps",priority:-1,API:2,init:function(t,e,r){return this._tween=r,!0}}).prototype;t._onInitAllProps=function(){for(var t,e,r,i=this._tween,n=i.vars.roundProps instanceof Array?i.vars.roundProps:i.vars.roundProps.split(","),s=n.length,o={},a=i._propLookup.roundProps;--s>-1;)o[n[s]]=1;for(s=n.length;--s>-1;)for(t=n[s],e=i._firstPT;e;)r=e._next,e.pg?e.t._roundProps(o,!0):e.n===t&&(this._add(e.t,t,e.s,e.c),r&&(r._prev=e._prev),e._prev?e._prev._next=r:i._firstPT===e&&(i._firstPT=r),e._next=e._prev=null,i._propLookup[t]=a),e=r;return!1},t._add=function(t,e,r,i){this._addTween(t,e,r,r+i,e,!0),this._overwriteProps.push(e)}}(),function(){var t=/(?:\d|\-|\+|=|#|\.)*/g,e=/[A-Za-z%]/g;n._gsDefine.plugin({propName:"attr",API:2,version:"0.4.0",init:function(r,i){var n,s,o,a,l;if("function"!=typeof r.setAttribute)return!1;for(n in this._target=r,this._proxy={},this._start={},this._end={},this._suffix={},i)this._start[n]=this._proxy[n]=s=r.getAttribute(n)+"",this._end[n]=o=i[n]+"",this._suffix[n]=a=e.test(o)?o.replace(t,""):e.test(s)?s.replace(t,""):"",a&&(-1!==(l=o.indexOf(a))&&(o=o.substr(0,l))),this._addTween(this._proxy,n,parseFloat(s),o,n)||(this._suffix[n]=""),"="===o.charAt(1)&&(this._end[n]=this._firstPT.s+this._firstPT.c+a),this._overwriteProps.push(n);return!0},set:function(t){this._super.setRatio.call(this,t);for(var e,r=this._overwriteProps,i=r.length,n=1===t?this._end:t?this._proxy:this._start,s=n===this._proxy;--i>-1;)e=r[i],this._target.setAttribute(e,n[e]+(s?this._suffix[e]:""))}})}(),n._gsDefine.plugin({propName:"directionalRotation",version:"0.2.1",API:2,init:function(t,e){"object"!=typeof e&&(e={rotation:e}),this.finals={};var r,i,n,s,o,a=!0===e.useRadians?2*Math.PI:360;for(r in e)"useRadians"!==r&&(i=(o=(e[r]+"").split("_"))[0],n=parseFloat("function"!=typeof t[r]?t[r]:t[r.indexOf("set")||"function"!=typeof t["get"+r.substr(3)]?r:"get"+r.substr(3)]()),s=(this.finals[r]="string"==typeof i&&"="===i.charAt(1)?n+parseInt(i.charAt(0)+"1",10)*Number(i.substr(2)):Number(i)||0)-n,o.length&&(-1!==(i=o.join("_")).indexOf("short")&&((s%=a)!==s%(a/2)&&(s=0>s?s+a:s-a)),-1!==i.indexOf("_cw")&&0>s?s=(s+9999999999*a)%a-(0|s/a)*a:-1!==i.indexOf("ccw")&&s>0&&(s=(s-9999999999*a)%a-(0|s/a)*a)),(s>1e-6||-1e-6>s)&&(this._addTween(t,r,n,n+s,r),this._overwriteProps.push(r)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,n._gsDefine("easing.Back",["easing.Ease"],function(t){var e,r,i,s=n.GreenSockGlobals||n,o=s.com.greensock,a=2*Math.PI,l=Math.PI/2,h=o._class,u=function(e,r){var i=h("easing."+e,function(){},!0),n=i.prototype=new t;return n.constructor=i,n.getRatio=r,i},c=t.register||function(){},p=function(t,e,r,i){var n=h("easing."+t,{easeOut:new e,easeIn:new r,easeInOut:new i},!0);return c(n,t),n},d=function(t,e,r){this.t=t,this.v=e,r&&(this.next=r,r.prev=this,this.c=r.v-e,this.gap=r.t-t)},f=function(e,r){var i=h("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),n=i.prototype=new t;return n.constructor=i,n.getRatio=r,n.config=function(t){return new i(t)},i},m=p("Back",f("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),f("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),f("BackInOut",function(t){return 1>(t*=2)?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),v=h("easing.SlowMo",function(t,e,r){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=!0===r},!0),g=v.prototype=new t;return g.constructor=v,g.getRatio=function(t){var e=t+(.5-t)*this._p;return this._p1>t?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},v.ease=new v(.7,.7),g.config=v.config=function(t,e,r){return new v(t,e,r)},(g=(e=h("easing.SteppedEase",function(t){t=t||1,this._p1=1/t,this._p2=t+1},!0)).prototype=new t).constructor=e,g.getRatio=function(t){return 0>t?t=0:t>=1&&(t=.999999999),(this._p2*t>>0)*this._p1},g.config=e.config=function(t){return new e(t)},(g=(r=h("easing.RoughEase",function(e){for(var r,i,n,s,o,a,l=(e=e||{}).taper||"none",h=[],u=0,c=0|(e.points||20),p=c,f=!1!==e.randomize,m=!0===e.clamp,v=e.template instanceof t?e.template:null,g="number"==typeof e.strength?.4*e.strength:.4;--p>-1;)r=f?Math.random():1/c*p,i=v?v.getRatio(r):r,"none"===l?n=g:"out"===l?n=(s=1-r)*s*g:"in"===l?n=r*r*g:.5>r?n=.5*(s=2*r)*s*g:n=.5*(s=2*(1-r))*s*g,f?i+=Math.random()*n-.5*n:p%2?i+=.5*n:i-=.5*n,m&&(i>1?i=1:0>i&&(i=0)),h[u++]={x:r,y:i};for(h.sort(function(t,e){return t.x-e.x}),a=new d(1,1,null),p=c;--p>-1;)o=h[p],a=new d(o.x,o.y,a);this._prev=new d(0,0,0!==a.t?a:a.next)},!0)).prototype=new t).constructor=r,g.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&e.t>=t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},g.config=function(t){return new r(t)},r.ease=new r,p("Bounce",u("BounceOut",function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),u("BounceIn",function(t){return 1/2.75>(t=1-t)?1-7.5625*t*t:2/2.75>t?1-(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),u("BounceInOut",function(t){var e=.5>t;return t=1/2.75>(t=e?1-2*t:2*t-1)?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),p("Circ",u("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),u("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),u("CircInOut",function(t){return 1>(t*=2)?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),p("Elastic",(i=function(e,r,i){var n=h("easing."+e,function(t,e){this._p1=t>=1?t:1,this._p2=(e||i)/(1>t?t:1),this._p3=this._p2/a*(Math.asin(1/this._p1)||0),this._p2=a/this._p2},!0),s=n.prototype=new t;return s.constructor=n,s.getRatio=r,s.config=function(t,e){return new n(t,e)},n})("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),i("ElasticIn",function(t){return-this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)},.3),i("ElasticInOut",function(t){return 1>(t*=2)?-.5*this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2):.5*this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)+1},.45)),p("Expo",u("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),u("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),u("ExpoInOut",function(t){return 1>(t*=2)?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),p("Sine",u("SineOut",function(t){return Math.sin(t*l)}),u("SineIn",function(t){return 1-Math.cos(t*l)}),u("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),h("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),c(s.SlowMo,"SlowMo","ease,"),c(r,"RoughEase","ease,"),c(e,"SteppedEase","ease,"),m},!0)}),n._gsDefine&&n._gsQueue.pop()(),function(r,n){"use strict";var s=r.GreenSockGlobals=r.GreenSockGlobals||r;if(!s.TweenLite){var o,a,l,h,u,c=function(t){var e,r=t.split("."),i=s;for(e=0;r.length>e;e++)i[r[e]]=i=i[r[e]]||{};return i},p=c("com.greensock"),d=1e-10,f=function(t){var e,r=[],i=t.length;for(e=0;e!==i;r.push(t[e++]));return r},m=function(){},v=function(){var t=Object.prototype.toString,e=t.call([]);return function(r){return null!=r&&(r instanceof Array||"object"==typeof r&&!!r.push&&t.call(r)===e)}}(),g={},_=function(r,n,o,a){this.sc=g[r]?g[r].sc:[],g[r]=this,this.gsClass=null,this.func=o;var l=[];this.check=function(h){for(var u,p,d,f,m=n.length,v=m;--m>-1;)(u=g[n[m]]||new _(n[m],[])).gsClass?(l[m]=u.gsClass,v--):h&&u.sc.push(this);if(0===v&&o)for(d=(p=("com.greensock."+r).split(".")).pop(),f=c(p.join("."))[d]=this.gsClass=o.apply(o,l),a&&(s[d]=f,void 0!==(i=function(){return f}.apply(e,[]))&&(t.exports=i)),m=0;this.sc.length>m;m++)this.sc[m].check()},this.check(!0)},y=r._gsDefine=function(t,e,r,i){return new _(t,e,r,i)},x=p._class=function(t,e,r){return e=e||function(){},y(t,[],function(){return e},r),e};y.globals=s;var b=[0,0,1,1],T=[],w=x("easing.Ease",function(t,e,r,i){this._func=t,this._type=r||0,this._power=i||0,this._params=e?b.concat(e):b},!0),S=w.map={},E=w.register=function(t,e,r,i){for(var n,s,o,a,l=e.split(","),h=l.length,u=(r||"easeIn,easeOut,easeInOut").split(",");--h>-1;)for(s=l[h],n=i?x("easing."+s,null,!0):p.easing[s]||{},o=u.length;--o>-1;)a=u[o],S[s+"."+a]=S[a+s]=n[a]=t.getRatio?t:t[a]||new t};for((l=w.prototype)._calcEnd=!1,l.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,r=this._power,i=1===e?1-t:2===e?t:.5>t?2*t:2*(1-t);return 1===r?i*=i:2===r?i*=i*i:3===r?i*=i*i*i:4===r&&(i*=i*i*i*i),1===e?1-i:2===e?i:.5>t?i/2:1-i/2},a=(o=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;--a>-1;)l=o[a]+",Power"+a,E(new w(null,null,1,a),l,"easeOut",!0),E(new w(null,null,2,a),l,"easeIn"+(0===a?",easeNone":"")),E(new w(null,null,3,a),l,"easeInOut");S.linear=p.easing.Linear.easeIn,S.swing=p.easing.Quad.easeInOut;var A=x("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});(l=A.prototype).addEventListener=function(t,e,r,i,n){n=n||0;var s,o,a=this._listeners[t],l=0;for(null==a&&(this._listeners[t]=a=[]),o=a.length;--o>-1;)(s=a[o]).c===e&&s.s===r?a.splice(o,1):0===l&&n>s.pr&&(l=o+1);a.splice(l,0,{c:e,s:r,up:i,pr:n}),this!==h||u||h.wake()},l.removeEventListener=function(t,e){var r,i=this._listeners[t];if(i)for(r=i.length;--r>-1;)if(i[r].c===e)return void i.splice(r,1)},l.dispatchEvent=function(t){var e,r,i,n=this._listeners[t];if(n)for(e=n.length,r=this._eventTarget;--e>-1;)(i=n[e])&&(i.up?i.c.call(i.s||r,{type:t,target:r}):i.c.call(i.s||r))};var P=r.requestAnimationFrame,C=r.cancelAnimationFrame,R=Date.now||function(){return(new Date).getTime()},M=R();for(a=(o=["ms","moz","webkit","o"]).length;--a>-1&&!P;)P=r[o[a]+"RequestAnimationFrame"],C=r[o[a]+"CancelAnimationFrame"]||r[o[a]+"CancelRequestAnimationFrame"];x("Ticker",function(t,e){var r,i,n,s,o,a=this,l=R(),c=!1!==e&&P,p=500,f=33,v=function(t){var e,h,u=R()-M;u>p&&(l+=u-f),M+=u,a.time=(M-l)/1e3,e=a.time-o,(!r||e>0||!0===t)&&(a.frame++,o+=e+(e>=s?.004:s-e),h=!0),!0!==t&&(n=i(v)),h&&a.dispatchEvent("tick")};A.call(a),a.time=a.frame=0,a.tick=function(){v(!0)},a.lagSmoothing=function(t,e){p=t||1/d,f=Math.min(e,p,0)},a.sleep=function(){null!=n&&(c&&C?C(n):clearTimeout(n),i=m,n=null,a===h&&(u=!1))},a.wake=function(){null!==n?a.sleep():a.frame>10&&(M=R()-p+5),i=0===r?m:c&&P?P:function(t){return setTimeout(t,0|1e3*(o-a.time)+1)},a===h&&(u=!0),v(2)},a.fps=function(t){return arguments.length?(s=1/((r=t)||60),o=this.time+s,void a.wake()):r},a.useRAF=function(t){return arguments.length?(a.sleep(),c=t,void a.fps(r)):c},a.fps(t),setTimeout(function(){c&&5>a.frame&&a.useRAF(!1)},1500)}),(l=p.Ticker.prototype=new p.events.EventDispatcher).constructor=p.Ticker;var O=x("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=!0===e.immediateRender,this.data=e.data,this._reversed=!0===e.reversed,q){u||h.wake();var r=this.vars.useFrames?z:q;r.add(this,r._time),this.vars.paused&&this.paused(!0)}});h=O.ticker=new p.Ticker,(l=O.prototype)._dirty=l._gc=l._initted=l._paused=!1,l._totalTime=l._time=0,l._rawPrevTime=-1,l._next=l._last=l._onUpdate=l._timeline=l.timeline=null,l._paused=!1;var $=function(){u&&R()-M>2e3&&h.wake(),setTimeout($,2e3)};$(),l.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},l.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},l.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},l.seek=function(t,e){return this.totalTime(Number(t),!1!==e)},l.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,!1!==e,!0)},l.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},l.render=function(){},l.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},l.isActive=function(){var t,e=this._timeline,r=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=r&&r+this.totalDuration()/this._timeScale>t},l._enabled=function(t,e){return u||h.wake(),this._gc=!t,this._active=this.isActive(),!0!==e&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},l._kill=function(){return this._enabled(!1,!1)},l.kill=function(t,e){return this._kill(t,e),this},l._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},l._swapSelfInParams=function(t){for(var e=t.length,r=t.concat();--e>-1;)"{self}"===t[e]&&(r[e]=this);return r},l._callback=function(t){var e=this.vars;e[t].apply(e[t+"Scope"]||e.callbackScope||this,e[t+"Params"]||T)},l.eventCallback=function(t,e,r,i){if("on"===(t||"").substr(0,2)){var n=this.vars;if(1===arguments.length)return n[t];null==e?delete n[t]:(n[t]=e,n[t+"Params"]=v(r)&&-1!==r.join("").indexOf("{self}")?this._swapSelfInParams(r):r,n[t+"Scope"]=i),"onUpdate"===t&&(this._onUpdate=e)}return this},l.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},l.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},l.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},l.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},l.totalTime=function(t,e,r){if(u||h.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>t&&!r&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var i=this._totalDuration,n=this._timeline;if(t>i&&!r&&(t=i),this._startTime=(this._paused?this._pauseTime:n._time)-(this._reversed?i-t:t)/this._timeScale,n._dirty||this._uncache(!1),n._timeline)for(;n._timeline;)n._timeline._time!==(n._startTime+n._totalTime)/n._timeScale&&n.totalTime(n._totalTime,!0),n=n._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==t||0===this._duration)&&(this.render(t,e,!1),I.length&&G())}return this},l.progress=l.totalProgress=function(t,e){return arguments.length?this.totalTime(this.duration()*t,e):this._time/this.duration()},l.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},l.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},l.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||d,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,r=e||0===e?e:this._timeline.totalTime();this._startTime=r-(r-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},l.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},l.paused=function(t){if(!arguments.length)return this._paused;var e,r,i=this._timeline;return t!=this._paused&&i&&(u||t||h.wake(),r=(e=i.rawTime())-this._pauseTime,!t&&i.smoothChildTiming&&(this._startTime+=r,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==r&&this._initted&&this.duration()&&this.render(i.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,!0,!0)),this._gc&&!t&&this._enabled(!0,!1),this};var D=x("core.SimpleTimeline",function(t){O.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});(l=D.prototype=new O).constructor=D,l.kill()._gc=!1,l._first=l._last=l._recent=null,l._sortChildren=!1,l.add=l.insert=function(t,e){var r,i;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),r=this._last,this._sortChildren)for(i=t._startTime;r&&r._startTime>i;)r=r._prev;return r?(t._next=r._next,r._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=r,this._recent=t,this._timeline&&this._uncache(!0),this},l._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},l.render=function(t,e,r){var i,n=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;n;)i=n._next,(n._active||t>=n._startTime&&!n._paused)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,r):n.render((t-n._startTime)*n._timeScale,e,r)),n=i},l.rawTime=function(){return u||h.wake(),this._totalTime};var L=x("TweenLite",function(t,e,i){if(O.call(this,e,i),this.render=L.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:L.selector(t)||t;var n,s,o,a=t.jquery||t.length&&t!==r&&t[0]&&(t[0]===r||t[0].nodeType&&t[0].style&&!t.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?X[L.defaultOverwrite]:"number"==typeof l?l>>0:X[l],(a||t instanceof Array||t.push&&v(t))&&"number"!=typeof t[0])for(this._targets=o=f(t),this._propLookup=[],this._siblings=[],n=0;o.length>n;n++)(s=o[n])?"string"!=typeof s?s.length&&s!==r&&s[0]&&(s[0]===r||s[0].nodeType&&s[0].style&&!s.nodeType)?(o.splice(n--,1),this._targets=o=o.concat(f(s))):(this._siblings[n]=W(s,this,!1),1===l&&this._siblings[n].length>1&&K(s,this,null,1,this._siblings[n])):"string"==typeof(s=o[n--]=L.selector(s))&&o.splice(n+1,1):o.splice(n--,1);else this._propLookup={},this._siblings=W(t,this,!1),1===l&&this._siblings.length>1&&K(t,this,null,1,this._siblings);(this.vars.immediateRender||0===e&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-d,this.render(-this._delay))},!0),F=function(t){return t&&t.length&&t!==r&&t[0]&&(t[0]===r||t[0].nodeType&&t[0].style&&!t.nodeType)};(l=L.prototype=new O).constructor=L,l.kill()._gc=!1,l.ratio=0,l._firstPT=l._targets=l._overwrittenProps=l._startAt=null,l._notifyPluginsOfEnabled=l._lazy=!1,L.version="1.17.0",L.defaultEase=l._ease=new w(null,null,1,1),L.defaultOverwrite="auto",L.ticker=h,L.autoSleep=120,L.lagSmoothing=function(t,e){h.lagSmoothing(t,e)},L.selector=r.$||r.jQuery||function(t){var e=r.$||r.jQuery;return e?(L.selector=e,e(t)):"undefined"==typeof document?t:document.querySelectorAll?document.querySelectorAll(t):document.getElementById("#"===t.charAt(0)?t.substr(1):t)};var I=[],k={},N=L._internals={isArray:v,isSelector:F,lazyTweens:I},B=L._plugins={},j=N.tweenLookup={},U=0,H=N.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1},X={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},z=O._rootFramesTimeline=new D,q=O._rootTimeline=new D,Y=30,G=N.lazyRender=function(){var t,e=I.length;for(k={};--e>-1;)(t=I[e])&&!1!==t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);I.length=0};q._startTime=h.time,z._startTime=h.frame,q._active=z._active=!0,setTimeout(G,1),O._updateRoot=L.render=function(){var t,e,r;if(I.length&&G(),q.render((h.time-q._startTime)*q._timeScale,!1,!1),z.render((h.frame-z._startTime)*z._timeScale,!1,!1),I.length&&G(),h.frame>=Y){for(r in Y=h.frame+(parseInt(L.autoSleep,10)||120),j){for(t=(e=j[r].tweens).length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete j[r]}if((!(r=q._first)||r._paused)&&L.autoSleep&&!z._first&&1===h._listeners.tick.length){for(;r&&r._paused;)r=r._next;r||h.sleep()}}},h.addEventListener("tick",O._updateRoot);var W=function(t,e,r){var i,n,s=t._gsTweenID;if(j[s||(t._gsTweenID=s="t"+U++)]||(j[s]={target:t,tweens:[]}),e&&((i=j[s].tweens)[n=i.length]=e,r))for(;--n>-1;)i[n]===e&&i.splice(n,1);return j[s].tweens},V=function(t,e,r,i){var n,s,o=t.vars.onOverwrite;return o&&(n=o(t,e,r,i)),(o=L.onOverwrite)&&(s=o(t,e,r,i)),!1!==n&&!1!==s},K=function(t,e,r,i,n){var s,o,a,l;if(1===i||i>=4){for(l=n.length,s=0;l>s;s++)if((a=n[s])!==e)a._gc||a._kill(null,t,e)&&(o=!0);else if(5===i)break;return o}var h,u=e._startTime+d,c=[],p=0,f=0===e._duration;for(s=n.length;--s>-1;)(a=n[s])===e||a._gc||a._paused||(a._timeline!==e._timeline?(h=h||Z(e,0,f),0===Z(a,h,f)&&(c[p++]=a)):u>=a._startTime&&a._startTime+a.totalDuration()/a._timeScale>u&&((f||!a._initted)&&2e-10>=u-a._startTime||(c[p++]=a)));for(s=p;--s>-1;)if(a=c[s],2===i&&a._kill(r,t,e)&&(o=!0),2!==i||!a._firstPT&&a._initted){if(2!==i&&!V(a,e))continue;a._enabled(!1,!1)&&(o=!0)}return o},Z=function(t,e,r){for(var i=t._timeline,n=i._timeScale,s=t._startTime;i._timeline;){if(s+=i._startTime,n*=i._timeScale,i._paused)return-100;i=i._timeline}return(s/=n)>e?s-e:r&&s===e||!t._initted&&2*d>s-e?d:(s+=t.totalDuration()/t._timeScale/n)>e+d?0:s-e-d};l._init=function(){var t,e,r,i,n,s=this.vars,o=this._overwrittenProps,a=this._duration,l=!!s.immediateRender,h=s.ease;if(s.startAt){for(i in this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),n={},s.startAt)n[i]=s.startAt[i];if(n.overwrite=!1,n.immediateRender=!0,n.lazy=l&&!1!==s.lazy,n.startAt=n.delay=null,this._startAt=L.to(this.target,0,n),l)if(this._time>0)this._startAt=null;else if(0!==a)return}else if(s.runBackwards&&0!==a)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{for(i in 0!==this._time&&(l=!1),r={},s)H[i]&&"autoCSS"!==i||(r[i]=s[i]);if(r.overwrite=0,r.data="isFromStart",r.lazy=l&&!1!==s.lazy,r.immediateRender=l,this._startAt=L.to(this.target,0,r),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=h=h?h instanceof w?h:"function"==typeof h?new w(h,s.easeParams):S[h]||L.defaultEase:L.defaultEase,s.easeParams instanceof Array&&h.config&&(this._ease=h.config.apply(h,s.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(t=this._targets.length;--t>-1;)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],o?o[t]:null)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,o);if(e&&L._onPluginEvent("_onInitAllProps",this),o&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),s.runBackwards)for(r=this._firstPT;r;)r.s+=r.c,r.c=-r.c,r=r._next;this._onUpdate=s.onUpdate,this._initted=!0},l._initProps=function(t,e,i,n){var s,o,a,l,h,u;if(null==t)return!1;for(s in k[t._gsTweenID]&&G(),this.vars.css||t.style&&t!==r&&t.nodeType&&B.css&&!1!==this.vars.autoCSS&&function(t,e){var r,i={};for(r in t)H[r]||r in e&&"transform"!==r&&"x"!==r&&"y"!==r&&"width"!==r&&"height"!==r&&"className"!==r&&"border"!==r||!(!B[r]||B[r]&&B[r]._autoCSS)||(i[r]=t[r],delete t[r]);t.css=i}(this.vars,t),this.vars){if(u=this.vars[s],H[s])u&&(u instanceof Array||u.push&&v(u))&&-1!==u.join("").indexOf("{self}")&&(this.vars[s]=u=this._swapSelfInParams(u,this));else if(B[s]&&(l=new B[s])._onInitTween(t,this.vars[s],this)){for(this._firstPT=h={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:!0,n:s,pg:!0,pr:l._priority},o=l._overwriteProps.length;--o>-1;)e[l._overwriteProps[o]]=this._firstPT;(l._priority||l._onInitAllProps)&&(a=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=e[s]=h={_next:this._firstPT,t:t,p:s,f:"function"==typeof t[s],n:s,pg:!1,pr:0},h.s=h.f?t[s.indexOf("set")||"function"!=typeof t["get"+s.substr(3)]?s:"get"+s.substr(3)]():parseFloat(t[s]),h.c="string"==typeof u&&"="===u.charAt(1)?parseInt(u.charAt(0)+"1",10)*Number(u.substr(2)):Number(u)-h.s||0;h&&h._next&&(h._next._prev=h)}return n&&this._kill(n,t)?this._initProps(t,e,i,n):this._overwrite>1&&this._firstPT&&i.length>1&&K(t,this,e,this._overwrite,i)?(this._kill(e,t),this._initProps(t,e,i,n)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(k[t._gsTweenID]=!0),a)},l.render=function(t,e,r){var i,n,s,o,a=this._time,l=this._duration,h=this._rawPrevTime;if(t>=l)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(i=!0,n="onComplete",r=r||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||r)&&(this._startTime===this._timeline._duration&&(t=0),(0===t||0>h||h===d&&"isPause"!==this.data)&&h!==t&&(r=!0,h>d&&(n="onReverseComplete")),this._rawPrevTime=o=!e||t||h===t?t:d);else if(1e-7>t)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==a||0===l&&h>0)&&(n="onReverseComplete",i=this._reversed),0>t&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||r)&&(h>=0&&(h!==d||"isPause"!==this.data)&&(r=!0),this._rawPrevTime=o=!e||t||h===t?t:d)),this._initted||(r=!0);else if(this._totalTime=this._time=t,this._easeType){var u=t/l,c=this._easeType,p=this._easePower;(1===c||3===c&&u>=.5)&&(u=1-u),3===c&&(u*=2),1===p?u*=u:2===p?u*=u*u:3===p?u*=u*u*u:4===p&&(u*=u*u*u*u),this.ratio=1===c?1-u:2===c?u:.5>t/l?u/2:1-u/2}else this.ratio=this._ease.getRatio(t/l);if(this._time!==a||r){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!r&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=a,this._rawPrevTime=h,I.push(this),void(this._lazy=[t,e]);this._time&&!i?this.ratio=this._ease.getRatio(this._time/l):i&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==a&&t>=0&&(this._active=!0),0===a&&(this._startAt&&(t>=0?this._startAt.render(t,e,r):n||(n="_dummyGS")),this.vars.onStart&&(0!==this._time||0===l)&&(e||this._callback("onStart"))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(0>t&&this._startAt&&-1e-4!==t&&this._startAt.render(t,e,r),e||(this._time!==a||i)&&this._callback("onUpdate")),n&&(!this._gc||r)&&(0>t&&this._startAt&&!this._onUpdate&&-1e-4!==t&&this._startAt.render(t,e,r),i&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[n]&&this._callback(n),0===l&&this._rawPrevTime===d&&o!==d&&(this._rawPrevTime=0))}},l._kill=function(t,e,r){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:L.selector(e)||e;var i,n,s,o,a,l,h,u,c,p=r&&this._time&&r._startTime===this._startTime&&this._timeline===r._timeline;if((v(e)||F(e))&&"number"!=typeof e[0])for(i=e.length;--i>-1;)this._kill(t,e[i],r)&&(l=!0);else{if(this._targets){for(i=this._targets.length;--i>-1;)if(e===this._targets[i]){a=this._propLookup[i]||{},this._overwrittenProps=this._overwrittenProps||[],n=this._overwrittenProps[i]=t?this._overwrittenProps[i]||{}:"all";break}}else{if(e!==this.target)return!1;a=this._propLookup,n=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(a){if(h=t||a,u=t!==n&&"all"!==n&&t!==a&&("object"!=typeof t||!t._tempKill),r&&(L.onOverwrite||this.vars.onOverwrite)){for(s in h)a[s]&&(c||(c=[]),c.push(s));if((c||!t)&&!V(this,r,e,c))return!1}for(s in h)(o=a[s])&&(p&&(o.f?o.t[o.p](o.s):o.t[o.p]=o.s,l=!0),o.pg&&o.t._kill(h)&&(l=!0),o.pg&&0!==o.t._overwriteProps.length||(o._prev?o._prev._next=o._next:o===this._firstPT&&(this._firstPT=o._next),o._next&&(o._next._prev=o._prev),o._next=o._prev=null),delete a[s]),u&&(n[s]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return l},l.invalidate=function(){return this._notifyPluginsOfEnabled&&L._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],O.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-d,this.render(-this._delay)),this},l._enabled=function(t,e){if(u||h.wake(),t&&this._gc){var r,i=this._targets;if(i)for(r=i.length;--r>-1;)this._siblings[r]=W(i[r],this,!0);else this._siblings=W(this.target,this,!0)}return O.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&L._onPluginEvent(t?"_onEnable":"_onDisable",this)},L.to=function(t,e,r){return new L(t,e,r)},L.from=function(t,e,r){return r.runBackwards=!0,r.immediateRender=0!=r.immediateRender,new L(t,e,r)},L.fromTo=function(t,e,r,i){return i.startAt=r,i.immediateRender=0!=i.immediateRender&&0!=r.immediateRender,new L(t,e,i)},L.delayedCall=function(t,e,r,i,n){return new L(e,0,{delay:t,onComplete:e,onCompleteParams:r,callbackScope:i,onReverseComplete:e,onReverseCompleteParams:r,immediateRender:!1,lazy:!1,useFrames:n,overwrite:0})},L.set=function(t,e){return new L(t,0,e)},L.getTweensOf=function(t,e){if(null==t)return[];var r,i,n,s;if(t="string"!=typeof t?t:L.selector(t)||t,(v(t)||F(t))&&"number"!=typeof t[0]){for(r=t.length,i=[];--r>-1;)i=i.concat(L.getTweensOf(t[r],e));for(r=i.length;--r>-1;)for(s=i[r],n=r;--n>-1;)s===i[n]&&i.splice(r,1)}else for(r=(i=W(t).concat()).length;--r>-1;)(i[r]._gc||e&&!i[r].isActive())&&i.splice(r,1);return i},L.killTweensOf=L.killDelayedCallsTo=function(t,e,r){"object"==typeof e&&(r=e,e=!1);for(var i=L.getTweensOf(t,e),n=i.length;--n>-1;)i[n]._kill(r,t)};var Q=x("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=Q.prototype},!0);if(l=Q.prototype,Q.version="1.10.1",Q.API=2,l._firstPT=null,l._addTween=function(t,e,r,i,n,s){var o,a;return null!=i&&(o="number"==typeof i||"="!==i.charAt(1)?Number(i)-Number(r):parseInt(i.charAt(0)+"1",10)*Number(i.substr(2)))?(this._firstPT=a={_next:this._firstPT,t:t,p:e,s:r,c:o,f:"function"==typeof t[e],n:n||e,r:s},a._next&&(a._next._prev=a),a):void 0},l.setRatio=function(t){for(var e,r=this._firstPT;r;)e=r.c*t+r.s,r.r?e=Math.round(e):1e-6>e&&e>-1e-6&&(e=0),r.f?r.t[r.p](e):r.t[r.p]=e,r=r._next},l._kill=function(t){var e,r=this._overwriteProps,i=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=r.length;--e>-1;)null!=t[r[e]]&&r.splice(e,1);for(;i;)null!=t[i.n]&&(i._next&&(i._next._prev=i._prev),i._prev?(i._prev._next=i._next,i._prev=null):this._firstPT===i&&(this._firstPT=i._next)),i=i._next;return!1},l._roundProps=function(t,e){for(var r=this._firstPT;r;)(t[this._propName]||null!=r.n&&t[r.n.split(this._propName+"_").join("")])&&(r.r=e),r=r._next},L._onPluginEvent=function(t,e){var r,i,n,s,o,a=e._firstPT;if("_onInitAllProps"===t){for(;a;){for(o=a._next,i=n;i&&i.pr>a.pr;)i=i._next;(a._prev=i?i._prev:s)?a._prev._next=a:n=a,(a._next=i)?i._prev=a:s=a,a=o}a=e._firstPT=n}for(;a;)a.pg&&"function"==typeof a.t[t]&&a.t[t]()&&(r=!0),a=a._next;return r},Q.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===Q.API&&(B[(new t[e])._propName]=t[e]);return!0},y.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,r=t.propName,i=t.priority||0,n=t.overwriteProps,s={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},o=x("plugins."+r.charAt(0).toUpperCase()+r.substr(1)+"Plugin",function(){Q.call(this,r,i),this._overwriteProps=n||[]},!0===t.global),a=o.prototype=new Q(r);for(e in a.constructor=o,o.API=t.API,s)"function"==typeof t[e]&&(a[s[e]]=t[e]);return o.version=t.version,Q.activate([o]),o},o=r._gsQueue){for(a=0;o.length>a;a++)o[a]();for(l in g)g[l].func||r.console.log("GSAP encountered missing dependency: com.greensock."+l)}u=!1}}(void 0!==t&&t.exports&&void 0!==r?r:this||window)}).call(e,r(5))},183:function(t,e,r){var i;!function(n){"use strict";function s(t,e){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}function o(t,e,r,i,n,o){return s(function(t,e){return t<<e|t>>>32-e}(s(s(e,t),s(i,o)),n),r)}function a(t,e,r,i,n,s,a){return o(e&r|~e&i,t,e,n,s,a)}function l(t,e,r,i,n,s,a){return o(e&i|r&~i,t,e,n,s,a)}function h(t,e,r,i,n,s,a){return o(e^r^i,t,e,n,s,a)}function u(t,e,r,i,n,s,a){return o(r^(e|~i),t,e,n,s,a)}function c(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var r,i,n,o,c,p=1732584193,d=-271733879,f=-1732584194,m=271733878;for(r=0;r<t.length;r+=16)i=p,n=d,o=f,c=m,d=u(d=u(d=u(d=u(d=h(d=h(d=h(d=h(d=l(d=l(d=l(d=l(d=a(d=a(d=a(d=a(d,f=a(f,m=a(m,p=a(p,d,f,m,t[r],7,-680876936),d,f,t[r+1],12,-389564586),p,d,t[r+2],17,606105819),m,p,t[r+3],22,-1044525330),f=a(f,m=a(m,p=a(p,d,f,m,t[r+4],7,-176418897),d,f,t[r+5],12,1200080426),p,d,t[r+6],17,-1473231341),m,p,t[r+7],22,-45705983),f=a(f,m=a(m,p=a(p,d,f,m,t[r+8],7,1770035416),d,f,t[r+9],12,-1958414417),p,d,t[r+10],17,-42063),m,p,t[r+11],22,-1990404162),f=a(f,m=a(m,p=a(p,d,f,m,t[r+12],7,1804603682),d,f,t[r+13],12,-40341101),p,d,t[r+14],17,-1502002290),m,p,t[r+15],22,1236535329),f=l(f,m=l(m,p=l(p,d,f,m,t[r+1],5,-165796510),d,f,t[r+6],9,-1069501632),p,d,t[r+11],14,643717713),m,p,t[r],20,-373897302),f=l(f,m=l(m,p=l(p,d,f,m,t[r+5],5,-701558691),d,f,t[r+10],9,38016083),p,d,t[r+15],14,-660478335),m,p,t[r+4],20,-405537848),f=l(f,m=l(m,p=l(p,d,f,m,t[r+9],5,568446438),d,f,t[r+14],9,-1019803690),p,d,t[r+3],14,-187363961),m,p,t[r+8],20,1163531501),f=l(f,m=l(m,p=l(p,d,f,m,t[r+13],5,-1444681467),d,f,t[r+2],9,-51403784),p,d,t[r+7],14,1735328473),m,p,t[r+12],20,-1926607734),f=h(f,m=h(m,p=h(p,d,f,m,t[r+5],4,-378558),d,f,t[r+8],11,-2022574463),p,d,t[r+11],16,1839030562),m,p,t[r+14],23,-35309556),f=h(f,m=h(m,p=h(p,d,f,m,t[r+1],4,-1530992060),d,f,t[r+4],11,1272893353),p,d,t[r+7],16,-155497632),m,p,t[r+10],23,-1094730640),f=h(f,m=h(m,p=h(p,d,f,m,t[r+13],4,681279174),d,f,t[r],11,-358537222),p,d,t[r+3],16,-722521979),m,p,t[r+6],23,76029189),f=h(f,m=h(m,p=h(p,d,f,m,t[r+9],4,-640364487),d,f,t[r+12],11,-421815835),p,d,t[r+15],16,530742520),m,p,t[r+2],23,-995338651),f=u(f,m=u(m,p=u(p,d,f,m,t[r],6,-198630844),d,f,t[r+7],10,1126891415),p,d,t[r+14],15,-1416354905),m,p,t[r+5],21,-57434055),f=u(f,m=u(m,p=u(p,d,f,m,t[r+12],6,1700485571),d,f,t[r+3],10,-1894986606),p,d,t[r+10],15,-1051523),m,p,t[r+1],21,-2054922799),f=u(f,m=u(m,p=u(p,d,f,m,t[r+8],6,1873313359),d,f,t[r+15],10,-30611744),p,d,t[r+6],15,-1560198380),m,p,t[r+13],21,1309151649),f=u(f,m=u(m,p=u(p,d,f,m,t[r+4],6,-145523070),d,f,t[r+11],10,-1120210379),p,d,t[r+2],15,718787259),m,p,t[r+9],21,-343485551),p=s(p,i),d=s(d,n),f=s(f,o),m=s(m,c);return[p,d,f,m]}function p(t){var e,r="";for(e=0;e<32*t.length;e+=8)r+=String.fromCharCode(t[e>>5]>>>e%32&255);return r}function d(t){var e,r=[];for(r[(t.length>>2)-1]=void 0,e=0;e<r.length;e+=1)r[e]=0;for(e=0;e<8*t.length;e+=8)r[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return r}function f(t){var e,r,i="0123456789abcdef",n="";for(r=0;r<t.length;r+=1)e=t.charCodeAt(r),n+=i.charAt(e>>>4&15)+i.charAt(15&e);return n}function m(t){return unescape(encodeURIComponent(t))}function v(t){return function(t){return p(c(d(t),8*t.length))}(m(t))}function g(t,e){return function(t,e){var r,i,n=d(t),s=[],o=[];for(s[15]=o[15]=void 0,n.length>16&&(n=c(n,8*t.length)),r=0;16>r;r+=1)s[r]=909522486^n[r],o[r]=1549556828^n[r];return i=c(s.concat(d(e)),512+8*e.length),p(c(o.concat(i),640))}(m(t),m(e))}function _(t,e,r){return e?r?g(e,t):function(t,e){return f(g(t,e))}(e,t):r?v(t):function(t){return f(v(t))}(t)}void 0===(i=function(){return _}.call(e,r,e,t))||(t.exports=i)}()},184:function(module,exports){
/*! PixiParticles 1.4.6 */
!function(){"use strict";!function(t){window.cloudkid=window.cloudkid||{};var e=PIXI.BLEND_MODES||PIXI.blendModes,r={},i=r.DEG_TO_RADS=Math.PI/180;r.rotatePoint=function(t,e){if(t){t*=i;var r=Math.sin(t),n=Math.cos(t),s=e.x*n-e.y*r,o=e.x*r+e.y*n;e.x=s,e.y=o}},r.combineRGBComponents=function(t,e,r){return t<<16|e<<8|r},r.normalize=function(t){var e=1/r.length(t);t.x*=e,t.y*=e},r.scaleBy=function(t,e){t.x*=e,t.y*=e},r.length=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},r.hexToRGB=function(t,e){var r;return e?e.length=0:e=[],"#"==t.charAt(0)?t=t.substr(1):0===t.indexOf("0x")&&(t=t.substr(2)),8==t.length&&(r=t.substr(0,2),t=t.substr(2)),e.push(parseInt(t.substr(0,2),16)),e.push(parseInt(t.substr(2,2),16)),e.push(parseInt(t.substr(4,2),16)),r&&e.push(parseInt(r,16)),e},r.generateEase=function(t){var e=t.length,r=1/e;return function(i){var n,s,o=e*i|0;return n=(i-o*r)*e,(s=t[o]||t[e-1]).s+n*(2*(1-n)*(s.cp-s.s)+n*(s.e-s.s))}},r.getBlendMode=function(t){if(!t)return e.NORMAL;for(t=t.toUpperCase();t.indexOf(" ")>=0;)t=t.replace(" ","_");return e[t]||e.NORMAL},cloudkid.ParticleUtils=r,Array.prototype.shuffle||Object.defineProperty(Array.prototype,"shuffle",{enumerable:!1,writable:!1,value:function(){for(var t,e,r=this.length;r;t=Math.floor(Math.random()*r),e=this[--r],this[r]=this[t],this[t]=e);return this}}),Array.prototype.random||Object.defineProperty(Array.prototype,"random",{enumerable:!1,writable:!1,value:function(){return this[Math.floor(Math.random()*this.length)]}})}(),function(t,e){var r,i,n=t.ParticleUtils;PIXI.extras&&PIXI.extras.MovieClip?(r=PIXI.extras.MovieClip,i=!0):(r=PIXI.MovieClip,i=!1);var s=function(t){var e=t.particleImages[0]instanceof PIXI.Texture?[t.particleImages[0]]:t.particleImages[0];r.call(this,e),this.emitter=t,this.anchor.x=this.anchor.y=.5,this.velocity=new PIXI.Point,this.maxLife=0,this.age=0,this.ease=null,this.extraData=null,this.startAlpha=0,this.endAlpha=0,this.startSpeed=0,this.endSpeed=0,this.acceleration=null,this.startScale=0,this.endScale=0,this.startColor=null,this._sR=0,this._sG=0,this._sB=0,this.endColor=null,this._eR=0,this._eG=0,this._eB=0,this._doAlpha=!1,this._doScale=!1,this._doSpeed=!1,this._doColor=!1,this._doNormalMovement=!1,this._oneOverLife=0,this.init=this.init,this.Particle_init=this.Particle_init,this.update=this.update,this.Particle_update=this.Particle_update,this.applyArt=this.applyArt,this.kill=this.kill},o=s.prototype=Object.create(r.prototype);o.init=o.Particle_init=function(){this.age=0,this.velocity.x=this.startSpeed,this.velocity.y=0,n.rotatePoint(this.rotation,this.velocity),this.rotation*=n.DEG_TO_RADS,this.rotationSpeed*=n.DEG_TO_RADS,this.alpha=this.startAlpha,this.scale.x=this.scale.y=this.startScale,this.startColor&&(this._sR=this.startColor[0],this._sG=this.startColor[1],this._sB=this.startColor[2],this.endColor&&(this._eR=this.endColor[0],this._eG=this.endColor[1],this._eB=this.endColor[2])),this._doAlpha=this.startAlpha!=this.endAlpha,this._doSpeed=this.startSpeed!=this.endSpeed,this._doScale=this.startScale!=this.endScale,this._doColor=!!this.endColor,this._doNormalMovement=this._doSpeed||0!==this.startSpeed||this.acceleration,this._oneOverLife=1/this.maxLife,this.tint=n.combineRGBComponents(this._sR,this._sG,this._sB),this.visible=!0},o.applyArt=function(t){i?this.texture=t:this.setTexture(t)},o.update=o.Particle_update=function(t){if(this.age+=t,this.age>=this.maxLife)return this.kill(),-1;var e=this.age*this._oneOverLife;if(this.ease&&(e=4==this.ease.length?this.ease(e,0,1,1):this.ease(e)),this._doAlpha&&(this.alpha=(this.endAlpha-this.startAlpha)*e+this.startAlpha),this._doScale){var r=(this.endScale-this.startScale)*e+this.startScale;this.scale.x=this.scale.y=r}if(this._doNormalMovement){if(this._doSpeed){var i=(this.endSpeed-this.startSpeed)*e+this.startSpeed;n.normalize(this.velocity),n.scaleBy(this.velocity,i)}else this.acceleration&&(this.velocity.x+=this.acceleration.x*t,this.velocity.y+=this.acceleration.y*t);this.position.x+=this.velocity.x*t,this.position.y+=this.velocity.y*t}if(this._doColor){var s=(this._eR-this._sR)*e+this._sR,o=(this._eG-this._sG)*e+this._sG,a=(this._eB-this._sB)*e+this._sB;this.tint=n.combineRGBComponents(s,o,a)}return 0!==this.rotationSpeed?this.rotation+=this.rotationSpeed*t:this.acceleration&&(this.rotation=Math.atan2(this.velocity.y,this.velocity.x)),e},o.kill=function(){this.emitter.recycle(this)},o.destroy=function(){this.emitter=null,this.velocity=null,this.startColor=this.endColor=null,this.ease=null},t.Particle=s}(cloudkid),function(cloudkid,undefined){var ParticleUtils=cloudkid.ParticleUtils,Particle=cloudkid.Particle,PathParticle=function(t){Particle.call(this,t),this.path=null,this.initialRotation=0,this.initialPosition=new PIXI.Point,this.movement=0},s=Particle.prototype,p=PathParticle.prototype=Object.create(s),helperPoint=new PIXI.Point;p.init=function(){if(this.initialRotation=this.rotation,this.Particle_init(),this.extraData&&this.extraData.path){var t=this.emitter._sharedExtraData;if(t.path!==undefined)this.path=t.path;else try{this.path=t.path=parsePath(this.extraData.path)}catch(e){console.error("PathParticle: error in parsing path expression"),this.path=t.path=null}}else console.error("PathParticle requires a path string in extraData!"),this.path=null;this._doNormalMovement=!this.path,this.movement=0,this.initialPosition.x=this.position.x,this.initialPosition.y=this.position.y};for(var MATH_FUNCS=["pow","sqrt","abs","floor","round","ceil","E","PI","sin","cos","tan","asin","acos","atan","atan2","log"],WHITELISTER="[01234567890\\.\\*\\-\\+\\/\\(\\)x ,]",index=MATH_FUNCS.length-1;index>=0;--index)WHITELISTER+="|"+MATH_FUNCS[index];WHITELISTER=new RegExp(WHITELISTER,"g");var parsePath=function(pathString){for(var rtn,matches=pathString.match(WHITELISTER),i=matches.length-1;i>=0;--i)MATH_FUNCS.indexOf(matches[i])>=0&&(matches[i]="Math."+matches[i]);return pathString=matches.join(""),eval("rtn = function(x){ return "+pathString+"; };"),rtn};p.update=function(t){var e=this.Particle_update(t);if(e>=0&&this.path){var r=(this.endSpeed-this.startSpeed)*e+this.startSpeed;this.movement+=r*t,helperPoint.x=this.movement,helperPoint.y=this.path(this.movement),ParticleUtils.rotatePoint(this.initialRotation,helperPoint),this.position.x=this.initialPosition.x+helperPoint.x,this.position.y=this.initialPosition.y+helperPoint.y}},p.destroy=function(){s.destroy.call(this)},cloudkid.PathParticle=PathParticle}(cloudkid),function(t,e){var r=(t.ParticleUtils,t.Particle),i=function(t){r.call(this,t),this._helperTextures=[]},n=r.prototype,s=i.prototype=Object.create(n);s.init=function(){if(this.Particle_init(),this.extraData){this.extraData.fps?this.fps=this.extraData.fps:this.fps=60;var t=this.extraData.animationSpeed||1;"matchLife"==t?(this.loop=!1,this.hasOwnProperty("_duration")?this.animationSpeed=this._duration/this.maxLife:this.animationSpeed=this.textures.length/this.maxLife/60):(this.loop=!0,this.animationSpeed=t)}else this.loop=!0,this.animationSpeed=1;this.play()},s.applyArt=function(t){Array.isArray(t)?this.textures=t:(this._helperTextures[0]=t,this.textures=this._helperTextures),this.gotoAndStop(0)},s.update=function(t){this.Particle_update(t)>=0&&this._duration&&this.updateAnim(t)},s.destroy=function(){n.destroy.call(this)},t.AnimatedParticle=i}(cloudkid),function(t,e){var r=t.ParticleUtils,i=t.Particle,n=PIXI.ParticleContainer,s=function(t,e,r){this._particleConstructor=i,this.particleImages=null,this.startAlpha=1,this.endAlpha=1,this.startSpeed=0,this.endSpeed=0,this.acceleration=null,this.startScale=1,this.endScale=1,this.minimumScaleMultiplier=1,this.startColor=null,this.endColor=null,this.minLifetime=0,this.maxLifetime=0,this.minStartRotation=0,this.maxStartRotation=0,this.minRotationSpeed=0,this.maxRotationSpeed=0,this.particleBlendMode=0,this.customEase=null,this.extraData=null,this.frequency=0,this.maxParticles=1e3,this.emitterLifetime=-1,this.spawnPos=null,this.spawnType=null,this._spawnFunc=null,this.spawnRect=null,this.spawnCircle=null,this.particlesPerWave=1,this.particleSpacing=0,this.angleStart=0,this.rotation=0,this.ownerPos=null,this._prevEmitterPos=null,this._prevPosIsValid=!1,this._posChanged=!1,this._parentIsPC=!1,this._parent=null,this.addAtBack=!1,this._emit=!1,this._spawnTimer=0,this._emitterLife=-1,this._activeParticles=[],this._pool=[],this._sharedExtraData=null,this.parent=t,e&&r&&this.init(e,r),this.recycle=this.recycle,this.update=this.update,this.rotate=this.rotate,this.updateSpawnPos=this.updateSpawnPos,this.updateOwnerPos=this.updateOwnerPos},o=s.prototype={},a=new PIXI.Point;Object.defineProperty(o,"particleConstructor",{get:function(){return this._particleConstructor},set:function(t){t!=this._particleConstructor&&(this._particleConstructor=t,this.cleanup(),this._activeParticles.length&&(this._activeParticles.length=0),this._pool.length&&(this._pool.length=0))}}),Object.defineProperty(o,"parent",{get:function(){return this._parent},set:function(t){this.cleanup(),this._parent=t,this._parentIsPC=n&&t&&t instanceof n}}),o.init=function(t,e){if(t&&e){this.cleanup(),this.particleImages=t instanceof PIXI.Texture?[t]:t,e.alpha?(this.startAlpha=e.alpha.start,this.endAlpha=e.alpha.end):this.startAlpha=this.endAlpha=1,e.speed?(this.startSpeed=e.speed.start,this.endSpeed=e.speed.end):this.startSpeed=this.endSpeed=0;var i,n=e.acceleration;switch(n&&(n.x||n.y)?(this.endSpeed=this.startSpeed,this.acceleration=new PIXI.Point(n.x,n.y)):this.acceleration=null,e.scale?(this.startScale=e.scale.start,this.endScale=e.scale.end,this.minimumScaleMultiplier=e.scale.minimumScaleMultiplier||1):this.startScale=this.endScale=this.minimumScaleMultiplier=1,e.color&&(this.startColor=r.hexToRGB(e.color.start),e.color.start!=e.color.end?this.endColor=r.hexToRGB(e.color.end):this.endColor=null),e.startRotation?(this.minStartRotation=e.startRotation.min,this.maxStartRotation=e.startRotation.max):this.minStartRotation=this.maxStartRotation=0,e.rotationSpeed?(this.minRotationSpeed=e.rotationSpeed.min,this.maxRotationSpeed=e.rotationSpeed.max):this.minRotationSpeed=this.maxRotationSpeed=0,this.minLifetime=e.lifetime.min,this.maxLifetime=e.lifetime.max,this.particleBlendMode=r.getBlendMode(e.blendMode),e.ease?this.customEase="function"==typeof e.ease?e.ease:r.generateEase(e.ease):this.customEase=null,this.extraData=e.extraData||null,this._sharedExtraData={},this.spawnRect=this.spawnCircle=null,this.particlesPerWave=1,this.particleSpacing=0,this.angleStart=0,e.spawnType){case"rect":this.spawnType="rect",this._spawnFunc=this._spawnRect;var s=e.spawnRect;this.spawnRect=new PIXI.Rectangle(s.x,s.y,s.w,s.h);break;case"circle":this.spawnType="circle",this._spawnFunc=this._spawnCircle,i=e.spawnCircle,this.spawnCircle=new PIXI.Circle(i.x,i.y,i.r);break;case"ring":this.spawnType="ring",this._spawnFunc=this._spawnRing,i=e.spawnCircle,this.spawnCircle=new PIXI.Circle(i.x,i.y,i.r),this.spawnCircle.minRadius=i.minR;break;case"burst":this.spawnType="burst",this._spawnFunc=this._spawnBurst,this.particlesPerWave=e.particlesPerWave,this.particleSpacing=e.particleSpacing,this.angleStart=e.angleStart?e.angleStart:0;break;case"point":this.spawnType="point",this._spawnFunc=this._spawnPoint;break;default:this.spawnType="point",this._spawnFunc=this._spawnPoint}this.frequency=e.frequency,this.emitterLifetime=e.emitterLifetime||-1,this.maxParticles=e.maxParticles>0?e.maxParticles:1e3,this.addAtBack=!!e.addAtBack,this.rotation=0,this.ownerPos=new PIXI.Point,this.spawnPos=new PIXI.Point(e.pos.x,e.pos.y),this._prevEmitterPos=this.spawnPos.clone(),this._prevPosIsValid=!1,this._spawnTimer=0,this.emit=!0}},o.recycle=function(t){var e=this._activeParticles.indexOf(t);e<this._activeParticles.length-1&&(this._activeParticles[e]=this._activeParticles[this._activeParticles.length-1]),this._activeParticles.pop(),this._pool.push(t),this._parentIsPC?(t.alpha=0,t.visible=!1):t.parent&&t.parent.removeChild(t)},o.rotate=function(t){if(this.rotation!=t){var e=t-this.rotation;this.rotation=t,r.rotatePoint(e,this.spawnPos),this._posChanged=!0}},o.updateSpawnPos=function(t,e){this._posChanged=!0,this.spawnPos.x=t,this.spawnPos.y=e},o.updateOwnerPos=function(t,e){this._posChanged=!0,this.ownerPos.x=t,this.ownerPos.y=e},o.resetPositionTracking=function(){this._prevPosIsValid=!1},Object.defineProperty(o,"emit",{get:function(){return this._emit},set:function(t){this._emit=!!t,this._emitterLife=this.emitterLifetime}}),o.update=function(t){var e,r,i,n=this._activeParticles;for(e=n.length-1;e>=0;--e)n[e].update(t);this._prevPosIsValid&&(r=this._prevEmitterPos.x,i=this._prevEmitterPos.y);var s=this.ownerPos.x+this.spawnPos.x,o=this.ownerPos.y+this.spawnPos.y;if(this.emit)for(this._spawnTimer-=t;this._spawnTimer<=0;){if(this._emitterLife>0&&(this._emitterLife-=this.frequency,this._emitterLife<=0)){this._spawnTimer=0,this._emitterLife=0,this.emit=!1;break}if(this._activeParticles.length>=this.maxParticles)this._spawnTimer+=this.frequency;else{var a;if(a=this.minLifetime==this.maxLifetime?this.minLifetime:Math.random()*(this.maxLifetime-this.minLifetime)+this.minLifetime,-this._spawnTimer<a){var l,h;if(this._prevPosIsValid&&this._posChanged){var u=1+this._spawnTimer/t;l=(s-r)*u+r,h=(o-i)*u+i}else l=s,h=o;e=0;for(var c=Math.min(this.particlesPerWave,this.maxParticles-this._activeParticles.length);c>e;++e){var p=this._pool.length?this._pool.pop():new this.particleConstructor(this);if(this.particleImages.length>1?p.applyArt(this.particleImages.random()):p.applyArt(this.particleImages[0]),p.startAlpha=this.startAlpha,p.endAlpha=this.endAlpha,p.startSpeed=this.startSpeed,p.endSpeed=this.endSpeed,p.acceleration=this.acceleration,1!=this.minimumScaleMultiplier){var d=Math.random()*(1-this.minimumScaleMultiplier)+this.minimumScaleMultiplier;p.startScale=this.startScale*d,p.endScale=this.endScale*d}else p.startScale=this.startScale,p.endScale=this.endScale;if(p.startColor=this.startColor,p.endColor=this.endColor,this.minRotationSpeed==this.maxRotationSpeed?p.rotationSpeed=this.minRotationSpeed:p.rotationSpeed=Math.random()*(this.maxRotationSpeed-this.minRotationSpeed)+this.minRotationSpeed,p.maxLife=a,p.blendMode=this.particleBlendMode,p.ease=this.customEase,p.extraData=this.extraData,this._spawnFunc(p,l,h,e),p.init(),p.update(-this._spawnTimer),this._parentIsPC&&p.parent){var f=this._parent.children,m=f.indexOf(p);1>m?f.shift():m==f.length-1?f.pop():f.splice(m,1),this.addAtBack?f.unshift(p):f.push(p)}else this.addAtBack?this._parent.addChildAt(p,0):this._parent.addChild(p);n.push(p)}}this._spawnTimer+=this.frequency}}this._posChanged&&(this._prevEmitterPos.x=s,this._prevEmitterPos.y=o,this._prevPosIsValid=!0,this._posChanged=!1)},o._spawnPoint=function(t,e,r,i){this.minStartRotation==this.maxStartRotation?t.rotation=this.minStartRotation+this.rotation:t.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,t.position.x=e,t.position.y=r},o._spawnRect=function(t,e,i,n){this.minStartRotation==this.maxStartRotation?t.rotation=this.minStartRotation+this.rotation:t.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,a.x=Math.random()*this.spawnRect.width+this.spawnRect.x,a.y=Math.random()*this.spawnRect.height+this.spawnRect.y,0!==this.rotation&&r.rotatePoint(this.rotation,a),t.position.x=e+a.x,t.position.y=i+a.y},o._spawnCircle=function(t,e,i,n){this.minStartRotation==this.maxStartRotation?t.rotation=this.minStartRotation+this.rotation:t.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,a.x=Math.random()*this.spawnCircle.radius,a.y=0,r.rotatePoint(360*Math.random(),a),a.x+=this.spawnCircle.x,a.y+=this.spawnCircle.y,0!==this.rotation&&r.rotatePoint(this.rotation,a),t.position.x=e+a.x,t.position.y=i+a.y},o._spawnRing=function(t,e,i,n){var s=this.spawnCircle;this.minStartRotation==this.maxStartRotation?t.rotation=this.minStartRotation+this.rotation:t.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,s.minRadius==s.radius?a.x=Math.random()*(s.radius-s.minRadius)+s.minRadius:a.x=s.radius,a.y=0;var o=360*Math.random();t.rotation+=o,r.rotatePoint(o,a),a.x+=this.spawnCircle.x,a.y+=this.spawnCircle.y,0!==this.rotation&&r.rotatePoint(this.rotation,a),t.position.x=e+a.x,t.position.y=i+a.y},o._spawnBurst=function(t,e,r,i){0===this.particleSpacing?t.rotation=360*Math.random():t.rotation=this.angleStart+this.particleSpacing*i+this.rotation,t.position.x=e,t.position.y=r},o.cleanup=function(){for(var t=this._activeParticles.length-1;t>=0;--t){var e=this._activeParticles[t];this.recycle(e),e.parent&&e.parent.removeChild(e)}},o.destroy=function(){this.cleanup();for(var t=this._pool.length-1;t>=0;--t)this._pool[t].destroy();this._pool=null,this._activeParticles=null,this._parent=null,this.particleImages=null,this.spawnPos=null,this.ownerPos=null,this.startColor=null,this.endColor=null,this.customEase=null},t.Emitter=s}(cloudkid)}()},24:function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=function(t,e){var r=t[1]||"",i=t[3];if(!i)return r;if(e&&"function"==typeof btoa){var n=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(i),s=i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"});return[r].concat(s).concat([n]).join("\n")}return[r].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},n=0;n<this.length;n++){var s=this[n][0];"number"==typeof s&&(i[s]=!0)}for(n=0;n<t.length;n++){var o=t[n];"number"==typeof o[0]&&i[o[0]]||(r&&!o[2]?o[2]=r:r&&(o[2]="("+o[2]+") and ("+r+")"),e.push(o))}},e}},25:function(t,e,r){var i={},n=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),s=function(t){var e={};return function(t){if(void 0===e[t]){var r=function(t){return document.querySelector(t)}.call(this,t);if(r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),o=null,a=0,l=[],h=r(79);function u(t,e){for(var r=0;r<t.length;r++){var n=t[r],s=i[n.id];if(s){s.refs++;for(var o=0;o<s.parts.length;o++)s.parts[o](n.parts[o]);for(;o<n.parts.length;o++)s.parts.push(v(n.parts[o],e))}else{var a=[];for(o=0;o<n.parts.length;o++)a.push(v(n.parts[o],e));i[n.id]={id:n.id,refs:1,parts:a}}}}function c(t,e){for(var r=[],i={},n=0;n<t.length;n++){var s=t[n],o=e.base?s[0]+e.base:s[0],a={css:s[1],media:s[2],sourceMap:s[3]};i[o]?i[o].parts.push(a):r.push(i[o]={id:o,parts:[a]})}return r}function p(t,e){var r=s(t.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=l[l.length-1];if("top"===t.insertAt)i?i.nextSibling?r.insertBefore(e,i.nextSibling):r.appendChild(e):r.insertBefore(e,r.firstChild),l.push(e);else if("bottom"===t.insertAt)r.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var n=s(t.insertInto+" "+t.insertAt.before);r.insertBefore(e,n)}}function d(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function f(t){var e=document.createElement("style");return t.attrs.type="text/css",m(e,t.attrs),p(t,e),e}function m(t,e){Object.keys(e).forEach(function(r){t.setAttribute(r,e[r])})}function v(t,e){var r,i,n,s;if(e.transform&&t.css){if(!(s=e.transform(t.css)))return function(){};t.css=s}if(e.singleton){var l=a++;r=o||(o=f(e)),i=_.bind(null,r,l,!1),n=_.bind(null,r,l,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",m(e,t.attrs),p(t,e),e}(e),i=function(t,e,r){var i=r.css,n=r.sourceMap,s=void 0===e.convertToAbsoluteUrls&&n;(e.convertToAbsoluteUrls||s)&&(i=h(i));n&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var o=new Blob([i],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(o),a&&URL.revokeObjectURL(a)}.bind(null,r,e),n=function(){d(r),r.href&&URL.revokeObjectURL(r.href)}):(r=f(e),i=function(t,e){var r=e.css,i=e.media;i&&t.setAttribute("media",i);if(t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}.bind(null,r),n=function(){d(r)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else n()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=n()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var r=c(t,e);return u(r,e),function(t){for(var n=[],s=0;s<r.length;s++){var o=r[s];(a=i[o.id]).refs--,n.push(a)}t&&u(c(t,e),e);for(s=0;s<n.length;s++){var a;if(0===(a=n[s]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete i[a.id]}}}};var g=function(){var t=[];return function(e,r){return t[e]=r,t.filter(Boolean).join("\n")}}();function _(t,e,r,i){var n=r?"":i.css;if(t.styleSheet)t.styleSheet.cssText=g(e,n);else{var s=document.createTextNode(n),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(s,o[e]):t.appendChild(s)}}},40:function(t,e,r){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function s(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new s(n.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new s(n.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},r(41),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(e,r(5))},41:function(t,e,r){(function(t,e){!function(t,r){"use strict";if(!t.setImmediate){var i,n=1,s={},o=!1,a=t.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(t);l=l&&l.setTimeout?l:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick(function(){u(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?function(){var e="setImmediate$"+Math.random()+"$",r=function(r){r.source===t&&"string"==typeof r.data&&0===r.data.indexOf(e)&&u(+r.data.slice(e.length))};t.addEventListener?t.addEventListener("message",r,!1):t.attachEvent("onmessage",r),i=function(r){t.postMessage(e+r,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){u(t.data)},i=function(e){t.port2.postMessage(e)}}():a&&"onreadystatechange"in a.createElement("script")?function(){var t=a.documentElement;i=function(e){var r=a.createElement("script");r.onreadystatechange=function(){u(e),r.onreadystatechange=null,t.removeChild(r),r=null},t.appendChild(r)}}():i=function(t){setTimeout(u,0,t)},l.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var o={callback:t,args:e};return s[n]=o,i(n),n++},l.clearImmediate=h}function h(t){delete s[t]}function u(t){if(o)setTimeout(u,0,t);else{var e=s[t];if(e){o=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(r,i)}}(e)}finally{h(t),o=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,r(5),r(8))},5:function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},79:function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var r=e.protocol+"//"+e.host,i=r+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var n,s=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(s)?t:(n=0===s.indexOf("//")?s:0===s.indexOf("/")?r+s:i+s.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")})}},8:function(t,e){var r,i,n=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(t){r=s}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(t){i=o}}();var l,h=[],u=!1,c=-1;function p(){u&&l&&(u=!1,l.length?h=l.concat(h):c=-1,h.length&&d())}function d(){if(!u){var t=a(p);u=!0;for(var e=h.length;e;){for(l=h,h=[];++c<e;)l&&l[c].run();c=-1,e=h.length}l=null,u=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function m(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];h.push(new f(t,e)),1!==h.length||u||a(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=m,n.addListener=m,n.once=m,n.off=m,n.removeListener=m,n.removeAllListeners=m,n.emit=m,n.prependListener=m,n.prependOnceListener=m,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}}}));