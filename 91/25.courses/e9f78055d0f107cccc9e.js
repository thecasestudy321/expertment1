webpackJsonp([25],{169:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i,a){for(var n=new PIXI.Container,r=new PIXI.filters.ColorMatrixFilter,o=i||!1,s=a||{addArrow:!1,type:"horizontal",scale:1},l=new PIXI.Container,d=0;d<3;++d){var c=d+1,h=PIXI.Sprite.fromFrame("TAP_1"+c);h.x=-h.width/2,h.y=-h.height/2;var u=new PIXI.Container;u.addChild(h),l.addChild(u)}var v=0;if(s.direction)switch(s.direction){case"top":v=-Math.PI/2;break;case"bottom":v=Math.PI/2;break;case"left":v=Math.PI;break;case"right":v=0;break;default:v=0}l.filters=[r];for(var f=0;f<l.children.length;f++){var p=l.children[f];p.scale.x=p.scale.y=2,f<2&&C(p,.75*f)}if(n.addChild(l),s.addArrow){var x,g;if(s.direction){x=PIXI.Sprite.fromFrame("oneArrow"),g=new PIXI.extras.MovieClip([x]);var m=s.scale?s.scale:1;g.scale.x=g.scale.y=m,g.pivot={x:0,y:g.height/2},g.rotation=v}else{x=PIXI.Sprite.fromFrame("NBarrow"),(g=new PIXI.extras.MovieClip([x])).pivot={x:g.width/2,y:g.height/2};var y=s.scale?s.scale:1;g.scale.x=g.scale.y=y,"horizontal"!==(s.type?s.type:"horizontal")&&(g.rotation=Math.PI/2)}n.addChild(g),n.arrow=g,n.addEventListener("hideArrow",function(){g.alpha=0,g.visible=!1}),n.addEventListener("showArrow",function(){g.alpha=1,g.visible=!0})}l.alpha=.4;var T=new PIXI.Graphics;function C(e,t){TweenMax.to(e,1.5,{delay:t,alpha:0,repeat:-1}),TweenMax.to(e.scale,1.5,{x:5,y:5,delay:t,repeat:-1})}return T.beginFill(16776960,0),T.drawRect(-50,-50,100,100),n.addChild(T),n.addEventListener(MouseEvent.MOUSE_OVER,function(){l.alpha=.6}),n.addEventListener(MouseEvent.MOUSE_OUT,function(){l.alpha=.4}),n.addEventListener(TouchEvent.TOUCH_BEGIN,function(){n.emit(n.event.TAP),!o&&n.parent&&n.parent.removeChild(n)}),n.x=e,n.y=t,n.setColor=function(e){var t=e>>16,i=e>>8&255,a=255&e;r._loadMatrix([t,0,0,0,0,0,i,0,0,0,0,0,a,0,0,0,0,0,255,0],!1),l.filters=[r]},n.setRotation=function(e){n.rotation=e},n.showAllDir=function(){if(s.direction)for(var e=0;e<3;e++){var t=new PIXI.Container;t.addChild(PIXI.Sprite.fromFrame("oneArrow")),n.addChild(t),t.pivot={x:0,y:g.height/2},t.rotation=Math.PI/2*(e+1)}else{var i=new PIXI.Container;i.addChild(PIXI.Sprite.fromFrame("NBarrow")),n.addChild(i),i.pivot={x:g.width/2,y:g.height/2},i.rotation=n.rotation+Math.PI/2}},n.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&n.scale.set(.6,.6),n}},262:function(e,t,i){"use strict";var a=s(i(169)),n=s(i(521)),r=s(i(531)),o=s(i(528));function s(e){return e&&e.__esModule?e:{default:e}}nb.substance6008=extendsClass(ScienceMain,{frame0:function(){instance.viewStack.NBONOFF.visible=!1;n.default.apply(this),instance.filtration.apply(this.step0),instance.pickUp.apply(this.step1)},filtration:function(){var e=this.tip,t=this.result,i=this.beaker0,a=this.beaker1,n=this.xu;t.alpha=n.alpha=0,t.scale.set(0,0),a.initP={x:a.x,y:a.y},a.setCurrentCapacity("55%"),a.setColor(7232061,.5),NBDrag.addDrag(a),a.addEventListener(NBDrag.event.START_DRAG,function(){n.alpha=.3,a.wen.alpha=0}),a.addEventListener(NBDrag.event.STOP_DRAG,function(){n.alpha=0,a.interactive=!1,Math.abs(a.x-i.x)<255&&Math.abs(a.y-i.y)<255?(TweenMax.to(e,1,{alpha:0}),TweenMax.to(a,.3,{x:n.x,y:n.y,rotation:n.rotation,onComplete:function(){TweenMax.to(a,1.5,{rotation:-Math.PI/2,onComplete:function(){TweenMax.to(a,.5,{x:"+=100",alpha:0,rotation:0}),TweenMax.to(i.hand,.5,{y:"-=100",alpha:0})}}),TweenMax.to(i.hand,.1,{delay:1,onComplete:function(){i.setCapacityTween("40%",1.5)}}),TweenMax.to(i,.5,{delay:2,x:"+=180",y:"-=60",onComplete:function(){TweenMax.to(i.scale,.5,{x:0,y:0,delay:3,onComplete:function(){i.alpha=0,t.alpha=1,TweenMax.to(t.scale,.5,{x:1,y:1})}})}})}})):TweenMax.to(a,.5,{x:a.initP.x,y:a.initP.y,onComplete:function(){a.wen.alpha=1,a.interactive=!0}})})},pickUp:function(){var e=this,t=e.beaker0,i=e.beaker1,n=e.xu,s=e.spiritLamp,l=e.matches,d=e.jia,c=e.tip,h=(0,a.default)(0,0),u=(0,a.default)(60,40),v=!1;s.alpha=l.alpha=n.alpha=t.med.alpha=0,i.initP={x:i.x,y:i.y},i.setCurrentCapacity("50%"),o.default.init(l,{defaultPo:!0}),l.on(o.default.event.MOVING,function(){l.match.fireArea.hitTest(s.head)&&(s.lightFire(),p=!0)}),l.interactive=!1;var f=ParticleUtil.getParticle(ParticleUtil.particles.water_vapor);f.scale.set(2.5,1.5),f.alpha=0,f.bind(t,$s(-35),$s(10)),t.addChild(f),NBDrag.addDrag(i),i.addEventListener(NBDrag.event.START_DRAG,function(){n.alpha=.3,i.wen.alpha=0}),i.addEventListener(NBDrag.event.STOP_DRAG,function(){n.alpha=0,i.interactive=!1,Math.abs(i.x-t.x)<200&&Math.abs(i.y-t.y)<200?TweenMax.to(i,.3,{x:n.x,y:n.y,rotation:n.rotation,onComplete:function(){TweenMax.to(i,1.5,{rotation:-Math.PI/2,onStart:function(){t.setCapacityTween("30%",1.5)},onComplete:function(){TweenMax.to(i,.5,{x:"+=100",alpha:0,rotation:0})}}),TweenMax.to([t,d],.5,{delay:2,x:"+=180",y:"-=20",ease:Power0.easeNone,onComplete:function(){TweenMax.to([s,l],.5,{alpha:1,y:"-=385",x:"-=8",ease:Power0.easeNone,onComplete:function(){nb.scienceCommonFun.resetName(c,"点燃酒精灯给蒸发皿加热"),s.addChild(h),r.default.init.apply(s,{fire:ParticleUtil.particles.match_fire}),s.addEventListener(r.default.event.LIGHT_FIRE,function(){s.fire.scale.x=.5,s.fire.scale.y=.5,s.fire.bindOffsetX=-6,e.children[7].mask=e.dengMask.children[0]}),NBDrag.removeDrag(s),s.cover.addEventListener(NBDrag.event.STOP_DRAG,function(){s.cover.hitTest(s.body)||(s.interactiveChildren=!1,s.cover.interactive=!1,TweenMax.to(s.cover,.5,{x:s.x+120,y:s.y+70,ease:Power0.easeNone,onComplete:function(){l.addChild(u),l.interactive=!0}}))}),v=!0}})}})}}):TweenMax.to(i,.5,{x:i.initP.x,y:i.initP.y,onComplete:function(){i.wen.alpha=1,i.interactive=!0}})});var p=!1;e.onUpdate=function(){f.render(),v&&(l.render(),s.render(),s.isBurning()&&(l.removeChild(u),l.interactive=!1,p&&(p=!1,TweenMax.to(c,1,{alpha:0}),TweenMax.to(f,1,{alpha:.2,delay:2,onStart:function(){t.setCapacityTween("0%",6)},onComplete:function(){TweenMax.to(f,4,{delay:2,alpha:0})}}),TweenMax.to(t.med,4,{delay:4,alpha:1,onComplete:function(){var e=TweenMax.to(s.cover,1.5,{x:"-=120",y:"-=70",onUpdate:function(){var t=e.progress();t<=.5?s.cover.rotation=t*Math.PI/2:t>.5&&t<.7?(s.putFire(),s.cover.rotation=Math.PI/4):s.cover.rotation=Math.PI/4*(1-(t-.7)/.3)},onComplete:function(){TweenMax.to([s,s.cover,l,d],1,{y:"+=300",alpha:0}),TweenMax.to(t.scale,.5,{y:1.3,x:1.3,delay:1}),TweenMax.to(t,.5,{y:"+=60",delay:1})}})}}))))}},start:function(){this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"你知道怎么分离出沙子和盐吗？",labName:"分离沙子和食盐",CONCLUSION:"沙子可以通过过滤的方法分离出来，盐可以通过加热蒸发盐水的方式分离出来。",newLayOut:!0,bgColor:"#F3E6CF"},const:{},event:{}}),e.exports=nb.substance6008},520:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={event:{CLICK_NODE:"nodeTap",CLICK_NODE_REACHED:"nodeTapReached",ON_COMPLETE:"timelineComplete",ON_PLAY:"timelinePlaying",REACHED_NODE:"reachedNode",START_DRAG:"startDrag",DRAGING:"draging",STOP_DRAG:"stopDrag"},init:function(){var e,t,i=this;if(i.bgMask){var n=i.bgMask.getChildAt(0);i.progressBar.mask=n,n.scale.x=0}var r=this.a0.x===this.a1.x?"vertical":"horizontal",o=0,s=[];i.drag.lastPos={x:i.drag.x,y:i.drag.y};for(var l=0;l<int.MAX_VALUE;l++){var d=this["a"+l];if(void 0===d){t="vertical"===r?this["a"+(l-1)].y:this["a"+(l-1)].x,o=l;break}s.push(d),0===l&&(e="vertical"===r?d.y:d.x),d.addEventListener(TouchEvent.TAP,function(){var e=this;"vertical"===r?TweenMax.to(i.drag,.5,{y:this.y}):TweenMax.to(i.drag,.5,{x:this.x,onComplete:function(){i.emit(a.event.CLICK_NODE_REACHED,{index:e.name.substr(1,1)})}}),this.totalFrames&&(s.forEach(function(e){return e.currentFrame=0}),this.currentFrame=1),i.drag.lastPos={x:this.x,y:this.y},i.emit(a.event.CLICK_NODE,{index:this.name.substr(1,1)})})}this.setDrag=function(n){n?(NBDrag.addDrag(i.drag),i.drag.on(NBDrag.event.START_DRAG,function(){var n=(i.drag.x-e)/(t-e);i.emit(a.event.START_DRAG,{time:n})}),i.drag.on(NBDrag.event.DRAG_MOVE,function(){var n=(i.drag.x-e)/(t-e);i.emit(a.event.DRAGING,{time:n})}),i.drag.on(NBDrag.event.STOP_DRAG,function(){var n=(i.drag.x-e)/(t-e);i.emit(a.event.STOP_DRAG,{time:n}),n>=1&&i.emit(a.event.ON_COMPLETE,{time:n})})):NBDrag.removeDrag(i.drag)},i.drag.addEventListener(NBDrag.event.STOP_DRAG,function(){if(!1!==i._align_){var a=o-1;if("vertical"===r){var n=Math.round((this.y-e)/(t-e)*a);n<0&&(n=0)}else{var s=Math.round((this.x-e)/(t-e)*a);s<0&&(s=0)}}}),i.drag.addEventListener(NBDrag.event.DRAG_MOVE,function(){u()});var c=!1;i.drag.constY=i.drag.y;var h,u=function(){i.drag.y=i.drag.constY,i.drag.x>=t&&(i.drag.x=t),i.drag.x<=e&&(i.drag.x=e);var n=(i.drag.x-e)/(t-e);if(n<1){c=!1,i.emit(a.event.ON_PLAY,{time:n});for(var r=0;r<s.length;r++)i.drag.lastPos.x<=s[r].x&&i.drag.x>s[r].x&&i.emit(a.event.REACHED_NODE,{index:r})}else c||(c=!0,i.emit(a.event.ON_COMPLETE,{time:n}));(i.drag.line0&&(i.drag.line0.rotation=1800*n*Math.PI/180,i.drag.line1.rotation=360*n*Math.PI/180),i.bgMask)&&(i.bgMask.getChildAt(0).scale.x=n);i.drag.lastPos={x:i.drag.x,y:i.drag.y}};this.getNodeCount=function(){return o},this.setNodePos=function(e){var t=this["a"+e];"vertical"===r?i.drag.y=t.y:i.drag.x=t.x},nb.MovieClip.ticker.add(function(){i._auto_&&!i.drag.isDragging&&("vertical"===r?i.drag.y+=i._speed_:i.drag.x+=i._speed_,u())}),this.setAutoPlay=function(e,t){this._auto_=e,this._speed_=t||.1},this.setAutoAlign=function(e){this._align_=e},this.setMomentsPause=function(e,t,a){clearTimeout(h),e&&!i.NOTafterStopPlay?(i.setAutoPlay(!1),clearTimeout(h),i.setAutoPlay(!1),h=setTimeout(function(){i.setAutoPlay(!0,a)},t)):i.setAutoPlay(!1)},this.resetTimeline=function(){(this.drag.x=this.bgMask.x,i.bgMask)&&(i.bgMask.getChildAt(0).scale.x=0)}}};t.default=a},521:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e=e||{};var t=this,i=[];a.default.init.apply(this.timeline);for(var n=0;n<this.timeline.getNodeCount();n++){var r=this["step"+n];i.push(r),r.alpha=0,r.visible=!1}var o=this.step0;o.visible=!0,o.alpha=1;var s=0;this.timeline.on(a.default.event.CLICK_NODE,function(a){if(void 0!==a.index&&a.index!=s){var n=e.offset||1200;n=a.index>s?$s(n):-$s(n);var r=void 0!==o.currentX?o.currentX:o.currentX=o.x;TweenMax.to(o,e.oldTm||.6,{x:r+n,alpha:0,onComplete:function(t){t.visible=!1,e.isFix||(t.y=0)},onCompleteParams:[o],ease:Expo.easeOut}),s=a.index,(o=i[s]).visible=!0,r=void 0!==o.currentX?o.currentX:o.currentX=o.x,o.x=r-n,TweenMax.to(o,e.newTm||1,{x:r,alpha:1,ease:Expo.easeOut,onComplete:function(){t.emit(t.boxSwitch_event.CHANGE_COM,{target:o,index:a.index})}})}}),this.addEventListener("render",function(){o.onUpdate&&o.onUpdate()}),t.boxSwitch_event={CHANGE_COM:"changeCom"}};var a=function(e){return e&&e.__esModule?e:{default:e}}(i(520))},528:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e&&e.__esModule}(i(169));var a={event:{START:"matchesBegin",MOVING:"moving",STOP:"matchesEnd"},init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e,n=i.match;n.visible=!1,NBDrag.addDrag(n);var r=Object.assign({defaultPo:!0},t),o=null;function s(){n.visible=!1,i.putFire()}i.addEventListener(TouchEvent.TOUCH_BEGIN,function(e){i.getBounds();n.visible=!0,n.alpha=1;var t=i.toLocal(e.data.global);n.x=t.x,n.y=t.y,null==o&&((o=ParticleUtil.getParticle(ParticleUtil.particles.match_fire)).alpha=.4,i.stepRoot.addChild(o),r.defaultPo?o.bind(n,$s(0),$s(50)):o.bind(n,$s(-65),$s(20)),window.part=o),o.visible=!0,i.fire=o,i.emit(a.event.START,{matches:n}),TouchEvent.simulateTouchDown(n,e)}),n.addEventListener(NBDrag.event.STOP_DRAG,function(){i.emit(a.event.STOP,{matches:n}),s()}),i.render=function(){1==n.visible&&o&&o.render()},n.addEventListener(TouchEvent.TOUCH_MOVE,function(){i.emit(a.event.MOVING,{matches:n})}),i.putFire=function(){null!=o&&(o.visible=!1,o.destroy(),o=null),n.sound&&(n.sound.stop(),n.sound=null)},i.hideMatch=s,i.isBurning=function(){return null!=o}}};t.default=a},531:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={event:{LIGHT_FIRE:"lightFire",PUT_FIRE:"putFire",COVER_DOWN:"coverDown"},init:function(){var e={},t=arguments[0];e.offsetX=void 0==e.offsetX?0:e.offsetX,e.offsetY=void 0==e.offsetY?0:e.offsetY,e.scaleX=void 0==e.scaleX?1:e.scaleX,e.scaleY=void 0==e.scaleY?1:e.scaleY;var i={x:this.corver.x,y:this.corver.y},n=this;NBDrag.addDrag(this.corver),NBDrag.addDrag(this),this.corver.on(NBDrag.event.START_DRAG,function(e){e.data.isPropagationStopped=!0,"spiritLamp"===this.parent.name&&this.parent.parent.addChildWithSamePos(this)}),this.corver.on(NBDrag.event.STOP_DRAG,function(){this.hitTest(n.body)?(n.addChild(this),this.x=i.x,this.y=i.y,0==t||this.parent.putFire()):n.emit(a.event.COVER_DOWN)}),this.lightFire=function(){this.corver.hitTest(this.body)&&!0===this.corver.visible||(null==this.fire&&(this.fire=ParticleUtil.getParticle(e.fire||ParticleUtil.particles.spirit_fire),this.fire.scale.set(e.scaleX,e.scaleY),this.parent.addChildAt(this.fire,n.parent.getChildIndex(n)+1),this.fire.bind(this,-10+e.offsetX,10+e.offsetY),this.fire.alpha=.6),this.fire.visible=!0,this.emit(a.event.LIGHT_FIRE))},this.putFire=function(){this.fire&&(this.fire.visible=!1,this.fire.destroy(),this.fire=null,this.emit(a.event.PUT_FIRE)),this.fire_blue&&(this.fire_blue.visible=!0,this.fire_blue.destroy(),this.fire_blue=null)},this.render=function(){return!!this.isBurning()&&(this.fire&&this.fire.render(!0),this.fire_blue&&this.fire_blue.render(!0),!0)},this.isBurning=function(){return this.fire&&this.fire.visible},this.hideCover=function(e){this.cover.visible=!e},this.cover=this.corver}};t.default=a}});